function HDEvent(e) {
	this.myEvent = new MyEvent,
	this.obj = new Object
}
function MyEvent() {
	this.handlers = {}
}
function panoView() {
	function e(e) {
		var t = function () {
			var e = window.location.search.substr(1, window.location.search.length).split("&"),
			t = new Array;
			if (null != e)
				for (var n = 0; n < e.length; n++) {
					var i = e[n].split(/[=|^==]/),
					r = new Array;
					r[i[0]] = i[1],
					t.push(r)
				}
			return t
		}
		();
		if (null != t)
			for (var n = 0; n < t.length; n++)
				for (var i in t[n])
					if (i == e)
						return t[n][i];
		return null
	}
	function t() {
		requestAnimationFrame(t),
		TWEEN.update(),
		isTweening || camera.lookAt(cameraLookAtPoint),
		renderer.render(scene, camera)
	}
	scene = new THREE.Scene;
	var n = new THREE.AmbientLight(1052720);
	scene.add(n);
	var i = new THREE.DirectionalLight(16772829);
	i.position.set(1, 1, 1),
	scene.add(i);
	$("body").append("<div id =showDis style='z-index: 1; position: absolute;font-size: larger; color: #ffffff;pointer-events: none'></div>"),
	$("body").append("<div id =showTip style='z-index: 1; position: absolute;font-size: larger; color: #ffffff;pointer-events: none'></div>"),
	$("#showDis").hide(),
	$("#showTip").hide(),
	camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, .1, 1e4),
	(renderer = new THREE.WebGLRenderer({
				antialias: !0,
				alpha: !0,
				premultipliedAlpha: !0
			})).setClearAlpha(0),
	renderer.setSize(window.innerWidth, window.innerHeight),
	renderer.shadowMap.enabled = !0,
	camera.position.x = 0,
	camera.position.y = 0,
	camera.position.z = 0,
	camera.lookAt(cameraLookAtPoint),
	panoArrowManager = new PanoArrowManager(camera),
	(canvas = document.getElementById("WebGL-output")).appendChild(renderer.domElement);
	var r = function () {
		var e = [],
		t = new Object;
		t.level = 0,
		t.row = 1,
		t.col = 1;
		var n = new Object;
		n.level = 3,
		n.row = 3,
		n.col = 7;
		new Object;
		return e.push(t),
		e.push(n),
		e
	}
	(),
	a = new Object;
	initVertices(),
	hdEvent.myEvent.addHandler("thumbnailLoadCompleted", onThumbnailLoadCompleted),
	hdEvent.myEvent.addHandler("panoInfoLoadCompleted", onPanoInfoLoadCompleted),
	hdEvent.myEvent.addHandler("getPanoField", onGetPanoField),
	hdEvent.myEvent.addHandler("panoMetaInfoLoadCompleted", onPanoMetaInfoLoadCompleted),
	skySphere = new SkySphere(camera, scene, renderer, r, hdEvent, 1),
	moveSphere = new SkySphere(camera, scene, renderer, r, hdEvent, 2);
	var o = setInterval(function () {
			if (g_initID && "" !== g_initID && (a.methodType = 0, a.panoID = g_initID), g_serverUrl && "" != g_serverUrl) {
				var t = e("y"),
				n = e("x");
				t && n ? (a.lat = t, a.lon = n) : (a.lat = g_initLat, a.lon = g_initLon),
				new PanoMetaInfoService(a, hdEvent).findNear(),
				clearInterval(o)
			}
		}, 1e3);
	window.addEventListener("resize", function () {
		intersectPoints && updateMeasureRsTxt(intersectPoints, g_MeasuringType);
		var e = window.innerWidth,
		t = window.innerHeight;
		renderer.setSize(e, t),
		camera.aspect = e / t,
		camera.updateProjectionMatrix();
		for (var n = 0; n < panoArrowManager.panoArrowArr.length; n++)
			panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[n].updateText()
	}, !1),
	t(),
	scene.add(panoArrowManager.manageObj3D),
	scene.add(panoWallManager.manageObj3D),
	MouseHandler(),
	arrowPicLoad(),
	arrowPicOverLoad(),
	ZoomInPicLoad(),
	ZoomOutPicLoad()
}
!function (e, t) {
	"object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t(e.THREE = e.THREE || {})
}
(this, function (e) {
	"use strict";
	function t() {}
	function n(e, t) {
		this.x = e || 0,
		this.y = t || 0
	}
	function i(e, t, r, a, o, s, l, c, d, u) {
		Object.defineProperty(this, "id", {
			value: Qa++
		}),
		this.uuid = Ja.generateUUID(),
		this.name = "",
		this.image = void 0 !== e ? e : i.DEFAULT_IMAGE,
		this.mipmaps = [],
		this.mapping = void 0 !== t ? t : i.DEFAULT_MAPPING,
		this.wrapS = void 0 !== r ? r : Qr,
		this.wrapT = void 0 !== a ? a : Qr,
		this.magFilter = void 0 !== o ? o : ra,
		this.minFilter = void 0 !== s ? s : oa,
		this.anisotropy = void 0 !== d ? d : 1,
		this.format = void 0 !== l ? l : _a,
		this.type = void 0 !== c ? c : la,
		this.offset = new n(0, 0),
		this.repeat = new n(1, 1),
		this.generateMipmaps = !0,
		this.premultiplyAlpha = !1,
		this.flipY = !0,
		this.unpackAlignment = 4,
		this.encoding = void 0 !== u ? u : ja,
		this.version = 0,
		this.onUpdate = null
	}
	function r(e, t, n, i) {
		this.x = e || 0,
		this.y = t || 0,
		this.z = n || 0,
		this.w = void 0 !== i ? i : 1
	}
	function a(e, t, n) {
		this.uuid = Ja.generateUUID(),
		this.width = e,
		this.height = t,
		this.scissor = new r(0, 0, e, t),
		this.scissorTest = !1,
		this.viewport = new r(0, 0, e, t),
		void 0 === (n = n || {}).minFilter && (n.minFilter = ra),
		this.texture = new i(void 0, void 0, n.wrapS, n.wrapT, n.magFilter, n.minFilter, n.format, n.type, n.anisotropy, n.encoding),
		this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer,
		this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer,
		this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
	}
	function o(e, t, n) {
		a.call(this, e, t, n),
		this.activeCubeFace = 0,
		this.activeMipMapLevel = 0
	}
	function s(e, t, n, i) {
		this._x = e || 0,
		this._y = t || 0,
		this._z = n || 0,
		this._w = void 0 !== i ? i : 1
	}
	function l(e, t, n) {
		this.x = e || 0,
		this.y = t || 0,
		this.z = n || 0
	}
	function c() {
		this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
		arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
	}
	function d(e, t, n, r, a, o, s, l, c, d) {
		i.call(this, e = void 0 !== e ? e : [], t = void 0 !== t ? t : Vr, n, r, a, o, s, l, c, d),
		this.flipY = !1
	}
	function u() {
		this.seq = [],
		this.map = {}
	}
	function h(e, t, n) {
		var i = e[0];
		if (i <= 0 || i > 0)
			return e;
		var r = t * n,
		a = to[r];
		if (void 0 === a && (a = new Float32Array(r), to[r] = a), 0 !== t) {
			i.toArray(a, 0);
			for (var o = 1, s = 0; o !== t; ++o)
				s += n, e[o].toArray(a, s)
		}
		return a
	}
	function p(e, t) {
		var n = no[t];
		void 0 === n && (n = new Int32Array(t), no[t] = n);
		for (var i = 0; i !== t; ++i)
			n[i] = e.allocTextureUnit();
		return n
	}
	function f(e, t) {
		e.uniform1f(this.addr, t)
	}
	function m(e, t) {
		e.uniform1i(this.addr, t)
	}
	function g(e, t) {
		void 0 === t.x ? e.uniform2fv(this.addr, t) : e.uniform2f(this.addr, t.x, t.y)
	}
	function v(e, t) {
		void 0 !== t.x ? e.uniform3f(this.addr, t.x, t.y, t.z) : void 0 !== t.r ? e.uniform3f(this.addr, t.r, t.g, t.b) : e.uniform3fv(this.addr, t)
	}
	function b(e, t) {
		void 0 === t.x ? e.uniform4fv(this.addr, t) : e.uniform4f(this.addr, t.x, t.y, t.z, t.w)
	}
	function y(e, t) {
		e.uniformMatrix2fv(this.addr, !1, t.elements || t)
	}
	function x(e, t) {
		e.uniformMatrix3fv(this.addr, !1, t.elements || t)
	}
	function w(e, t) {
		e.uniformMatrix4fv(this.addr, !1, t.elements || t)
	}
	function _(e, t, n) {
		var i = n.allocTextureUnit();
		e.uniform1i(this.addr, i),
		n.setTexture2D(t || Ka, i)
	}
	function T(e, t, n) {
		var i = n.allocTextureUnit();
		e.uniform1i(this.addr, i),
		n.setTextureCube(t || eo, i)
	}
	function E(e, t) {
		e.uniform2iv(this.addr, t)
	}
	function M(e, t) {
		e.uniform3iv(this.addr, t)
	}
	function C(e, t) {
		e.uniform4iv(this.addr, t)
	}
	function S(e, t) {
		e.uniform1fv(this.addr, t)
	}
	function A(e, t) {
		e.uniform1iv(this.addr, t)
	}
	function R(e, t) {
		e.uniform2fv(this.addr, h(t, this.size, 2))
	}
	function P(e, t) {
		e.uniform3fv(this.addr, h(t, this.size, 3))
	}
	function L(e, t) {
		e.uniform4fv(this.addr, h(t, this.size, 4))
	}
	function k(e, t) {
		e.uniformMatrix2fv(this.addr, !1, h(t, this.size, 4))
	}
	function O(e, t) {
		e.uniformMatrix3fv(this.addr, !1, h(t, this.size, 9))
	}
	function D(e, t) {
		e.uniformMatrix4fv(this.addr, !1, h(t, this.size, 16))
	}
	function I(e, t, n) {
		var i = t.length,
		r = p(n, i);
		e.uniform1iv(this.addr, r);
		for (var a = 0; a !== i; ++a)
			n.setTexture2D(t[a] || Ka, r[a])
	}
	function F(e, t, n) {
		var i = t.length,
		r = p(n, i);
		e.uniform1iv(this.addr, r);
		for (var a = 0; a !== i; ++a)
			n.setTextureCube(t[a] || eo, r[a])
	}
	function N(e, t, n) {
		this.id = e,
		this.addr = n,
		this.setValue = function (e) {
			switch (e) {
			case 5126:
				return f;
			case 35664:
				return g;
			case 35665:
				return v;
			case 35666:
				return b;
			case 35674:
				return y;
			case 35675:
				return x;
			case 35676:
				return w;
			case 35678:
				return _;
			case 35680:
				return T;
			case 5124:
			case 35670:
				return m;
			case 35667:
			case 35671:
				return E;
			case 35668:
			case 35672:
				return M;
			case 35669:
			case 35673:
				return C
			}
		}
		(t.type)
	}
	function z(e, t, n) {
		this.id = e,
		this.addr = n,
		this.size = t.size,
		this.setValue = function (e) {
			switch (e) {
			case 5126:
				return S;
			case 35664:
				return R;
			case 35665:
				return P;
			case 35666:
				return L;
			case 35674:
				return k;
			case 35675:
				return O;
			case 35676:
				return D;
			case 35678:
				return I;
			case 35680:
				return F;
			case 5124:
			case 35670:
				return A;
			case 35667:
			case 35671:
				return E;
			case 35668:
			case 35672:
				return M;
			case 35669:
			case 35673:
				return C
			}
		}
		(t.type)
	}
	function H(e) {
		this.id = e,
		u.call(this)
	}
	function U(e, t) {
		e.seq.push(t),
		e.map[t.id] = t
	}
	function B(e, t, n) {
		var i = e.name,
		r = i.length;
		for (io.lastIndex = 0; ; ) {
			var a = io.exec(i),
			o = io.lastIndex,
			s = a[1],
			l = "]" === a[2],
			c = a[3];
			if (l && (s |= 0), void 0 === c || "[" === c && o + 2 === r) {
				U(n, void 0 === c ? new N(s, e, t) : new z(s, e, t));
				break
			}
			var d = n.map[s];
			void 0 === d && U(n, d = new H(s)),
			n = d
		}
	}
	function j(e, t, n) {
		u.call(this),
		this.renderer = n;
		for (var i = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), r = 0; r !== i; ++r) {
			var a = e.getActiveUniform(t, r),
			o = a.name;
			B(a, e.getUniformLocation(t, o), this)
		}
	}
	function V(e, t, n) {
		return void 0 === t && void 0 === n ? this.set(e) : this.setRGB(e, t, n)
	}
	function W(e, t, n, r, a, o, s, l, c, d, u, h) {
		i.call(this, null, o, s, l, c, d, r, a, u, h),
		this.image = {
			data: e,
			width: t,
			height: n
		},
		this.magFilter = void 0 !== c ? c : ta,
		this.minFilter = void 0 !== d ? d : ta,
		this.generateMipmaps = !1,
		this.flipY = !1,
		this.unpackAlignment = 1
	}
	function G(e, t) {
		this.min = void 0 !== e ? e : new n(1 / 0, 1 / 0),
		this.max = void 0 !== t ? t : new n(-1 / 0, -1 / 0)
	}
	function $(e, t) {
		function i() {
			var t = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]),
			n = new Uint16Array([0, 1, 2, 0, 2, 3]);
			r = p.createBuffer(),
			a = p.createBuffer(),
			p.bindBuffer(p.ARRAY_BUFFER, r),
			p.bufferData(p.ARRAY_BUFFER, t, p.STATIC_DRAW),
			p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, a),
			p.bufferData(p.ELEMENT_ARRAY_BUFFER, n, p.STATIC_DRAW),
			u = p.createTexture(),
			h = p.createTexture(),
			f.bindTexture(p.TEXTURE_2D, u),
			p.texImage2D(p.TEXTURE_2D, 0, p.RGB, 16, 16, 0, p.RGB, p.UNSIGNED_BYTE, null),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST),
			f.bindTexture(p.TEXTURE_2D, h),
			p.texImage2D(p.TEXTURE_2D, 0, p.RGBA, 16, 16, 0, p.RGBA, p.UNSIGNED_BYTE, null),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST),
			p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST),
			o = {
				vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if ( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"),
				fragmentShader: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if ( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if ( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n")
			},
			s = function (t) {
				var n = p.createProgram(),
				i = p.createShader(p.FRAGMENT_SHADER),
				r = p.createShader(p.VERTEX_SHADER),
				a = "precision " + e.getPrecision() + " float;\n";
				return p.shaderSource(i, a + t.fragmentShader),
				p.shaderSource(r, a + t.vertexShader),
				p.compileShader(i),
				p.compileShader(r),
				p.attachShader(n, i),
				p.attachShader(n, r),
				p.linkProgram(n),
				n
			}
			(o),
			c = {
				vertex: p.getAttribLocation(s, "position"),
				uv: p.getAttribLocation(s, "uv")
			},
			d = {
				renderType: p.getUniformLocation(s, "renderType"),
				map: p.getUniformLocation(s, "map"),
				occlusionMap: p.getUniformLocation(s, "occlusionMap"),
				opacity: p.getUniformLocation(s, "opacity"),
				color: p.getUniformLocation(s, "color"),
				scale: p.getUniformLocation(s, "scale"),
				rotation: p.getUniformLocation(s, "rotation"),
				screenPosition: p.getUniformLocation(s, "screenPosition")
			}
		}
		var r,
		a,
		o,
		s,
		c,
		d,
		u,
		h,
		p = e.context,
		f = e.state;
		this.render = function (o, m, g) {
			if (0 !== t.length) {
				var v = (new Date).getTime(),
				b = new l,
				y = g.w / g.z,
				x = .5 * g.z,
				w = .5 * g.w,
				_ = 16 / g.w,
				T = new n(_ * y, _),
				E = new l(1, 1, 0),
				M = new n(1, 1),
				C = new G;
				if (C.min.set(g.x, g.y), C.max.set(g.x + (g.z - 16), g.y + (g.w - 16)), void 0 === s && i(), !(v > yr)) {
					p.useProgram(s),
					f.initAttributes(),
					f.enableAttribute(c.vertex),
					f.enableAttribute(c.uv),
					f.disableUnusedAttributes(),
					p.uniform1i(d.occlusionMap, 0),
					p.uniform1i(d.map, 1),
					p.bindBuffer(p.ARRAY_BUFFER, r),
					p.vertexAttribPointer(c.vertex, 2, p.FLOAT, !1, 16, 0),
					p.vertexAttribPointer(c.uv, 2, p.FLOAT, !1, 16, 8),
					p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, a),
					f.disable(p.CULL_FACE),
					f.setDepthWrite(!1);
					for (var S = 0, A = t.length; S < A; S++) {
						_ = 16 / g.w,
						T.set(_ * y, _);
						var R = t[S];
						if (b.set(R.matrixWorld.elements[12], R.matrixWorld.elements[13], R.matrixWorld.elements[14]), b.applyMatrix4(m.matrixWorldInverse), b.applyProjection(m.projectionMatrix), E.copy(b), M.x = g.x + E.x * x + x - 8, M.y = g.y + E.y * w + w - 8, !0 === C.containsPoint(M)) {
							f.activeTexture(p.TEXTURE0),
							f.bindTexture(p.TEXTURE_2D, null),
							f.activeTexture(p.TEXTURE1),
							f.bindTexture(p.TEXTURE_2D, u),
							p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGB, M.x, M.y, 16, 16, 0),
							p.uniform1i(d.renderType, 0),
							p.uniform2f(d.scale, T.x, T.y),
							p.uniform3f(d.screenPosition, E.x, E.y, E.z),
							f.disable(p.BLEND),
							f.enable(p.DEPTH_TEST),
							p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0),
							f.activeTexture(p.TEXTURE0),
							f.bindTexture(p.TEXTURE_2D, h),
							p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGBA, M.x, M.y, 16, 16, 0),
							p.uniform1i(d.renderType, 1),
							f.disable(p.DEPTH_TEST),
							f.activeTexture(p.TEXTURE1),
							f.bindTexture(p.TEXTURE_2D, u),
							p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0),
							R.positionScreen.copy(E),
							R.customUpdateCallback ? R.customUpdateCallback(R) : R.updateLensFlares(),
							p.uniform1i(d.renderType, 2),
							f.enable(p.BLEND);
							for (var P = 0, L = R.lensFlares.length; P < L; P++) {
								var k = R.lensFlares[P];
								k.opacity > .001 && k.scale > .001 && (E.x = k.x, E.y = k.y, E.z = k.z, _ = k.size * k.scale / g.w, T.x = _ * y, T.y = _, p.uniform3f(d.screenPosition, E.x, E.y, E.z), p.uniform2f(d.scale, T.x, T.y), p.uniform1f(d.rotation, k.rotation), p.uniform1f(d.opacity, k.opacity), p.uniform3f(d.color, k.color.r, k.color.g, k.color.b), f.setBlending(k.blending, k.blendEquation, k.blendSrc, k.blendDst), e.setTexture2D(k.texture, 1), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0))
							}
						}
					}
					f.enable(p.CULL_FACE),
					f.enable(p.DEPTH_TEST),
					f.setDepthWrite(!0),
					e.resetGLState()
				}
			}
		}
	}
	function X(e, t) {
		function n() {
			var t = new Float32Array([ - .5,  - .5, 0, 0, .5,  - .5, 1, 0, .5, .5, 1, 1,  - .5, .5, 0, 1]),
			n = new Uint16Array([0, 1, 2, 0, 2, 3]);
			a = p.createBuffer(),
			o = p.createBuffer(),
			p.bindBuffer(p.ARRAY_BUFFER, a),
			p.bufferData(p.ARRAY_BUFFER, t, p.STATIC_DRAW),
			p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, o),
			p.bufferData(p.ELEMENT_ARRAY_BUFFER, n, p.STATIC_DRAW),
			c = function () {
				var t = p.createProgram(),
				n = p.createShader(p.VERTEX_SHADER),
				i = p.createShader(p.FRAGMENT_SHADER);
				return p.shaderSource(n, ["precision " + e.getPrecision() + " float;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform float rotation;", "uniform vec2 scale;", "uniform vec2 uvOffset;", "uniform vec2 uvScale;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uvOffset + uv * uvScale;", "vec2 alignedPosition = position * scale;", "vec2 rotatedPosition;", "rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;", "rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;", "vec4 finalPosition;", "finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );", "finalPosition.xy += rotatedPosition;", "finalPosition = projectionMatrix * finalPosition;", "gl_Position = finalPosition;", "}"].join("\n")),
				p.shaderSource(i, ["precision " + e.getPrecision() + " float;", "uniform vec3 color;", "uniform sampler2D map;", "uniform float opacity;", "uniform int fogType;", "uniform vec3 fogColor;", "uniform float fogDensity;", "uniform float fogNear;", "uniform float fogFar;", "uniform float alphaTest;", "varying vec2 vUV;", "void main() {", "vec4 texture = texture2D( map, vUV );", "if ( texture.a < alphaTest ) discard;", "gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );", "if ( fogType > 0 ) {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float fogFactor = 0.0;", "if ( fogType == 1 ) {", "fogFactor = smoothstep( fogNear, fogFar, depth );", "} else {", "const float LOG2 = 1.442695;", "fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "}", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "}", "}"].join("\n")),
				p.compileShader(n),
				p.compileShader(i),
				p.attachShader(t, n),
				p.attachShader(t, i),
				p.linkProgram(t),
				t
			}
			(),
			d = {
				position: p.getAttribLocation(c, "position"),
				uv: p.getAttribLocation(c, "uv")
			},
			u = {
				uvOffset: p.getUniformLocation(c, "uvOffset"),
				uvScale: p.getUniformLocation(c, "uvScale"),
				rotation: p.getUniformLocation(c, "rotation"),
				scale: p.getUniformLocation(c, "scale"),
				color: p.getUniformLocation(c, "color"),
				map: p.getUniformLocation(c, "map"),
				opacity: p.getUniformLocation(c, "opacity"),
				modelViewMatrix: p.getUniformLocation(c, "modelViewMatrix"),
				projectionMatrix: p.getUniformLocation(c, "projectionMatrix"),
				fogType: p.getUniformLocation(c, "fogType"),
				fogDensity: p.getUniformLocation(c, "fogDensity"),
				fogNear: p.getUniformLocation(c, "fogNear"),
				fogFar: p.getUniformLocation(c, "fogFar"),
				fogColor: p.getUniformLocation(c, "fogColor"),
				alphaTest: p.getUniformLocation(c, "alphaTest")
			};
			var r = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
			r.width = 8,
			r.height = 8;
			var s = r.getContext("2d");
			s.fillStyle = "white",
			s.fillRect(0, 0, 8, 8),
			(h = new i(r)).needsUpdate = !0
		}
		function r(e, t) {
			return e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z !== t.z ? t.z - e.z : t.id - e.id
		}
		var a,
		o,
		c,
		d,
		u,
		h,
		p = e.context,
		f = e.state,
		m = new l,
		g = new s,
		v = new l;
		this.render = function (i, s) {
			if (0 !== t.length) {
				void 0 === c && n(),
				p.useProgram(c),
				f.initAttributes(),
				f.enableAttribute(d.position),
				f.enableAttribute(d.uv),
				f.disableUnusedAttributes(),
				f.disable(p.CULL_FACE),
				f.enable(p.BLEND),
				p.bindBuffer(p.ARRAY_BUFFER, a),
				p.vertexAttribPointer(d.position, 2, p.FLOAT, !1, 16, 0),
				p.vertexAttribPointer(d.uv, 2, p.FLOAT, !1, 16, 8),
				p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, o),
				p.uniformMatrix4fv(u.projectionMatrix, !1, s.projectionMatrix.elements),
				f.activeTexture(p.TEXTURE0),
				p.uniform1i(u.map, 0);
				var l = 0,
				b = 0,
				y = i.fog;
				y ? (p.uniform3f(u.fogColor, y.color.r, y.color.g, y.color.b), y.isFog ? (p.uniform1f(u.fogNear, y.near), p.uniform1f(u.fogFar, y.far), p.uniform1i(u.fogType, 1), l = 1, b = 1) : y.isFogExp2 && (p.uniform1f(u.fogDensity, y.density), p.uniform1i(u.fogType, 2), l = 2, b = 2)) : (p.uniform1i(u.fogType, 0), l = 0, b = 0);
				for (var x = 0, w = t.length; x < w; x++) {
					(T = t[x]).modelViewMatrix.multiplyMatrices(s.matrixWorldInverse, T.matrixWorld),
					T.z = -T.modelViewMatrix.elements[14]
				}
				t.sort(r);
				for (var _ = [], x = 0, w = t.length; x < w; x++) {
					var T = t[x],
					E = T.material;
					if (!1 !== E.visible) {
						p.uniform1f(u.alphaTest, E.alphaTest),
						p.uniformMatrix4fv(u.modelViewMatrix, !1, T.modelViewMatrix.elements),
						T.matrixWorld.decompose(m, g, v),
						_[0] = v.x,
						_[1] = v.y;
						var M = 0;
						i.fog && E.fog && (M = b),
						l !== M && (p.uniform1i(u.fogType, M), l = M),
						null !== E.map ? (p.uniform2f(u.uvOffset, E.map.offset.x, E.map.offset.y), p.uniform2f(u.uvScale, E.map.repeat.x, E.map.repeat.y)) : (p.uniform2f(u.uvOffset, 0, 0), p.uniform2f(u.uvScale, 1, 1)),
						p.uniform1f(u.opacity, E.opacity),
						p.uniform3f(u.color, E.color.r, E.color.g, E.color.b),
						p.uniform1f(u.rotation, E.rotation),
						p.uniform2fv(u.scale, _),
						f.setBlending(E.blending, E.blendEquation, E.blendSrc, E.blendDst),
						f.setDepthTest(E.depthTest),
						f.setDepthWrite(E.depthWrite),
						E.map ? e.setTexture2D(E.map, 0) : e.setTexture2D(h, 0),
						p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0)
					}
				}
				f.enable(p.CULL_FACE),
				e.resetGLState()
			}
		}
	}
	function Y() {
		Object.defineProperty(this, "id", {
			value: co++
		}),
		this.uuid = Ja.generateUUID(),
		this.name = "",
		this.type = "Material",
		this.fog = !0,
		this.lights = !0,
		this.blending = rr,
		this.side = Yi,
		this.shading = Qi,
		this.vertexColors = er,
		this.opacity = 1,
		this.transparent = !1,
		this.blendSrc = xr,
		this.blendDst = wr,
		this.blendEquation = dr,
		this.blendSrcAlpha = null,
		this.blendDstAlpha = null,
		this.blendEquationAlpha = null,
		this.depthFunc = Pr,
		this.depthTest = !0,
		this.depthWrite = !0,
		this.clippingPlanes = null,
		this.clipIntersection = !1,
		this.clipShadows = !1,
		this.colorWrite = !0,
		this.precision = null,
		this.polygonOffset = !1,
		this.polygonOffsetFactor = 0,
		this.polygonOffsetUnits = 0,
		this.alphaTest = 0,
		this.premultipliedAlpha = !1,
		this.overdraw = 0,
		this.visible = !0,
		this._needsUpdate = !0
	}
	function q(e) {
		Y.call(this),
		this.type = "ShaderMaterial",
		this.defines = {},
		this.uniforms = {},
		this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
		this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",
		this.linewidth = 1,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.fog = !1,
		this.lights = !1,
		this.clipping = !1,
		this.skinning = !1,
		this.morphTargets = !1,
		this.morphNormals = !1,
		this.extensions = {
			derivatives: !1,
			fragDepth: !1,
			drawBuffers: !1,
			shaderTextureLOD: !1
		},
		this.defaultAttributeValues = {
			color: [1, 1, 1],
			uv: [0, 0],
			uv2: [0, 0]
		},
		this.index0AttributeName = void 0,
		void 0 !== e && (void 0 !== e.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(e))
	}
	function Z(e) {
		Y.call(this),
		this.type = "MeshDepthMaterial",
		this.depthPacking = qa,
		this.skinning = !1,
		this.morphTargets = !1,
		this.map = null,
		this.alphaMap = null,
		this.displacementMap = null,
		this.displacementScale = 1,
		this.displacementBias = 0,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.fog = !1,
		this.lights = !1,
		this.setValues(e)
	}
	function J(e, t) {
		this.min = void 0 !== e ? e : new l(1 / 0, 1 / 0, 1 / 0),
		this.max = void 0 !== t ? t : new l(-1 / 0, -1 / 0, -1 / 0)
	}
	function Q(e, t) {
		this.center = void 0 !== e ? e : new l,
		this.radius = void 0 !== t ? t : 0
	}
	function K() {
		this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]),
		arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
	}
	function ee(e, t) {
		this.normal = void 0 !== e ? e : new l(1, 0, 0),
		this.constant = void 0 !== t ? t : 0
	}
	function te(e, t, n, i, r, a) {
		this.planes = [void 0 !== e ? e : new ee, void 0 !== t ? t : new ee, void 0 !== n ? n : new ee, void 0 !== i ? i : new ee, void 0 !== r ? r : new ee, void 0 !== a ? a : new ee]
	}
	function ne(e, t, i, o) {
		function s(t, n, i, r) {
			var a = t.geometry,
			o = null,
			s = E,
			l = t.customDepthMaterial;
			if (i && (s = M, l = t.customDistanceMaterial), l)
				o = l;
			else {
				var c = !1;
				n.morphTargets && (a && a.isBufferGeometry ? c = a.morphAttributes && a.morphAttributes.position && a.morphAttributes.position.length > 0 : a && a.isGeometry && (c = a.morphTargets && a.morphTargets.length > 0));
				var d = t.isSkinnedMesh && n.skinning,
				u = 0;
				c && (u |= w),
				d && (u |= _),
				o = s[u]
			}
			if (e.localClippingEnabled && !0 === n.clipShadows && 0 !== n.clippingPlanes.length) {
				var h = o.uuid,
				p = n.uuid,
				f = C[h];
				void 0 === f && (f = {}, C[h] = f);
				var m = f[p];
				void 0 === m && (m = o.clone(), f[p] = m),
				o = m
			}
			o.visible = n.visible,
			o.wireframe = n.wireframe;
			var g = n.side;
			return z.renderSingleSided && g == Zi && (g = Yi),
			z.renderReverseSided && (g === Yi ? g = qi : g === qi && (g = Yi)),
			o.side = g,
			o.clipShadows = n.clipShadows,
			o.clippingPlanes = n.clippingPlanes,
			o.wireframeLinewidth = n.wireframeLinewidth,
			o.linewidth = n.linewidth,
			i && void 0 !== o.uniforms.lightPos && o.uniforms.lightPos.value.copy(r),
			o
		}
		function d(e, t, n) {
			if (!1 !== e.visible) {
				if (0 != (e.layers.mask & t.layers.mask) && (e.isMesh || e.isLine || e.isPoints) && e.castShadow && (!1 === e.frustumCulled || !0 === p.intersectsObject(e))) {
					!0 === e.material.visible && (e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e.matrixWorld), x.push(e))
				}
				for (var i = e.children, r = 0, a = i.length; r < a; r++)
					d(i[r], t, n)
			}
		}
		var u = e.context,
		h = e.state,
		p = new te,
		f = new c,
		m = t.shadows,
		g = new n,
		v = new n(o.maxTextureSize, o.maxTextureSize),
		b = new l,
		y = new l,
		x = [],
		w = 1,
		_ = 2,
		T = 1 + (w | _),
		E = new Array(T),
		M = new Array(T),
		C = {},
		S = [new l(1, 0, 0), new l(-1, 0, 0), new l(0, 0, 1), new l(0, 0, -1), new l(0, 1, 0), new l(0, -1, 0)],
		A = [new l(0, 1, 0), new l(0, 1, 0), new l(0, 1, 0), new l(0, 1, 0), new l(0, 0, 1), new l(0, 0, -1)],
		R = [new r, new r, new r, new r, new r, new r],
		P = new Z;
		P.depthPacking = Za,
		P.clipping = !0;
		for (var L = lo.distanceRGBA, k = ro.clone(L.uniforms), O = 0; O !== T; ++O) {
			var D = 0 != (O & w),
			I = 0 != (O & _),
			F = P.clone();
			F.morphTargets = D,
			F.skinning = I,
			E[O] = F;
			var N = new q({
					defines: {
						USE_SHADOWMAP: ""
					},
					uniforms: k,
					vertexShader: L.vertexShader,
					fragmentShader: L.fragmentShader,
					morphTargets: D,
					skinning: I,
					clipping: !0
				});
			M[O] = N
		}
		var z = this;
		this.enabled = !1,
		this.autoUpdate = !0,
		this.needsUpdate = !1,
		this.type = $i,
		this.renderReverseSided = !0,
		this.renderSingleSided = !0,
		this.render = function (t, n) {
			if (!1 !== z.enabled && (!1 !== z.autoUpdate || !1 !== z.needsUpdate) && 0 !== m.length) {
				h.buffers.color.setClear(1, 1, 1, 1),
				h.disable(u.BLEND),
				h.setDepthTest(!0),
				h.setScissorTest(!1);
				for (var r, o, l = 0, c = m.length; l < c; l++) {
					var w = m[l],
					_ = w.shadow;
					if (void 0 !== _) {
						var T = _.camera;
						if (g.copy(_.mapSize), g.min(v), w && w.isPointLight) {
							r = 6,
							o = !0;
							var E = g.x,
							M = g.y;
							R[0].set(2 * E, M, E, M),
							R[1].set(0, M, E, M),
							R[2].set(3 * E, M, E, M),
							R[3].set(E, M, E, M),
							R[4].set(3 * E, 0, E, M),
							R[5].set(E, 0, E, M),
							g.x *= 4,
							g.y *= 2
						} else
							r = 1, o = !1;
						if (null === _.map) {
							var C = {
								minFilter: ta,
								magFilter: ta,
								format: _a
							};
							_.map = new a(g.x, g.y, C),
							T.updateProjectionMatrix()
						}
						_.isSpotLightShadow && _.update(w),
						_ && _.isRectAreaLightShadow && _.update(w);
						var P = _.map,
						L = _.matrix;
						y.setFromMatrixPosition(w.matrixWorld),
						T.position.copy(y),
						e.setRenderTarget(P),
						e.clear();
						for (var k = 0; k < r; k++) {
							if (o) {
								b.copy(T.position),
								b.add(S[k]),
								T.up.copy(A[k]),
								T.lookAt(b);
								var O = R[k];
								h.viewport(O)
							} else
								b.setFromMatrixPosition(w.target.matrixWorld), T.lookAt(b);
							T.updateMatrixWorld(),
							T.matrixWorldInverse.getInverse(T.matrixWorld),
							L.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1),
							L.multiply(T.projectionMatrix),
							L.multiply(T.matrixWorldInverse),
							f.multiplyMatrices(T.projectionMatrix, T.matrixWorldInverse),
							p.setFromMatrix(f),
							x.length = 0,
							d(t, n, T);
							for (var D = 0, I = x.length; D < I; D++) {
								var F = x[D],
								N = i.update(F),
								H = F.material;
								if (H && H.isMultiMaterial)
									for (var U = N.groups, B = H.materials, j = 0, V = U.length; j < V; j++) {
										var W = U[j],
										G = B[W.materialIndex];
										if (!0 === G.visible) {
											$ = s(F, G, o, y);
											e.renderBufferDirect(T, null, N, $, F, W)
										}
									}
								else {
									var $ = s(F, H, o, y);
									e.renderBufferDirect(T, null, N, $, F, null)
								}
							}
						}
					} else
						console.warn("THREE.WebGLShadowMap:", w, "has no shadow.")
				}
				var X = e.getClearColor(),
				Y = e.getClearAlpha();
				e.setClearColor(X, Y),
				z.needsUpdate = !1
			}
		}
	}
	function ie(e, t) {
		this.origin = void 0 !== e ? e : new l,
		this.direction = void 0 !== t ? t : new l
	}
	function re(e, t, n, i) {
		this._x = e || 0,
		this._y = t || 0,
		this._z = n || 0,
		this._order = i || re.DefaultOrder
	}
	function ae() {
		this.mask = 1
	}
	function oe() {
		Object.defineProperty(this, "id", {
			value: uo++
		}),
		this.uuid = Ja.generateUUID(),
		this.name = "",
		this.type = "Object3D",
		this.parent = null,
		this.children = [],
		this.up = oe.DefaultUp.clone();
		var e = new l,
		t = new re,
		n = new s,
		i = new l(1, 1, 1);
		t.onChange(function () {
			n.setFromEuler(t, !1)
		}),
		n.onChange(function () {
			t.setFromQuaternion(n, void 0, !1)
		}),
		Object.defineProperties(this, {
			position: {
				enumerable: !0,
				value: e
			},
			rotation: {
				enumerable: !0,
				value: t
			},
			quaternion: {
				enumerable: !0,
				value: n
			},
			scale: {
				enumerable: !0,
				value: i
			},
			modelViewMatrix: {
				value: new c
			},
			normalMatrix: {
				value: new K
			}
		}),
		this.matrix = new c,
		this.matrixWorld = new c,
		this.matrixAutoUpdate = oe.DefaultMatrixAutoUpdate,
		this.matrixWorldNeedsUpdate = !1,
		this.layers = new ae,
		this.visible = !0,
		this.castShadow = !1,
		this.receiveShadow = !1,
		this.frustumCulled = !0,
		this.renderOrder = 0,
		this.userData = {},
		this.onBeforeRender = function () {},
		this.onAfterRender = function () {}
	}
	function se(e, t) {
		this.start = void 0 !== e ? e : new l,
		this.end = void 0 !== t ? t : new l
	}
	function le(e, t, n) {
		this.a = void 0 !== e ? e : new l,
		this.b = void 0 !== t ? t : new l,
		this.c = void 0 !== n ? n : new l
	}
	function ce(e, t, n, i, r, a) {
		this.a = e,
		this.b = t,
		this.c = n,
		this.normal = i && i.isVector3 ? i : new l,
		this.vertexNormals = Array.isArray(i) ? i : [],
		this.color = r && r.isColor ? r : new V,
		this.vertexColors = Array.isArray(r) ? r : [],
		this.materialIndex = void 0 !== a ? a : 0
	}
	function de(e) {
		Y.call(this),
		this.type = "MeshBasicMaterial",
		this.color = new V(16777215),
		this.map = null,
		this.lightMap = null,
		this.lightMapIntensity = 1,
		this.aoMap = null,
		this.aoMapIntensity = 1,
		this.specularMap = null,
		this.alphaMap = null,
		this.envMap = null,
		this.combine = Ir,
		this.reflectivity = 1,
		this.refractionRatio = .98,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.wireframeLinecap = "round",
		this.wireframeLinejoin = "round",
		this.skinning = !1,
		this.morphTargets = !1,
		this.lights = !1,
		this.setValues(e)
	}
	function ue(e, t, n) {
		if (Array.isArray(e))
			throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
		this.uuid = Ja.generateUUID(),
		this.array = e,
		this.itemSize = t,
		this.count = void 0 !== e ? e.length / t : 0,
		this.normalized = !0 === n,
		this.dynamic = !1,
		this.updateRange = {
			offset: 0,
			count: -1
		},
		this.onUploadCallback = function () {},
		this.version = 0
	}
	function he(e, t) {
		ue.call(this, new Int8Array(e), t)
	}
	function pe(e, t) {
		ue.call(this, new Uint8Array(e), t)
	}
	function fe(e, t) {
		ue.call(this, new Uint8ClampedArray(e), t)
	}
	function me(e, t) {
		ue.call(this, new Int16Array(e), t)
	}
	function ge(e, t) {
		ue.call(this, new Uint16Array(e), t)
	}
	function ve(e, t) {
		ue.call(this, new Int32Array(e), t)
	}
	function be(e, t) {
		ue.call(this, new Uint32Array(e), t)
	}
	function ye(e, t) {
		ue.call(this, new Float32Array(e), t)
	}
	function xe(e, t) {
		ue.call(this, new Float64Array(e), t)
	}
	function we() {
		this.indices = [],
		this.vertices = [],
		this.normals = [],
		this.colors = [],
		this.uvs = [],
		this.uvs2 = [],
		this.groups = [],
		this.morphTargets = {},
		this.skinWeights = [],
		this.skinIndices = [],
		this.boundingBox = null,
		this.boundingSphere = null,
		this.verticesNeedUpdate = !1,
		this.normalsNeedUpdate = !1,
		this.colorsNeedUpdate = !1,
		this.uvsNeedUpdate = !1,
		this.groupsNeedUpdate = !1
	}
	function _e() {
		Object.defineProperty(this, "id", {
			value: Te()
		}),
		this.uuid = Ja.generateUUID(),
		this.name = "",
		this.type = "Geometry",
		this.vertices = [],
		this.colors = [],
		this.faces = [],
		this.faceVertexUvs = [[]],
		this.morphTargets = [],
		this.morphNormals = [],
		this.skinWeights = [],
		this.skinIndices = [],
		this.lineDistances = [],
		this.boundingBox = null,
		this.boundingSphere = null,
		this.elementsNeedUpdate = !1,
		this.verticesNeedUpdate = !1,
		this.uvsNeedUpdate = !1,
		this.normalsNeedUpdate = !1,
		this.colorsNeedUpdate = !1,
		this.lineDistancesNeedUpdate = !1,
		this.groupsNeedUpdate = !1
	}
	function Te() {
		return ho++
	}
	function Ee() {
		Object.defineProperty(this, "id", {
			value: Te()
		}),
		this.uuid = Ja.generateUUID(),
		this.name = "",
		this.type = "BufferGeometry",
		this.index = null,
		this.attributes = {},
		this.morphAttributes = {},
		this.groups = [],
		this.boundingBox = null,
		this.boundingSphere = null,
		this.drawRange = {
			start: 0,
			count: 1 / 0
		}
	}
	function Me(e, t) {
		oe.call(this),
		this.type = "Mesh",
		this.geometry = void 0 !== e ? e : new Ee,
		this.material = void 0 !== t ? t : new de({
				color: 16777215 * Math.random()
			}),
		this.drawMode = Ha,
		this.updateMorphTargets()
	}
	function Ce(e, t, n, i, r, a) {
		function o(e, t, n, i, r, a, o, c, d, x, w) {
			for (var _ = a / d, T = o / x, E = a / 2, M = o / 2, C = c / 2, S = d + 1, A = x + 1, R = 0, P = 0, L = new l, k = 0; k < A; k++)
				for (var O = k * T - M, D = 0; D < S; D++) {
					var I = D * _ - E;
					L[e] = I * i,
					L[t] = O * r,
					L[n] = C,
					h[m] = L.x,
					h[m + 1] = L.y,
					h[m + 2] = L.z,
					L[e] = 0,
					L[t] = 0,
					L[n] = c > 0 ? 1 : -1,
					p[m] = L.x,
					p[m + 1] = L.y,
					p[m + 2] = L.z,
					f[g] = D / d,
					f[g + 1] = 1 - k / x,
					m += 3,
					g += 2,
					R += 1
				}
			for (k = 0; k < x; k++)
				for (D = 0; D < d; D++) {
					var F = b + D + S * k,
					N = b + D + S * (k + 1),
					z = b + (D + 1) + S * (k + 1),
					H = b + (D + 1) + S * k;
					u[v] = F,
					u[v + 1] = N,
					u[v + 2] = H,
					u[v + 3] = N,
					u[v + 4] = z,
					u[v + 5] = H,
					v += 6,
					P += 6
				}
			s.addGroup(y, P, w),
			y += P,
			b += R
		}
		Ee.call(this),
		this.type = "BoxBufferGeometry",
		this.parameters = {
			width: e,
			height: t,
			depth: n,
			widthSegments: i,
			heightSegments: r,
			depthSegments: a
		};
		var s = this,
		c = function (e, t, n) {
			var i = 0;
			return i += (e + 1) * (t + 1) * 2,
			i += (e + 1) * (n + 1) * 2,
			i += (n + 1) * (t + 1) * 2
		}
		(i = Math.floor(i) || 1, r = Math.floor(r) || 1, a = Math.floor(a) || 1),
		d = function (e, t, n) {
			var i = 0;
			return i += e * t * 2,
			i += e * n * 2,
			6 * (i += n * t * 2)
		}
		(i, r, a),
		u = new(d > 65535 ? Uint32Array : Uint16Array)(d),
		h = new Float32Array(3 * c),
		p = new Float32Array(3 * c),
		f = new Float32Array(2 * c),
		m = 0,
		g = 0,
		v = 0,
		b = 0,
		y = 0;
		o("z", "y", "x", -1, -1, n, t, e, a, r, 0),
		o("z", "y", "x", 1, -1, n, t, -e, a, r, 1),
		o("x", "z", "y", 1, 1, e, n, t, i, a, 2),
		o("x", "z", "y", 1, -1, e, n, -t, i, a, 3),
		o("x", "y", "z", 1, -1, e, t, n, i, r, 4),
		o("x", "y", "z", -1, -1, e, t, -n, i, r, 5),
		this.setIndex(new ue(u, 1)),
		this.addAttribute("position", new ue(h, 3)),
		this.addAttribute("normal", new ue(p, 3)),
		this.addAttribute("uv", new ue(f, 2))
	}
	function Se(e, t, n, i) {
		Ee.call(this),
		this.type = "PlaneBufferGeometry",
		this.parameters = {
			width: e,
			height: t,
			widthSegments: n,
			heightSegments: i
		};
		for (var r = e / 2, a = t / 2, o = Math.floor(n) || 1, s = Math.floor(i) || 1, l = o + 1, c = s + 1, d = e / o, u = t / s, h = new Float32Array(l * c * 3), p = new Float32Array(l * c * 3), f = new Float32Array(l * c * 2), m = 0, g = 0, v = 0; v < c; v++)
			for (var b = v * u - a, y = 0; y < l; y++) {
				var x = y * d - r;
				h[m] = x,
				h[m + 1] = -b,
				p[m + 2] = 1,
				f[g] = y / o,
				f[g + 1] = 1 - v / s,
				m += 3,
				g += 2
			}
		m = 0;
		for (var w = new(h.length / 3 > 65535 ? Uint32Array : Uint16Array)(o * s * 6), v = 0; v < s; v++)
			for (y = 0; y < o; y++) {
				var _ = y + l * v,
				T = y + l * (v + 1),
				E = y + 1 + l * (v + 1),
				M = y + 1 + l * v;
				w[m] = _,
				w[m + 1] = T,
				w[m + 2] = M,
				w[m + 3] = T,
				w[m + 4] = E,
				w[m + 5] = M,
				m += 6
			}
		this.setIndex(new ue(w, 1)),
		this.addAttribute("position", new ue(h, 3)),
		this.addAttribute("normal", new ue(p, 3)),
		this.addAttribute("uv", new ue(f, 2))
	}
	function Ae() {
		oe.call(this),
		this.type = "Camera",
		this.matrixWorldInverse = new c,
		this.projectionMatrix = new c
	}
	function Re(e, t, n, i) {
		Ae.call(this),
		this.type = "PerspectiveCamera",
		this.fov = void 0 !== e ? e : 50,
		this.zoom = 1,
		this.near = void 0 !== n ? n : .1,
		this.far = void 0 !== i ? i : 2e3,
		this.focus = 10,
		this.aspect = void 0 !== t ? t : 1,
		this.view = null,
		this.filmGauge = 35,
		this.filmOffset = 0,
		this.updateProjectionMatrix()
	}
	function Pe(e, t, n, i, r, a) {
		Ae.call(this),
		this.type = "OrthographicCamera",
		this.zoom = 1,
		this.view = null,
		this.left = e,
		this.right = t,
		this.top = n,
		this.bottom = i,
		this.near = void 0 !== r ? r : .1,
		this.far = void 0 !== a ? a : 2e3,
		this.updateProjectionMatrix()
	}
	function Le(e, t, n) {
		var i = e.createShader(t);
		return e.shaderSource(i, n),
		e.compileShader(i),
		!1 === e.getShaderParameter(i, e.COMPILE_STATUS) && console.error("THREE.WebGLShader: Shader couldn't compile."),
		"" !== e.getShaderInfoLog(i) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()", t === e.VERTEX_SHADER ? "vertex" : "fragment", e.getShaderInfoLog(i), function (e) {
			for (var t = e.split("\n"), n = 0; n < t.length; n++)
				t[n] = n + 1 + ": " + t[n];
			return t.join("\n")
		}
			(n)),
		i
	}
	function ke(e) {
		switch (e) {
		case ja:
			return ["Linear", "( value )"];
		case Va:
			return ["sRGB", "( value )"];
		case Ga:
			return ["RGBE", "( value )"];
		case $a:
			return ["RGBM", "( value, 7.0 )"];
		case Xa:
			return ["RGBM", "( value, 16.0 )"];
		case Ya:
			return ["RGBD", "( value, 256.0 )"];
		case Wa:
			return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
		default:
			throw new Error("unsupported encoding: " + e)
		}
	}
	function Oe(e, t) {
		var n = ke(t);
		return "vec4 " + e + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
	}
	function De(e) {
		return "" !== e
	}
	function Ie(e, t) {
		return e.replace(/NUM_DIR_LIGHTS/g, t.numDirLights).replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, t.numPointLights).replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights)
	}
	function Fe(e) {
		return e.replace(/#include +<([\w\d.]+)>/g, function (e, t) {
			var n = ao[t];
			if (void 0 === n)
				throw new Error("Can not resolve #include <" + t + ">");
			return Fe(n)
		})
	}
	function Ne(e) {
		return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function (e, t, n, i) {
			for (var r = "", a = parseInt(t); a < parseInt(n); a++)
				r += i.replace(/\[ i \]/g, "[ " + a + " ]");
			return r
		})
	}
	function ze(e, t, n, i) {
		var r = e.context,
		a = n.extensions,
		o = n.defines,
		s = n.__webglShader.vertexShader,
		l = n.__webglShader.fragmentShader,
		c = "SHADOWMAP_TYPE_BASIC";
		i.shadowMapType === $i ? c = "SHADOWMAP_TYPE_PCF" : i.shadowMapType === Xi && (c = "SHADOWMAP_TYPE_PCF_SOFT");
		var d = "ENVMAP_TYPE_CUBE",
		u = "ENVMAP_MODE_REFLECTION",
		h = "ENVMAP_BLENDING_MULTIPLY";
		if (i.envMap) {
			switch (n.envMap.mapping) {
			case Vr:
			case Wr:
				d = "ENVMAP_TYPE_CUBE";
				break;
			case Yr:
			case qr:
				d = "ENVMAP_TYPE_CUBE_UV";
				break;
			case Gr:
			case $r:
				d = "ENVMAP_TYPE_EQUIREC";
				break;
			case Xr:
				d = "ENVMAP_TYPE_SPHERE"
			}
			switch (n.envMap.mapping) {
			case Wr:
			case $r:
				u = "ENVMAP_MODE_REFRACTION"
			}
			switch (n.combine) {
			case Ir:
				h = "ENVMAP_BLENDING_MULTIPLY";
				break;
			case Fr:
				h = "ENVMAP_BLENDING_MIX";
				break;
			case Nr:
				h = "ENVMAP_BLENDING_ADD"
			}
		}
		var p,
		f,
		m = e.gammaFactor > 0 ? e.gammaFactor : 1,
		g = function (e, t, n) {
			return [(e = e || {}).derivatives || t.envMapCubeUV || t.bumpMap || t.normalMap || t.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (e.fragDepth || t.logarithmicDepthBuffer) && n.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", e.drawBuffers && n.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (e.shaderTextureLOD || t.envMap) && n.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(De).join("\n")
		}
		(a, i, e.extensions),
		v = function (e) {
			var t = [];
			for (var n in e) {
				var i = e[n];
				!1 !== i && t.push("#define " + n + " " + i)
			}
			return t.join("\n")
		}
		(o),
		b = r.createProgram();
		n.isRawShaderMaterial ? (p = [v, "\n"].filter(De).join("\n"), f = [g, v, "\n"].filter(De).join("\n")) : (p = ["precision " + i.precision + " float;", "precision " + i.precision + " int;", "#define SHADER_NAME " + n.__webglShader.name, v, i.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + m, "#define MAX_BONES " + i.maxBones, i.map ? "#define USE_MAP" : "", i.envMap ? "#define USE_ENVMAP" : "", i.envMap ? "#define " + u : "", i.lightMap ? "#define USE_LIGHTMAP" : "", i.aoMap ? "#define USE_AOMAP" : "", i.emissiveMap ? "#define USE_EMISSIVEMAP" : "", i.bumpMap ? "#define USE_BUMPMAP" : "", i.normalMap ? "#define USE_NORMALMAP" : "", i.displacementMap && i.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", i.specularMap ? "#define USE_SPECULARMAP" : "", i.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", i.metalnessMap ? "#define USE_METALNESSMAP" : "", i.alphaMap ? "#define USE_ALPHAMAP" : "", i.vertexColors ? "#define USE_COLOR" : "", i.flatShading ? "#define FLAT_SHADED" : "", i.skinning ? "#define USE_SKINNING" : "", i.useVertexTexture ? "#define BONE_TEXTURE" : "", i.morphTargets ? "#define USE_MORPHTARGETS" : "", i.morphNormals && !1 === i.flatShading ? "#define USE_MORPHNORMALS" : "", i.doubleSided ? "#define DOUBLE_SIDED" : "", i.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + i.numClippingPlanes, i.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", i.shadowMapEnabled ? "#define " + c : "", i.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", i.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", i.logarithmicDepthBuffer && e.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(De).join("\n"), f = [g, "precision " + i.precision + " float;", "precision " + i.precision + " int;", "#define SHADER_NAME " + n.__webglShader.name, v, i.alphaTest ? "#define ALPHATEST " + i.alphaTest : "", "#define GAMMA_FACTOR " + m, i.useFog && i.fog ? "#define USE_FOG" : "", i.useFog && i.fogExp ? "#define FOG_EXP2" : "", i.map ? "#define USE_MAP" : "", i.envMap ? "#define USE_ENVMAP" : "", i.envMap ? "#define " + d : "", i.envMap ? "#define " + u : "", i.envMap ? "#define " + h : "", i.lightMap ? "#define USE_LIGHTMAP" : "", i.aoMap ? "#define USE_AOMAP" : "", i.emissiveMap ? "#define USE_EMISSIVEMAP" : "", i.bumpMap ? "#define USE_BUMPMAP" : "", i.normalMap ? "#define USE_NORMALMAP" : "", i.specularMap ? "#define USE_SPECULARMAP" : "", i.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", i.metalnessMap ? "#define USE_METALNESSMAP" : "", i.alphaMap ? "#define USE_ALPHAMAP" : "", i.vertexColors ? "#define USE_COLOR" : "", i.gradientMap ? "#define USE_GRADIENTMAP" : "", i.flatShading ? "#define FLAT_SHADED" : "", i.doubleSided ? "#define DOUBLE_SIDED" : "", i.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + i.numClippingPlanes, "#define UNION_CLIPPING_PLANES " + (i.numClippingPlanes - i.numClipIntersection), i.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", i.shadowMapEnabled ? "#define " + c : "", i.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", i.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", i.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", i.logarithmicDepthBuffer && e.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", i.envMap && e.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", i.toneMapping !== zr ? "#define TONE_MAPPING" : "", i.toneMapping !== zr ? ao.tonemapping_pars_fragment : "", i.toneMapping !== zr ? function (e, t) {
					var n;
					switch (t) {
					case Hr:
						n = "Linear";
						break;
					case Ur:
						n = "Reinhard";
						break;
					case Br:
						n = "Uncharted2";
						break;
					case jr:
						n = "OptimizedCineon";
						break;
					default:
						throw new Error("unsupported toneMapping: " + t)
					}
					return "vec3 " + e + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
				}
				("toneMapping", i.toneMapping) : "", i.outputEncoding || i.mapEncoding || i.envMapEncoding || i.emissiveMapEncoding ? ao.encodings_pars_fragment : "", i.mapEncoding ? Oe("mapTexelToLinear", i.mapEncoding) : "", i.envMapEncoding ? Oe("envMapTexelToLinear", i.envMapEncoding) : "", i.emissiveMapEncoding ? Oe("emissiveMapTexelToLinear", i.emissiveMapEncoding) : "", i.outputEncoding ? function (e, t) {
					var n = ke(t);
					return "vec4 " + e + "( vec4 value ) { return LinearTo" + n[0] + n[1] + "; }"
				}
				("linearToOutputTexel", i.outputEncoding) : "", i.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(De).join("\n")),
		s = Ie(s = Fe(s), i),
		l = Ie(l = Fe(l), i),
		n.isShaderMaterial || (s = Ne(s), l = Ne(l));
		var y = p + s,
		x = f + l,
		w = Le(r, r.VERTEX_SHADER, y),
		_ = Le(r, r.FRAGMENT_SHADER, x);
		r.attachShader(b, w),
		r.attachShader(b, _),
		void 0 !== n.index0AttributeName ? r.bindAttribLocation(b, 0, n.index0AttributeName) : !0 === i.morphTargets && r.bindAttribLocation(b, 0, "position"),
		r.linkProgram(b);
		var T = r.getProgramInfoLog(b),
		E = r.getShaderInfoLog(w),
		M = r.getShaderInfoLog(_),
		C = !0,
		S = !0;
		!1 === r.getProgramParameter(b, r.LINK_STATUS) ? (C = !1, console.error("THREE.WebGLProgram: shader error: ", r.getError(), "gl.VALIDATE_STATUS", r.getProgramParameter(b, r.VALIDATE_STATUS), "gl.getProgramInfoLog", T, E, M)) : "" !== T ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", T) : "" !== E && "" !== M || (S = !1),
		S && (this.diagnostics = {
				runnable: C,
				material: n,
				programLog: T,
				vertexShader: {
					log: E,
					prefix: p
				},
				fragmentShader: {
					log: M,
					prefix: f
				}
			}),
		r.deleteShader(w),
		r.deleteShader(_);
		var A;
		this.getUniforms = function () {
			return void 0 === A && (A = new j(r, b, e)),
			A
		};
		var R;
		return this.getAttributes = function () {
			return void 0 === R && (R = function (e, t, n) {
				for (var i = {}, r = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), a = 0; a < r; a++) {
					var o = e.getActiveAttrib(t, a).name;
					i[o] = e.getAttribLocation(t, o)
				}
				return i
			}
				(r, b)),
			R
		},
		this.destroy = function () {
			r.deleteProgram(b),
			this.program = void 0
		},
		Object.defineProperties(this, {
			uniforms: {
				get: function () {
					return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),
					this.getUniforms()
				}
			},
			attributes: {
				get: function () {
					return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),
					this.getAttributes()
				}
			}
		}),
		this.id = po++,
		this.code = t,
		this.usedTimes = 1,
		this.program = b,
		this.vertexShader = w,
		this.fragmentShader = _,
		this
	}
	function He(e, t) {
		function n(e, t) {
			var n;
			return e ? e.isTexture ? n = e.encoding : e.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."), n = e.texture.encoding) : n = ja,
			n === ja && t && (n = Wa),
			n
		}
		var i = [],
		r = {
			MeshDepthMaterial: "depth",
			MeshNormalMaterial: "normal",
			MeshBasicMaterial: "basic",
			MeshLambertMaterial: "lambert",
			MeshPhongMaterial: "phong",
			MeshToonMaterial: "phong",
			MeshStandardMaterial: "physical",
			MeshPhysicalMaterial: "physical",
			LineBasicMaterial: "basic",
			LineDashedMaterial: "dashed",
			PointsMaterial: "points"
		},
		a = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking"];
		this.getParameters = function (i, a, o, s, l, c) {
			var d = r[i.type],
			u = function (e) {
				if (t.floatVertexTextures && e && e.skeleton && e.skeleton.useVertexTexture)
					return 1024;
				var n = t.maxVertexUniforms,
				i = Math.floor((n - 20) / 4);
				return void 0 !== e && e && e.isSkinnedMesh && (i = Math.min(e.skeleton.bones.length, i)) < e.skeleton.bones.length && console.warn("WebGLRenderer: too many bones - " + e.skeleton.bones.length + ", this GPU supports just " + i + " (try OpenGL instead of ANGLE)"),
				i
			}
			(c),
			h = e.getPrecision();
			null !== i.precision && (h = t.getMaxPrecision(i.precision)) !== i.precision && console.warn("THREE.WebGLProgram.getParameters:", i.precision, "not supported, using", h, "instead.");
			var p = e.getCurrentRenderTarget();
			return {
				shaderID: d,
				precision: h,
				supportsVertexTextures: t.vertexTextures,
				outputEncoding: n(p ? p.texture : null, e.gammaOutput),
				map: !!i.map,
				mapEncoding: n(i.map, e.gammaInput),
				envMap: !!i.envMap,
				envMapMode: i.envMap && i.envMap.mapping,
				envMapEncoding: n(i.envMap, e.gammaInput),
				envMapCubeUV: !!i.envMap && (i.envMap.mapping === Yr || i.envMap.mapping === qr),
				lightMap: !!i.lightMap,
				aoMap: !!i.aoMap,
				emissiveMap: !!i.emissiveMap,
				emissiveMapEncoding: n(i.emissiveMap, e.gammaInput),
				bumpMap: !!i.bumpMap,
				normalMap: !!i.normalMap,
				displacementMap: !!i.displacementMap,
				roughnessMap: !!i.roughnessMap,
				metalnessMap: !!i.metalnessMap,
				specularMap: !!i.specularMap,
				alphaMap: !!i.alphaMap,
				gradientMap: !!i.gradientMap,
				combine: i.combine,
				vertexColors: i.vertexColors,
				fog: !!o,
				useFog: i.fog,
				fogExp: o && o.isFogExp2,
				flatShading: i.shading === Ji,
				sizeAttenuation: i.sizeAttenuation,
				logarithmicDepthBuffer: t.logarithmicDepthBuffer,
				skinning: i.skinning,
				maxBones: u,
				useVertexTexture: t.floatVertexTextures && c && c.skeleton && c.skeleton.useVertexTexture,
				morphTargets: i.morphTargets,
				morphNormals: i.morphNormals,
				maxMorphTargets: e.maxMorphTargets,
				maxMorphNormals: e.maxMorphNormals,
				numDirLights: a.directional.length,
				numPointLights: a.point.length,
				numSpotLights: a.spot.length,
				numRectAreaLights: a.rectArea.length,
				numHemiLights: a.hemi.length,
				numClippingPlanes: s,
				numClipIntersection: l,
				shadowMapEnabled: e.shadowMap.enabled && c.receiveShadow && a.shadows.length > 0,
				shadowMapType: e.shadowMap.type,
				toneMapping: e.toneMapping,
				physicallyCorrectLights: e.physicallyCorrectLights,
				premultipliedAlpha: i.premultipliedAlpha,
				alphaTest: i.alphaTest,
				doubleSided: i.side === Zi,
				flipSided: i.side === qi,
				depthPacking: void 0 !== i.depthPacking && i.depthPacking
			}
		},
		this.getProgramCode = function (e, t) {
			var n = [];
			if (t.shaderID ? n.push(t.shaderID) : (n.push(e.fragmentShader), n.push(e.vertexShader)), void 0 !== e.defines)
				for (var i in e.defines)
					n.push(i), n.push(e.defines[i]);
			for (var r = 0; r < a.length; r++)
				n.push(t[a[r]]);
			return n.join()
		},
		this.acquireProgram = function (t, n, r) {
			for (var a, o = 0, s = i.length; o < s; o++) {
				var l = i[o];
				if (l.code === r) {
					++(a = l).usedTimes;
					break
				}
			}
			return void 0 === a && (a = new ze(e, r, t, n), i.push(a)),
			a
		},
		this.releaseProgram = function (e) {
			if (0 == --e.usedTimes) {
				var t = i.indexOf(e);
				i[t] = i[i.length - 1],
				i.pop(),
				e.destroy()
			}
		},
		this.programs = i
	}
	function Ue(e, t, n) {
		function i(e) {
			var o = e.target,
			s = a[o.id];
			null !== s.index && r(s.index),
			function (e) {
				for (var t in e)
					r(e[t])
			}
			(s.attributes),
			o.removeEventListener("dispose", i),
			delete a[o.id];
			var l = t.get(o);
			l.wireframe && r(l.wireframe),
			t.delete(o);
			var c = t.get(s);
			c.wireframe && r(c.wireframe),
			t.delete(s),
			n.memory.geometries--
		}
		function r(n) {
			var i = function (e) {
				return e.isInterleavedBufferAttribute ? t.get(e.data).__webglBuffer : t.get(e).__webglBuffer
			}
			(n);
			void 0 !== i && (e.deleteBuffer(i), function (e) {
				e.isInterleavedBufferAttribute ? t.delete(e.data) : t.delete(e)
			}
				(n))
		}
		var a = {};
		return {
			get: function (e) {
				var t = e.geometry;
				if (void 0 !== a[t.id])
					return a[t.id];
				t.addEventListener("dispose", i);
				var r;
				return t.isBufferGeometry ? r = t : t.isGeometry && (void 0 === t._bufferGeometry && (t._bufferGeometry = (new Ee).setFromObject(e)), r = t._bufferGeometry),
				a[t.id] = r,
				n.memory.geometries++,
				r
			}
		}
	}
	function Be(e, t, n) {
		function i(n, i) {
			var r = n.isInterleavedBufferAttribute ? n.data : n,
			a = t.get(r);
			void 0 === a.__webglBuffer ? function (t, n, i) {
				t.__webglBuffer = e.createBuffer(),
				e.bindBuffer(i, t.__webglBuffer);
				var r = n.dynamic ? e.DYNAMIC_DRAW : e.STATIC_DRAW;
				e.bufferData(i, n.array, r);
				var a = e.FLOAT,
				o = n.array;
				o instanceof Float32Array ? a = e.FLOAT : o instanceof Float64Array ? console.warn("Unsupported data buffer format: Float64Array") : o instanceof Uint16Array ? a = e.UNSIGNED_SHORT : o instanceof Int16Array ? a = e.SHORT : o instanceof Uint32Array ? a = e.UNSIGNED_INT : o instanceof Int32Array ? a = e.INT : o instanceof Int8Array ? a = e.BYTE : o instanceof Uint8Array && (a = e.UNSIGNED_BYTE);
				t.bytesPerElement = o.BYTES_PER_ELEMENT,
				t.type = a,
				t.version = n.version,
				n.onUploadCallback()
			}
			(a, r, i) : a.version !== r.version && function (t, n, i) {
				e.bindBuffer(i, t.__webglBuffer),
				!1 === n.dynamic ? e.bufferData(i, n.array, e.STATIC_DRAW) : -1 === n.updateRange.count ? e.bufferSubData(i, 0, n.array) : 0 === n.updateRange.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (e.bufferSubData(i, n.updateRange.offset * n.array.BYTES_PER_ELEMENT, n.array.subarray(n.updateRange.offset, n.updateRange.offset + n.updateRange.count)), n.updateRange.count = 0);
				t.version = n.version
			}
			(a, r, i)
		}
		var r = new Ue(e, t, n);
		return {
			getAttributeBuffer: function (e) {
				return e.isInterleavedBufferAttribute ? t.get(e.data).__webglBuffer : t.get(e).__webglBuffer
			},
			getAttributeProperties: function (e) {
				return e.isInterleavedBufferAttribute ? t.get(e.data) : t.get(e)
			},
			getWireframeAttribute: function (n) {
				var r = t.get(n);
				if (void 0 !== r.wireframe)
					return r.wireframe;
				var a = [],
				o = n.index,
				s = n.attributes,
				l = s.position;
				if (null !== o)
					for (var c = 0, d = (f = o.array).length; c < d; c += 3) {
						var u = f[c + 0],
						h = f[c + 1],
						p = f[c + 2];
						a.push(u, h, h, p, p, u)
					}
				else
					for (var f = s.position.array, c = 0, d = f.length / 3 - 1; c < d; c += 3) {
						var u = c + 0,
						h = c + 1,
						p = c + 2;
						a.push(u, h, h, p, p, u)
					}
				var m = new ue(new(l.count > 65535 ? Uint32Array : Uint16Array)(a), 1);
				return i(m, e.ELEMENT_ARRAY_BUFFER),
				r.wireframe = m,
				m
			},
			update: function (t) {
				var n = r.get(t);
				t.geometry.isGeometry && n.updateFromObject(t);
				var a = n.index,
				o = n.attributes;
				null !== a && i(a, e.ELEMENT_ARRAY_BUFFER);
				for (var s in o)
					i(o[s], e.ARRAY_BUFFER);
				var l = n.morphAttributes;
				for (var s in l)
					for (var c = l[s], d = 0, u = c.length; d < u; d++)
						i(c[d], e.ARRAY_BUFFER);
				return n
			}
		}
	}
	function je(e, t, n, i, r, a, o) {
		function s(e, t) {
			if (e.width > t || e.height > t) {
				var n = t / Math.max(e.width, e.height),
				i = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
				i.width = Math.floor(e.width * n),
				i.height = Math.floor(e.height * n);
				return i.getContext("2d").drawImage(e, 0, 0, e.width, e.height, 0, 0, i.width, i.height),
				console.warn("THREE.WebGLRenderer: image is too big (" + e.width + "x" + e.height + "). Resized to " + i.width + "x" + i.height, e),
				i
			}
			return e
		}
		function l(e) {
			return Ja.isPowerOfTwo(e.width) && Ja.isPowerOfTwo(e.height)
		}
		function c(t) {
			return t === ta || t === na || t === ia ? e.NEAREST : e.LINEAR
		}
		function d(t) {
			var n = t.target;
			n.removeEventListener("dispose", d),
			function (t) {
				var n = i.get(t);
				if (t.image && n.__image__webglTextureCube)
					e.deleteTexture(n.__image__webglTextureCube);
				else {
					if (void 0 === n.__webglInit)
						return;
					e.deleteTexture(n.__webglTexture)
				}
				i.delete(t)
			}
			(n),
			v.textures--
		}
		function u(t) {
			var n = t.target;
			n.removeEventListener("dispose", u),
			function (t) {
				var n = i.get(t),
				r = i.get(t.texture);
				if (!t)
					return;
				void 0 !== r.__webglTexture && e.deleteTexture(r.__webglTexture);
				t.depthTexture && t.depthTexture.dispose();
				if (t.isWebGLRenderTargetCube)
					for (var a = 0; a < 6; a++)
						e.deleteFramebuffer(n.__webglFramebuffer[a]), n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer[a]);
				else
					e.deleteFramebuffer(n.__webglFramebuffer), n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer);
				i.delete(t.texture),
				i.delete(t)
			}
			(n),
			v.textures--
		}
		function h(t, o) {
			var c = i.get(t);
			if (t.version > 0 && c.__version !== t.version) {
				var u = t.image;
				if (void 0 === u)
					console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", t);
				else {
					if (!1 !== u.complete)
						return void function (t, i, o) {
							void 0 === t.__webglInit && (t.__webglInit = !0, i.addEventListener("dispose", d), t.__webglTexture = e.createTexture(), v.textures++);
							n.activeTexture(e.TEXTURE0 + o),
							n.bindTexture(e.TEXTURE_2D, t.__webglTexture),
							e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, i.flipY),
							e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i.premultiplyAlpha),
							e.pixelStorei(e.UNPACK_ALIGNMENT, i.unpackAlignment);
							var c = s(i.image, r.maxTextureSize);
							(function (e) {
								return e.wrapS !== Qr || e.wrapT !== Qr || e.minFilter !== ta && e.minFilter !== ra
							})(i) && !1 === l(c) && (c = function (e) {
								if (e instanceof HTMLImageElement || e instanceof HTMLCanvasElement) {
									var t = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
									return t.width = Ja.nearestPowerOfTwo(e.width),
									t.height = Ja.nearestPowerOfTwo(e.height),
									t.getContext("2d").drawImage(e, 0, 0, t.width, t.height),
									console.warn("THREE.WebGLRenderer: image is not power of two (" + e.width + "x" + e.height + "). Resized to " + t.width + "x" + t.height, e),
									t
								}
								return e
							}
								(c));
							var u = l(c),
							h = a(i.format),
							f = a(i.type);
							p(e.TEXTURE_2D, i, u);
							var m,
							g = i.mipmaps;
							if (i.isDepthTexture) {
								var y = e.DEPTH_COMPONENT;
								if (i.type === fa) {
									if (!b)
										throw new Error("Float Depth Texture only supported in WebGL2.0");
									y = e.DEPTH_COMPONENT32F
								} else
									b && (y = e.DEPTH_COMPONENT16);
								i.format === Ca && y === e.DEPTH_COMPONENT && i.type !== ua && i.type !== pa && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), i.type = ua, f = a(i.type)),
								i.format === Sa && (y = e.DEPTH_STENCIL, i.type !== ya && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), i.type = ya, f = a(i.type))),
								n.texImage2D(e.TEXTURE_2D, 0, y, c.width, c.height, 0, h, f, null)
							} else if (i.isDataTexture)
								if (g.length > 0 && u) {
									for (var x = 0, w = g.length; x < w; x++)
										m = g[x], n.texImage2D(e.TEXTURE_2D, x, h, m.width, m.height, 0, h, f, m.data);
									i.generateMipmaps = !1
								} else
									n.texImage2D(e.TEXTURE_2D, 0, h, c.width, c.height, 0, h, f, c.data);
							else if (i.isCompressedTexture)
								for (var x = 0, w = g.length; x < w; x++)
									m = g[x], i.format !== _a && i.format !== wa ? n.getCompressedTextureFormats().indexOf(h) > -1 ? n.compressedTexImage2D(e.TEXTURE_2D, x, h, m.width, m.height, 0, m.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : n.texImage2D(e.TEXTURE_2D, x, h, m.width, m.height, 0, h, f, m.data);
							else if (g.length > 0 && u) {
								for (var x = 0, w = g.length; x < w; x++)
									m = g[x], n.texImage2D(e.TEXTURE_2D, x, h, h, f, m);
								i.generateMipmaps = !1
							} else
								n.texImage2D(e.TEXTURE_2D, 0, h, h, f, c);
							i.generateMipmaps && u && e.generateMipmap(e.TEXTURE_2D);
							t.__version = i.version,
							i.onUpdate && i.onUpdate(i)
						}
					(c, t, o);
					console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", t)
				}
			}
			n.activeTexture(e.TEXTURE0 + o),
			n.bindTexture(e.TEXTURE_2D, c.__webglTexture)
		}
		function p(n, o, s) {
			var l;
			if (s ? (e.texParameteri(n, e.TEXTURE_WRAP_S, a(o.wrapS)), e.texParameteri(n, e.TEXTURE_WRAP_T, a(o.wrapT)), e.texParameteri(n, e.TEXTURE_MAG_FILTER, a(o.magFilter)), e.texParameteri(n, e.TEXTURE_MIN_FILTER, a(o.minFilter))) : (e.texParameteri(n, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(n, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), o.wrapS === Qr && o.wrapT === Qr || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", o), e.texParameteri(n, e.TEXTURE_MAG_FILTER, c(o.magFilter)), e.texParameteri(n, e.TEXTURE_MIN_FILTER, c(o.minFilter)), o.minFilter !== ta && o.minFilter !== ra && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", o)), l = t.get("EXT_texture_filter_anisotropic")) {
				if (o.type === fa && null === t.get("OES_texture_float_linear"))
					return;
				if (o.type === ma && null === t.get("OES_texture_half_float_linear"))
					return;
				(o.anisotropy > 1 || i.get(o).__currentAnisotropy) && (e.texParameterf(n, l.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(o.anisotropy, r.getMaxAnisotropy())), i.get(o).__currentAnisotropy = o.anisotropy)
			}
		}
		function f(t, r, o, s) {
			var l = a(r.texture.format),
			c = a(r.texture.type);
			n.texImage2D(s, 0, l, r.width, r.height, 0, l, c, null),
			e.bindFramebuffer(e.FRAMEBUFFER, t),
			e.framebufferTexture2D(e.FRAMEBUFFER, o, s, i.get(r.texture).__webglTexture, 0),
			e.bindFramebuffer(e.FRAMEBUFFER, null)
		}
		function m(t, n) {
			e.bindRenderbuffer(e.RENDERBUFFER, t),
			n.depthBuffer && !n.stencilBuffer ? (e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_COMPONENT16, n.width, n.height), e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_ATTACHMENT, e.RENDERBUFFER, t)) : n.depthBuffer && n.stencilBuffer ? (e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, n.width, n.height), e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_STENCIL_ATTACHMENT, e.RENDERBUFFER, t)) : e.renderbufferStorage(e.RENDERBUFFER, e.RGBA4, n.width, n.height),
			e.bindRenderbuffer(e.RENDERBUFFER, null)
		}
		function g(t) {
			var n = i.get(t),
			r = !0 === t.isWebGLRenderTargetCube;
			if (t.depthTexture) {
				if (r)
					throw new Error("target.depthTexture not supported in Cube render targets");
				!function (t, n) {
					if (n && n.isWebGLRenderTargetCube)
						throw new Error("Depth Texture with cube render targets is not supported!");
					if (e.bindFramebuffer(e.FRAMEBUFFER, t), !n.depthTexture || !n.depthTexture.isDepthTexture)
						throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
					i.get(n.depthTexture).__webglTexture && n.depthTexture.image.width === n.width && n.depthTexture.image.height === n.height || (n.depthTexture.image.width = n.width, n.depthTexture.image.height = n.height, n.depthTexture.needsUpdate = !0),
					h(n.depthTexture, 0);
					var r = i.get(n.depthTexture).__webglTexture;
					if (n.depthTexture.format === Ca)
						e.framebufferTexture2D(e.FRAMEBUFFER, e.DEPTH_ATTACHMENT, e.TEXTURE_2D, r, 0);
					else {
						if (n.depthTexture.format !== Sa)
							throw new Error("Unknown depthTexture format");
						e.framebufferTexture2D(e.FRAMEBUFFER, e.DEPTH_STENCIL_ATTACHMENT, e.TEXTURE_2D, r, 0)
					}
				}
				(n.__webglFramebuffer, t)
			} else if (r) {

				n.__webglDepthbuffer = [];
				for (var a = 0; a < 6; a++)
					e.bindFramebuffer(e.FRAMEBUFFER, n.__webglFramebuffer[a]), n.__webglDepthbuffer[a] = e.createRenderbuffer(), m(n.__webglDepthbuffer[a], t)
			} else
				e.bindFramebuffer(e.FRAMEBUFFER, n.__webglFramebuffer), n.__webglDepthbuffer = e.createRenderbuffer(), m(n.__webglDepthbuffer, t);
			e.bindFramebuffer(e.FRAMEBUFFER, null)
		}
		var v = o.memory,
		b = "undefined" != typeof WebGL2RenderingContext && e instanceof WebGL2RenderingContext;
		this.setTexture2D = h,
		this.setTextureCube = function (t, o) {
			var c = i.get(t);
			if (6 === t.image.length)
				if (t.version > 0 && c.__version !== t.version) {
					c.__image__webglTextureCube || (t.addEventListener("dispose", d), c.__image__webglTextureCube = e.createTexture(), v.textures++),
					n.activeTexture(e.TEXTURE0 + o),
					n.bindTexture(e.TEXTURE_CUBE_MAP, c.__image__webglTextureCube),
					e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, t.flipY);
					for (var u = t && t.isCompressedTexture, h = t.image[0] && t.image[0].isDataTexture, f = [], m = 0; m < 6; m++)
						f[m] = u || h ? h ? t.image[m].image : t.image[m] : s(t.image[m], r.maxCubemapSize);
					var g = l(f[0]),
					b = a(t.format),
					y = a(t.type);
					for (p(e.TEXTURE_CUBE_MAP, t, g), m = 0; m < 6; m++)
						if (u)
							for (var x, w = f[m].mipmaps, _ = 0, T = w.length; _ < T; _++)
								x = w[_], t.format !== _a && t.format !== wa ? n.getCompressedTextureFormats().indexOf(b) > -1 ? n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X + m, _, b, x.width, x.height, 0, x.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X + m, _, b, x.width, x.height, 0, b, y, x.data);
						else
							h ? n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X + m, 0, b, f[m].width, f[m].height, 0, b, y, f[m].data) : n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X + m, 0, b, b, y, f[m]);
					t.generateMipmaps && g && e.generateMipmap(e.TEXTURE_CUBE_MAP),
					c.__version = t.version,
					t.onUpdate && t.onUpdate(t)
				} else
					n.activeTexture(e.TEXTURE0 + o), n.bindTexture(e.TEXTURE_CUBE_MAP, c.__image__webglTextureCube)
		},
		this.setTextureCubeDynamic = function (t, r) {
			n.activeTexture(e.TEXTURE0 + r),
			n.bindTexture(e.TEXTURE_CUBE_MAP, i.get(t).__webglTexture)
		},
		this.setupRenderTarget = function (t) {
			var r = i.get(t),
			a = i.get(t.texture);
			t.addEventListener("dispose", u),
			a.__webglTexture = e.createTexture(),
			v.textures++;
			var o = !0 === t.isWebGLRenderTargetCube,
			s = l(t);
			if (o)
				for (r.__webglFramebuffer = [], c = 0; c < 6; c++)
					r.__webglFramebuffer[c] = e.createFramebuffer();
			else
				r.__webglFramebuffer = e.createFramebuffer();
			if (o) {
				n.bindTexture(e.TEXTURE_CUBE_MAP, a.__webglTexture),
				p(e.TEXTURE_CUBE_MAP, t.texture, s);
				for (var c = 0; c < 6; c++)
					f(r.__webglFramebuffer[c], t, e.COLOR_ATTACHMENT0, e.TEXTURE_CUBE_MAP_POSITIVE_X + c);
				t.texture.generateMipmaps && s && e.generateMipmap(e.TEXTURE_CUBE_MAP),
				n.bindTexture(e.TEXTURE_CUBE_MAP, null)
			} else
				n.bindTexture(e.TEXTURE_2D, a.__webglTexture), p(e.TEXTURE_2D, t.texture, s), f(r.__webglFramebuffer, t, e.COLOR_ATTACHMENT0, e.TEXTURE_2D), t.texture.generateMipmaps && s && e.generateMipmap(e.TEXTURE_2D), n.bindTexture(e.TEXTURE_2D, null);
			t.depthBuffer && g(t)
		},
		this.updateRenderTargetMipmap = function (t) {
			var r = t.texture;
			if (r.generateMipmaps && l(t) && r.minFilter !== ta && r.minFilter !== ra) {
				var a = t && t.isWebGLRenderTargetCube ? e.TEXTURE_CUBE_MAP : e.TEXTURE_2D,
				o = i.get(r).__webglTexture;
				n.bindTexture(a, o),
				e.generateMipmap(a),
				n.bindTexture(a, null)
			}
		}
	}
	function Ve(e) {
		function t() {
			return null === G ? pe : 1
		}
		function i() {
			ze.init(),
			ze.scissor(re.copy(fe).multiplyScalar(pe)),
			ze.viewport(oe.copy(ge).multiplyScalar(pe)),
			ze.buffers.color.setClear(le.r, le.g, le.b, ce, L)
		}
		function a() {
			W = null,
			ie = null,
			J = "",
			Z = -1,
			ze.reset()
		}
		function o(e) {
			e.preventDefault(),
			a(),
			i(),
			Ue.clear()
		}
		function s(e) {
			var t = e.target;
			t.removeEventListener("dispose", s),
			function (e) {
				d(e),
				Ue.delete(e)
			}
			(t)
		}
		function d(e) {
			var t = Ue.get(e).program;
			e.program = void 0,
			void 0 !== t && Ge.releaseProgram(t)
		}
		function u(e, t) {
			return Math.abs(t[0]) - Math.abs(e[0])
		}
		function h(e, t) {
			return e.object.renderOrder !== t.object.renderOrder ? e.object.renderOrder - t.object.renderOrder : e.material.program && t.material.program && e.material.program !== t.material.program ? e.material.program.id - t.material.program.id : e.material.id !== t.material.id ? e.material.id - t.material.id : e.z !== t.z ? e.z - t.z : e.id - t.id
		}
		function p(e, t) {
			return e.object.renderOrder !== t.object.renderOrder ? e.object.renderOrder - t.object.renderOrder : e.z !== t.z ? t.z - e.z : e.id - t.id
		}
		function f(e, t, n, i, r) {
			var a,
			o;
			n.transparent ? (a = F, o = ++N) : (a = D, o = ++I);
			var s = a[o];
			void 0 !== s ? (s.id = e.id, s.object = e, s.geometry = t, s.material = n, s.z = Te.z, s.group = r) : (s = {
					id: e.id,
					object: e,
					geometry: t,
					material: n,
					z: Te.z,
					group: r
				}, a.push(s))
		}
		function m(e) {
			if (!ve.intersectsSphere(e))
				return !1;
			var t = be.numPlanes;
			if (0 === t)
				return !0;
			var n = B.clippingPlanes,
			i = e.center,
			r = -e.radius,
			a = 0;
			do {
				if (n[a].distanceToPoint(i) < r)
					return !1
			} while (++a !== t);
			return !0
		}
		function g(e, t) {
			if (!1 !== e.visible) {
				if (0 != (e.layers.mask & t.layers.mask))
					if (e.isLight)
						O.push(e);
					else if (e.isSprite)
						!1 !== e.frustumCulled && !0 !== function (e) {
							return we.center.set(0, 0, 0),
							we.radius = .7071067811865476,
							we.applyMatrix4(e.matrixWorld),
							m(we)
						}
				(e) || H.push(e);
				else if (e.isLensFlare)
					U.push(e);
				else if (e.isImmediateRenderObject)
					!0 === B.sortObjects && (Te.setFromMatrixPosition(e.matrixWorld), Te.applyProjection(_e)), f(e, null, e.material, Te.z, null);
				else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.update(), !1 === e.frustumCulled || !0 === function (e) {
						var t = e.geometry;
						return null === t.boundingSphere && t.computeBoundingSphere(),
						we.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),
						m(we)
					}
						(e))) {
					var n = e.material;
					if (!0 === n.visible) {
						!0 === B.sortObjects && (Te.setFromMatrixPosition(e.matrixWorld), Te.applyProjection(_e));
						var i = We.update(e);
						if (n.isMultiMaterial)
							for (var r = i.groups, a = n.materials, o = 0, s = r.length; o < s; o++) {
								var l = r[o],
								c = a[l.materialIndex];
								!0 === c.visible && f(e, i, c, Te.z, l)
							}
						else
							f(e, i, n, Te.z, null)
					}
				}
				for (var d = e.children, o = 0, s = d.length; o < s; o++)
					g(d[o], t)
			}
		}
		function v(e, t, n, i) {
			for (var r = 0, a = e.length; r < a; r++) {
				var o = e[r],
				s = o.object,
				l = o.geometry,
				c = void 0 === i ? o.material : i,
				d = o.group;
				if (s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, s.matrixWorld), s.normalMatrix.getNormalMatrix(s.modelViewMatrix), s.onBeforeRender(B, t, n, l, c, d), s.isImmediateRenderObject) {
					b(c);
					var u = y(n, t.fog, c, s);
					J = "",
					s.render(function (e) {
						B.renderBufferImmediate(e, u, c)
                    })
                } else
					B.renderBufferDirect(n, t.fog, l, c, s, d);
				s.onAfterRender(B, t, n, l, c, d)
			}
		}
		function b(e) {
			e.side === Zi ? ze.disable(De.CULL_FACE) : ze.enable(De.CULL_FACE),
			ze.setFlipSided(e.side === qi),
			!0 === e.transparent ? ze.setBlending(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha) : ze.setBlending(ir),
			ze.setDepthFunc(e.depthFunc),
			ze.setDepthTest(e.depthTest),
			ze.setDepthWrite(e.depthWrite),
			ze.setColorWrite(e.colorWrite),
			ze.setPolygonOffset(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
		}
		function y(e, t, n, i) {
			se = 0;
			var r = Ue.get(n);
			if (ye && (xe || e !== ie)) {
				var a = e === ie && n.id === Z;
				be.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, e, r, a)
			}
			!1 === n.needsUpdate && (void 0 === r.program ? n.needsUpdate = !0 : n.fog && r.fog !== t ? n.needsUpdate = !0 : n.lights && r.lightsHash !== ke.hash ? n.needsUpdate = !0 : void 0 === r.numClippingPlanes || r.numClippingPlanes === be.numPlanes && r.numIntersection === be.numIntersection || (n.needsUpdate = !0)),
			n.needsUpdate && (!function (e, t, n) {
				var i = Ue.get(e),
				r = Ge.getParameters(e, ke, t, be.numPlanes, be.numIntersection, n),
				a = Ge.getProgramCode(e, r),
				o = i.program,
				l = !0;
				if (void 0 === o)
					e.addEventListener("dispose", s);
				else if (o.code !== a)
					d(e);
				else {
					if (void 0 !== r.shaderID)
						return;
					l = !1
				}
				if (l) {
					if (r.shaderID) {
						var c = lo[r.shaderID];
						i.__webglShader = {
							name: e.type,
							uniforms: ro.clone(c.uniforms),
							vertexShader: c.vertexShader,
							fragmentShader: c.fragmentShader
						}
					} else
						i.__webglShader = {
							name: e.type,
							uniforms: e.uniforms,
							vertexShader: e.vertexShader,
							fragmentShader: e.fragmentShader
						};
					e.__webglShader = i.__webglShader,
					o = Ge.acquireProgram(e, r, a),
					i.program = o,
					e.program = o
				}
				var u = o.getAttributes();
				if (e.morphTargets)
					for (e.numSupportedMorphTargets = 0, h = 0; h < B.maxMorphTargets; h++)
						u["morphTarget" + h] >= 0 && e.numSupportedMorphTargets++;
				if (e.morphNormals) {
					e.numSupportedMorphNormals = 0;
					for (var h = 0; h < B.maxMorphNormals; h++)
						u["morphNormal" + h] >= 0 && e.numSupportedMorphNormals++
				}
				var p = i.__webglShader.uniforms;
				(e.isShaderMaterial || e.isRawShaderMaterial) && !0 !== e.clipping || (i.numClippingPlanes = be.numPlanes, i.numIntersection = be.numIntersection, p.clippingPlanes = be.uniform),
				i.fog = t,
				i.lightsHash = ke.hash,
				e.lights && (p.ambientLightColor.value = ke.ambient, p.directionalLights.value = ke.directional, p.spotLights.value = ke.spot, p.rectAreaLights.value = ke.rectArea, p.pointLights.value = ke.point, p.hemisphereLights.value = ke.hemi, p.directionalShadowMap.value = ke.directionalShadowMap, p.directionalShadowMatrix.value = ke.directionalShadowMatrix, p.spotShadowMap.value = ke.spotShadowMap, p.spotShadowMatrix.value = ke.spotShadowMatrix, p.pointShadowMap.value = ke.pointShadowMap, p.pointShadowMatrix.value = ke.pointShadowMatrix);
				var f = i.program.getUniforms(),
				m = j.seqWithValue(f.seq, p);
				i.uniformsList = m
			}
				(n, t, i), n.needsUpdate = !1);
			var o = !1,
			l = !1,
			c = !1,
			u = r.program,
			h = u.getUniforms(),
			p = r.__webglShader.uniforms;
			if (u.id !== W && (De.useProgram(u.program), W = u.id, o = !0, l = !0, c = !0), n.id !== Z && (Z = n.id, l = !0), o || e !== ie) {
				if (h.set(De, e, "projectionMatrix"), Ne.logarithmicDepthBuffer && h.setValue(De, "logDepthBufFC", 2 / (Math.log(e.far + 1) / Math.LN2)), e !== ie && (ie = e, l = !0, c = !0), n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.envMap) {
					var f = h.map.cameraPosition;
					void 0 !== f && f.setValue(De, Te.setFromMatrixPosition(e.matrixWorld))
				}
				(n.isMeshPhongMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && h.setValue(De, "viewMatrix", e.matrixWorldInverse),
				h.set(De, B, "toneMappingExposure"),
				h.set(De, B, "toneMappingWhitePoint")
			}
			if (n.skinning) {
				h.setOptional(De, i, "bindMatrix"),
				h.setOptional(De, i, "bindMatrixInverse");
				var m = i.skeleton;
				m && (Ne.floatVertexTextures && m.useVertexTexture ? (h.set(De, m, "boneTexture"), h.set(De, m, "boneTextureWidth"), h.set(De, m, "boneTextureHeight")) : h.setOptional(De, m, "boneMatrices"))
			}
			return l && (n.lights && function (e, t) {
				e.ambientLightColor.needsUpdate = t,
				e.directionalLights.needsUpdate = t,
				e.pointLights.needsUpdate = t,
				e.spotLights.needsUpdate = t,
				e.rectAreaLights.needsUpdate = t,
				e.hemisphereLights.needsUpdate = t
			}
				(p, c), t && n.fog && function (e, t) {
				e.fogColor.value = t.color,
				t.isFog ? (e.fogNear.value = t.near, e.fogFar.value = t.far) : t.isFogExp2 && (e.fogDensity.value = t.density)
			}
				(p, t), (n.isMeshBasicMaterial || n.isMeshLambertMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.isMeshNormalMaterial || n.isMeshDepthMaterial) && function (e, t) {
				e.opacity.value = t.opacity,
				e.diffuse.value = t.color,
				t.emissive && e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity);
				e.map.value = t.map,
				e.specularMap.value = t.specularMap,
				e.alphaMap.value = t.alphaMap,
				t.lightMap && (e.lightMap.value = t.lightMap, e.lightMapIntensity.value = t.lightMapIntensity);
				t.aoMap && (e.aoMap.value = t.aoMap, e.aoMapIntensity.value = t.aoMapIntensity);
				var n;
				t.map ? n = t.map : t.specularMap ? n = t.specularMap : t.displacementMap ? n = t.displacementMap : t.normalMap ? n = t.normalMap : t.bumpMap ? n = t.bumpMap : t.roughnessMap ? n = t.roughnessMap : t.metalnessMap ? n = t.metalnessMap : t.alphaMap ? n = t.alphaMap : t.emissiveMap && (n = t.emissiveMap);
				if (void 0 !== n) {
					n.isWebGLRenderTarget && (n = n.texture);
					var i = n.offset,
					r = n.repeat;
					e.offsetRepeat.value.set(i.x, i.y, r.x, r.y)
				}
				e.envMap.value = t.envMap,
				e.flipEnvMap.value = t.envMap && t.envMap.isCubeTexture ? -1 : 1,
				e.reflectivity.value = t.reflectivity,
				e.refractionRatio.value = t.refractionRatio
			}
				(p, n), n.isLineBasicMaterial ? x(p, n) : n.isLineDashedMaterial ? (x(p, n), function (e, t) {
					e.dashSize.value = t.dashSize,
					e.totalSize.value = t.dashSize + t.gapSize,
					e.scale.value = t.scale
				}
					(p, n)) : n.isPointsMaterial ? function (e, t) {
				if (e.diffuse.value = t.color, e.opacity.value = t.opacity, e.size.value = t.size * pe, e.scale.value = .5 * he, e.map.value = t.map, null !== t.map) {
					var n = t.map.offset,
					i = t.map.repeat;
					e.offsetRepeat.value.set(n.x, n.y, i.x, i.y)
				}
			}
				(p, n) : n.isMeshLambertMaterial ? function (e, t) {
				t.emissiveMap && (e.emissiveMap.value = t.emissiveMap)
			}
				(p, n) : n.isMeshToonMaterial ? function (e, t) {
				w(e, t),
				t.gradientMap && (e.gradientMap.value = t.gradientMap)
			}
				(p, n) : n.isMeshPhongMaterial ? w(p, n) : n.isMeshPhysicalMaterial ? function (e, t) {
				e.clearCoat.value = t.clearCoat,
				e.clearCoatRoughness.value = t.clearCoatRoughness,
				_(e, t)
			}
				(p, n) : n.isMeshStandardMaterial ? _(p, n) : n.isMeshDepthMaterial ? n.displacementMap && (p.displacementMap.value = n.displacementMap, p.displacementScale.value = n.displacementScale, p.displacementBias.value = n.displacementBias) : n.isMeshNormalMaterial && function (e, t) {
				t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale);
				t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale));
				t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
			}
				(p, n), void 0 !== p.ltcMat && (p.ltcMat.value = THREE.UniformsLib.LTC_MAT_TEXTURE), void 0 !== p.ltcMag && (p.ltcMag.value = THREE.UniformsLib.LTC_MAG_TEXTURE), j.upload(De, r.uniformsList, p, B)),
			h.set(De, i, "modelViewMatrix"),
			h.set(De, i, "normalMatrix"),
			h.setValue(De, "modelMatrix", i.matrixWorld),
			u
		}
		function x(e, t) {
			e.diffuse.value = t.color,
			e.opacity.value = t.opacity
		}
		function w(e, t) {
			e.specular.value = t.specular,
			e.shininess.value = Math.max(t.shininess, 1e-4),
			t.emissiveMap && (e.emissiveMap.value = t.emissiveMap),
			t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale),
			t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale)),
			t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias)
		}
		function _(e, t) {
			e.roughness.value = t.roughness,
			e.metalness.value = t.metalness,
			t.roughnessMap && (e.roughnessMap.value = t.roughnessMap),
			t.metalnessMap && (e.metalnessMap.value = t.metalnessMap),
			t.emissiveMap && (e.emissiveMap.value = t.emissiveMap),
			t.bumpMap && (e.bumpMap.value = t.bumpMap, e.bumpScale.value = t.bumpScale),
			t.normalMap && (e.normalMap.value = t.normalMap, e.normalScale.value.copy(t.normalScale)),
			t.displacementMap && (e.displacementMap.value = t.displacementMap, e.displacementScale.value = t.displacementScale, e.displacementBias.value = t.displacementBias),
			t.envMap && (e.envMapIntensity.value = t.envMapIntensity)
		}
		function T(e, t) {
			var n,
			i,
			r,
			a,
			o,
			s,
			l,
			d = 0,
			u = 0,
			h = 0,
			p = t.matrixWorldInverse,
			f = 0,
			m = 0,
			g = 0,
			v = 0,
			b = 0;
			for (n = 0, i = e.length; n < i; n++)
				if (r = e[n], a = r.color, o = r.intensity, s = r.distance, l = r.shadow && r.shadow.map ? r.shadow.map.texture : null, r.isAmbientLight)
					d += a.r * o, u += a.g * o, h += a.b * o;
				else if (r.isDirectionalLight) {
					(y = $e.get(r)).color.copy(r.color).multiplyScalar(r.intensity),
					y.direction.setFromMatrixPosition(r.matrixWorld),
					Te.setFromMatrixPosition(r.target.matrixWorld),
					y.direction.sub(Te),
					y.direction.transformDirection(p),
					y.shadow = r.castShadow,
					r.castShadow && (y.shadowBias = r.shadow.bias, y.shadowRadius = r.shadow.radius, y.shadowMapSize = r.shadow.mapSize),
					ke.directionalShadowMap[f] = l,
					ke.directionalShadowMatrix[f] = r.shadow.matrix,
					ke.directional[f++] = y
				} else if (r.isSpotLight) {
					(y = $e.get(r)).position.setFromMatrixPosition(r.matrixWorld),
					y.position.applyMatrix4(p),
					y.color.copy(a).multiplyScalar(o),
					y.distance = s,
					y.direction.setFromMatrixPosition(r.matrixWorld),
					Te.setFromMatrixPosition(r.target.matrixWorld),
					y.direction.sub(Te),
					y.direction.transformDirection(p),
					y.coneCos = Math.cos(r.angle),
					y.penumbraCos = Math.cos(r.angle * (1 - r.penumbra)),
					y.decay = 0 === r.distance ? 0 : r.decay,
					y.shadow = r.castShadow,
					r.castShadow && (y.shadowBias = r.shadow.bias, y.shadowRadius = r.shadow.radius, y.shadowMapSize = r.shadow.mapSize),
					ke.spotShadowMap[g] = l,
					ke.spotShadowMatrix[g] = r.shadow.matrix,
					ke.spot[g++] = y
				} else if (r.isRectAreaLight) {
					(y = $e.get(r)).color.copy(a).multiplyScalar(o / (r.width * r.height)),
					y.position.setFromMatrixPosition(r.matrixWorld),
					y.position.applyMatrix4(p),
					Le.identity(),
					Ae.copy(r.matrixWorld),
					Ae.premultiply(p),
					Le.extractRotation(Ae),
					y.halfWidth.set(.5 * r.width, 0, 0),
					y.halfHeight.set(0, .5 * r.height, 0),
					y.halfWidth.applyMatrix4(Le),
					y.halfHeight.applyMatrix4(Le),
					ke.rectArea[v++] = y
				} else if (r.isPointLight) {
					(y = $e.get(r)).position.setFromMatrixPosition(r.matrixWorld),
					y.position.applyMatrix4(p),
					y.color.copy(r.color).multiplyScalar(r.intensity),
					y.distance = r.distance,
					y.decay = 0 === r.distance ? 0 : r.decay,
					y.shadow = r.castShadow,
					r.castShadow && (y.shadowBias = r.shadow.bias, y.shadowRadius = r.shadow.radius, y.shadowMapSize = r.shadow.mapSize),
					ke.pointShadowMap[m] = l,
					void 0 === ke.pointShadowMatrix[m] && (ke.pointShadowMatrix[m] = new c),
					Te.setFromMatrixPosition(r.matrixWorld).negate(),
					ke.pointShadowMatrix[m].identity().setPosition(Te),
					ke.point[m++] = y
				} else if (r.isHemisphereLight) {
					var y = $e.get(r);
					y.direction.setFromMatrixPosition(r.matrixWorld),
					y.direction.transformDirection(p),
					y.direction.normalize(),
					y.skyColor.copy(r.color).multiplyScalar(o),
					y.groundColor.copy(r.groundColor).multiplyScalar(o),
					ke.hemi[b++] = y
				}
			ke.ambient[0] = d,
			ke.ambient[1] = u,
			ke.ambient[2] = h,
			ke.directional.length = f,
			ke.spot.length = g,
			ke.rectArea.length = v,
			ke.point.length = m,
			ke.hemi.length = b,
			ke.hash = f + "," + m + "," + g + "," + v + "," + b + "," + ke.shadows.length
		}
		function E(e) {
			var t;
			if (e === Jr)
				return De.REPEAT;
			if (e === Qr)
				return De.CLAMP_TO_EDGE;
			if (e === Kr)
				return De.MIRRORED_REPEAT;
			if (e === ta)
				return De.NEAREST;
			if (e === na)
				return De.NEAREST_MIPMAP_NEAREST;
			if (e === ia)
				return De.NEAREST_MIPMAP_LINEAR;
			if (e === ra)
				return De.LINEAR;
			if (e === aa)
				return De.LINEAR_MIPMAP_NEAREST;
			if (e === oa)
				return De.LINEAR_MIPMAP_LINEAR;
			if (e === la)
				return De.UNSIGNED_BYTE;
			if (e === ga)
				return De.UNSIGNED_SHORT_4_4_4_4;
			if (e === va)
				return De.UNSIGNED_SHORT_5_5_5_1;
			if (e === ba)
				return De.UNSIGNED_SHORT_5_6_5;
			if (e === ca)
				return De.BYTE;
			if (e === da)
				return De.SHORT;
			if (e === ua)
				return De.UNSIGNED_SHORT;
			if (e === ha)
				return De.INT;
			if (e === pa)
				return De.UNSIGNED_INT;
			if (e === fa)
				return De.FLOAT;
			if (e === ma && null !== (t = Fe.get("OES_texture_half_float")))
				return t.HALF_FLOAT_OES;
			if (e === xa)
				return De.ALPHA;
			if (e === wa)
				return De.RGB;
			if (e === _a)
				return De.RGBA;
			if (e === Ta)
				return De.LUMINANCE;
			if (e === Ea)
				return De.LUMINANCE_ALPHA;
			if (e === Ca)
				return De.DEPTH_COMPONENT;
			if (e === Sa)
				return De.DEPTH_STENCIL;
			if (e === dr)
				return De.FUNC_ADD;
			if (e === ur)
				return De.FUNC_SUBTRACT;
			if (e === hr)
				return De.FUNC_REVERSE_SUBTRACT;
			if (e === mr)
				return De.ZERO;
			if (e === gr)
				return De.ONE;
			if (e === vr)
				return De.SRC_COLOR;
			if (e === br)
				return De.ONE_MINUS_SRC_COLOR;
			if (e === xr)
				return De.SRC_ALPHA;
			if (e === wr)
				return De.ONE_MINUS_SRC_ALPHA;
			if (e === _r)
				return De.DST_ALPHA;
			if (e === Tr)
				return De.ONE_MINUS_DST_ALPHA;
			if (e === Er)
				return De.DST_COLOR;
			if (e === Mr)
				return De.ONE_MINUS_DST_COLOR;
			if (e === Cr)
				return De.SRC_ALPHA_SATURATE;
			if ((e === Aa || e === Ra || e === Pa || e === La) && null !== (t = Fe.get("WEBGL_compressed_texture_s3tc"))) {
				if (e === Aa)
					return t.COMPRESSED_RGB_S3TC_DXT1_EXT;
				if (e === Ra)
					return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;
				if (e === Pa)
					return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;
				if (e === La)
					return t.COMPRESSED_RGBA_S3TC_DXT5_EXT
			}
			if ((e === ka || e === Oa || e === Da || e === Ia) && null !== (t = Fe.get("WEBGL_compressed_texture_pvrtc"))) {
				if (e === ka)
					return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
				if (e === Oa)
					return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
				if (e === Da)
					return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
				if (e === Ia)
					return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
			}
			if (e === Fa && null !== (t = Fe.get("WEBGL_compressed_texture_etc1")))
				return t.COMPRESSED_RGB_ETC1_WEBGL;
			if ((e === pr || e === fr) && null !== (t = Fe.get("EXT_blend_minmax"))) {
				if (e === pr)
					return t.MIN_EXT;
				if (e === fr)
					return t.MAX_EXT
			}
			return e === ya && null !== (t = Fe.get("WEBGL_depth_texture")) ? t.UNSIGNED_INT_24_8_WEBGL : 0
		}
		console.log("THREE.WebGLRenderer", Bi);
		var M = void 0 !== (e = e || {}).canvas ? e.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
		C = void 0 !== e.context ? e.context : null,
		S = void 0 !== e.alpha && e.alpha,
		A = void 0 === e.depth || e.depth,
		R = void 0 === e.stencil || e.stencil,
		P = void 0 !== e.antialias && e.antialias,
		L = void 0 === e.premultipliedAlpha || e.premultipliedAlpha,
		k = void 0 !== e.preserveDrawingBuffer && e.preserveDrawingBuffer,
		O = [],
		D = [],
		I = -1,
		F = [],
		N = -1,
		z = new Float32Array(8),
		H = [],
		U = [];
		this.domElement = M,
		this.context = null,
		this.autoClear = !0,
		this.autoClearColor = !0,
		this.autoClearDepth = !0,
		this.autoClearStencil = !0,
		this.sortObjects = !0,
		this.clippingPlanes = [],
		this.localClippingEnabled = !1,
		this.gammaFactor = 2,
		this.gammaInput = !1,
		this.gammaOutput = !1,
		this.physicallyCorrectLights = !1,
		this.toneMapping = Hr,
		this.toneMappingExposure = 1,
		this.toneMappingWhitePoint = 1,
		this.maxMorphTargets = 8,
		this.maxMorphNormals = 4;
		var B = this,
		W = null,
		G = null,
		Y = null,
		Z = -1,
		J = "",
		ie = null,
		re = new r,
		ae = null,
		oe = new r,
		se = 0,
		le = new V(0),
		ce = 0,
		ue = M.width,
		he = M.height,
		pe = 1,
		fe = new r(0, 0, ue, he),
		me = !1,
		ge = new r(0, 0, ue, he),
		ve = new te,
		be = new function () {
			function e() {
				c.value !== i && (c.value = i, c.needsUpdate = r > 0),
				n.numPlanes = r,
				n.numIntersection = 0
			}
			function t(e, t, i, r) {
				var a = null !== e ? e.length : 0,
				o = null;
				if (0 !== a) {
					if (o = c.value, !0 !== r || null === o) {
						var d = i + 4 * a,
						u = t.matrixWorldInverse;
						l.getNormalMatrix(u),
						(null === o || o.length < d) && (o = new Float32Array(d));
						for (var h = 0, p = i; h !== a; ++h, p += 4)
							s.copy(e[h]).applyMatrix4(u, l), s.normal.toArray(o, p), o[p + 3] = s.constant
					}
					c.value = o,
					c.needsUpdate = !0
				}
				return n.numPlanes = a,
				o
			}
			var n = this,
			i = null,
			r = 0,
			a = !1,
			o = !1,
			s = new ee,
			l = new K,
			c = {
				value: null,
				needsUpdate: !1
			};
			this.uniform = c,
			this.numPlanes = 0,
			this.numIntersection = 0,
			this.init = function (e, n, o) {
				var s = 0 !== e.length || n || 0 !== r || a;
				return a = n,
				i = t(e, o, 0),
				r = e.length,
				s
			},
			this.beginShadows = function () {
				o = !0,
				t(null)
			},
			this.endShadows = function () {
				o = !1,
				e()
			},
			this.setState = function (n, s, l, d, u, h) {
				if (!a || null === n || 0 === n.length || o && !l)
					o ? t(null) : e();
				else {
					var p = o ? 0 : r,
					f = 4 * p,
					m = u.clippingState || null;
					c.value = m,
					m = t(n, d, f, h);
					for (var g = 0; g !== f; ++g)
						m[g] = i[g];
					u.clippingState = m,
					this.numIntersection = s ? this.numPlanes : 0,
					this.numPlanes += p
				}
			}
		},
		ye = !1,
		xe = !1,
		we = new Q,
		_e = new c,
		Te = new l,
		Ae = new c,
		Le = new c,
		ke = {
			hash: "",
			ambient: [0, 0, 0],
			directional: [],
			directionalShadowMap: [],
			directionalShadowMatrix: [],
			spot: [],
			spotShadowMap: [],
			spotShadowMatrix: [],
			rectArea: [],
			point: [],
			pointShadowMap: [],
			pointShadowMatrix: [],
			hemi: [],
			shadows: []
		},
		Oe = {
			calls: 0,
			vertices: 0,
			faces: 0,
			points: 0
		};
		this.info = {
			render: Oe,
			memory: {
				geometries: 0,
				textures: 0
			},
			programs: null
		};
		var De;
		try {
			var Ie = {
				alpha: S,
				depth: A,
				stencil: R,
				antialias: P,
				premultipliedAlpha: L,
				preserveDrawingBuffer: k
			};
			if (null === (De = C || M.getContext("webgl", Ie) || M.getContext("experimental-webgl", Ie)))
				throw null !== M.getContext("webgl") ? "Error creating WebGL context with your selected attributes." : "Error creating WebGL context.";
			void 0 === De.getShaderPrecisionFormat && (De.getShaderPrecisionFormat = function () {
				return {
					rangeMin: 1,
					rangeMax: 1,
					precision: 1
				}
			}),
			M.addEventListener("webglcontextlost", o, !1)
		} catch (e) {
			console.error("THREE.WebGLRenderer: " + e)
		}
		var Fe = new function (e) {
			var t = {};
			return {
				get: function (n) {
					if (void 0 !== t[n])
						return t[n];
					var i;
					switch (n) {
					case "WEBGL_depth_texture":
						i = e.getExtension("WEBGL_depth_texture") || e.getExtension("MOZ_WEBGL_depth_texture") || e.getExtension("WEBKIT_WEBGL_depth_texture");
						break;
					case "EXT_texture_filter_anisotropic":
						i = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
						break;
					case "WEBGL_compressed_texture_s3tc":
						i = e.getExtension("WEBGL_compressed_texture_s3tc") || e.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
						break;
					case "WEBGL_compressed_texture_pvrtc":
						i = e.getExtension("WEBGL_compressed_texture_pvrtc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
						break;
					case "WEBGL_compressed_texture_etc1":
						i = e.getExtension("WEBGL_compressed_texture_etc1");
						break;
					default:
						i = e.getExtension(n)
					}
					return null === i && console.warn("THREE.WebGLRenderer: " + n + " extension not supported."),
					t[n] = i,
					i
				}
			}
		}
		(De);
		Fe.get("WEBGL_depth_texture"),
		Fe.get("OES_texture_float"),
		Fe.get("OES_texture_float_linear"),
		Fe.get("OES_texture_half_float"),
		Fe.get("OES_texture_half_float_linear"),
		Fe.get("OES_standard_derivatives"),
		Fe.get("ANGLE_instanced_arrays"),
		Fe.get("OES_element_index_uint") && (Ee.MaxIndex = 4294967296);
		var Ne = new function (e, t, n) {
			function i(t) {
				if ("highp" === t) {
					if (e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision > 0 && e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision > 0)
						return "highp";
					t = "mediump"
				}
				return "mediump" === t && e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision > 0 && e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp"
			}
			var r,
			a = void 0 !== n.precision ? n.precision : "highp",
			o = i(a);
			o !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", o, "instead."), a = o);
			var s = !0 === n.logarithmicDepthBuffer && !!t.get("EXT_frag_depth"),
			l = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
			c = e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
			d = e.getParameter(e.MAX_TEXTURE_SIZE),
			u = e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),
			h = e.getParameter(e.MAX_VERTEX_ATTRIBS),
			p = e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),
			f = e.getParameter(e.MAX_VARYING_VECTORS),
			m = e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),
			g = c > 0,
			v = !!t.get("OES_texture_float");
			return {
				getMaxAnisotropy: function () {
					if (void 0 !== r)
						return r;
					var n = t.get("EXT_texture_filter_anisotropic");
					return r = null !== n ? e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
				},
				getMaxPrecision: i,
				precision: a,
				logarithmicDepthBuffer: s,
				maxTextures: l,
				maxVertexTextures: c,
				maxTextureSize: d,
				maxCubemapSize: u,
				maxAttributes: h,
				maxVertexUniforms: p,
				maxVaryings: f,
				maxFragmentUniforms: m,
				vertexTextures: g,
				floatFragmentTextures: v,
				floatVertexTextures: g && v
			}
		}
		(De, Fe, e),
		ze = new function (e, t, n) {
			function i(t, n, i) {
				var r = new Uint8Array(4),
				a = e.createTexture();
				e.bindTexture(t, a),
				e.texParameteri(t, e.TEXTURE_MIN_FILTER, e.NEAREST),
				e.texParameteri(t, e.TEXTURE_MAG_FILTER, e.NEAREST);
				for (var o = 0; o < i; o++)
					e.texImage2D(n + o, 0, e.RGBA, 1, 1, 0, e.RGBA, e.UNSIGNED_BYTE, r);
				return a
			}
			function a(t) {
				!0 !== y[t] && (e.enable(t), y[t] = !0)
			}
			function o(t) {
				!1 !== y[t] && (e.disable(t), y[t] = !1)
			}
			function s(t, i, r, s, l, c, d, u) {
				t !== ir ? a(e.BLEND) : o(e.BLEND),
				t === w && u === A || (t === ar ? u ? (e.blendEquationSeparate(e.FUNC_ADD, e.FUNC_ADD), e.blendFuncSeparate(e.ONE, e.ONE, e.ONE, e.ONE)) : (e.blendEquation(e.FUNC_ADD), e.blendFunc(e.SRC_ALPHA, e.ONE)) : t === or ? u ? (e.blendEquationSeparate(e.FUNC_ADD, e.FUNC_ADD), e.blendFuncSeparate(e.ZERO, e.ZERO, e.ONE_MINUS_SRC_COLOR, e.ONE_MINUS_SRC_ALPHA)) : (e.blendEquation(e.FUNC_ADD), e.blendFunc(e.ZERO, e.ONE_MINUS_SRC_COLOR)) : t === sr ? u ? (e.blendEquationSeparate(e.FUNC_ADD, e.FUNC_ADD), e.blendFuncSeparate(e.ZERO, e.SRC_COLOR, e.ZERO, e.SRC_ALPHA)) : (e.blendEquation(e.FUNC_ADD), e.blendFunc(e.ZERO, e.SRC_COLOR)) : u ? (e.blendEquationSeparate(e.FUNC_ADD, e.FUNC_ADD), e.blendFuncSeparate(e.ONE, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA)) : (e.blendEquationSeparate(e.FUNC_ADD, e.FUNC_ADD), e.blendFuncSeparate(e.SRC_ALPHA, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA)), w = t, A = u),
				t === lr ? (l = l || i, c = c || r, d = d || s, i === _ && l === M || (e.blendEquationSeparate(n(i), n(l)), _ = i, M = l), r === T && s === E && c === C && d === S || (e.blendFuncSeparate(n(r), n(s), n(c), n(d)), T = r, E = s, C = c, S = d)) : (_ = null, T = null, E = null, M = null, C = null, S = null)
			}
			function l(e) {
				p.setFunc(e)
			}
			function c(t) {
				R !== t && (t ? e.frontFace(e.CW) : e.frontFace(e.CCW), R = t)
			}
			function d(t) {
				t !== ji ? (a(e.CULL_FACE), t !== P && (t === Vi ? e.cullFace(e.BACK) : t === Wi ? e.cullFace(e.FRONT) : e.cullFace(e.FRONT_AND_BACK))) : o(e.CULL_FACE),
				P = t
			}
			function u(t) {
				void 0 === t && (t = e.TEXTURE0 + I - 1),
				z !== t && (e.activeTexture(t), z = t)
			}
			var h = new function () {
				var t = !1,
				n = new r,
				i = null,
				a = new r;
				return {
					setMask: function (n) {
						i === n || t || (e.colorMask(n, n, n, n), i = n)
					},
					setLocked: function (e) {
						t = e
					},
					setClear: function (t, i, r, o, s) {
						!0 === s && (t *= o, i *= o, r *= o),
						n.set(t, i, r, o),
						!1 === a.equals(n) && (e.clearColor(t, i, r, o), a.copy(n))
					},
					reset: function () {
						t = !1,
						i = null,
						a.set(0, 0, 0, 1)
					}
				}
			},
			p = new function () {
				var t = !1,
				n = null,
				i = null,
				r = null;
				return {
					setTest: function (t) {
						t ? a(e.DEPTH_TEST) : o(e.DEPTH_TEST)
					},
					setMask: function (i) {
						n === i || t || (e.depthMask(i), n = i)
					},
					setFunc: function (t) {
						if (i !== t) {
							if (t)
								switch (t) {
								case Sr:
									e.depthFunc(e.NEVER);
									break;
								case Ar:
									e.depthFunc(e.ALWAYS);
									break;
								case Rr:
									e.depthFunc(e.LESS);
									break;
								case Pr:
									e.depthFunc(e.LEQUAL);
									break;
								case Lr:
									e.depthFunc(e.EQUAL);
									break;
								case kr:
									e.depthFunc(e.GEQUAL);
									break;
								case Or:
									e.depthFunc(e.GREATER);
									break;
								case Dr:
									e.depthFunc(e.NOTEQUAL);
									break;
								default:
									e.depthFunc(e.LEQUAL)
								}
							else
								e.depthFunc(e.LEQUAL);
							i = t
						}
					},
					setLocked: function (e) {
						t = e
					},
					setClear: function (t) {
						r !== t && (e.clearDepth(t), r = t)
					},
					reset: function () {
						t = !1,
						n = null,
						i = null,
						r = null
					}
				}
			},
			f = new function () {
				var t = !1,
				n = null,
				i = null,
				r = null,
				s = null,
				l = null,
				c = null,
				d = null,
				u = null;
				return {
					setTest: function (t) {
						t ? a(e.STENCIL_TEST) : o(e.STENCIL_TEST)
					},
					setMask: function (i) {
						n === i || t || (e.stencilMask(i), n = i)
					},
					setFunc: function (t, n, a) {
						i === t && r === n && s === a || (e.stencilFunc(t, n, a), i = t, r = n, s = a)
					},
					setOp: function (t, n, i) {
						l === t && c === n && d === i || (e.stencilOp(t, n, i), l = t, c = n, d = i)
					},
					setLocked: function (e) {
						t = e
					},
					setClear: function (t) {
						u !== t && (e.clearStencil(t), u = t)
					},
					reset: function () {
						t = !1,
						n = null,
						i = null,
						r = null,
						s = null,
						l = null,
						c = null,
						d = null,
						u = null
					}
				}
			},
			m = e.getParameter(e.MAX_VERTEX_ATTRIBS),
			g = new Uint8Array(m),
			v = new Uint8Array(m),
			b = new Uint8Array(m),
			y = {},
			x = null,
			w = null,
			_ = null,
			T = null,
			E = null,
			M = null,
			C = null,
			S = null,
			A = !1,
			R = null,
			P = null,
			L = null,
			k = null,
			O = null,
			D = null,
			I = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
			F = parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),
			N = parseFloat(F) >= 1,
			z = null,
			H = {},
			U = new r,
			B = new r,
			j = {};
			return j[e.TEXTURE_2D] = i(e.TEXTURE_2D, e.TEXTURE_2D, 1),
			j[e.TEXTURE_CUBE_MAP] = i(e.TEXTURE_CUBE_MAP, e.TEXTURE_CUBE_MAP_POSITIVE_X, 6), {
				buffers: {
					color: h,
					depth: p,
					stencil: f
				},
				init: function () {
					h.setClear(0, 0, 0, 1),
					p.setClear(1),
					f.setClear(0),
					a(e.DEPTH_TEST),
					l(Pr),
					c(!1),
					d(Vi),
					a(e.CULL_FACE),
					a(e.BLEND),
					s(rr)
				},
				initAttributes: function () {
					for (var e = 0, t = g.length; e < t; e++)
						g[e] = 0
				},
				enableAttribute: function (n) {
					g[n] = 1,
					0 === v[n] && (e.enableVertexAttribArray(n), v[n] = 1),
					0 !== b[n] && (t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n, 0), b[n] = 0)
				},
				enableAttributeAndDivisor: function (t, n, i) {
					g[t] = 1,
					0 === v[t] && (e.enableVertexAttribArray(t), v[t] = 1),
					b[t] !== n && (i.vertexAttribDivisorANGLE(t, n), b[t] = n)
				},
				disableUnusedAttributes: function () {
					for (var t = 0, n = v.length; t !== n; ++t)
						v[t] !== g[t] && (e.disableVertexAttribArray(t), v[t] = 0)
				},
				enable: a,
				disable: o,
				getCompressedTextureFormats: function () {
					if (null === x && (x = [], t.get("WEBGL_compressed_texture_pvrtc") || t.get("WEBGL_compressed_texture_s3tc") || t.get("WEBGL_compressed_texture_etc1")))
						for (var n = e.getParameter(e.COMPRESSED_TEXTURE_FORMATS), i = 0; i < n.length; i++)
							x.push(n[i]);
					return x
				},
				setBlending: s,
				setColorWrite: function (e) {
					h.setMask(e)
				},
				setDepthTest: function (e) {
					p.setTest(e)
				},
				setDepthWrite: function (e) {
					p.setMask(e)
				},
				setDepthFunc: l,
				setStencilTest: function (e) {
					f.setTest(e)
				},
				setStencilWrite: function (e) {
					f.setMask(e)
				},
				setStencilFunc: function (e, t, n) {
					f.setFunc(e, t, n)
				},
				setStencilOp: function (e, t, n) {
					f.setOp(e, t, n)
				},
				setFlipSided: c,
				setCullFace: d,
				setLineWidth: function (t) {
					t !== L && (N && e.lineWidth(t), L = t)
				},
				setPolygonOffset: function (t, n, i) {
					t ? (a(e.POLYGON_OFFSET_FILL), k === n && O === i || (e.polygonOffset(n, i), k = n, O = i)) : o(e.POLYGON_OFFSET_FILL)
				},
				getScissorTest: function () {
					return D
				},
				setScissorTest: function (t) {
					D = t,
					t ? a(e.SCISSOR_TEST) : o(e.SCISSOR_TEST)
				},
				activeTexture: u,
				bindTexture: function (t, n) {
					null === z && u();
					var i = H[z];
					void 0 === i && (i = {
							type: void 0,
							texture: void 0
						}, H[z] = i),
					i.type === t && i.texture === n || (e.bindTexture(t, n || j[t]), i.type = t, i.texture = n)
				},
				compressedTexImage2D: function () {
					try {
						e.compressedTexImage2D.apply(e, arguments)
					} catch (e) {
						console.error(e)
					}
				},
				texImage2D: function () {
					try {
						e.texImage2D.apply(e, arguments)
					} catch (e) {
						console.error(e)
					}
				},
				scissor: function (t) {
					!1 === U.equals(t) && (e.scissor(t.x, t.y, t.z, t.w), U.copy(t))
				},
				viewport: function (t) {
					!1 === B.equals(t) && (e.viewport(t.x, t.y, t.z, t.w), B.copy(t))
				},
				reset: function () {
					for (var t = 0; t < v.length; t++)
						1 === v[t] && (e.disableVertexAttribArray(t), v[t] = 0);
					y = {},
					x = null,
					z = null,
					H = {},
					w = null,
					R = null,
					P = null,
					h.reset(),
					p.reset(),
					f.reset()
				}
			}
		}
		(De, Fe, E),
		Ue = new function () {
			var e = {};
			return {
				get: function (t) {
					var n = t.uuid,
					i = e[n];
					return void 0 === i && (i = {}, e[n] = i),
					i
				},
				delete : function (t) {
					delete e[t.uuid]
				},
				clear: function () {
					e = {}
				}
			}
		},
		Ve = new je(De, Fe, ze, Ue, Ne, E, this.info),
		We = new Be(De, Ue, this.info),
		Ge = new He(this, Ne),
		$e = new function () {
			var e = {};
			return {
				get: function (t) {
					if (void 0 !== e[t.id])
						return e[t.id];
					var i;
					switch (t.type) {
					case "DirectionalLight":
						i = {
							direction: new l,
							color: new V,
							shadow: !1,
							shadowBias: 0,
							shadowRadius: 1,
							shadowMapSize: new n
						};
						break;
					case "SpotLight":
						i = {
							position: new l,
							direction: new l,
							color: new V,
							distance: 0,
							coneCos: 0,
							penumbraCos: 0,
							decay: 0,
							shadow: !1,
							shadowBias: 0,
							shadowRadius: 1,
							shadowMapSize: new n
						};
						break;
					case "PointLight":
						i = {
							position: new l,
							color: new V,
							distance: 0,
							decay: 0,
							shadow: !1,
							shadowBias: 0,
							shadowRadius: 1,
							shadowMapSize: new n
						};
						break;
					case "HemisphereLight":
						i = {
							direction: new l,
							skyColor: new V,
							groundColor: new V
						};
						break;
					case "RectAreaLight":
						i = {
							color: new V,
							position: new l,
							halfWidth: new l,
							halfHeight: new l
						}
					}
					return e[t.id] = i,
					i
				}
			}
		};
		this.info.programs = Ge.programs;
		var Xe = new function (e, t, n) {
			var i;
			return {
				setMode: function (e) {
					i = e
				},
				render: function (t, r) {
					e.drawArrays(i, t, r),
					n.calls++,
					n.vertices += r,
					i === e.TRIANGLES && (n.faces += r / 3)
				},
				renderInstances: function (r) {
					var a = t.get("ANGLE_instanced_arrays");
					if (null !== a) {
						var o = r.attributes.position,
						s = 0;
						o.isInterleavedBufferAttribute ? (s = o.data.count, a.drawArraysInstancedANGLE(i, 0, s, r.maxInstancedCount)) : (s = o.count, a.drawArraysInstancedANGLE(i, 0, s, r.maxInstancedCount)),
						n.calls++,
						n.vertices += s * r.maxInstancedCount,
						i === e.TRIANGLES && (n.faces += r.maxInstancedCount * s / 3)
					} else
						console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")
				}
			}
		}
		(De, Fe, Oe),
		Ye = new function (e, t, n) {
			var i,
			r,
			a;
			return {
				setMode: function (e) {
					i = e
				},
				setIndex: function (n) {
					n.array instanceof Uint32Array && t.get("OES_element_index_uint") ? (r = e.UNSIGNED_INT, a = 4) : n.array instanceof Uint16Array ? (r = e.UNSIGNED_SHORT, a = 2) : (r = e.UNSIGNED_BYTE, a = 1)
				},
				render: function (t, o) {
					e.drawElements(i, o, r, t * a),
					n.calls++,
					n.vertices += o,
					i === e.TRIANGLES && (n.faces += o / 3)
				},
				renderInstances: function (o, s, l) {
					var c = t.get("ANGLE_instanced_arrays");
					null !== c ? (c.drawElementsInstancedANGLE(i, l, r, s * a, o.maxInstancedCount), n.calls++, n.vertices += l * o.maxInstancedCount, i === e.TRIANGLES && (n.faces += o.maxInstancedCount * l / 3)) : console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")
				}
			}
		}
		(De, Fe, Oe),
		qe = new Pe(-1, 1, 1, -1, 0, 1),
		Ze = new Re,
		Je = new Me(new Se(2, 2), new de({
					depthTest: !1,
					depthWrite: !1,
					fog: !1
				})),
		Qe = lo.cube,
		Ke = new Me(new Ce(5, 5, 5), new q({
					uniforms: Qe.uniforms,
					vertexShader: Qe.vertexShader,
					fragmentShader: Qe.fragmentShader,
					side: qi,
					depthTest: !1,
					depthWrite: !1,
					fog: !1
				}));
		i(),
		this.context = De,
		this.capabilities = Ne,
		this.extensions = Fe,
		this.properties = Ue,
		this.state = ze;
		var et = new ne(this, ke, We, Ne);
		this.shadowMap = et;
		var tt = new X(this, H),
		nt = new $(this, U);
		this.getContext = function () {
			return De
		},
		this.getContextAttributes = function () {
			return De.getContextAttributes()
		},
		this.forceContextLoss = function () {
			Fe.get("WEBGL_lose_context").loseContext()
		},
		this.getMaxAnisotropy = function () {
			return Ne.getMaxAnisotropy()
		},
		this.getPrecision = function () {
			return Ne.precision
		},
		this.getPixelRatio = function () {
			return pe
		},
		this.setPixelRatio = function (e) {
			void 0 !== e && (pe = e, this.setSize(ge.z, ge.w, !1))
		},
		this.getSize = function () {
			return {
				width: ue,
				height: he
			}
		},
		this.setSize = function (e, t, n) {
			ue = e,
			he = t,
			M.width = e * pe,
			M.height = t * pe,
			!1 !== n && (M.style.width = e + "px", M.style.height = t + "px"),
			this.setViewport(0, 0, e, t)
		},
		this.setViewport = function (e, t, n, i) {
			ze.viewport(ge.set(e, t, n, i))
		},
		this.setScissor = function (e, t, n, i) {
			ze.scissor(fe.set(e, t, n, i))
		},
		this.setScissorTest = function (e) {
			ze.setScissorTest(me = e)
		},
		this.getClearColor = function () {
			return le
		},
		this.setClearColor = function (e, t) {
			le.set(e),
			ce = void 0 !== t ? t : 1,
			ze.buffers.color.setClear(le.r, le.g, le.b, ce, L)
		},
		this.getClearAlpha = function () {
			return ce
		},
		this.setClearAlpha = function (e) {
			ce = e,
			ze.buffers.color.setClear(le.r, le.g, le.b, ce, L)
		},
		this.clear = function (e, t, n) {
			var i = 0;
			(void 0 === e || e) && (i |= De.COLOR_BUFFER_BIT),
			(void 0 === t || t) && (i |= De.DEPTH_BUFFER_BIT),
			(void 0 === n || n) && (i |= De.STENCIL_BUFFER_BIT),
			De.clear(i)
		},
		this.clearColor = function () {
			this.clear(!0, !1, !1)
		},
		this.clearDepth = function () {
			this.clear(!1, !0, !1)
		},
		this.clearStencil = function () {
			this.clear(!1, !1, !0)
		},
		this.clearTarget = function (e, t, n, i) {
			this.setRenderTarget(e),
			this.clear(t, n, i)
		},
		this.resetGLState = a,
		this.dispose = function () {
			F = [],
			N = -1,
			D = [],
			I = -1,
			M.removeEventListener("webglcontextlost", o, !1)
		},
		this.renderBufferImmediate = function (e, t, n) {
			ze.initAttributes();
			var i = Ue.get(e);
			e.hasPositions && !i.position && (i.position = De.createBuffer()),
			e.hasNormals && !i.normal && (i.normal = De.createBuffer()),
			e.hasUvs && !i.uv && (i.uv = De.createBuffer()),
			e.hasColors && !i.color && (i.color = De.createBuffer());
			var r = t.getAttributes();
			if (e.hasPositions && (De.bindBuffer(De.ARRAY_BUFFER, i.position), De.bufferData(De.ARRAY_BUFFER, e.positionArray, De.DYNAMIC_DRAW), ze.enableAttribute(r.position), De.vertexAttribPointer(r.position, 3, De.FLOAT, !1, 0, 0)), e.hasNormals) {
				if (De.bindBuffer(De.ARRAY_BUFFER, i.normal), !n.isMeshPhongMaterial && !n.isMeshStandardMaterial && !n.isMeshNormalMaterial && n.shading === Ji)
					for (var a = 0, o = 3 * e.count; a < o; a += 9) {
						var s = e.normalArray,
						l = (s[a + 0] + s[a + 3] + s[a + 6]) / 3,
						c = (s[a + 1] + s[a + 4] + s[a + 7]) / 3,
						d = (s[a + 2] + s[a + 5] + s[a + 8]) / 3;
						s[a + 0] = l,
						s[a + 1] = c,
						s[a + 2] = d,
						s[a + 3] = l,
						s[a + 4] = c,
						s[a + 5] = d,
						s[a + 6] = l,
						s[a + 7] = c,
						s[a + 8] = d
					}
				De.bufferData(De.ARRAY_BUFFER, e.normalArray, De.DYNAMIC_DRAW),
				ze.enableAttribute(r.normal),
				De.vertexAttribPointer(r.normal, 3, De.FLOAT, !1, 0, 0)
			}
			e.hasUvs && n.map && (De.bindBuffer(De.ARRAY_BUFFER, i.uv), De.bufferData(De.ARRAY_BUFFER, e.uvArray, De.DYNAMIC_DRAW), ze.enableAttribute(r.uv), De.vertexAttribPointer(r.uv, 2, De.FLOAT, !1, 0, 0)),
			e.hasColors && n.vertexColors !== er && (De.bindBuffer(De.ARRAY_BUFFER, i.color), De.bufferData(De.ARRAY_BUFFER, e.colorArray, De.DYNAMIC_DRAW), ze.enableAttribute(r.color), De.vertexAttribPointer(r.color, 3, De.FLOAT, !1, 0, 0)),
			ze.disableUnusedAttributes(),
			De.drawArrays(De.TRIANGLES, 0, e.count),
			e.count = 0
		},
		this.renderBufferDirect = function (e, n, i, r, a, o) {
            //var s = (new Date).getTime();
            var s = 1559379745981;
			b(r);
			var l = y(e, n, r, a),
			c = !1;
			if (!(s > Ki)) {
				var d = i.id + "_" + l.id + "_" + r.wireframe;
				d !== J && (J = d, c = !0);
				var h = a.morphTargetInfluences;
				if (void 0 !== h) {
					for (var p = [], f = 0, m = h.length; f < m; f++) {
						v = h[f];
						p.push([v, f])
					}
					p.sort(u),
					p.length > 8 && (p.length = 8);
					for (var g = i.morphAttributes, f = 0, m = p.length; f < m; f++) {
						var v = p[f];
						if (z[f] = v[0], 0 !== v[0]) {
							w = v[1];
							!0 === r.morphTargets && g.position && i.addAttribute("morphTarget" + f, g.position[w]),
							!0 === r.morphNormals && g.normal && i.addAttribute("morphNormal" + f, g.normal[w])
						} else !0 === r.morphTargets && i.removeAttribute("morphTarget" + f), !0 === r.morphNormals && i.removeAttribute("morphNormal" + f)
					}
					for (var f = p.length, x = z.length; f < x; f++)
						z[f] = 0;
					l.getUniforms().setValue(De, "morphTargetInfluences", z),
					c = !0
				}
				var w = i.index,
				_ = i.attributes.position,
				T = 1;
				!0 === r.wireframe && (w = We.getWireframeAttribute(i), T = 2);
				var E;
				null !== w ? (E = Ye).setIndex(w) : E = Xe,
				c && (!function (e, t, n, i) {
					var r;
					if (n && n.isInstancedBufferGeometry && null === (r = Fe.get("ANGLE_instanced_arrays")))
						console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
					else {
						void 0 === i && (i = 0),
						ze.initAttributes();
						var a = n.attributes,
						o = t.getAttributes(),
						s = e.defaultAttributeValues;
						for (var l in o) {
							var c = o[l];
							if (c >= 0) {
								var d = a[l];
								if (void 0 !== d) {
									var u = d.normalized,
									h = d.itemSize,
									p = We.getAttributeProperties(d),
									f = p.__webglBuffer,
									m = p.type,
									g = p.bytesPerElement;
									if (d.isInterleavedBufferAttribute) {
										var v = d.data,
										b = v.stride,
										y = d.offset;
										v && v.isInstancedInterleavedBuffer ? (ze.enableAttributeAndDivisor(c, v.meshPerAttribute, r), void 0 === n.maxInstancedCount && (n.maxInstancedCount = v.meshPerAttribute * v.count)) : ze.enableAttribute(c),
										De.bindBuffer(De.ARRAY_BUFFER, f),
										De.vertexAttribPointer(c, h, m, u, b * g, (i * b + y) * g)
									} else
										d.isInstancedBufferAttribute ? (ze.enableAttributeAndDivisor(c, d.meshPerAttribute, r), void 0 === n.maxInstancedCount && (n.maxInstancedCount = d.meshPerAttribute * d.count)) : ze.enableAttribute(c), De.bindBuffer(De.ARRAY_BUFFER, f), De.vertexAttribPointer(c, h, m, u, 0, i * h * g)
								} else if (void 0 !== s) {
									var x = s[l];
									if (void 0 !== x)
										switch (x.length) {
										case 2:
											De.vertexAttrib2fv(c, x);
											break;
										case 3:
											De.vertexAttrib3fv(c, x);
											break;
										case 4:
											De.vertexAttrib4fv(c, x);
											break;
										default:
											De.vertexAttrib1fv(c, x)
										}
								}
							}
						}
						ze.disableUnusedAttributes()
					}
				}
					(r, l, i), null !== w && De.bindBuffer(De.ELEMENT_ARRAY_BUFFER, We.getAttributeBuffer(w)));
				var M = 0;
				null !== w ? M = w.count : void 0 !== _ && (M = _.count);
				var C = i.drawRange.start * T,
				S = i.drawRange.count * T,
				A = null !== o ? o.start * T : 0,
				R = null !== o ? o.count * T : 1 / 0,
				P = Math.max(C, A),
				L = Math.min(M, C + S, A + R) - 1,
				k = Math.max(0, L - P + 1);
				if (0 !== k) {
					if (a.isMesh)
						if (!0 === r.wireframe)
							ze.setLineWidth(r.wireframeLinewidth * t()), E.setMode(De.LINES);
						else
							switch (a.drawMode) {
							case Ha:
								E.setMode(De.TRIANGLES);
								break;
							case Ua:
								E.setMode(De.TRIANGLE_STRIP);
								break;
							case Ba:
								E.setMode(De.TRIANGLE_FAN)
							}
					else if (a.isLine) {
						var O = r.linewidth;
						void 0 === O && (O = 1),
						ze.setLineWidth(O * t()),
						a.isLineSegments ? E.setMode(De.LINES) : E.setMode(De.LINE_STRIP)
					} else
						a.isPoints && E.setMode(De.POINTS);
					i && i.isInstancedBufferGeometry ? i.maxInstancedCount > 0 && E.renderInstances(i, P, k) : E.render(P, k)
				}
			}
		},
		this.render = function (e, t, n, i) {
			if (void 0 === t || !0 === t.isCamera) {
				J = "",
				Z = -1,
				ie = null,
				!0 === e.autoUpdate && e.updateMatrixWorld(),
				null === t.parent && t.updateMatrixWorld(),
				t.matrixWorldInverse.getInverse(t.matrixWorld),
				_e.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse),
				ve.setFromMatrix(_e),
				O.length = 0,
				I = -1,
				N = -1,
				H.length = 0,
				U.length = 0,
				xe = this.localClippingEnabled,
				ye = be.init(this.clippingPlanes, xe, t),
				g(e, t),
				D.length = I + 1,
				F.length = N + 1,
				!0 === B.sortObjects && (D.sort(h), F.sort(p)),
				ye && be.beginShadows(),
				function (e) {
					for (var t = 0, n = 0, i = e.length; n < i; n++) {
						var r = e[n];
						r.castShadow && (ke.shadows[t++] = r)
					}
					ke.shadows.length = t
				}
				(O),
				et.render(e, t),
				T(O, t),
				ye && be.endShadows(),
				Oe.calls = 0,
				Oe.vertices = 0,
				Oe.faces = 0,
				Oe.points = 0,
				void 0 === n && (n = null),
				this.setRenderTarget(n);
				var r = e.background;
				if (null === r ? ze.buffers.color.setClear(le.r, le.g, le.b, ce, L) : r && r.isColor && (ze.buffers.color.setClear(r.r, r.g, r.b, 1, L), i = !0), (this.autoClear || i) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), r && r.isCubeTexture ? (Ze.projectionMatrix.copy(t.projectionMatrix), Ze.matrixWorld.extractRotation(t.matrixWorld), Ze.matrixWorldInverse.getInverse(Ze.matrixWorld), Ke.material.uniforms.tCube.value = r, Ke.modelViewMatrix.multiplyMatrices(Ze.matrixWorldInverse, Ke.matrixWorld), We.update(Ke), B.renderBufferDirect(Ze, null, Ke.geometry, Ke.material, Ke, null)) : r && r.isTexture && (Je.material.map = r, We.update(Je), B.renderBufferDirect(qe, null, Je.geometry, Je.material, Je, null)), e.overrideMaterial) {
					var a = e.overrideMaterial;
					v(D, e, t, a),
					v(F, e, t, a)
				} else
					ze.setBlending(ir), v(D, e, t), v(F, e, t);
				tt.render(e, t),
				nt.render(e, t, oe),
				n && Ve.updateRenderTargetMipmap(n),
				ze.setDepthTest(!0),
				ze.setDepthWrite(!0),
				ze.setColorWrite(!0)
			} else
				console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")
		},
		this.setFaceCulling = function (e, t) {
			ze.setCullFace(e),
			ze.setFlipSided(t === Gi)
		},
		this.allocTextureUnit = function () {
			var e = se;
			return e >= Ne.maxTextures && console.warn("WebGLRenderer: trying to use " + e + " texture units while this GPU supports only " + Ne.maxTextures),
			se += 1,
			e
		},
		this.setTexture2D = function () {
			var e = !1;
			return function (t, n) {
				t && t.isWebGLRenderTarget && (e || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."), e = !0), t = t.texture),
				Ve.setTexture2D(t, n)
			}
		}
		(),
		this.setTexture = function () {
			var e = !1;
			return function (t, n) {
				e || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."), e = !0),
				Ve.setTexture2D(t, n)
			}
		}
		(),
		this.setTextureCube = function () {
			var e = !1;
			return function (t, n) {
				t && t.isWebGLRenderTargetCube && (e || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."), e = !0), t = t.texture),
				t && t.isCubeTexture || Array.isArray(t.image) && 6 === t.image.length ? Ve.setTextureCube(t, n) : Ve.setTextureCubeDynamic(t, n)
			}
		}
		(),
		this.getCurrentRenderTarget = function () {
			return G
		},
		this.setRenderTarget = function (e) {
			G = e,
			e && void 0 === Ue.get(e).__webglFramebuffer && Ve.setupRenderTarget(e);
			var t,
			n = e && e.isWebGLRenderTargetCube;
			if (e) {
				var i = Ue.get(e);
				t = n ? i.__webglFramebuffer[e.activeCubeFace] : i.__webglFramebuffer,
				re.copy(e.scissor),
				ae = e.scissorTest,
				oe.copy(e.viewport)
			} else
				t = null, re.copy(fe).multiplyScalar(pe), ae = me, oe.copy(ge).multiplyScalar(pe);
			if (Y !== t && (De.bindFramebuffer(De.FRAMEBUFFER, t), Y = t), ze.scissor(re), ze.setScissorTest(ae), ze.viewport(oe), n) {
				var r = Ue.get(e.texture);
				De.framebufferTexture2D(De.FRAMEBUFFER, De.COLOR_ATTACHMENT0, De.TEXTURE_CUBE_MAP_POSITIVE_X + e.activeCubeFace, r.__webglTexture, e.activeMipMapLevel)
			}
		},
		this.readRenderTargetPixels = function (e, t, n, i, r, a) {
			if (!1 !== (e && e.isWebGLRenderTarget)) {
				var o = Ue.get(e).__webglFramebuffer;
				if (o) {
					var s = !1;
					o !== Y && (De.bindFramebuffer(De.FRAMEBUFFER, o), s = !0);
					try {
						var l = e.texture,
						c = l.format,
						d = l.type;
						if (c !== _a && E(c) !== De.getParameter(De.IMPLEMENTATION_COLOR_READ_FORMAT))
							return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
						if (!(d === la || E(d) === De.getParameter(De.IMPLEMENTATION_COLOR_READ_TYPE) || d === fa && (Fe.get("OES_texture_float") || Fe.get("WEBGL_color_buffer_float")) || d === ma && Fe.get("EXT_color_buffer_half_float")))
							return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
						De.checkFramebufferStatus(De.FRAMEBUFFER) === De.FRAMEBUFFER_COMPLETE ? t >= 0 && t <= e.width - i && n >= 0 && n <= e.height - r && De.readPixels(t, n, i, r, E(c), E(d), a) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
					}
					finally {
						s && De.bindFramebuffer(De.FRAMEBUFFER, Y)
					}
				}
			} else
				console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")
		}
	}
	function We(e, t) {
		this.name = "",
		this.color = new V(e),
		this.density = void 0 !== t ? t : 25e-5
	}
	function Ge(e, t, n) {
		this.name = "",
		this.color = new V(e),
		this.near = void 0 !== t ? t : 1,
		this.far = void 0 !== n ? n : 1e3
	}
	function $e() {
		oe.call(this),
		this.type = "Scene",
		this.background = null,
		this.fog = null,
		this.overrideMaterial = null,
		this.autoUpdate = !0
	}
	function Xe(e, t, n, i, r) {
		oe.call(this),
		this.lensFlares = [],
		this.positionScreen = new l,
		this.customUpdateCallback = void 0,
		void 0 !== e && this.add(e, t, n, i, r)
	}
	function Ye(e) {
		Y.call(this),
		this.type = "SpriteMaterial",
		this.color = new V(16777215),
		this.map = null,
		this.rotation = 0,
		this.fog = !1,
		this.lights = !1,
		this.setValues(e)
	}
	function qe(e) {
		oe.call(this),
		this.type = "Sprite",
		this.material = void 0 !== e ? e : new Ye
	}
	function Ze() {
		oe.call(this),
		this.type = "LOD",
		Object.defineProperties(this, {
			levels: {
				enumerable: !0,
				value: []
			}
		})
	}
	function Je(e, t, n) {
		if (this.useVertexTexture = void 0 === n || n, this.identityMatrix = new c, e = e || [], this.bones = e.slice(0), this.useVertexTexture) {
			var i = Math.sqrt(4 * this.bones.length);
			i = Ja.nextPowerOfTwo(Math.ceil(i)),
			i = Math.max(i, 4),
			this.boneTextureWidth = i,
			this.boneTextureHeight = i,
			this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4),
			this.boneTexture = new W(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, _a, fa)
		} else
			this.boneMatrices = new Float32Array(16 * this.bones.length);
		if (void 0 === t)
			this.calculateInverses();
		else if (this.bones.length === t.length)
			this.boneInverses = t.slice(0);
		else {
			console.warn("THREE.Skeleton bonInverses is the wrong length."),
			this.boneInverses = [];
			for (var r = 0, a = this.bones.length; r < a; r++)
				this.boneInverses.push(new c)
		}
	}
	function Qe() {
		oe.call(this),
		this.type = "Bone"
	}
	function Ke(e, t, n) {
		Me.call(this, e, t),
		this.type = "SkinnedMesh",
		this.bindMode = "attached",
		this.bindMatrix = new c,
		this.bindMatrixInverse = new c;
		var i = [];
		if (this.geometry && void 0 !== this.geometry.bones) {
			for (var r, a, o = 0, s = this.geometry.bones.length; o < s; ++o)
				a = this.geometry.bones[o], r = new Qe, i.push(r), r.name = a.name, r.position.fromArray(a.pos), r.quaternion.fromArray(a.rotq), void 0 !== a.scl && r.scale.fromArray(a.scl);
			for (var o = 0, s = this.geometry.bones.length; o < s; ++o)
				 - 1 !== (a = this.geometry.bones[o]).parent && null !== a.parent && void 0 !== i[a.parent] ? i[a.parent].add(i[o]) : this.add(i[o])
		}
		this.normalizeSkinWeights(),
		this.updateMatrixWorld(!0),
		this.bind(new Je(i, void 0, n), this.matrixWorld)
	}
	function et(e) {
		Y.call(this),
		this.type = "LineBasicMaterial",
		this.color = new V(16777215),
		this.linewidth = 1,
		this.linecap = "round",
		this.linejoin = "round",
		this.lights = !1,
		this.setValues(e)
	}
	function tt(e, t, n) {
		if (1 === n)
			return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."), new nt(e, t);
		oe.call(this),
		this.type = "Line",
		this.geometry = void 0 !== e ? e : new Ee,
		this.material = void 0 !== t ? t : new et({
				color: 16777215 * Math.random()
			})
	}
	function nt(e, t) {
		tt.call(this, e, t),
		this.type = "LineSegments"
	}
	function it(e) {
		Y.call(this),
		this.type = "PointsMaterial",
		this.color = new V(16777215),
		this.map = null,
		this.size = 1,
		this.sizeAttenuation = !0,
		this.lights = !1,
		this.setValues(e)
	}
	function rt(e, t) {
		oe.call(this),
		this.type = "Points",
		this.geometry = void 0 !== e ? e : new Ee,
		this.material = void 0 !== t ? t : new it({
				color: 16777215 * Math.random()
			})
	}
	function at() {
		oe.call(this),
		this.type = "Group"
	}
	function ot(e, t, n, r, a, o, s, l, c) {
		function d() {
			requestAnimationFrame(d),
			e.readyState >= e.HAVE_CURRENT_DATA && (u.needsUpdate = !0)
		}
		i.call(this, e, t, n, r, a, o, s, l, c),
		this.generateMipmaps = !1;
		var u = this;
		d()
	}
	function st(e, t, n, r, a, o, s, l, c, d, u, h) {
		i.call(this, null, o, s, l, c, d, r, a, u, h),
		this.image = {
			width: t,
			height: n
		},
		this.mipmaps = e,
		this.flipY = !1,
		this.generateMipmaps = !1
	}
	function lt(e, t, n, r, a, o, s, l, c) {
		i.call(this, e, t, n, r, a, o, s, l, c),
		this.needsUpdate = !0
	}
	function ct(e, t, n, r, a, o, s, l, c, d) {
		if ((d = void 0 !== d ? d : Ca) !== Ca && d !== Sa)
			throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
		void 0 === n && d === Ca && (n = ua),
		void 0 === n && d === Sa && (n = ya),
		i.call(this, null, r, a, o, s, l, d, n, c),
		this.image = {
			width: e,
			height: t
		},
		this.magFilter = void 0 !== s ? s : ta,
		this.minFilter = void 0 !== l ? l : ta,
		this.flipY = !1,
		this.generateMipmaps = !1
	}
	function dt(e) {
		function t(e, t) {
			return e - t
		}
		Ee.call(this);
		var n = [0, 0],
		i = {},
		r = ["a", "b", "c"];
		if (e && e.isGeometry) {
			for (var a = e.vertices, o = e.faces, s = 0, l = new Uint32Array(6 * o.length), c = 0, d = o.length; c < d; c++)
				for (var u = o[c], h = 0; h < 3; h++) {
					n[0] = u[r[h]],
					n[1] = u[r[(h + 1) % 3]],
					n.sort(t);
					void 0 === i[_ = n.toString()] && (l[2 * s] = n[0], l[2 * s + 1] = n[1], i[_] = !0, s++)
				}
			for (var p = new Float32Array(2 * s * 3), c = 0, d = s; c < d; c++)
				for (h = 0; h < 2; h++) {
					var f = a[l[2 * c + h]];
					p[(T = 6 * c + 3 * h) + 0] = f.x,
					p[T + 1] = f.y,
					p[T + 2] = f.z
				}
			this.addAttribute("position", new ue(p, 3))
		} else if (e && e.isBufferGeometry)
			if (null !== e.index) {
				var m = e.index.array,
				a = e.attributes.position,
				g = e.groups,
				s = 0;
				0 === g.length && e.addGroup(0, m.length);
				for (var l = new Uint32Array(2 * m.length), v = 0, b = g.length; v < b; ++v)
					for (var y = g[v], x = y.start, c = x, w = x + y.count; c < w; c += 3)
						for (h = 0; h < 3; h++) {
							n[0] = m[c + h],
							n[1] = m[c + (h + 1) % 3],
							n.sort(t);
							var _ = n.toString();
							void 0 === i[_] && (l[2 * s] = n[0], l[2 * s + 1] = n[1], i[_] = !0, s++)
						}
				for (var p = new Float32Array(2 * s * 3), c = 0, d = s; c < d; c++)
					for (h = 0; h < 2; h++) {
						var T = 6 * c + 3 * h,
						E = l[2 * c + h];
						p[T + 0] = a.getX(E),
						p[T + 1] = a.getY(E),
						p[T + 2] = a.getZ(E)
					}
				this.addAttribute("position", new ue(p, 3))
			} else {
				for (var M = (s = (a = e.attributes.position.array).length / 3) / 3, p = new Float32Array(2 * s * 3), c = 0, d = M; c < d; c++)
					for (h = 0; h < 3; h++) {
						var C = 9 * c + 3 * h;
						p[(T = 18 * c + 6 * h) + 0] = a[C],
						p[T + 1] = a[C + 1],
						p[T + 2] = a[C + 2];
						E = 9 * c + (h + 1) % 3 * 3;
						p[T + 3] = a[E],
						p[T + 4] = a[E + 1],
						p[T + 5] = a[E + 2]
					}
				this.addAttribute("position", new ue(p, 3))
			}
	}
	function ut(e, t, n) {
		Ee.call(this),
		this.type = "ParametricBufferGeometry",
		this.parameters = {
			func: e,
			slices: t,
			stacks: n
		};
		var i,
		r,
		a,
		o,
		s,
		l = [],
		c = [],
		d = t + 1;
		for (i = 0; i <= n; i++)
			for (s = i / n, r = 0; r <= t; r++)
				a = e(o = r / t, s), l.push(a.x, a.y, a.z), c.push(o, s);
		var u,
		h,
		p,
		f,
		m = [];
		for (i = 0; i < n; i++)
			for (r = 0; r < t; r++)
				u = i * d + r, h = i * d + r + 1, p = (i + 1) * d + r + 1, f = (i + 1) * d + r, m.push(u, h, f), m.push(h, p, f);
		this.setIndex(new(m.length > 65535 ? be : ge)(m, 1)),
		this.addAttribute("position", new ye(l, 3)),
		this.addAttribute("uv", new ye(c, 2)),
		this.computeVertexNormals()
	}
	function ht(e, t, n) {
		_e.call(this),
		this.type = "ParametricGeometry",
		this.parameters = {
			func: e,
			slices: t,
			stacks: n
		},
		this.fromBufferGeometry(new ut(e, t, n)),
		this.mergeVertices()
	}
	function pt(e, t, i, r) {
		function a(e) {
			for (var n = new l, i = new l, r = new l, a = 0; a < t.length; a += 3)
				c(t[a + 0], n), c(t[a + 1], i), c(t[a + 2], r), function (e, t, n, i) {
					var r,
					a,
					o = Math.pow(2, i),
					l = [];
					for (r = 0; r <= o; r++) {
						l[r] = [];
						var c = e.clone().lerp(n, r / o),
						d = t.clone().lerp(n, r / o),
						u = o - r;
						for (a = 0; a <= u; a++)
							l[r][a] = 0 === a && r === o ? c : c.clone().lerp(d, a / u)
					}
					for (r = 0; r < o; r++)
						for (a = 0; a < 2 * (o - r) - 1; a++) {
							var h = Math.floor(a / 2);
							a % 2 == 0 ? (s(l[r][h + 1]), s(l[r + 1][h]), s(l[r][h])) : (s(l[r][h + 1]), s(l[r + 1][h + 1]), s(l[r + 1][h]))
						}
				}
			(n, i, r, e)
		}
		function o() {
			for (var e = new l, t = 0; t < h.length; t += 3) {
				e.x = h[t + 0],
				e.y = h[t + 1],
				e.z = h[t + 2];
				var i = u(e) / 2 / Math.PI + .5,
				r = function (e) {
					return Math.atan2(-e.y, Math.sqrt(e.x * e.x + e.z * e.z))
				}
				(e) / Math.PI + .5;
				p.push(i, 1 - r)
			}
			!function () {
				for (var e = new l, t = new l, i = new l, r = new l, a = new n, o = new n, s = new n, c = 0, f = 0; c < h.length; c += 9, f += 6) {
					e.set(h[c + 0], h[c + 1], h[c + 2]),
					t.set(h[c + 3], h[c + 4], h[c + 5]),
					i.set(h[c + 6], h[c + 7], h[c + 8]),
					a.set(p[f + 0], p[f + 1]),
					o.set(p[f + 2], p[f + 3]),
					s.set(p[f + 4], p[f + 5]),
					r.copy(e).add(t).add(i).divideScalar(3);
					var m = u(r);
					d(a, f + 0, e, m),
					d(o, f + 2, t, m),
					d(s, f + 4, i, m)
				}
			}
			(),
			function () {
				for (var e = 0; e < p.length; e += 6) {
					var t = p[e + 0],
					n = p[e + 2],
					i = p[e + 4],
					r = Math.max(t, n, i),
					a = Math.min(t, n, i);
					r > .9 && a < .1 && (t < .2 && (p[e + 0] += 1), n < .2 && (p[e + 2] += 1), i < .2 && (p[e + 4] += 1))
				}
			}
			()
		}
		function s(e) {
			h.push(e.x, e.y, e.z)
		}
		function c(t, n) {
			var i = 3 * t;
			n.x = e[i + 0],
			n.y = e[i + 1],
			n.z = e[i + 2]
		}
		function d(e, t, n, i) {
			i < 0 && 1 === e.x && (p[t] = e.x - 1),
			0 === n.x && 0 === n.z && (p[t] = i / 2 / Math.PI + .5)
		}
		function u(e) {
			return Math.atan2(e.z, -e.x)
		}
		Ee.call(this),
		this.type = "PolyhedronBufferGeometry",
		this.parameters = {
			vertices: e,
			indices: t,
			radius: i,
			detail: r
		},
		i = i || 1;
		var h = [],
		p = [];
		a(r = r || 0),
		function (e) {
			for (var t = new l, n = 0; n < h.length; n += 3)
				t.x = h[n + 0], t.y = h[n + 1], t.z = h[n + 2], t.normalize().multiplyScalar(e), h[n + 0] = t.x, h[n + 1] = t.y, h[n + 2] = t.z
		}
		(i),
		o(),
		this.addAttribute("position", new ye(h, 3)),
		this.addAttribute("normal", new ye(h.slice(), 3)),
		this.addAttribute("uv", new ye(p, 2)),
		this.normalizeNormals(),
		this.boundingSphere = new Q(new l, i)
	}
	function ft(e, t) {
		pt.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], e, t),
		this.type = "TetrahedronBufferGeometry",
		this.parameters = {
			radius: e,
			detail: t
		}
	}
	function mt(e, t) {
		_e.call(this),
		this.type = "TetrahedronGeometry",
		this.parameters = {
			radius: e,
			detail: t
		},
		this.fromBufferGeometry(new ft(e, t)),
		this.mergeVertices()
	}
	function gt(e, t) {
		pt.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], e, t),
		this.type = "OctahedronBufferGeometry",
		this.parameters = {
			radius: e,
			detail: t
		}
	}
	function vt(e, t) {
		_e.call(this),
		this.type = "OctahedronGeometry",
		this.parameters = {
			radius: e,
			detail: t
		},
		this.fromBufferGeometry(new gt(e, t)),
		this.mergeVertices()
	}
	function bt(e, t) {
		var n = (1 + Math.sqrt(5)) / 2;
		pt.call(this, [-1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, 0, 0, -1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, n, 0, -1, n, 0, 1, -n, 0, -1, -n, 0, 1], [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], e, t),
		this.type = "IcosahedronBufferGeometry",
		this.parameters = {
			radius: e,
			detail: t
		}
	}
	function yt(e, t) {
		_e.call(this),
		this.type = "IcosahedronGeometry",
		this.parameters = {
			radius: e,
			detail: t
		},
		this.fromBufferGeometry(new bt(e, t)),
		this.mergeVertices()
	}
	function xt(e, t) {
		var n = (1 + Math.sqrt(5)) / 2,
		i = 1 / n;
		pt.call(this, [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, -i, -n, 0, -i, n, 0, i, -n, 0, i, n, 0, -n, 0, -i, n, 0, -i, -n, 0, i, n, 0, i], [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], e, t),
		this.type = "DodecahedronBufferGeometry",
		this.parameters = {
			radius: e,
			detail: t
		}
	}
	function wt(e, t) {
		_e.call(this),
		this.type = "DodecahedronGeometry",
		this.parameters = {
			radius: e,
			detail: t
		},
		this.fromBufferGeometry(new xt(e, t)),
		this.mergeVertices()
	}
	function _t(e, t, n, i) {
		_e.call(this),
		this.type = "PolyhedronGeometry",
		this.parameters = {
			vertices: e,
			indices: t,
			radius: n,
			detail: i
		},
		this.fromBufferGeometry(new pt(e, t, n, i)),
		this.mergeVertices()
	}
	function Tt(e, t, i, r, a) {
		function o() {
			for (d = 0; d < t; d++)
				s(d);
			s(!1 === a ? t : 0),
			function () {
				for (d = 0; d <= t; d++)
					for (u = 0; u <= r; u++)
						f.x = d / t, f.y = u / r, v.push(f.x, f.y)
			}
			(),
			function () {
				for (u = 1; u <= t; u++)
					for (d = 1; d <= r; d++) {
						var e = (r + 1) * (u - 1) + (d - 1),
						n = (r + 1) * u + (d - 1),
						i = (r + 1) * u + d,
						a = (r + 1) * (u - 1) + d;
						b.push(e, n, a),
						b.push(n, i, a)
					}
			}
			()
		}
		function s(n) {
			var a = e.getPointAt(n / t),
			o = c.normals[n],
			s = c.binormals[n];
			for (u = 0; u <= r; u++) {
				var l = u / r * Math.PI * 2,
				d = Math.sin(l),
				f = -Math.cos(l);
				p.x = f * o.x + d * s.x,
				p.y = f * o.y + d * s.y,
				p.z = f * o.z + d * s.z,
				p.normalize(),
				g.push(p.x, p.y, p.z),
				h.x = a.x + i * p.x,
				h.y = a.y + i * p.y,
				h.z = a.z + i * p.z,
				m.push(h.x, h.y, h.z)
			}
		}
		Ee.call(this),
		this.type = "TubeBufferGeometry",
		this.parameters = {
			path: e,
			tubularSegments: t,
			radius: i,
			radialSegments: r,
			closed: a
		},
		t = t || 64,
		i = i || 1,
		r = r || 8,
		a = a || !1;
		var c = e.computeFrenetFrames(t, a);
		this.tangents = c.tangents,
		this.normals = c.normals,
		this.binormals = c.binormals;
		var d,
		u,
		h = new l,
		p = new l,
		f = new n,
		m = [],
		g = [],
		v = [],
		b = [];
		o(),
		this.setIndex(new(b.length > 65535 ? be : ge)(b, 1)),
		this.addAttribute("position", new ye(m, 3)),
		this.addAttribute("normal", new ye(g, 3)),
		this.addAttribute("uv", new ye(v, 2))
	}
	function Et(e, t, n, i, r, a) {
		_e.call(this),
		this.type = "TubeGeometry",
		this.parameters = {
			path: e,
			tubularSegments: t,
			radius: n,
			radialSegments: i,
			closed: r
		},
		void 0 !== a && console.warn("THREE.TubeGeometry: taper has been removed.");
		var o = new Tt(e, t, n, i, r);
		this.tangents = o.tangents,
		this.normals = o.normals,
		this.binormals = o.binormals,
		this.fromBufferGeometry(o),
		this.mergeVertices()
	}
	function Mt(e, t, i, r, a, o) {
		function s(e, t, n, i, r) {
			var a = Math.cos(e),
			o = Math.sin(e),
			s = n / t * e,
			l = Math.cos(s);
			r.x = i * (2 + l) * .5 * a,
			r.y = i * (2 + l) * o * .5,
			r.z = i * Math.sin(s) * .5
		}
		Ee.call(this),
		this.type = "TorusKnotBufferGeometry",
		this.parameters = {
			radius: e,
			tube: t,
			tubularSegments: i,
			radialSegments: r,
			p: a,
			q: o
		},
		e = e || 100,
		t = t || 40,
		i = Math.floor(i) || 64,
		r = Math.floor(r) || 8,
		a = a || 2,
		o = o || 3;
		var c,
		d,
		u = (r + 1) * (i + 1),
		h = r * i * 2 * 3,
		p = new ue(new(h > 65535 ? Uint32Array : Uint16Array)(h), 1),
		f = new ue(new Float32Array(3 * u), 3),
		m = new ue(new Float32Array(3 * u), 3),
		g = new ue(new Float32Array(2 * u), 2),
		v = 0,
		b = 0,
		y = new l,
		x = new l,
		w = new n,
		_ = new l,
		T = new l,
		E = new l,
		M = new l,
		C = new l;
		for (c = 0; c <= i; ++c) {
			var S = c / i * a * Math.PI * 2;
			for (s(S, a, o, e, _), s(S + .01, a, o, e, T), M.subVectors(T, _), C.addVectors(T, _), E.crossVectors(M, C), C.crossVectors(E, M), E.normalize(), C.normalize(), d = 0; d <= r; ++d) {
				var A = d / r * Math.PI * 2,
				R = -t * Math.cos(A),
				P = t * Math.sin(A);
				y.x = _.x + (R * C.x + P * E.x),
				y.y = _.y + (R * C.y + P * E.y),
				y.z = _.z + (R * C.z + P * E.z),
				f.setXYZ(v, y.x, y.y, y.z),
				x.subVectors(y, _).normalize(),
				m.setXYZ(v, x.x, x.y, x.z),
				w.x = c / i,
				w.y = d / r,
				g.setXY(v, w.x, w.y),
				v++
			}
		}
		for (d = 1; d <= i; d++)
			for (c = 1; c <= r; c++) {
				var L = (r + 1) * (d - 1) + (c - 1),
				k = (r + 1) * d + (c - 1),
				O = (r + 1) * d + c,
				D = (r + 1) * (d - 1) + c;
				p.setX(b, L),
				b++,
				p.setX(b, k),
				b++,
				p.setX(b, D),
				b++,
				p.setX(b, k),
				b++,
				p.setX(b, O),
				b++,
				p.setX(b, D),
				b++
			}
		this.setIndex(p),
		this.addAttribute("position", f),
		this.addAttribute("normal", m),
		this.addAttribute("uv", g)
	}
	function Ct(e, t, n, i, r, a, o) {
		_e.call(this),
		this.type = "TorusKnotGeometry",
		this.parameters = {
			radius: e,
			tube: t,
			tubularSegments: n,
			radialSegments: i,
			p: r,
			q: a
		},
		void 0 !== o && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),
		this.fromBufferGeometry(new Mt(e, t, n, i, r, a)),
		this.mergeVertices()
	}
	function St(e, t, n, i, r) {
		Ee.call(this),
		this.type = "TorusBufferGeometry",
		this.parameters = {
			radius: e,
			tube: t,
			radialSegments: n,
			tubularSegments: i,
			arc: r
		},
		e = e || 100,
		t = t || 40,
		n = Math.floor(n) || 8,
		i = Math.floor(i) || 6,
		r = r || 2 * Math.PI;
		var a,
		o,
		s = (n + 1) * (i + 1),
		c = n * i * 2 * 3,
		d = new(c > 65535 ? Uint32Array : Uint16Array)(c),
		u = new Float32Array(3 * s),
		h = new Float32Array(3 * s),
		p = new Float32Array(2 * s),
		f = 0,
		m = 0,
		g = 0,
		v = new l,
		b = new l,
		y = new l;
		for (a = 0; a <= n; a++)
			for (o = 0; o <= i; o++) {
				var x = o / i * r,
				w = a / n * Math.PI * 2;
				b.x = (e + t * Math.cos(w)) * Math.cos(x),
				b.y = (e + t * Math.cos(w)) * Math.sin(x),
				b.z = t * Math.sin(w),
				u[f] = b.x,
				u[f + 1] = b.y,
				u[f + 2] = b.z,
				v.x = e * Math.cos(x),
				v.y = e * Math.sin(x),
				y.subVectors(b, v).normalize(),
				h[f] = y.x,
				h[f + 1] = y.y,
				h[f + 2] = y.z,
				p[m] = o / i,
				p[m + 1] = a / n,
				f += 3,
				m += 2
			}
		for (a = 1; a <= n; a++)
			for (o = 1; o <= i; o++) {
				var _ = (i + 1) * a + o - 1,
				T = (i + 1) * (a - 1) + o - 1,
				E = (i + 1) * (a - 1) + o,
				M = (i + 1) * a + o;
				d[g] = _,
				d[g + 1] = T,
				d[g + 2] = M,
				d[g + 3] = T,
				d[g + 4] = E,
				d[g + 5] = M,
				g += 6
			}
		this.setIndex(new ue(d, 1)),
		this.addAttribute("position", new ue(u, 3)),
		this.addAttribute("normal", new ue(h, 3)),
		this.addAttribute("uv", new ue(p, 2))
	}
	function At(e, t, n, i, r) {
		_e.call(this),
		this.type = "TorusGeometry",
		this.parameters = {
			radius: e,
			tube: t,
			radialSegments: n,
			tubularSegments: i,
			arc: r
		},
		this.fromBufferGeometry(new St(e, t, n, i, r))
	}
	function Rt(e, t) {
		void 0 !== e ? (_e.call(this), this.type = "ExtrudeGeometry", e = Array.isArray(e) ? e : [e], this.addShapeList(e, t), this.computeFaceNormals()) : e = []
	}
	function Pt(e, t) {
		var n = (t = t || {}).font;
		if (!1 === (n && n.isFont))
			return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new _e;
		var i = n.generateShapes(e, t.size, t.curveSegments);
		t.amount = void 0 !== t.height ? t.height : 50,
		void 0 === t.bevelThickness && (t.bevelThickness = 10),
		void 0 === t.bevelSize && (t.bevelSize = 8),
		void 0 === t.bevelEnabled && (t.bevelEnabled = !1),
		Rt.call(this, i, t),
		this.type = "TextGeometry"
	}
	function Lt(e, t, n, i, r, a, o) {
		Ee.call(this),
		this.type = "SphereBufferGeometry",
		this.parameters = {
			radius: e,
			widthSegments: t,
			heightSegments: n,
			phiStart: i,
			phiLength: r,
			thetaStart: a,
			thetaLength: o
		},
		e = e || 50,
		t = Math.max(3, Math.floor(t) || 8),
		n = Math.max(2, Math.floor(n) || 6),
		i = void 0 !== i ? i : 0,
		r = void 0 !== r ? r : 2 * Math.PI;
		for (var s = (a = void 0 !== a ? a : 0) + (o = void 0 !== o ? o : Math.PI), c = (t + 1) * (n + 1), d = new ue(new Float32Array(3 * c), 3), u = new ue(new Float32Array(3 * c), 3), h = new ue(new Float32Array(2 * c), 2), p = 0, f = [], m = new l, g = 0; g <= n; g++) {
			for (var v = [], b = g / n, y = 0; y <= t; y++) {
				var x = y / t,
				w = -e * Math.cos(i + x * r) * Math.sin(a + b * o),
				_ = e * Math.cos(a + b * o),
				T = e * Math.sin(i + x * r) * Math.sin(a + b * o);
				m.set(w, _, T).normalize(),
				d.setXYZ(p, w, _, T),
				u.setXYZ(p, m.x, m.y, m.z),
				h.setXY(p, x, 1 - b),
				v.push(p),
				p++
			}
			f.push(v)
		}
		for (var E = [], g = 0; g < n; g++)
			for (y = 0; y < t; y++) {
				var M = f[g][y + 1],
				C = f[g][y],
				S = f[g + 1][y],
				A = f[g + 1][y + 1];
				(0 !== g || a > 0) && E.push(M, C, A),
				(g !== n - 1 || s < Math.PI) && E.push(C, S, A)
			}
		this.setIndex(new(d.count > 65535 ? be : ge)(E, 1)),
		this.addAttribute("position", d),
		this.addAttribute("normal", u),
		this.addAttribute("uv", h),
		this.boundingSphere = new Q(new l, e)
	}
	function kt(e, t, n, i, r, a, o) {
		_e.call(this),
		this.type = "SphereGeometry",
		this.parameters = {
			radius: e,
			widthSegments: t,
			heightSegments: n,
			phiStart: i,
			phiLength: r,
			thetaStart: a,
			thetaLength: o
		},
		this.fromBufferGeometry(new Lt(e, t, n, i, r, a, o))
	}
	function Ot(e, t, i, r, a, o) {
		Ee.call(this),
		this.type = "RingBufferGeometry",
		this.parameters = {
			innerRadius: e,
			outerRadius: t,
			thetaSegments: i,
			phiSegments: r,
			thetaStart: a,
			thetaLength: o
		},
		e = e || 20,
		t = t || 50,
		a = void 0 !== a ? a : 0,
		o = void 0 !== o ? o : 2 * Math.PI;
		var s,
		c,
		d,
		u = ((i = void 0 !== i ? Math.max(3, i) : 8) + 1) * ((r = void 0 !== r ? Math.max(1, r) : 1) + 1),
		h = i * r * 2 * 3,
		p = new ue(new(h > 65535 ? Uint32Array : Uint16Array)(h), 1),
		f = new ue(new Float32Array(3 * u), 3),
		m = new ue(new Float32Array(3 * u), 3),
		g = new ue(new Float32Array(2 * u), 2),
		v = 0,
		b = 0,
		y = e,
		x = (t - e) / r,
		w = new l,
		_ = new n;
		for (c = 0; c <= r; c++) {
			for (d = 0; d <= i; d++)
				s = a + d / i * o, w.x = y * Math.cos(s), w.y = y * Math.sin(s), f.setXYZ(v, w.x, w.y, w.z), m.setXYZ(v, 0, 0, 1), _.x = (w.x / t + 1) / 2, _.y = (w.y / t + 1) / 2, g.setXY(v, _.x, _.y), v++;
			y += x
		}
		for (c = 0; c < r; c++) {
			var T = c * (i + 1);
			for (d = 0; d < i; d++) {
				var E = s = d + T,
				M = s + i + 1,
				C = s + i + 2,
				S = s + 1;
				p.setX(b, E),
				b++,
				p.setX(b, M),
				b++,
				p.setX(b, C),
				b++,
				p.setX(b, E),
				b++,
				p.setX(b, C),
				b++,
				p.setX(b, S),
				b++
			}
		}
		this.setIndex(p),
		this.addAttribute("position", f),
		this.addAttribute("normal", m),
		this.addAttribute("uv", g)
	}
	function Dt(e, t, n, i, r, a) {
		_e.call(this),
		this.type = "RingGeometry",
		this.parameters = {
			innerRadius: e,
			outerRadius: t,
			thetaSegments: n,
			phiSegments: i,
			thetaStart: r,
			thetaLength: a
		},
		this.fromBufferGeometry(new Ot(e, t, n, i, r, a))
	}
	function It(e, t, n, i) {
		_e.call(this),
		this.type = "PlaneGeometry",
		this.parameters = {
			width: e,
			height: t,
			widthSegments: n,
			heightSegments: i
		},
		this.fromBufferGeometry(new Se(e, t, n, i))
	}
	function Ft(e, t, i, r) {
		Ee.call(this),
		this.type = "LatheBufferGeometry",
		this.parameters = {
			points: e,
			segments: t,
			phiStart: i,
			phiLength: r
		},
		t = Math.floor(t) || 12,
		i = i || 0,
		r = r || 2 * Math.PI,
		r = Ja.clamp(r, 0, 2 * Math.PI);
		var a,
		o,
		s,
		c = (t + 1) * e.length,
		d = t * e.length * 2 * 3,
		u = new ue(new(d > 65535 ? Uint32Array : Uint16Array)(d), 1),
		h = new ue(new Float32Array(3 * c), 3),
		p = new ue(new Float32Array(2 * c), 2),
		f = 0,
		m = 0,
		g = 1 / t,
		v = new l,
		b = new n;
		for (o = 0; o <= t; o++) {
			var y = i + o * g * r,
			x = Math.sin(y),
			w = Math.cos(y);
			for (s = 0; s <= e.length - 1; s++)
				v.x = e[s].x * x, v.y = e[s].y, v.z = e[s].x * w, h.setXYZ(f, v.x, v.y, v.z), b.x = o / t, b.y = s / (e.length - 1), p.setXY(f, b.x, b.y), f++
		}
		for (o = 0; o < t; o++)
			for (s = 0; s < e.length - 1; s++) {
				var _ = a = s + o * e.length,
				T = a + e.length,
				E = a + e.length + 1,
				M = a + 1;
				u.setX(m, _),
				m++,
				u.setX(m, T),
				m++,
				u.setX(m, M),
				m++,
				u.setX(m, T),
				m++,
				u.setX(m, E),
				m++,
				u.setX(m, M),
				m++
			}
		if (this.setIndex(u), this.addAttribute("position", h), this.addAttribute("uv", p), this.computeVertexNormals(), r === 2 * Math.PI) {
			var C = this.attributes.normal.array,
			S = new l,
			A = new l,
			R = new l;
			for (a = t * e.length * 3, o = 0, s = 0; o < e.length; o++, s += 3)
				S.x = C[s + 0], S.y = C[s + 1], S.z = C[s + 2], A.x = C[a + s + 0], A.y = C[a + s + 1], A.z = C[a + s + 2], R.addVectors(S, A).normalize(), C[s + 0] = C[a + s + 0] = R.x, C[s + 1] = C[a + s + 1] = R.y, C[s + 2] = C[a + s + 2] = R.z
		}
	}
	function Nt(e, t, n, i) {
		_e.call(this),
		this.type = "LatheGeometry",
		this.parameters = {
			points: e,
			segments: t,
			phiStart: n,
			phiLength: i
		},
		this.fromBufferGeometry(new Ft(e, t, n, i)),
		this.mergeVertices()
	}
	function zt(e, t) {
		function n(e) {
			var n,
			s,
			c,
			d = i.length / 3,
			u = e.extractPoints(t),
			h = u.shape,
			p = u.holes;
			if (!1 === fo.isClockWise(h))
				for (h = h.reverse(), n = 0, s = p.length; n < s; n++)
					c = p[n], !0 === fo.isClockWise(c) && (p[n] = c.reverse());
			var f = fo.triangulateShape(h, p);
			for (n = 0, s = p.length; n < s; n++)
				c = p[n], h = h.concat(c);
			for (n = 0, s = h.length; n < s; n++) {
				var m = h[n];
				i.push(m.x, m.y, 0),
				r.push(0, 0, 1),
				a.push(m.x, m.y)
			}
			for (n = 0, s = f.length; n < s; n++) {
				var g = f[n],
				v = g[0] + d,
				b = g[1] + d,
				y = g[2] + d;
				o.push(v, b, y),
				l += 3
			}
		}
		Ee.call(this),
		this.type = "ShapeBufferGeometry",
		this.parameters = {
			shapes: e,
			curveSegments: t
		},
		t = t || 12;
		var i = [],
		r = [],
		a = [],
		o = [],
		s = 0,
		l = 0;
		if (!1 === Array.isArray(e))
			n(e);
		else
			for (var c = 0; c < e.length; c++)
				n(e[c]), this.addGroup(s, l, c), s += l, l = 0;
		this.setIndex(new(o.length > 65535 ? be : ge)(o, 1)),
		this.addAttribute("position", new ye(i, 3)),
		this.addAttribute("normal", new ye(r, 3)),
		this.addAttribute("uv", new ye(a, 2))
	}
	function Ht(e, t) {
		_e.call(this),
		this.type = "ShapeGeometry",
		"object" == typeof t && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."), t = t.curveSegments),
		this.parameters = {
			shapes: e,
			curveSegments: t
		},
		this.fromBufferGeometry(new zt(e, t)),
		this.mergeVertices()
	}
	function Ut(e, t) {
		function n(e, t) {
			return e - t
		}
		Ee.call(this),
		t = void 0 !== t ? t : 1;
		var i,
		r = Math.cos(Ja.DEG2RAD * t),
		a = [0, 0],
		o = {},
		s = ["a", "b", "c"];
		e.isBufferGeometry ? (i = new _e).fromBufferGeometry(e) : i = e.clone(),
		i.mergeVertices(),
		i.computeFaceNormals();
		for (var l = i.vertices, c = i.faces, d = 0, u = c.length; d < u; d++)
			for (var h = c[d], p = 0; p < 3; p++) {
				a[0] = h[s[p]],
				a[1] = h[s[(p + 1) % 3]],
				a.sort(n);
				void 0 === o[m = a.toString()] ? o[m] = {
					vert1: a[0],
					vert2: a[1],
					face1: d,
					face2: void 0
				}
				 : o[m].face2 = d
			}
		var f = [];
		for (var m in o) {
			var g = o[m];
			if (void 0 === g.face2 || c[g.face1].normal.dot(c[g.face2].normal) <= r) {
				var v = l[g.vert1];
				f.push(v.x),
				f.push(v.y),
				f.push(v.z),
				v = l[g.vert2],
				f.push(v.x),
				f.push(v.y),
				f.push(v.z)
			}
		}
		this.addAttribute("position", new ye(f, 3))
	}
	function Bt(e, t, i, r, a, o, s, c) {
		function d(i) {
			var a,
			o,
			d,
			h = new n,
			p = new l,
			f = 0,
			w = !0 === i ? e : t,
			E = !0 === i ? 1 : -1;
			for (o = y, a = 1; a <= r; a++)
				g.setXYZ(y, 0, _ * E, 0), v.setXYZ(y, 0, E, 0), h.x = .5, h.y = .5, b.setXY(y, h.x, h.y), y++;
			for (d = y, a = 0; a <= r; a++) {
				var M = a / r * c + s,
				C = Math.cos(M),
				S = Math.sin(M);
				p.x = w * S,
				p.y = _ * E,
				p.z = w * C,
				g.setXYZ(y, p.x, p.y, p.z),
				v.setXYZ(y, 0, E, 0),
				h.x = .5 * C + .5,
				h.y = .5 * S * E + .5,
				b.setXY(y, h.x, h.y),
				y++
			}
			for (a = 0; a < r; a++) {
				var A = o + a,
				R = d + a;
				!0 === i ? (m.setX(x, R), x++, m.setX(x, R + 1), x++, m.setX(x, A), x++) : (m.setX(x, R + 1), x++, m.setX(x, R), x++, m.setX(x, A), x++),
				f += 3
			}
			u.addGroup(T, f, !0 === i ? 1 : 2),
			T += f
		}
		Ee.call(this),
		this.type = "CylinderBufferGeometry",
		this.parameters = {
			radiusTop: e,
			radiusBottom: t,
			height: i,
			radialSegments: r,
			heightSegments: a,
			openEnded: o,
			thetaStart: s,
			thetaLength: c
		};
		var u = this;
		e = void 0 !== e ? e : 20,
		t = void 0 !== t ? t : 20,
		i = void 0 !== i ? i : 100,
		r = Math.floor(r) || 8,
		a = Math.floor(a) || 1,
		o = void 0 !== o && o,
		s = void 0 !== s ? s : 0,
		c = void 0 !== c ? c : 2 * Math.PI;
		var h = 0;
		!1 === o && (e > 0 && h++, t > 0 && h++);
		var p = function () {
			var e = (r + 1) * (a + 1);
			return !1 === o && (e += (r + 1) * h + r * h),
			e
		}
		(),
		f = function () {
			var e = r * a * 2 * 3;
			return !1 === o && (e += r * h * 3),
			e
		}
		(),
		m = new ue(new(f > 65535 ? Uint32Array : Uint16Array)(f), 1),
		g = new ue(new Float32Array(3 * p), 3),
		v = new ue(new Float32Array(3 * p), 3),
		b = new ue(new Float32Array(2 * p), 2),
		y = 0,
		x = 0,
		w = [],
		_ = i / 2,
		T = 0;
		!function () {
			var n,
			o,
			d = new l,
			h = new l,
			p = 0,
			f = (t - e) / i;
			for (o = 0; o <= a; o++) {
				var E = [],
				M = o / a,
				C = M * (t - e) + e;
				for (n = 0; n <= r; n++) {
					var S = n / r,
					A = S * c + s,
					R = Math.sin(A),
					P = Math.cos(A);
					h.x = C * R,
					h.y = -M * i + _,
					h.z = C * P,
					g.setXYZ(y, h.x, h.y, h.z),
					d.set(R, f, P).normalize(),
					v.setXYZ(y, d.x, d.y, d.z),
					b.setXY(y, S, 1 - M),
					E.push(y),
					y++
				}
				w.push(E)
			}
			for (n = 0; n < r; n++)
				for (o = 0; o < a; o++) {
					var L = w[o][n],
					k = w[o + 1][n],
					O = w[o + 1][n + 1],
					D = w[o][n + 1];
					m.setX(x, L),
					x++,
					m.setX(x, k),
					x++,
					m.setX(x, D),
					x++,
					m.setX(x, k),
					x++,
					m.setX(x, O),
					x++,
					m.setX(x, D),
					x++,
					p += 6
				}
			u.addGroup(T, p, 0),
			T += p
		}
		(),
		!1 === o && (e > 0 && d(!0), t > 0 && d(!1)),
		this.setIndex(m),
		this.addAttribute("position", g),
		this.addAttribute("normal", v),
		this.addAttribute("uv", b)
	}
	function jt(e, t, n, i, r, a, o, s) {
		_e.call(this),
		this.type = "CylinderGeometry",
		this.parameters = {
			radiusTop: e,
			radiusBottom: t,
			height: n,
			radialSegments: i,
			heightSegments: r,
			openEnded: a,
			thetaStart: o,
			thetaLength: s
		},
		this.fromBufferGeometry(new Bt(e, t, n, i, r, a, o, s)),
		this.mergeVertices()
	}
	function Vt(e, t, n, i, r, a, o) {
		jt.call(this, 0, e, t, n, i, r, a, o),
		this.type = "ConeGeometry",

		this.parameters = {
			radius: e,
			height: t,
			radialSegments: n,
			heightSegments: i,
			openEnded: r,
			thetaStart: a,
			thetaLength: o
		}
	}
	function Wt(e, t, n, i, r, a, o) {
		Bt.call(this, 0, e, t, n, i, r, a, o),
		this.type = "ConeBufferGeometry",
		this.parameters = {
			radius: e,
			height: t,
			radialSegments: n,
			heightSegments: i,
			openEnded: r,
			thetaStart: a,
			thetaLength: o
		}
	}
	function Gt(e, t, n, i) {
		Ee.call(this),
		this.type = "CircleBufferGeometry",
		this.parameters = {
			radius: e,
			segments: t,
			thetaStart: n,
			thetaLength: i
		},
		e = e || 50,
		t = void 0 !== t ? Math.max(3, t) : 8,
		n = void 0 !== n ? n : 0,
		i = void 0 !== i ? i : 2 * Math.PI;
		var r = t + 2,
		a = new Float32Array(3 * r),
		o = new Float32Array(3 * r),
		s = new Float32Array(2 * r);
		o[2] = 1,
		s[0] = .5,
		s[1] = .5;
		for (var c = 0, d = 3, u = 2; c <= t; c++, d += 3, u += 2) {
			var h = n + c / t * i;
			a[d] = e * Math.cos(h),
			a[d + 1] = e * Math.sin(h),
			o[d + 2] = 1,
			s[u] = (a[d] / e + 1) / 2,
			s[u + 1] = (a[d + 1] / e + 1) / 2
		}
		for (var p = [], d = 1; d <= t; d++)
			p.push(d, d + 1, 0);
		this.setIndex(new ue(new Uint16Array(p), 1)),
		this.addAttribute("position", new ue(a, 3)),
		this.addAttribute("normal", new ue(o, 3)),
		this.addAttribute("uv", new ue(s, 2)),
		this.boundingSphere = new Q(new l, e)
	}
	function $t(e, t, n, i) {
		_e.call(this),
		this.type = "CircleGeometry",
		this.parameters = {
			radius: e,
			segments: t,
			thetaStart: n,
			thetaLength: i
		},
		this.fromBufferGeometry(new Gt(e, t, n, i))
	}
	function Xt(e, t, n, i, r, a) {
		_e.call(this),
		this.type = "BoxGeometry",
		this.parameters = {
			width: e,
			height: t,
			depth: n,
			widthSegments: i,
			heightSegments: r,
			depthSegments: a
		},
		this.fromBufferGeometry(new Ce(e, t, n, i, r, a)),
		this.mergeVertices()
	}
	function Yt() {
		q.call(this, {
			uniforms: ro.merge([so.lights, {
						opacity: {
							value: 1
						}
					}
				]),
			vertexShader: ao.shadow_vert,
			fragmentShader: ao.shadow_frag
		}),
		this.lights = !0,
		this.transparent = !0,
		Object.defineProperties(this, {
			opacity: {
				enumerable: !0,
				get: function () {
					return this.uniforms.opacity.value
				},
				set: function (e) {
					this.uniforms.opacity.value = e
				}
			}
		})
	}
	function qt(e) {
		q.call(this, e),
		this.type = "RawShaderMaterial"
	}
	function Zt(e) {
		this.uuid = Ja.generateUUID(),
		this.type = "MultiMaterial",
		this.materials = Array.isArray(e) ? e : [],
		this.visible = !0
	}
	function Jt(e) {
		Y.call(this),
		this.defines = {
			STANDARD: ""
		},
		this.type = "MeshStandardMaterial",
		this.color = new V(16777215),
		this.roughness = .5,
		this.metalness = .5,
		this.map = null,
		this.lightMap = null,
		this.lightMapIntensity = 1,
		this.aoMap = null,
		this.aoMapIntensity = 1,
		this.emissive = new V(0),
		this.emissiveIntensity = 1,
		this.emissiveMap = null,
		this.bumpMap = null,
		this.bumpScale = 1,
		this.normalMap = null,
		this.normalScale = new n(1, 1),
		this.displacementMap = null,
		this.displacementScale = 1,
		this.displacementBias = 0,
		this.roughnessMap = null,
		this.metalnessMap = null,
		this.alphaMap = null,
		this.envMap = null,
		this.envMapIntensity = 1,
		this.refractionRatio = .98,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.wireframeLinecap = "round",
		this.wireframeLinejoin = "round",
		this.skinning = !1,
		this.morphTargets = !1,
		this.morphNormals = !1,
		this.setValues(e)
	}
	function Qt(e) {
		Jt.call(this),
		this.defines = {
			PHYSICAL: ""
		},
		this.type = "MeshPhysicalMaterial",
		this.reflectivity = .5,
		this.clearCoat = 0,
		this.clearCoatRoughness = 0,
		this.setValues(e)
	}
	function Kt(e) {
		Y.call(this),
		this.type = "MeshPhongMaterial",
		this.color = new V(16777215),
		this.specular = new V(1118481),
		this.shininess = 30,
		this.map = null,
		this.lightMap = null,
		this.lightMapIntensity = 1,
		this.aoMap = null,
		this.aoMapIntensity = 1,
		this.emissive = new V(0),
		this.emissiveIntensity = 1,
		this.emissiveMap = null,
		this.bumpMap = null,
		this.bumpScale = 1,
		this.normalMap = null,
		this.normalScale = new n(1, 1),
		this.displacementMap = null,
		this.displacementScale = 1,
		this.displacementBias = 0,
		this.specularMap = null,
		this.alphaMap = null,
		this.envMap = null,
		this.combine = Ir,
		this.reflectivity = 1,
		this.refractionRatio = .98,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.wireframeLinecap = "round",
		this.wireframeLinejoin = "round",
		this.skinning = !1,
		this.morphTargets = !1,
		this.morphNormals = !1,
		this.setValues(e)
	}
	function en(e) {
		Kt.call(this),
		this.defines = {
			TOON: ""
		},
		this.type = "MeshToonMaterial",
		this.gradientMap = null,
		this.setValues(e)
	}
	function tn(e) {
		Y.call(this, e),
		this.type = "MeshNormalMaterial",
		this.bumpMap = null,
		this.bumpScale = 1,
		this.normalMap = null,
		this.normalScale = new n(1, 1),
		this.displacementMap = null,
		this.displacementScale = 1,
		this.displacementBias = 0,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.fog = !1,
		this.lights = !1,
		this.skinning = !1,
		this.morphTargets = !1,
		this.morphNormals = !1,
		this.setValues(e)
	}
	function nn(e) {
		Y.call(this),
		this.type = "MeshLambertMaterial",
		this.color = new V(16777215),
		this.map = null,
		this.lightMap = null,
		this.lightMapIntensity = 1,
		this.aoMap = null,
		this.aoMapIntensity = 1,
		this.emissive = new V(0),
		this.emissiveIntensity = 1,
		this.emissiveMap = null,
		this.specularMap = null,
		this.alphaMap = null,
		this.envMap = null,
		this.combine = Ir,
		this.reflectivity = 1,
		this.refractionRatio = .98,
		this.wireframe = !1,
		this.wireframeLinewidth = 1,
		this.wireframeLinecap = "round",
		this.wireframeLinejoin = "round",
		this.skinning = !1,
		this.morphTargets = !1,
		this.morphNormals = !1,
		this.setValues(e)
	}
	function rn(e) {
		Y.call(this),
		this.type = "LineDashedMaterial",
		this.color = new V(16777215),
		this.linewidth = 1,
		this.scale = 1,
		this.dashSize = 3,
		this.gapSize = 1,
		this.lights = !1,
		this.setValues(e)
	}
	function an(e, t, n) {
		var i = this,
		r = !1,
		a = 0,
		o = 0;
		this.onStart = void 0,
		this.onLoad = e,
		this.onProgress = t,
		this.onError = n,
		this.itemStart = function (e) {
			o++,
			!1 === r && void 0 !== i.onStart && i.onStart(e, a, o),
			r = !0
		},
		this.itemEnd = function (e) {
			a++,
			void 0 !== i.onProgress && i.onProgress(e, a, o),
			a === o && (r = !1, void 0 !== i.onLoad && i.onLoad())
		},
		this.itemError = function (e) {
			void 0 !== i.onError && i.onError(e)
		}
	}
	function on(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function sn(e) {
		this.manager = void 0 !== e ? e : bo,
		this._parser = null
	}
	function ln(e) {
		this.manager = void 0 !== e ? e : bo,
		this._parser = null
	}
	function cn(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function dn(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function un(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function hn(e, t) {
		oe.call(this),
		this.type = "Light",
		this.color = new V(e),
		this.intensity = void 0 !== t ? t : 1,
		this.receiveShadow = void 0
	}
	function pn(e, t, n) {
		hn.call(this, e, n),
		this.type = "HemisphereLight",
		this.castShadow = void 0,
		this.position.copy(oe.DefaultUp),
		this.updateMatrix(),
		this.groundColor = new V(t)
	}
	function fn(e) {
		this.camera = e,
		this.bias = 0,
		this.radius = 1,
		this.mapSize = new n(512, 512),
		this.map = null,
		this.matrix = new c
	}
	function mn() {
		fn.call(this, new Re(50, 1, .5, 500))
	}
	function gn(e, t, n, i, r, a) {
		hn.call(this, e, t),
		this.type = "SpotLight",
		this.position.copy(oe.DefaultUp),
		this.updateMatrix(),
		this.target = new oe,
		Object.defineProperty(this, "power", {
			get: function () {
				return this.intensity * Math.PI
			},
			set: function (e) {
				this.intensity = e / Math.PI
			}
		}),
		this.distance = void 0 !== n ? n : 0,
		this.angle = void 0 !== i ? i : Math.PI / 3,
		this.penumbra = void 0 !== r ? r : 0,
		this.decay = void 0 !== a ? a : 1,
		this.shadow = new mn
	}
	function vn(e, t, n, i) {
		hn.call(this, e, t),
		this.type = "PointLight",
		Object.defineProperty(this, "power", {
			get: function () {
				return 4 * this.intensity * Math.PI
			},
			set: function (e) {
				this.intensity = e / (4 * Math.PI)
			}
		}),
		this.distance = void 0 !== n ? n : 0,
		this.decay = void 0 !== i ? i : 1,
		this.shadow = new fn(new Re(90, 1, .5, 500))
	}
	function bn(e) {
		fn.call(this, new Pe(-5, 5, 5, -5, .5, 500))
	}
	function yn(e, t) {
		hn.call(this, e, t),
		this.type = "DirectionalLight",
		this.position.copy(oe.DefaultUp),
		this.updateMatrix(),
		this.target = new oe,
		this.shadow = new bn
	}
	function xn(e, t) {
		hn.call(this, e, t),
		this.type = "AmbientLight",
		this.castShadow = void 0
	}
	function wn(e, t, n, i) {
		this.parameterPositions = e,
		this._cachedIndex = 0,
		this.resultBuffer = void 0 !== i ? i : new t.constructor(n),
		this.sampleValues = t,
		this.valueSize = n
	}
	function _n(e, t, n, i) {
		wn.call(this, e, t, n, i),
		this._weightPrev = -0,
		this._offsetPrev = -0,
		this._weightNext = -0,
		this._offsetNext = -0
	}
	function Tn(e, t, n, i) {
		wn.call(this, e, t, n, i)
	}
	function En(e, t, n, i) {
		wn.call(this, e, t, n, i)
	}
	function Mn(e, t, n, i) {
		if (void 0 === e)
			throw new Error("track name is undefined");
		if (void 0 === t || 0 === t.length)
			throw new Error("no keyframes in track named " + e);
		this.name = e,
		this.times = xo.convertArray(t, this.TimeBufferType),
		this.values = xo.convertArray(n, this.ValueBufferType),
		this.setInterpolation(i || this.DefaultInterpolation),
		this.validate(),
		this.optimize()
	}
	function Cn(e, t, n, i) {
		Mn.call(this, e, t, n, i)
	}
	function Sn(e, t, n, i) {
		wn.call(this, e, t, n, i)
	}
	function An(e, t, n, i) {
		Mn.call(this, e, t, n, i)
	}
	function Rn(e, t, n, i) {
		Mn.call(this, e, t, n, i)
	}
	function Pn(e, t, n, i) {
		Mn.call(this, e, t, n, i)
	}
	function Ln(e, t, n) {
		Mn.call(this, e, t, n)
	}
	function kn(e, t, n, i) {
		Mn.call(this, e, t, n, i)
	}
	function On(e, t, n, i) {
		Mn.apply(this, arguments)
	}
	function Dn(e, t, n) {
		this.name = e,
		this.tracks = n,
		this.duration = void 0 !== t ? t : -1,
		this.uuid = Ja.generateUUID(),
		this.duration < 0 && this.resetDuration(),
		this.optimize()
	}
	function In(e) {
		this.manager = void 0 !== e ? e : bo,
		this.textures = {}
	}
	function Fn(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function Nn() {
		this.onLoadStart = function () {},
		this.onLoadProgress = function () {},
		this.onLoadComplete = function () {}
	}
	function zn(e) {
		"boolean" == typeof e && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."), e = void 0),
		this.manager = void 0 !== e ? e : bo,
		this.withCredentials = !1
	}
	function Hn(e) {
		this.manager = void 0 !== e ? e : bo,
		this.texturePath = ""
	}
	function Un() {}
	function Bn(e, t) {
		this.v1 = e,
		this.v2 = t
	}
	function jn() {
		this.curves = [],
		this.autoClose = !1
	}
	function Vn(e, t, n, i, r, a, o, s) {
		this.aX = e,
		this.aY = t,
		this.xRadius = n,
		this.yRadius = i,
		this.aStartAngle = r,
		this.aEndAngle = a,
		this.aClockwise = o,
		this.aRotation = s || 0
	}
	function Wn(e) {
		this.points = void 0 === e ? [] : e
	}
	function Gn(e, t, n, i) {
		this.v0 = e,
		this.v1 = t,
		this.v2 = n,
		this.v3 = i
	}
	function $n(e, t, n) {
		this.v0 = e,
		this.v1 = t,
		this.v2 = n
	}
	function Xn() {
		Yn.apply(this, arguments),
		this.holes = []
	}
	function Yn(e) {
		jn.call(this),
		this.currentPoint = new n,
		e && this.fromPoints(e)
	}
	function qn() {
		this.subPaths = [],
		this.currentPath = null
	}
	function Zn(e) {
		this.data = e
	}
	function Jn(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function Qn(e) {
		this.manager = void 0 !== e ? e : bo
	}
	function Kn(e, t, n, i) {
		hn.call(this, e, t),
		this.type = "RectAreaLight",
		this.position.set(0, 1, 0),
		this.updateMatrix(),
		this.width = void 0 !== n ? n : 10,
		this.height = void 0 !== i ? i : 10
	}
	function ei() {
		this.type = "StereoCamera",
		this.aspect = 1,
		this.eyeSep = .064,
		this.cameraL = new Re,
		this.cameraL.layers.enable(1),
		this.cameraL.matrixAutoUpdate = !1,
		this.cameraR = new Re,
		this.cameraR.layers.enable(2),
		this.cameraR.matrixAutoUpdate = !1
	}
	function ti(e, t, n) {
		oe.call(this),
		this.type = "CubeCamera";
		var i = new Re(90, 1, e, t);
		i.up.set(0, -1, 0),
		i.lookAt(new l(1, 0, 0)),
		this.add(i);
		var r = new Re(90, 1, e, t);
		r.up.set(0, -1, 0),
		r.lookAt(new l(-1, 0, 0)),
		this.add(r);
		var a = new Re(90, 1, e, t);
		a.up.set(0, 0, 1),
		a.lookAt(new l(0, 1, 0)),
		this.add(a);
		var s = new Re(90, 1, e, t);
		s.up.set(0, 0, -1),
		s.lookAt(new l(0, -1, 0)),
		this.add(s);
		var c = new Re(90, 1, e, t);
		c.up.set(0, -1, 0),
		c.lookAt(new l(0, 0, 1)),
		this.add(c);
		var d = new Re(90, 1, e, t);
		d.up.set(0, -1, 0),
		d.lookAt(new l(0, 0, -1)),
		this.add(d);
		var u = {
			format: wa,
			magFilter: ra,
			minFilter: ra
		};
		this.renderTarget = new o(n, n, u),
		this.updateCubeMap = function (e, t) {
			null === this.parent && this.updateMatrixWorld();
			var n = this.renderTarget,
			o = n.texture.generateMipmaps;
			n.texture.generateMipmaps = !1,
			n.activeCubeFace = 0,
			e.render(t, i, n),
			n.activeCubeFace = 1,
			e.render(t, r, n),
			n.activeCubeFace = 2,
			e.render(t, a, n),
			n.activeCubeFace = 3,
			e.render(t, s, n),
			n.activeCubeFace = 4,
			e.render(t, c, n),
			n.texture.generateMipmaps = o,
			n.activeCubeFace = 5,
			e.render(t, d, n),
			e.setRenderTarget(null)
		}
	}
	function ni() {
		oe.call(this),
		this.type = "AudioListener",
		this.context = Mo.getContext(),
		this.gain = this.context.createGain(),
		this.gain.connect(this.context.destination),
		this.filter = null
	}
	function ii(e) {
		oe.call(this),
		this.type = "Audio",
		this.context = e.context,
		this.gain = this.context.createGain(),
		this.gain.connect(e.getInput()),
		this.autoplay = !1,
		this.buffer = null,
		this.loop = !1,
		this.startTime = 0,
		this.playbackRate = 1,
		this.isPlaying = !1,
		this.hasPlaybackControl = !0,
		this.sourceType = "empty",
		this.filters = []
	}
	function ri(e) {
		ii.call(this, e),
		this.panner = this.context.createPanner(),
		this.panner.connect(this.gain)
	}
	function ai(e, t) {
		this.analyser = e.context.createAnalyser(),
		this.analyser.fftSize = void 0 !== t ? t : 2048,
		this.data = new Uint8Array(this.analyser.frequencyBinCount),
		e.getOutput().connect(this.analyser)
	}
	function oi(e, t, n) {
		this.binding = e,
		this.valueSize = n;
		var i,
		r = Float64Array;
		switch (t) {
		case "quaternion":
			i = this._slerp;
			break;
		case "string":
		case "bool":
			r = Array,
			i = this._select;
			break;
		default:
			i = this._lerp
		}
		this.buffer = new r(4 * n),
		this._mixBufferRegion = i,
		this.cumulativeWeight = 0,
		this.useCount = 0,
		this.referenceCount = 0
	}
	function si(e, t, n) {
		this.path = t,
		this.parsedPath = n || si.parseTrackName(t),
		this.node = si.findNode(e, this.parsedPath.nodeName) || e,
		this.rootNode = e
	}
	function li(e) {
		this.uuid = Ja.generateUUID(),
		this._objects = Array.prototype.slice.call(arguments),
		this.nCachedObjects_ = 0;
		var t = {};
		this._indicesByUUID = t;
		for (var n = 0, i = arguments.length; n !== i; ++n)
			t[arguments[n].uuid] = n;
		this._paths = [],
		this._parsedPaths = [],
		this._bindings = [],
		this._bindingsIndicesByPath = {};
		var r = this;
		this.stats = {
			objects: {
				get total() {
					return r._objects.length
				},
				get inUse() {
					return this.total - r.nCachedObjects_
				}
			},
			get bindingsPerObject() {
				return r._bindings.length
			}
		}
	}
	function ci(e, t, n) {
		this._mixer = e,
		this._clip = t,
		this._localRoot = n || null;
		for (var i = t.tracks, r = i.length, a = new Array(r), o = {
				endingStart: za,
				endingEnd: za
			}, s = 0; s !== r; ++s) {
			var l = i[s].createInterpolant(null);
			a[s] = l,
			l.settings = o
		}
		this._interpolantSettings = o,
		this._interpolants = a,
		this._propertyBindings = new Array(r),
		this._cacheIndex = null,
		this._byClipCacheIndex = null,
		this._timeScaleInterpolant = null,
		this._weightInterpolant = null,
		this.loop = Na,
		this._loopCount = -1,
		this._startTime = null,
		this.time = 0,
		this.timeScale = 1,
		this._effectiveTimeScale = 1,
		this.weight = 1,
		this._effectiveWeight = 1,
		this.repetitions = 1 / 0,
		this.paused = !1,
		this.enabled = !0,
		this.clampWhenFinished = !1,
		this.zeroSlopeAtStart = !0,
		this.zeroSlopeAtEnd = !0
	}
	function di(e) {
		this._root = e,
		this._initMemoryManager(),
		this._accuIndex = 0,
		this.time = 0,
		this.timeScale = 1
	}
	function ui(e) {
		"string" == typeof e && (console.warn("THREE.Uniform: Type parameter is no longer needed."), e = arguments[1]),
		this.value = e
	}
	function hi() {
		Ee.call(this),
		this.type = "InstancedBufferGeometry",
		this.maxInstancedCount = void 0
	}
	function pi(e, t, n, i) {
		this.uuid = Ja.generateUUID(),
		this.data = e,
		this.itemSize = t,
		this.offset = n,
		this.normalized = !0 === i
	}
	function fi(e, t) {
		this.uuid = Ja.generateUUID(),
		this.array = e,
		this.stride = t,
		this.count = void 0 !== e ? e.length / t : 0,
		this.dynamic = !1,
		this.updateRange = {
			offset: 0,
			count: -1
		},
		this.onUploadCallback = function () {},
		this.version = 0
	}
	function mi(e, t, n) {
		fi.call(this, e, t),
		this.meshPerAttribute = n || 1
	}
	function gi(e, t, n) {
		ue.call(this, e, t),
		this.meshPerAttribute = n || 1
	}
	function vi(e, t, n, i) {
		this.ray = new ie(e, t),
		this.near = n || 0,
		this.far = i || 1 / 0,
		this.params = {
			Mesh: {},
			Line: {},
			LOD: {},
			Points: {
				threshold: 1
			},
			Sprite: {}
		},
		Object.defineProperties(this.params, {
			PointCloud: {
				get: function () {
					return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),
					this.Points
				}
			}
		})
	}
	function bi(e, t) {
		return e.distance - t.distance
	}
	function yi(e, t, n, i) {
		if (!1 !== e.visible && (e.raycast(t, n), !0 === i))
			for (var r = e.children, a = 0, o = r.length; a < o; a++)
				yi(r[a], t, n, !0)
	}
	function xi(e) {
		this.autoStart = void 0 === e || e,
		this.startTime = 0,
		this.oldTime = 0,
		this.elapsedTime = 0,
		this.running = !1
	}
	function wi(e, t, n) {
		return this.radius = void 0 !== e ? e : 1,
		this.phi = void 0 !== t ? t : 0,
		this.theta = void 0 !== n ? n : 0,
		this
	}
	function _i(e, t, n) {
		return this.radius = void 0 !== e ? e : 1,
		this.theta = void 0 !== t ? t : 0,
		this.y = void 0 !== n ? n : 0,
		this
	}
	function Ti(e, t) {
		Me.call(this, e, t),
		this.animationsMap = {},
		this.animationsList = [];
		var n = this.geometry.morphTargets.length,
		i = n - 1,
		r = n / 1;
		this.createAnimation("__default", 0, i, r),
		this.setAnimationWeight("__default", 1)
	}
	function Ei(e) {
		oe.call(this),
		this.material = e,
		this.render = function (e) {}
	}
	function Mi(e, t, n, i) {
		this.object = e,
		this.size = void 0 !== t ? t : 1;
		var r = void 0 !== n ? n : 16711680,
		a = void 0 !== i ? i : 1,
		o = 0,
		s = this.object.geometry;
		s && s.isGeometry ? o = 3 * s.faces.length : s && s.isBufferGeometry && (o = s.attributes.normal.count);
		var l = new Ee,
		c = new ye(2 * o * 3, 3);
		l.addAttribute("position", c),
		nt.call(this, l, new et({
				color: r,
				linewidth: a
			})),
		this.matrixAutoUpdate = !1,
		this.update()
	}
	function Ci(e) {
		oe.call(this),
		this.light = e,
		this.light.updateMatrixWorld(),
		this.matrix = e.matrixWorld,
		this.matrixAutoUpdate = !1;
		for (var t = new Ee, n = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], i = 0, r = 1; i < 32; i++, r++) {
			var a = i / 32 * Math.PI * 2,
			o = r / 32 * Math.PI * 2;
			n.push(Math.cos(a), Math.sin(a), 1, Math.cos(o), Math.sin(o), 1)
		}
		t.addAttribute("position", new ye(n, 3));
		var s = new et({
				fog: !1
			});
		this.cone = new nt(t, s),
		this.add(this.cone),
		this.update()
	}
	function Si(e) {
		this.bones = this.getBoneList(e);
		for (var t = new Ee, n = [], i = [], r = new V(0, 0, 1), a = new V(0, 1, 0), o = 0; o < this.bones.length; o++) {
			var s = this.bones[o];
			s.parent && s.parent.isBone && (n.push(0, 0, 0), n.push(0, 0, 0), i.push(r.r, r.g, r.b), i.push(a.r, a.g, a.b))
		}
		t.addAttribute("position", new ye(n, 3)),
		t.addAttribute("color", new ye(i, 3));
		var l = new et({
				vertexColors: nr,
				depthTest: !1,
				depthWrite: !1,
				transparent: !0
			});
		nt.call(this, t, l),
		this.root = e,
		this.matrix = e.matrixWorld,
		this.matrixAutoUpdate = !1,
		this.update()
	}
	function Ai(e, t) {
		this.light = e,
		this.light.updateMatrixWorld();
		var n = new Lt(t, 4, 2),
		i = new de({
				wireframe: !0,
				fog: !1
			});
		i.color.copy(this.light.color).multiplyScalar(this.light.intensity),
		Me.call(this, n, i),
		this.matrix = this.light.matrixWorld,
		this.matrixAutoUpdate = !1
	}
	function Ri(e) {
		oe.call(this),
		this.light = e,
		this.light.updateMatrixWorld();
		var t = new de({
				color: e.color,
				fog: !1
			}),
		n = new de({
				color: e.color,
				fog: !1,
				wireframe: !0
			}),
		i = new Ee;
		i.addAttribute("position", new ue(new Float32Array(18), 3)),
		this.add(new Me(i, t)),
		this.add(new Me(i, n)),
		this.update()
	}
	function Pi(e, t) {
		oe.call(this),
		this.light = e,
		this.light.updateMatrixWorld(),
		this.matrix = e.matrixWorld,
		this.matrixAutoUpdate = !1;
		var n = new gt(t);
		n.rotateY(.5 * Math.PI);
		var i = new de({
				vertexColors: nr,
				wireframe: !0
			}),
		r = n.getAttribute("position"),
		a = new Float32Array(3 * r.count);
		n.addAttribute("color", new ue(a, 3)),
		this.add(new Me(n, i)),
		this.update()
	}
	function Li(e, t, n, i) {
		e = e || 10,
		t = t || 10,
		n = new V(void 0 !== n ? n : 4473924),
		i = new V(void 0 !== i ? i : 8947848);
		for (var r = t / 2, a = 2 * e / t, o = [], s = [], l = 0, c = 0, d = -e; l <= t; l++, d += a) {
			o.push(-e, 0, d, e, 0, d),
			o.push(d, 0, -e, d, 0, e);
			var u = l === r ? n : i;
			u.toArray(s, c),
			c += 3,
			u.toArray(s, c),
			c += 3,
			u.toArray(s, c),
			c += 3,
			u.toArray(s, c),
			c += 3
		}
		var h = new Ee;
		h.addAttribute("position", new ye(o, 3)),
		h.addAttribute("color", new ye(s, 3));
		var p = new et({
				vertexColors: nr
			});
		nt.call(this, h, p)
	}
	function ki(e, t, n, i, r, a) {
		e = e || 10,
		t = t || 16,
		n = n || 8,
		i = i || 64,
		r = new V(void 0 !== r ? r : 4473924),
		a = new V(void 0 !== a ? a : 8947848);
		var o,
		s,
		l,
		c,
		d,
		u,
		h,
		p = [],
		f = [];
		for (c = 0; c <= t; c++)
			l = c / t * (2 * Math.PI), o = Math.sin(l) * e, s = Math.cos(l) * e, p.push(0, 0, 0), p.push(o, 0, s), h = 1 & c ? r : a, f.push(h.r, h.g, h.b), f.push(h.r, h.g, h.b);
		for (c = 0; c <= n; c++)
			for (h = 1 & c ? r : a, u = e - e / n * c, d = 0; d < i; d++)
				l = d / i * (2 * Math.PI), o = Math.sin(l) * u, s = Math.cos(l) * u, p.push(o, 0, s), f.push(h.r, h.g, h.b), l = (d + 1) / i * (2 * Math.PI), o = Math.sin(l) * u, s = Math.cos(l) * u, p.push(o, 0, s), f.push(h.r, h.g, h.b);
		var m = new Ee;
		m.addAttribute("position", new ye(p, 3)),
		m.addAttribute("color", new ye(f, 3));
		var g = new et({
				vertexColors: nr
			});
		nt.call(this, m, g)
	}
	function Oi(e, t, n, i) {
		this.object = e,
		this.size = void 0 !== t ? t : 1;
		var r = void 0 !== n ? n : 16776960,
		a = void 0 !== i ? i : 1,
		o = 0,
		s = this.object.geometry;
		s && s.isGeometry ? o = s.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");
		var l = new Ee,
		c = new ye(2 * o * 3, 3);
		l.addAttribute("position", c),
		nt.call(this, l, new et({
				color: r,
				linewidth: a
			})),
		this.matrixAutoUpdate = !1,
		this.update()
	}
	function Di(e, t) {
		oe.call(this),
		this.light = e,
		this.light.updateMatrixWorld(),
		this.matrix = e.matrixWorld,
		this.matrixAutoUpdate = !1,
		void 0 === t && (t = 1);
		var n = new Ee;
		n.addAttribute("position", new ye([-t, t, 0, t, t, 0, t, -t, 0, -t, -t, 0, -t, t, 0], 3));
		var i = new et({
				fog: !1
			});
		this.add(new tt(n, i)),
		(n = new Ee).addAttribute("position", new ye([0, 0, 0, 0, 0, 1], 3)),
		this.add(new tt(n, i)),
		this.update()
	}
	function Ii(e) {
		function t(e, t, i) {
			n(e, i),
			n(t, i)
		}
		function n(e, t) {
			a.push(0, 0, 0),
			o.push(t.r, t.g, t.b),
			void 0 === s[e] && (s[e] = []),
			s[e].push(a.length / 3 - 1)
		}
		var i = new Ee,
		r = new et({
				color: 16777215,
				vertexColors: tr
			}),
		a = [],
		o = [],
		s = {},
		l = new V(16755200),
		c = new V(16711680),
		d = new V(43775),
		u = new V(16777215),
		h = new V(3355443);
		t("n1", "n2", l),
		t("n2", "n4", l),
		t("n4", "n3", l),
		t("n3", "n1", l),
		t("f1", "f2", l),
		t("f2", "f4", l),
		t("f4", "f3", l),
		t("f3", "f1", l),
		t("n1", "f1", l),
		t("n2", "f2", l),
		t("n3", "f3", l),
		t("n4", "f4", l),
		t("p", "n1", c),
		t("p", "n2", c),
		t("p", "n3", c),
		t("p", "n4", c),
		t("u1", "u2", d),
		t("u2", "u3", d),
		t("u3", "u1", d),
		t("c", "t", u),
		t("p", "c", h),
		t("cn1", "cn2", h),
		t("cn3", "cn4", h),
		t("cf1", "cf2", h),
		t("cf3", "cf4", h),
		i.addAttribute("position", new ye(a, 3)),
		i.addAttribute("color", new ye(o, 3)),
		nt.call(this, i, r),
		this.camera = e,
		this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(),
		this.matrix = e.matrixWorld,
		this.matrixAutoUpdate = !1,
		this.pointMap = s,
		this.update()
	}
	function Fi(e, t) {
		void 0 === t && (t = 16776960);
		var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
		i = new Float32Array(24),
		r = new Ee;
		r.setIndex(new ue(n, 1)),
		r.addAttribute("position", new ue(i, 3)),
		nt.call(this, r, new et({
				color: t
			})),
		void 0 !== e && this.update(e)
	}
	function Ni(e, t, n, i, r, a) {
		oe.call(this),
		void 0 === i && (i = 16776960),
		void 0 === n && (n = 1),
		void 0 === r && (r = .2 * n),
		void 0 === a && (a = .2 * r),
		this.position.copy(t),
		this.line = new tt(Co, new et({
					color: i
				})),
		this.line.matrixAutoUpdate = !1,
		this.add(this.line),
		this.cone = new Me(So, new de({
					color: i
				})),
		this.cone.matrixAutoUpdate = !1,
		this.add(this.cone),
		this.setDirection(e),
		this.setLength(n, r, a)
	}
	function zi(e) {
		var t = [0, 0, 0, e = e || 1, 0, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, 0, e],
		n = new Ee;
		n.addAttribute("position", new ye(t, 3)),
		n.addAttribute("color", new ye([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1], 3));
		var i = new et({
				vertexColors: nr
			});
		nt.call(this, n, i)
	}
	function Hi(e, t, n, i, r, a) {
		Vn.call(this, e, t, n, n, i, r, a)
	}
	function Ui(e) {
		console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
		Ao.call(this, e),
		this.type = "catmullrom",
		this.closed = !0
	}
	void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)),
	void 0 === Math.sign && (Math.sign = function (e) {
		return e < 0 ? -1 : e > 0 ? 1 : +e
	}),
	void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
		get: function () {
			return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
		}
	}),
	void 0 === Object.assign && (Object.assign = function (e) {
		if (void 0 === e || null === e)
			throw new TypeError("Cannot convert undefined or null to object");
		for (var t = Object(e), n = 1; n < arguments.length; n++) {
			var i = arguments[n];
			if (void 0 !== i && null !== i)
				for (var r in i)
					Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r])
		}
		return t
	}),
	Object.assign(t.prototype, {
		addEventListener: function (e, t) {
			void 0 === this._listeners && (this._listeners = {});
			var n = this._listeners;
			void 0 === n[e] && (n[e] = []),
			-1 === n[e].indexOf(t) && n[e].push(t)
		},
		hasEventListener: function (e, t) {
			if (void 0 === this._listeners)
				return !1;
			var n = this._listeners;
			return void 0 !== n[e] && -1 !== n[e].indexOf(t)
		},
		removeEventListener: function (e, t) {
			if (void 0 !== this._listeners) {
				var n = this._listeners[e];
				if (void 0 !== n) {
					var i = n.indexOf(t);
					-1 !== i && n.splice(i, 1)
				}
			}
		},
		dispatchEvent: function (e) {
			if (void 0 !== this._listeners) {
				var t = this._listeners[e.type];
				if (void 0 !== t) {
					e.target = this;
					var n = [],
					i = 0,
					r = t.length;
					for (i = 0; i < r; i++)
						n[i] = t[i];
					for (i = 0; i < r; i++)
						n[i].call(this, e)
				}
			}
		}
	});
	var Bi = "83",
	ji = 0,
	Vi = 1,
	Wi = 2,
	Gi = 0,
	$i = 1,
	Xi = 2,
	Yi = 0,
	qi = 1,
	Zi = 2,
	Ji = 1,
	Qi = 2,
	Ki = 1561912255346,
	er = 0,
	tr = 1,
	nr = 2,
	ir = 0,
	rr = 1,
	ar = 2,
	or = 3,
	sr = 4,
	lr = 5,
	cr = {
		NoBlending: ir,
		NormalBlending: rr,
		AdditiveBlending: ar,
		SubtractiveBlending: or,
		MultiplyBlending: sr,
		CustomBlending: lr
	},
	dr = 100,
	ur = 101,
	hr = 102,
	pr = 103,
	fr = 104,
	mr = 200,
	gr = 201,
	vr = 202,
	br = 203,
	yr = 1561912255357,
	xr = 204,
	wr = 205,
	_r = 206,
	Tr = 207,
	Er = 208,
	Mr = 209,
	Cr = 210,
	Sr = 0,
	Ar = 1,
	Rr = 2,
	Pr = 3,
	Lr = 4,
	kr = 5,
	Or = 6,
	Dr = 7,
	Ir = 0,
	Fr = 1,
	Nr = 2,
	zr = 0,
	Hr = 1,
	Ur = 2,
	Br = 3,
	jr = 4,
	Vr = 301,
	Wr = 302,
	Gr = 303,
	$r = 304,
	Xr = 305,
	Yr = 306,
	qr = 307,
	Zr = {
		UVMapping: 300,
		CubeReflectionMapping: Vr,
		CubeRefractionMapping: Wr,
		EquirectangularReflectionMapping: Gr,
		EquirectangularRefractionMapping: $r,
		SphericalReflectionMapping: Xr,
		CubeUVReflectionMapping: Yr,
		CubeUVRefractionMapping: qr
	},
	Jr = 1e3,
	Qr = 1001,
	Kr = 1002,
	ea = {
		RepeatWrapping: Jr,
		ClampToEdgeWrapping: Qr,
		MirroredRepeatWrapping: Kr
	},
	ta = 1003,
	na = 1004,
	ia = 1005,
	ra = 1006,
	aa = 1007,
	oa = 1008,
	sa = {
		NearestFilter: ta,
		NearestMipMapNearestFilter: na,
		NearestMipMapLinearFilter: ia,
		LinearFilter: ra,
		LinearMipMapNearestFilter: aa,
		LinearMipMapLinearFilter: oa
	},
	la = 1009,
	ca = 1010,
	da = 1011,
	ua = 1012,
	ha = 1013,
	pa = 1014,
	fa = 1015,
	ma = 1016,
	ga = 1017,
	va = 1018,
	ba = 1019,
	ya = 1020,
	xa = 1021,
	wa = 1022,
	_a = 1023,
	Ta = 1024,
	Ea = 1025,
	Ma = _a,
	Ca = 1026,
	Sa = 1027,
	Aa = 2001,
	Ra = 2002,
	Pa = 2003,
	La = 2004,
	ka = 2100,
	Oa = 2101,
	Da = 2102,
	Ia = 2103,
	Fa = 2151,
	Na = 2201,
	za = 2400,
	Ha = 0,
	Ua = 1,
	Ba = 2,
	ja = 3e3,
	Va = 3001,
	Wa = 3007,
	Ga = 3002,
	$a = 3004,
	Xa = 3005,
	Ya = 3006,
	qa = 3200,
	Za = 3201,
	Ja = {
		DEG2RAD: Math.PI / 180,
		RAD2DEG: 180 / Math.PI,
		generateUUID: function () {
			var e,
			t = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
			n = new Array(36),
			i = 0;
			return function () {
				for (var r = 0; r < 36; r++)
					8 === r || 13 === r || 18 === r || 23 === r ? n[r] = "-" : 14 === r ? n[r] = "4" : (i <= 2 && (i = 33554432 + 16777216 * Math.random() | 0), e = 15 & i, i >>= 4, n[r] = t[19 === r ? 3 & e | 8 : e]);
				return n.join("")
			}
		}
		(),
		clamp: function (e, t, n) {
			return Math.max(t, Math.min(n, e))
		},
		euclideanModulo: function (e, t) {
			return (e % t + t) % t
		},
		mapLinear: function (e, t, n, i, r) {
			return i + (e - t) * (r - i) / (n - t)
		},
		lerp: function (e, t, n) {
			return (1 - n) * e + n * t
		},
		smoothstep: function (e, t, n) {
			return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * (3 - 2 * e)
		},
		smootherstep: function (e, t, n) {
			return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * e * (e * (6 * e - 15) + 10)
		},
		randInt: function (e, t) {
			return e + Math.floor(Math.random() * (t - e + 1))
		},
		randFloat: function (e, t) {
			return e + Math.random() * (t - e)
		},
		randFloatSpread: function (e) {
			return e * (.5 - Math.random())
		},
		degToRad: function (e) {
			return e * Ja.DEG2RAD
		},
		radToDeg: function (e) {
			return e * Ja.RAD2DEG
		},
		isPowerOfTwo: function (e) {
			return 0 == (e & e - 1) && 0 !== e
		},
		nearestPowerOfTwo: function (e) {
			return Math.pow(2, Math.round(Math.log(e) / Math.LN2))
		},
		nextPowerOfTwo: function (e) {
			return e--,
			e |= e >> 1,
			e |= e >> 2,
			e |= e >> 4,
			e |= e >> 8,
			e |= e >> 16,
			++e
		}
	};
	n.prototype = {
		constructor: n,
		isVector2: !0,
		get width() {
			return this.x
		},
		set width(e) {
			this.x = e
		},
		get height() {
			return this.y
		},
		set height(e) {
			this.y = e
		},
		set: function (e, t) {
			return this.x = e,
			this.y = t,
			this
		},
		setScalar: function (e) {
			return this.x = e,
			this.y = e,
			this
		},
		setX: function (e) {
			return this.x = e,
			this
		},
		setY: function (e) {
			return this.y = e,
			this
		},
		setComponent: function (e, t) {
			switch (e) {
			case 0:
				this.x = t;
				break;
			case 1:
				this.y = t;
				break;
			default:
				throw new Error("index is out of range: " + e)
			}
			return this
		},
		getComponent: function (e) {
			switch (e) {
			case 0:
				return this.x;
			case 1:
				return this.y;
			default:
				throw new Error("index is out of range: " + e)
			}
		},
		clone: function () {
			return new this.constructor(this.x, this.y)
		},
		copy: function (e) {
			return this.x = e.x,
			this.y = e.y,
			this
		},
		add: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this)
		},
		addScalar: function (e) {
			return this.x += e,
			this.y += e,
			this
		},
		addVectors: function (e, t) {
			return this.x = e.x + t.x,
			this.y = e.y + t.y,
			this
		},
		addScaledVector: function (e, t) {
			return this.x += e.x * t,
			this.y += e.y * t,
			this
		},
		sub: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this)
		},
		subScalar: function (e) {
			return this.x -= e,
			this.y -= e,
			this
		},
		subVectors: function (e, t) {
			return this.x = e.x - t.x,
			this.y = e.y - t.y,
			this
		},
		multiply: function (e) {
			return this.x *= e.x,
			this.y *= e.y,
			this
		},
		multiplyScalar: function (e) {
			return isFinite(e) ? (this.x *= e, this.y *= e) : (this.x = 0, this.y = 0),
			this
		},
		divide: function (e) {
			return this.x /= e.x,
			this.y /= e.y,
			this
		},
		divideScalar: function (e) {
			return this.multiplyScalar(1 / e)
		},
		min: function (e) {
			return this.x = Math.min(this.x, e.x),
			this.y = Math.min(this.y, e.y),
			this
		},
		max: function (e) {
			return this.x = Math.max(this.x, e.x),
			this.y = Math.max(this.y, e.y),
			this
		},
		clamp: function (e, t) {
			return this.x = Math.max(e.x, Math.min(t.x, this.x)),
			this.y = Math.max(e.y, Math.min(t.y, this.y)),
			this
		},
		clampScalar: function () {
			var e,

			t;
			return function (i, r) {
				return void 0 === e && (e = new n, t = new n),
				e.set(i, i),
				t.set(r, r),
				this.clamp(e, t)
			}
		}
		(),
		clampLength: function (e, t) {
			var n = this.length();
			return this.multiplyScalar(Math.max(e, Math.min(t, n)) / n)
		},
		floor: function () {
			return this.x = Math.floor(this.x),
			this.y = Math.floor(this.y),
			this
		},
		ceil: function () {
			return this.x = Math.ceil(this.x),
			this.y = Math.ceil(this.y),
			this
		},
		round: function () {
			return this.x = Math.round(this.x),
			this.y = Math.round(this.y),
			this
		},
		roundToZero: function () {
			return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
			this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
			this
		},
		negate: function () {
			return this.x = -this.x,
			this.y = -this.y,
			this
		},
		dot: function (e) {
			return this.x * e.x + this.y * e.y
		},
		lengthSq: function () {
			return this.x * this.x + this.y * this.y
		},
		length: function () {
			return Math.sqrt(this.x * this.x + this.y * this.y)
		},
		lengthManhattan: function () {
			return Math.abs(this.x) + Math.abs(this.y)
		},
		normalize: function () {
			return this.divideScalar(this.length())
		},
		angle: function () {
			var e = Math.atan2(this.y, this.x);
			return e < 0 && (e += 2 * Math.PI),
			e
		},
		distanceTo: function (e) {
			return Math.sqrt(this.distanceToSquared(e))
		},
		distanceToSquared: function (e) {
			var t = this.x - e.x,
			n = this.y - e.y;
			return t * t + n * n
		},
		distanceToManhattan: function (e) {
			return Math.abs(this.x - e.x) + Math.abs(this.y - e.y)
		},
		setLength: function (e) {
			return this.multiplyScalar(e / this.length())
		},
		lerp: function (e, t) {
			return this.x += (e.x - this.x) * t,
			this.y += (e.y - this.y) * t,
			this
		},
		lerpVectors: function (e, t, n) {
			return this.subVectors(t, e).multiplyScalar(n).add(e)
		},
		equals: function (e) {
			return e.x === this.x && e.y === this.y
		},
		fromArray: function (e, t) {
			return void 0 === t && (t = 0),
			this.x = e[t],
			this.y = e[t + 1],
			this
		},
		toArray: function (e, t) {
			return void 0 === e && (e = []),
			void 0 === t && (t = 0),
			e[t] = this.x,
			e[t + 1] = this.y,
			e
		},
		fromAttribute: function (e, t, n) {
			return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromAttribute()."),
			this.x = e.getX(t),
			this.y = e.getY(t),
			this
		},
		rotateAround: function (e, t) {
			var n = Math.cos(t),
			i = Math.sin(t),
			r = this.x - e.x,
			a = this.y - e.y;
			return this.x = r * n - a * i + e.x,
			this.y = r * i + a * n + e.y,
			this
		}
	};
	var Qa = 0;
	i.DEFAULT_IMAGE = void 0,
	i.DEFAULT_MAPPING = 300,
	i.prototype = {
		constructor: i,
		isTexture: !0,
		set needsUpdate(e) {
			!0 === e && this.version++
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.image = e.image,
			this.mipmaps = e.mipmaps.slice(0),
			this.mapping = e.mapping,
			this.wrapS = e.wrapS,
			this.wrapT = e.wrapT,
			this.magFilter = e.magFilter,
			this.minFilter = e.minFilter,
			this.anisotropy = e.anisotropy,
			this.format = e.format,
			this.type = e.type,
			this.offset.copy(e.offset),
			this.repeat.copy(e.repeat),
			this.generateMipmaps = e.generateMipmaps,
			this.premultiplyAlpha = e.premultiplyAlpha,
			this.flipY = e.flipY,
			this.unpackAlignment = e.unpackAlignment,
			this.encoding = e.encoding,
			this
		},
		toJSON: function (e) {
			if (void 0 !== e.textures[this.uuid])
				return e.textures[this.uuid];
			var t = {
				metadata: {
					version: 4.4,
					type: "Texture",
					generator: "Texture.toJSON"
				},
				uuid: this.uuid,
				name: this.name,
				mapping: this.mapping,
				repeat: [this.repeat.x, this.repeat.y],
				offset: [this.offset.x, this.offset.y],
				wrap: [this.wrapS, this.wrapT],
				minFilter: this.minFilter,
				magFilter: this.magFilter,
				anisotropy: this.anisotropy,
				flipY: this.flipY
			};
			if (void 0 !== this.image) {
				var n = this.image;
				void 0 === n.uuid && (n.uuid = Ja.generateUUID()),
				void 0 === e.images[n.uuid] && (e.images[n.uuid] = {
						uuid: n.uuid,
						url: function (e) {
							var t;
							return void 0 !== e.toDataURL ? t = e : ((t = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = e.width, t.height = e.height, t.getContext("2d").drawImage(e, 0, 0, e.width, e.height)),
							t.width > 2048 || t.height > 2048 ? t.toDataURL("image/jpeg", .6) : t.toDataURL("image/png")
						}
						(n)
					}),
				t.image = n.uuid
			}
			return e.textures[this.uuid] = t,
			t
		},
		dispose: function () {
			this.dispatchEvent({
				type: "dispose"
			})
		},
		transformUv: function (e) {
			if (300 === this.mapping) {
				if (e.multiply(this.repeat), e.add(this.offset), e.x < 0 || e.x > 1)
					switch (this.wrapS) {
					case Jr:
						e.x = e.x - Math.floor(e.x);
						break;
					case Qr:
						e.x = e.x < 0 ? 0 : 1;
						break;
					case Kr:
						1 === Math.abs(Math.floor(e.x) % 2) ? e.x = Math.ceil(e.x) - e.x : e.x = e.x - Math.floor(e.x)
					}
				if (e.y < 0 || e.y > 1)
					switch (this.wrapT) {
					case Jr:
						e.y = e.y - Math.floor(e.y);
						break;
					case Qr:
						e.y = e.y < 0 ? 0 : 1;
						break;
					case Kr:
						1 === Math.abs(Math.floor(e.y) % 2) ? e.y = Math.ceil(e.y) - e.y : e.y = e.y - Math.floor(e.y)
					}
				this.flipY && (e.y = 1 - e.y)
			}
		}
	},
	Object.assign(i.prototype, t.prototype),
	r.prototype = {
		constructor: r,
		isVector4: !0,
		set: function (e, t, n, i) {
			return this.x = e,
			this.y = t,
			this.z = n,
			this.w = i,
			this
		},
		setScalar: function (e) {
			return this.x = e,
			this.y = e,
			this.z = e,
			this.w = e,
			this
		},
		setX: function (e) {
			return this.x = e,
			this
		},
		setY: function (e) {
			return this.y = e,
			this
		},
		setZ: function (e) {
			return this.z = e,
			this
		},
		setW: function (e) {
			return this.w = e,
			this
		},
		setComponent: function (e, t) {
			switch (e) {
			case 0:
				this.x = t;
				break;
			case 1:
				this.y = t;
				break;
			case 2:
				this.z = t;
				break;
			case 3:
				this.w = t;
				break;
			default:
				throw new Error("index is out of range: " + e)
			}
			return this
		},
		getComponent: function (e) {
			switch (e) {
			case 0:
				return this.x;
			case 1:
				return this.y;
			case 2:
				return this.z;
			case 3:
				return this.w;
			default:
				throw new Error("index is out of range: " + e)
			}
		},
		clone: function () {
			return new this.constructor(this.x, this.y, this.z, this.w)
		},
		copy: function (e) {
			return this.x = e.x,
			this.y = e.y,
			this.z = e.z,
			this.w = void 0 !== e.w ? e.w : 1,
			this
		},
		add: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this.w += e.w, this)
		},
		addScalar: function (e) {
			return this.x += e,
			this.y += e,
			this.z += e,
			this.w += e,
			this
		},
		addVectors: function (e, t) {
			return this.x = e.x + t.x,
			this.y = e.y + t.y,
			this.z = e.z + t.z,
			this.w = e.w + t.w,
			this
		},
		addScaledVector: function (e, t) {
			return this.x += e.x * t,
			this.y += e.y * t,
			this.z += e.z * t,
			this.w += e.w * t,
			this
		},
		sub: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this.w -= e.w, this)
		},
		subScalar: function (e) {
			return this.x -= e,
			this.y -= e,
			this.z -= e,
			this.w -= e,
			this
		},
		subVectors: function (e, t) {
			return this.x = e.x - t.x,
			this.y = e.y - t.y,
			this.z = e.z - t.z,
			this.w = e.w - t.w,
			this
		},
		multiplyScalar: function (e) {
			return isFinite(e) ? (this.x *= e, this.y *= e, this.z *= e, this.w *= e) : (this.x = 0, this.y = 0, this.z = 0, this.w = 0),
			this
		},
		applyMatrix4: function (e) {
			var t = this.x,
			n = this.y,
			i = this.z,
			r = this.w,
			a = e.elements;
			return this.x = a[0] * t + a[4] * n + a[8] * i + a[12] * r,
			this.y = a[1] * t + a[5] * n + a[9] * i + a[13] * r,
			this.z = a[2] * t + a[6] * n + a[10] * i + a[14] * r,
			this.w = a[3] * t + a[7] * n + a[11] * i + a[15] * r,
			this
		},
		divideScalar: function (e) {
			return this.multiplyScalar(1 / e)
		},
		setAxisAngleFromQuaternion: function (e) {
			this.w = 2 * Math.acos(e.w);
			var t = Math.sqrt(1 - e.w * e.w);
			return t < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = e.x / t, this.y = e.y / t, this.z = e.z / t),
			this
		},
		setAxisAngleFromRotationMatrix: function (e) {
			var t,
			n,
			i,
			r,
			a = e.elements,
			o = a[0],
			s = a[4],
			l = a[8],
			c = a[1],
			d = a[5],
			u = a[9],
			h = a[2],
			p = a[6],
			f = a[10];
			if (Math.abs(s - c) < .01 && Math.abs(l - h) < .01 && Math.abs(u - p) < .01) {
				if (Math.abs(s + c) < .1 && Math.abs(l + h) < .1 && Math.abs(u + p) < .1 && Math.abs(o + d + f - 3) < .1)
					return this.set(1, 0, 0, 0), this;
				t = Math.PI;
				var m = (o + 1) / 2,
				g = (d + 1) / 2,
				v = (f + 1) / 2,
				b = (s + c) / 4,
				y = (l + h) / 4,
				x = (u + p) / 4;
				return m > g && m > v ? m < .01 ? (n = 0, i = .707106781, r = .707106781) : (i = b / (n = Math.sqrt(m)), r = y / n) : g > v ? g < .01 ? (n = .707106781, i = 0, r = .707106781) : (n = b / (i = Math.sqrt(g)), r = x / i) : v < .01 ? (n = .707106781, i = .707106781, r = 0) : (n = y / (r = Math.sqrt(v)), i = x / r),
				this.set(n, i, r, t),
				this
			}
			var w = Math.sqrt((p - u) * (p - u) + (l - h) * (l - h) + (c - s) * (c - s));
			return Math.abs(w) < .001 && (w = 1),
			this.x = (p - u) / w,
			this.y = (l - h) / w,
			this.z = (c - s) / w,
			this.w = Math.acos((o + d + f - 1) / 2),
			this
		},
		min: function (e) {
			return this.x = Math.min(this.x, e.x),
			this.y = Math.min(this.y, e.y),
			this.z = Math.min(this.z, e.z),
			this.w = Math.min(this.w, e.w),
			this
		},
		max: function (e) {
			return this.x = Math.max(this.x, e.x),
			this.y = Math.max(this.y, e.y),
			this.z = Math.max(this.z, e.z),
			this.w = Math.max(this.w, e.w),
			this
		},
		clamp: function (e, t) {
			return this.x = Math.max(e.x, Math.min(t.x, this.x)),
			this.y = Math.max(e.y, Math.min(t.y, this.y)),
			this.z = Math.max(e.z, Math.min(t.z, this.z)),
			this.w = Math.max(e.w, Math.min(t.w, this.w)),
			this
		},
		clampScalar: function () {
			var e,
			t;
			return function (n, i) {
				return void 0 === e && (e = new r, t = new r),
				e.set(n, n, n, n),
				t.set(i, i, i, i),
				this.clamp(e, t)
			}
		}
		(),
		floor: function () {
			return this.x = Math.floor(this.x),
			this.y = Math.floor(this.y),
			this.z = Math.floor(this.z),
			this.w = Math.floor(this.w),
			this
		},
		ceil: function () {
			return this.x = Math.ceil(this.x),
			this.y = Math.ceil(this.y),
			this.z = Math.ceil(this.z),
			this.w = Math.ceil(this.w),
			this
		},
		round: function () {
			return this.x = Math.round(this.x),
			this.y = Math.round(this.y),
			this.z = Math.round(this.z),
			this.w = Math.round(this.w),
			this
		},
		roundToZero: function () {
			return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
			this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
			this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
			this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w),
			this
		},
		negate: function () {
			return this.x = -this.x,
			this.y = -this.y,
			this.z = -this.z,
			this.w = -this.w,
			this
		},
		dot: function (e) {
			return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
		},
		lengthSq: function () {
			return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
		},
		length: function () {
			return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
		},
		lengthManhattan: function () {
			return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
		},
		normalize: function () {
			return this.divideScalar(this.length())
		},
		setLength: function (e) {
			return this.multiplyScalar(e / this.length())
		},
		lerp: function (e, t) {
			return this.x += (e.x - this.x) * t,
			this.y += (e.y - this.y) * t,
			this.z += (e.z - this.z) * t,
			this.w += (e.w - this.w) * t,
			this
		},
		lerpVectors: function (e, t, n) {
			return this.subVectors(t, e).multiplyScalar(n).add(e)
		},
		equals: function (e) {
			return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
		},
		fromArray: function (e, t) {
			return void 0 === t && (t = 0),
			this.x = e[t],
			this.y = e[t + 1],
			this.z = e[t + 2],
			this.w = e[t + 3],
			this
		},
		toArray: function (e, t) {
			return void 0 === e && (e = []),
			void 0 === t && (t = 0),
			e[t] = this.x,
			e[t + 1] = this.y,
			e[t + 2] = this.z,
			e[t + 3] = this.w,
			e
		},
		fromAttribute: function (e, t, n) {
			return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromAttribute()."),
			this.x = e.getX(t),
			this.y = e.getY(t),
			this.z = e.getZ(t),
			this.w = e.getW(t),
			this
		}
	},
	Object.assign(a.prototype, t.prototype, {
		isWebGLRenderTarget: !0,
		setSize: function (e, t) {
			this.width === e && this.height === t || (this.width = e, this.height = t, this.dispose()),
			this.viewport.set(0, 0, e, t),
			this.scissor.set(0, 0, e, t)
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.width = e.width,
			this.height = e.height,
			this.viewport.copy(e.viewport),
			this.texture = e.texture.clone(),
			this.depthBuffer = e.depthBuffer,
			this.stencilBuffer = e.stencilBuffer,
			this.depthTexture = e.depthTexture,
			this
		},
		dispose: function () {
			this.dispatchEvent({
				type: "dispose"
			})
		}
	}),
	(o.prototype = Object.create(a.prototype)).constructor = o,
	o.prototype.isWebGLRenderTargetCube = !0,
	s.prototype = {
		constructor: s,
		get x() {
			return this._x
		},
		set x(e) {
			this._x = e,
			this.onChangeCallback()
		},
		get y() {
			return this._y
		},
		set y(e) {
			this._y = e,
			this.onChangeCallback()
		},
		get z() {
			return this._z
		},
		set z(e) {
			this._z = e,
			this.onChangeCallback()
		},
		get w() {
			return this._w
		},
		set w(e) {
			this._w = e,
			this.onChangeCallback()
		},
		set: function (e, t, n, i) {
			return this._x = e,
			this._y = t,
			this._z = n,
			this._w = i,
			this.onChangeCallback(),
			this
		},
		clone: function () {
			return new this.constructor(this._x, this._y, this._z, this._w)
		},
		copy: function (e) {
			return this._x = e.x,
			this._y = e.y,
			this._z = e.z,
			this._w = e.w,
			this.onChangeCallback(),
			this
		},
		setFromEuler: function (e, t) {
			if (!1 === (e && e.isEuler))
				throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
			var n = Math.cos(e._x / 2),
			i = Math.cos(e._y / 2),
			r = Math.cos(e._z / 2),
			a = Math.sin(e._x / 2),
			o = Math.sin(e._y / 2),
			s = Math.sin(e._z / 2),
			l = e.order;
			return "XYZ" === l ? (this._x = a * i * r + n * o * s, this._y = n * o * r - a * i * s, this._z = n * i * s + a * o * r, this._w = n * i * r - a * o * s) : "YXZ" === l ? (this._x = a * i * r + n * o * s, this._y = n * o * r - a * i * s, this._z = n * i * s - a * o * r, this._w = n * i * r + a * o * s) : "ZXY" === l ? (this._x = a * i * r - n * o * s, this._y = n * o * r + a * i * s, this._z = n * i * s + a * o * r, this._w = n * i * r - a * o * s) : "ZYX" === l ? (this._x = a * i * r - n * o * s, this._y = n * o * r + a * i * s, this._z = n * i * s - a * o * r, this._w = n * i * r + a * o * s) : "YZX" === l ? (this._x = a * i * r + n * o * s, this._y = n * o * r + a * i * s, this._z = n * i * s - a * o * r, this._w = n * i * r - a * o * s) : "XZY" === l && (this._x = a * i * r - n * o * s, this._y = n * o * r - a * i * s, this._z = n * i * s + a * o * r, this._w = n * i * r + a * o * s),
			!1 !== t && this.onChangeCallback(),
			this
		},
		setFromAxisAngle: function (e, t) {
			var n = t / 2,
			i = Math.sin(n);
			return this._x = e.x * i,
			this._y = e.y * i,
			this._z = e.z * i,
			this._w = Math.cos(n),
			this.onChangeCallback(),
			this
		},
		setFromRotationMatrix: function (e) {
			var t,
			n = e.elements,
			i = n[0],
			r = n[4],
			a = n[8],
			o = n[1],
			s = n[5],
			l = n[9],
			c = n[2],
			d = n[6],
			u = n[10],
			h = i + s + u;
			return h > 0 ? (t = .5 / Math.sqrt(h + 1), this._w = .25 / t, this._x = (d - l) * t, this._y = (a - c) * t, this._z = (o - r) * t) : i > s && i > u ? (t = 2 * Math.sqrt(1 + i - s - u), this._w = (d - l) / t, this._x = .25 * t, this._y = (r + o) / t, this._z = (a + c) / t) : s > u ? (t = 2 * Math.sqrt(1 + s - i - u), this._w = (a - c) / t, this._x = (r + o) / t, this._y = .25 * t, this._z = (l + d) / t) : (t = 2 * Math.sqrt(1 + u - i - s), this._w = (o - r) / t, this._x = (a + c) / t, this._y = (l + d) / t, this._z = .25 * t),
			this.onChangeCallback(),
			this
		},
		setFromUnitVectors: function () {
			var e,
			t;
			return function (n, i) {
				return void 0 === e && (e = new l),
				(t = n.dot(i) + 1) < 1e-6 ? (t = 0, Math.abs(n.x) > Math.abs(n.z) ? e.set(-n.y, n.x, 0) : e.set(0, -n.z, n.y)) : e.crossVectors(n, i),
				this._x = e.x,
				this._y = e.y,
				this._z = e.z,
				this._w = t,
				this.normalize()
			}
		}
		(),
		inverse: function () {
			return this.conjugate().normalize()
		},
		conjugate: function () {
			return this._x *= -1,
			this._y *= -1,
			this._z *= -1,
			this.onChangeCallback(),
			this
		},
		dot: function (e) {
			return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w
		},
		lengthSq: function () {
			return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
		},
		length: function () {
			return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
		},
		normalize: function () {
			var e = this.length();
			return 0 === e ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (e = 1 / e, this._x = this._x * e, this._y = this._y * e, this._z = this._z * e, this._w = this._w * e),
			this.onChangeCallback(),
			this
		},
		multiply: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."), this.multiplyQuaternions(e, t)) : this.multiplyQuaternions(this, e)
		},
		premultiply: function (e) {
			return this.multiplyQuaternions(e, this)
		},
		multiplyQuaternions: function (e, t) {
			var n = e._x,
			i = e._y,
			r = e._z,
			a = e._w,
			o = t._x,
			s = t._y,
			l = t._z,
			c = t._w;
			return this._x = n * c + a * o + i * l - r * s,
			this._y = i * c + a * s + r * o - n * l,
			this._z = r * c + a * l + n * s - i * o,
			this._w = a * c - n * o - i * s - r * l,
			this.onChangeCallback(),
			this
		},
		slerp: function (e, t) {
			if (0 === t)
				return this;
			if (1 === t)
				return this.copy(e);
			var n = this._x,
			i = this._y,
			r = this._z,
			a = this._w,
			o = a * e._w + n * e._x + i * e._y + r * e._z;
			if (o < 0 ? (this._w = -e._w, this._x = -e._x, this._y = -e._y, this._z = -e._z, o = -o) : this.copy(e), o >= 1)
				return this._w = a, this._x = n, this._y = i, this._z = r, this;
			var s = Math.sqrt(1 - o * o);
			if (Math.abs(s) < .001)
				return this._w = .5 * (a + this._w), this._x = .5 * (n + this._x), this._y = .5 * (i + this._y), this._z = .5 * (r + this._z), this;
			var l = Math.atan2(s, o),
			c = Math.sin((1 - t) * l) / s,
			d = Math.sin(t * l) / s;
			return this._w = a * c + this._w * d,
			this._x = n * c + this._x * d,
			this._y = i * c + this._y * d,
			this._z = r * c + this._z * d,
			this.onChangeCallback(),
			this
		},
		equals: function (e) {
			return e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w
		},
		fromArray: function (e, t) {
			return void 0 === t && (t = 0),
			this._x = e[t],
			this._y = e[t + 1],
			this._z = e[t + 2],
			this._w = e[t + 3],
			this.onChangeCallback(),
			this
		},
		toArray: function (e, t) {
			return void 0 === e && (e = []),
			void 0 === t && (t = 0),
			e[t] = this._x,
			e[t + 1] = this._y,
			e[t + 2] = this._z,
			e[t + 3] = this._w,
			e
		},
		onChange: function (e) {
			return this.onChangeCallback = e,
			this
		},
		onChangeCallback: function () {}
	},
	Object.assign(s, {
		slerp: function (e, t, n, i) {
			return n.copy(e).slerp(t, i)
		},
		slerpFlat: function (e, t, n, i, r, a, o) {
			var s = n[i + 0],
			l = n[i + 1],
			c = n[i + 2],
			d = n[i + 3],
			u = r[a + 0],
			h = r[a + 1],
			p = r[a + 2],
			f = r[a + 3];
			if (d !== f || s !== u || l !== h || c !== p) {
				var m = 1 - o,
				g = s * u + l * h + c * p + d * f,
				v = g >= 0 ? 1 : -1,
				b = 1 - g * g;
				if (b > Number.EPSILON) {
					var y = Math.sqrt(b),
					x = Math.atan2(y, g * v);
					m = Math.sin(m * x) / y,
					o = Math.sin(o * x) / y
				}
				var w = o * v;
				if (s = s * m + u * w, l = l * m + h * w, c = c * m + p * w, d = d * m + f * w, m === 1 - o) {
					var _ = 1 / Math.sqrt(s * s + l * l + c * c + d * d);
					s *= _,
					l *= _,
					c *= _,
					d *= _
				}
			}
			e[t] = s,
			e[t + 1] = l,
			e[t + 2] = c,
			e[t + 3] = d
		}
	}),
	l.prototype = {
		constructor: l,
		isVector3: !0,
		set: function (e, t, n) {
			return this.x = e,
			this.y = t,
			this.z = n,
			this
		},
		setScalar: function (e) {
			return this.x = e,
			this.y = e,
			this.z = e,
			this
		},
		setX: function (e) {
			return this.x = e,
			this
		},
		setY: function (e) {
			return this.y = e,
			this
		},
		setZ: function (e) {
			return this.z = e,
			this
		},
		setComponent: function (e, t) {
			switch (e) {
			case 0:
				this.x = t;
				break;
			case 1:
				this.y = t;
				break;
			case 2:
				this.z = t;
				break;
			default:
				throw new Error("index is out of range: " + e)
			}
			return this
		},
		getComponent: function (e) {
			switch (e) {
			case 0:
				return this.x;
			case 1:
				return this.y;
			case 2:
				return this.z;
			default:
				throw new Error("index is out of range: " + e)
			}
		},
		clone: function () {
			return new this.constructor(this.x, this.y, this.z)
		},
		copy: function (e) {
			return this.x = e.x,
			this.y = e.y,
			this.z = e.z,
			this
		},
		add: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(e, t)) : (this.x += e.x, this.y += e.y, this.z += e.z, this)
		},
		addScalar: function (e) {
			return this.x += e,
			this.y += e,
			this.z += e,
			this
		},
		addVectors: function (e, t) {
			return this.x = e.x + t.x,
			this.y = e.y + t.y,
			this.z = e.z + t.z,
			this
		},
		addScaledVector: function (e, t) {
			return this.x += e.x * t,
			this.y += e.y * t,
			this.z += e.z * t,
			this
		},
		sub: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(e, t)) : (this.x -= e.x, this.y -= e.y, this.z -= e.z, this)
		},
		subScalar: function (e) {
			return this.x -= e,
			this.y -= e,
			this.z -= e,
			this
		},
		subVectors: function (e, t) {
			return this.x = e.x - t.x,
			this.y = e.y - t.y,
			this.z = e.z - t.z,
			this
		},
		multiply: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."), this.multiplyVectors(e, t)) : (this.x *= e.x, this.y *= e.y, this.z *= e.z, this)
		},
		multiplyScalar: function (e) {
			return isFinite(e) ? (this.x *= e, this.y *= e, this.z *= e) : (this.x = 0, this.y = 0, this.z = 0),
			this
		},
		multiplyVectors: function (e, t) {
			return this.x = e.x * t.x,
			this.y = e.y * t.y,
			this.z = e.z * t.z,
			this
		},
		applyEuler: function () {
			var e;
			return function (t) {
				return !1 === (t && t.isEuler) && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),
				void 0 === e && (e = new s),
				this.applyQuaternion(e.setFromEuler(t))
			}
		}
		(),
		applyAxisAngle: function () {
			var e;
			return function (t, n) {
				return void 0 === e && (e = new s),
				this.applyQuaternion(e.setFromAxisAngle(t, n))
			}
		}
		(),
		applyMatrix3: function (e) {
			var t = this.x,
			n = this.y,
			i = this.z,
			r = e.elements;
			return this.x = r[0] * t + r[3] * n + r[6] * i,
			this.y = r[1] * t + r[4] * n + r[7] * i,
			this.z = r[2] * t + r[5] * n + r[8] * i,
			this
		},
		applyMatrix4: function (e) {
			var t = this.x,
			n = this.y,
			i = this.z,
			r = e.elements;
			return this.x = r[0] * t + r[4] * n + r[8] * i + r[12],
			this.y = r[1] * t + r[5] * n + r[9] * i + r[13],
			this.z = r[2] * t + r[6] * n + r[10] * i + r[14],
			this
		},
		applyProjection: function (e) {
			var t = this.x,
			n = this.y,
			i = this.z,
			r = e.elements,
			a = 1 / (r[3] * t + r[7] * n + r[11] * i + r[15]);
			return this.x = (r[0] * t + r[4] * n + r[8] * i + r[12]) * a,
			this.y = (r[1] * t + r[5] * n + r[9] * i + r[13]) * a,
			this.z = (r[2] * t + r[6] * n + r[10] * i + r[14]) * a,
			this
		},
		applyQuaternion: function (e) {
			var t = this.x,
			n = this.y,
			i = this.z,
			r = e.x,
			a = e.y,
			o = e.z,
			s = e.w,
			l = s * t + a * i - o * n,
			c = s * n + o * t - r * i,
			d = s * i + r * n - a * t,
			u = -r * t - a * n - o * i;
			return this.x = l * s + u * -r + c * -o - d * -a,
			this.y = c * s + u * -a + d * -r - l * -o,
			this.z = d * s + u * -o + l * -a - c * -r,
			this
		},
		project: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.multiplyMatrices(t.projectionMatrix, e.getInverse(t.matrixWorld)),
				this.applyProjection(e)
			}
		}
		(),
		unproject: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.multiplyMatrices(t.matrixWorld, e.getInverse(t.projectionMatrix)),
				this.applyProjection(e)
			}
		}
		(),
		transformDirection: function (e) {
			var t = this.x,
			n = this.y,
			i = this.z,
			r = e.elements;
			return this.x = r[0] * t + r[4] * n + r[8] * i,
			this.y = r[1] * t + r[5] * n + r[9] * i,
			this.z = r[2] * t + r[6] * n + r[10] * i,
			this.normalize()
		},
		divide: function (e) {
			return this.x /= e.x,
			this.y /= e.y,
			this.z /= e.z,
			this
		},
		divideScalar: function (e) {
			return this.multiplyScalar(1 / e)
		},
		min: function (e) {
			return this.x = Math.min(this.x, e.x),
			this.y = Math.min(this.y, e.y),
			this.z = Math.min(this.z, e.z),
			this
		},
		max: function (e) {
			return this.x = Math.max(this.x, e.x),
			this.y = Math.max(this.y, e.y),
			this.z = Math.max(this.z, e.z),
			this
		},
		clamp: function (e, t) {
			return this.x = Math.max(e.x, Math.min(t.x, this.x)),
			this.y = Math.max(e.y, Math.min(t.y, this.y)),
			this.z = Math.max(e.z, Math.min(t.z, this.z)),
			this
		},
		clampScalar: function () {
			var e,
			t;
			return function (n, i) {
				return void 0 === e && (e = new l, t = new l),
				e.set(n, n, n),
				t.set(i, i, i),
				this.clamp(e, t)
			}
		}
		(),
		clampLength: function (e, t) {
			var n = this.length();
			return this.multiplyScalar(Math.max(e, Math.min(t, n)) / n)
		},
		floor: function () {
			return this.x = Math.floor(this.x),
			this.y = Math.floor(this.y),
			this.z = Math.floor(this.z),
			this
		},
		ceil: function () {
			return this.x = Math.ceil(this.x),
			this.y = Math.ceil(this.y),
			this.z = Math.ceil(this.z),
			this
		},
		round: function () {
			return this.x = Math.round(this.x),
			this.y = Math.round(this.y),
			this.z = Math.round(this.z),
			this
		},
		roundToZero: function () {
			return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
			this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
			this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
			this
		},
		negate: function () {
			return this.x = -this.x,
			this.y = -this.y,
			this.z = -this.z,
			this
		},
		dot: function (e) {
			return this.x * e.x + this.y * e.y + this.z * e.z
		},
		lengthSq: function () {
			return this.x * this.x + this.y * this.y + this.z * this.z
		},
		length: function () {
			return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
		},
		lengthManhattan: function () {
			return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
		},
		normalize: function () {
			return this.divideScalar(this.length())
		},
		setLength: function (e) {
			return this.multiplyScalar(e / this.length())
		},
		lerp: function (e, t) {
			return this.x += (e.x - this.x) * t,
			this.y += (e.y - this.y) * t,
			this.z += (e.z - this.z) * t,
			this
		},
		lerpVectors: function (e, t, n) {
			return this.subVectors(t, e).multiplyScalar(n).add(e)
		},
		cross: function (e, t) {
			if (void 0 !== t)
				return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(e, t);
			var n = this.x,
			i = this.y,
			r = this.z;
			return this.x = i * e.z - r * e.y,
			this.y = r * e.x - n * e.z,
			this.z = n * e.y - i * e.x,
			this
		},
		crossVectors: function (e, t) {
			var n = e.x,
			i = e.y,
			r = e.z,
			a = t.x,
			o = t.y,
			s = t.z;
			return this.x = i * s - r * o,
			this.y = r * a - n * s,
			this.z = n * o - i * a,
			this
		},
		projectOnVector: function (e) {
			var t = e.dot(this) / e.lengthSq();
			return this.copy(e).multiplyScalar(t)
		},
		projectOnPlane: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new l),
				e.copy(this).projectOnVector(t),
				this.sub(e)
			}
		}
		(),
		reflect: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new l),
				this.sub(e.copy(t).multiplyScalar(2 * this.dot(t)))
			}
		}
		(),
		angleTo: function (e) {
			var t = this.dot(e) / Math.sqrt(this.lengthSq() * e.lengthSq());
			return Math.acos(Ja.clamp(t, -1, 1))
		},
		distanceTo: function (e) {
			return Math.sqrt(this.distanceToSquared(e))
		},
		distanceToSquared: function (e) {
			var t = this.x - e.x,
			n = this.y - e.y,
			i = this.z - e.z;
			return t * t + n * n + i * i
		},
		distanceToManhattan: function (e) {
			return Math.abs(this.x - e.x) + Math.abs(this.y - e.y) + Math.abs(this.z - e.z)
		},
		setFromSpherical: function (e) {
			var t = Math.sin(e.phi) * e.radius;
			return this.x = t * Math.sin(e.theta),
			this.y = Math.cos(e.phi) * e.radius,
			this.z = t * Math.cos(e.theta),
			this
		},
		setFromCylindrical: function (e) {
			return this.x = e.radius * Math.sin(e.theta),
			this.y = e.y,
			this.z = e.radius * Math.cos(e.theta),
			this
		},
		setFromMatrixPosition: function (e) {
			return this.setFromMatrixColumn(e, 3)
		},
		setFromMatrixScale: function (e) {
			var t = this.setFromMatrixColumn(e, 0).length(),
			n = this.setFromMatrixColumn(e, 1).length(),
			i = this.setFromMatrixColumn(e, 2).length();
			return this.x = t,
			this.y = n,
			this.z = i,
			this
		},
		setFromMatrixColumn: function (e, t) {
			if ("number" == typeof e) {
				console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");
				var n = e;
				e = t,
				t = n
			}
			return this.fromArray(e.elements, 4 * t)
		},
		equals: function (e) {
			return e.x === this.x && e.y === this.y && e.z === this.z
		},
		fromArray: function (e, t) {
			return void 0 === t && (t = 0),
			this.x = e[t],
			this.y = e[t + 1],
			this.z = e[t + 2],
			this
		},
		toArray: function (e, t) {
			return void 0 === e && (e = []),
			void 0 === t && (t = 0),
			e[t] = this.x,
			e[t + 1] = this.y,
			e[t + 2] = this.z,
			e
		},
		fromAttribute: function (e, t, n) {
			return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromAttribute()."),
			this.x = e.getX(t),
			this.y = e.getY(t),
			this.z = e.getZ(t),
			this
		}
	},
	c.prototype = {
		constructor: c,
		isMatrix4: !0,
		set: function (e, t, n, i, r, a, o, s, l, c, d, u, h, p, f, m) {
			var g = this.elements;
			return g[0] = e,
			g[4] = t,
			g[8] = n,
			g[12] = i,
			g[1] = r,
			g[5] = a,
			g[9] = o,
			g[13] = s,
			g[2] = l,
			g[6] = c,
			g[10] = d,
			g[14] = u,
			g[3] = h,
			g[7] = p,
			g[11] = f,
			g[15] = m,
			this
		},
		identity: function () {
			return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
			this
		},
		clone: function () {
			return (new c).fromArray(this.elements)
		},
		copy: function (e) {
			return this.elements.set(e.elements),
			this
		},
		copyPosition: function (e) {
			var t = this.elements,
			n = e.elements;
			return t[12] = n[12],
			t[13] = n[13],
			t[14] = n[14],
			this
		},
		extractBasis: function (e, t, n) {
			return e.setFromMatrixColumn(this, 0),
			t.setFromMatrixColumn(this, 1),
			n.setFromMatrixColumn(this, 2),
			this
		},
		makeBasis: function (e, t, n) {
			return this.set(e.x, t.x, n.x, 0, e.y, t.y, n.y, 0, e.z, t.z, n.z, 0, 0, 0, 0, 1),
			this
		},
		extractRotation: function () {
			var e;
			return function (t) {
				void 0 === e && (e = new l);
				var n = this.elements,
				i = t.elements,
				r = 1 / e.setFromMatrixColumn(t, 0).length(),
				a = 1 / e.setFromMatrixColumn(t, 1).length(),
				o = 1 / e.setFromMatrixColumn(t, 2).length();
				return n[0] = i[0] * r,
				n[1] = i[1] * r,
				n[2] = i[2] * r,
				n[4] = i[4] * a,
				n[5] = i[5] * a,
				n[6] = i[6] * a,
				n[8] = i[8] * o,
				n[9] = i[9] * o,
				n[10] = i[10] * o,
				this
			}
		}
		(),
		makeRotationFromEuler: function (e) {
			!1 === (e && e.isEuler) && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
			var t = this.elements,
			n = e.x,
			i = e.y,
			r = e.z,
			a = Math.cos(n),
			o = Math.sin(n),
			s = Math.cos(i),
			l = Math.sin(i),
			c = Math.cos(r),
			d = Math.sin(r);
			if ("XYZ" === e.order) {
				var u = a * c,
				h = a * d,
				p = o * c,
				f = o * d;
				t[0] = s * c,
				t[4] = -s * d,
				t[8] = l,
				t[1] = h + p * l,
				t[5] = u - f * l,
				t[9] = -o * s,
				t[2] = f - u * l,
				t[6] = p + h * l,
				t[10] = a * s
			} else if ("YXZ" === e.order) {
				var m = s * c,
				g = s * d,
				v = l * c,
				b = l * d;
				t[0] = m + b * o,
				t[4] = v * o - g,
				t[8] = a * l,
				t[1] = a * d,
				t[5] = a * c,
				t[9] = -o,
				t[2] = g * o - v,
				t[6] = b + m * o,
				t[10] = a * s
			} else if ("ZXY" === e.order) {
				var m = s * c,
				g = s * d,
				v = l * c,
				b = l * d;
				t[0] = m - b * o,
				t[4] = -a * d,
				t[8] = v + g * o,
				t[1] = g + v * o,
				t[5] = a * c,
				t[9] = b - m * o,
				t[2] = -a * l,
				t[6] = o,
				t[10] = a * s
			} else if ("ZYX" === e.order) {
				var u = a * c,
				h = a * d,
				p = o * c,
				f = o * d;
				t[0] = s * c,
				t[4] = p * l - h,
				t[8] = u * l + f,
				t[1] = s * d,
				t[5] = f * l + u,
				t[9] = h * l - p,
				t[2] = -l,
				t[6] = o * s,
				t[10] = a * s
			} else if ("YZX" === e.order) {
				var y = a * s,
				x = a * l,
				w = o * s,
				_ = o * l;
				t[0] = s * c,
				t[4] = _ - y * d,
				t[8] = w * d + x,
				t[1] = d,
				t[5] = a * c,
				t[9] = -o * c,
				t[2] = -l * c,
				t[6] = x * d + w,
				t[10] = y - _ * d
			} else if ("XZY" === e.order) {
				var y = a * s,
				x = a * l,
				w = o * s,
				_ = o * l;
				t[0] = s * c,
				t[4] = -d,
				t[8] = l * c,
				t[1] = y * d + _,
				t[5] = a * c,
				t[9] = x * d - w,
				t[2] = w * d - x,
				t[6] = o * c,
				t[10] = _ * d + y
			}
			return t[3] = 0,
			t[7] = 0,
			t[11] = 0,
			t[12] = 0,
			t[13] = 0,
			t[14] = 0,
			t[15] = 1,
			this
		},
		makeRotationFromQuaternion: function (e) {
			var t = this.elements,
			n = e.x,
			i = e.y,
			r = e.z,
			a = e.w,
			o = n + n,
			s = i + i,
			l = r + r,
			c = n * o,
			d = n * s,
			u = n * l,
			h = i * s,
			p = i * l,
			f = r * l,
			m = a * o,
			g = a * s,
			v = a * l;
			return t[0] = 1 - (h + f),
			t[4] = d - v,
			t[8] = u + g,
			t[1] = d + v,
			t[5] = 1 - (c + f),
			t[9] = p - m,
			t[2] = u - g,
			t[6] = p + m,
			t[10] = 1 - (c + h),
			t[3] = 0,
			t[7] = 0,
			t[11] = 0,
			t[12] = 0,
			t[13] = 0,
			t[14] = 0,
			t[15] = 1,
			this
		},
		lookAt: function () {
			var e,
			t,
			n;
			return function (i, r, a) {
				void 0 === e && (e = new l, t = new l, n = new l);
				var o = this.elements;
				return n.subVectors(i, r).normalize(),
				0 === n.lengthSq() && (n.z = 1),
				e.crossVectors(a, n).normalize(),
				0 === e.lengthSq() && (n.z += 1e-4, e.crossVectors(a, n).normalize()),
				t.crossVectors(n, e),
				o[0] = e.x,
				o[4] = t.x,
				o[8] = n.x,
				o[1] = e.y,
				o[5] = t.y,
				o[9] = n.y,
				o[2] = e.z,
				o[6] = t.z,
				o[10] = n.z,
				this
			}
		}
		(),
		multiply: function (e, t) {
			return void 0 !== t ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."), this.multiplyMatrices(e, t)) : this.multiplyMatrices(this, e)
		},
		premultiply: function (e) {
			return this.multiplyMatrices(e, this)
		},
		multiplyMatrices: function (e, t) {
			var n = e.elements,
			i = t.elements,
			r = this.elements,
			a = n[0],
			o = n[4],
			s = n[8],
			l = n[12],
			c = n[1],
			d = n[5],
			u = n[9],
			h = n[13],
			p = n[2],
			f = n[6],
			m = n[10],
			g = n[14],
			v = n[3],
			b = n[7],
			y = n[11],
			x = n[15],
			w = i[0],
			_ = i[4],
			T = i[8],
			E = i[12],
			M = i[1],
			C = i[5],
			S = i[9],
			A = i[13],
			R = i[2],
			P = i[6],
			L = i[10],
			k = i[14],
			O = i[3],
			D = i[7],
			I = i[11],
			F = i[15];
			return r[0] = a * w + o * M + s * R + l * O,
			r[4] = a * _ + o * C + s * P + l * D,
			r[8] = a * T + o * S + s * L + l * I,
			r[12] = a * E + o * A + s * k + l * F,
			r[1] = c * w + d * M + u * R + h * O,
			r[5] = c * _ + d * C + u * P + h * D,
			r[9] = c * T + d * S + u * L + h * I,
			r[13] = c * E + d * A + u * k + h * F,
			r[2] = p * w + f * M + m * R + g * O,
			r[6] = p * _ + f * C + m * P + g * D,
			r[10] = p * T + f * S + m * L + g * I,
			r[14] = p * E + f * A + m * k + g * F,
			r[3] = v * w + b * M + y * R + x * O,
			r[7] = v * _ + b * C + y * P + x * D,
			r[11] = v * T + b * S + y * L + x * I,
			r[15] = v * E + b * A + y * k + x * F,
			this
		},
		multiplyToArray: function (e, t, n) {
			var i = this.elements;
			return this.multiplyMatrices(e, t),
			n[0] = i[0],
			n[1] = i[1],
			n[2] = i[2],
			n[3] = i[3],
			n[4] = i[4],
			n[5] = i[5],
			n[6] = i[6],
			n[7] = i[7],
			n[8] = i[8],
			n[9] = i[9],
			n[10] = i[10],
			n[11] = i[11],
			n[12] = i[12],
			n[13] = i[13],
			n[14] = i[14],
			n[15] = i[15],
			this
		},
		multiplyScalar: function (e) {
			var t = this.elements;
			return t[0] *= e,
			t[4] *= e,
			t[8] *= e,
			t[12] *= e,
			t[1] *= e,
			t[5] *= e,
			t[9] *= e,
			t[13] *= e,
			t[2] *= e,
			t[6] *= e,
			t[10] *= e,
			t[14] *= e,
			t[3] *= e,
			t[7] *= e,
			t[11] *= e,
			t[15] *= e,
			this
		},
		applyToVector3Array: function () {
			var e;
			return function (t, n, i) {
				void 0 === e && (e = new l),
				void 0 === n && (n = 0),
				void 0 === i && (i = t.length);
				for (var r = 0, a = n; r < i; r += 3, a += 3)
					e.fromArray(t, a), e.applyMatrix4(this), e.toArray(t, a);
				return t
			}
		}
		(),
		applyToBufferAttribute: function () {
			var e;
			return function (t) {
				void 0 === e && (e = new l);
				for (var n = 0, i = t.count; n < i; n++)
					e.x = t.getX(n), e.y = t.getY(n), e.z = t.getZ(n), e.applyMatrix4(this), t.setXYZ(n, e.x, e.y, e.z);
				return t
			}
		}
		(),
		determinant: function () {
			var e = this.elements,
			t = e[0],
			n = e[4],
			i = e[8],
			r = e[12],
			a = e[1],
			o = e[5],
			s = e[9],
			l = e[13],
			c = e[2],
			d = e[6],
			u = e[10],
			h = e[14];
			return e[3] * (+r * s * d - i * l * d - r * o * u + n * l * u + i * o * h - n * s * h) + e[7] * (+t * s * h - t * l * u + r * a * u - i * a * h + i * l * c - r * s * c) + e[11] * (+t * l * d - t * o * h - r * a * d + n * a * h + r * o * c - n * l * c) + e[15] * (-i * o * c - t * s * d + t * o * u + i * a * d - n * a * u + n * s * c)
		},
		transpose: function () {
			var e,
			t = this.elements;
			return e = t[1],
			t[1] = t[4],
			t[4] = e,
			e = t[2],
			t[2] = t[8],
			t[8] = e,
			e = t[6],
			t[6] = t[9],
			t[9] = e,
			e = t[3],
			t[3] = t[12],
			t[12] = e,
			e = t[7],
			t[7] = t[13],
			t[13] = e,
			e = t[11],
			t[11] = t[14],
			t[14] = e,
			this
		},
		setPosition: function (e) {
			var t = this.elements;
			return t[12] = e.x,
			t[13] = e.y,
			t[14] = e.z,
			this
		},
		getInverse: function (e, t) {
			var n = this.elements,
			i = e.elements,
			r = i[0],
			a = i[1],
			o = i[2],
			s = i[3],
			l = i[4],
			c = i[5],
			d = i[6],
			u = i[7],
			h = i[8],
			p = i[9],
			f = i[10],
			m = i[11],
			g = i[12],
			v = i[13],
			b = i[14],
			y = i[15],
			x = p * b * u - v * f * u + v * d * m - c * b * m - p * d * y + c * f * y,
			w = g * f * u - h * b * u - g * d * m + l * b * m + h * d * y - l * f * y,
			_ = h * v * u - g * p * u + g * c * m - l * v * m - h * c * y + l * p * y,
			T = g * p * d - h * v * d - g * c * f + l * v * f + h * c * b - l * p * b,
			E = r * x + a * w + o * _ + s * T;
			if (0 === E) {
				var M = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";
				if (!0 === t)
					throw new Error(M);
				return console.warn(M),
				this.identity()
			}
			var C = 1 / E;
			return n[0] = x * C,
			n[1] = (v * f * s - p * b * s - v * o * m + a * b * m + p * o * y - a * f * y) * C,
			n[2] = (c * b * s - v * d * s + v * o * u - a * b * u - c * o * y + a * d * y) * C,
			n[3] = (p * d * s - c * f * s - p * o * u + a * f * u + c * o * m - a * d * m) * C,
			n[4] = w * C,
			n[5] = (h * b * s - g * f * s + g * o * m - r * b * m - h * o * y + r * f * y) * C,
			n[6] = (g * d * s - l * b * s - g * o * u + r * b * u + l * o * y - r * d * y) * C,
			n[7] = (l * f * s - h * d * s + h * o * u - r * f * u - l * o * m + r * d * m) * C,
			n[8] = _ * C,
			n[9] = (g * p * s - h * v * s - g * a * m + r * v * m + h * a * y - r * p * y) * C,
			n[10] = (l * v * s - g * c * s + g * a * u - r * v * u - l * a * y + r * c * y) * C,
			n[11] = (h * c * s - l * p * s - h * a * u + r * p * u + l * a * m - r * c * m) * C,
			n[12] = T * C,
			n[13] = (h * v * o - g * p * o + g * a * f - r * v * f - h * a * b + r * p * b) * C,
			n[14] = (g * c * o - l * v * o - g * a * d + r * v * d + l * a * b - r * c * b) * C,
			n[15] = (l * p * o - h * c * o + h * a * d - r * p * d - l * a * f + r * c * f) * C,
			this
		},
		scale: function (e) {
			var t = this.elements,
			n = e.x,
			i = e.y,
			r = e.z;
			return t[0] *= n,
			t[4] *= i,
			t[8] *= r,
			t[1] *= n,
			t[5] *= i,
			t[9] *= r,
			t[2] *= n,
			t[6] *= i,
			t[10] *= r,
			t[3] *= n,
			t[7] *= i,
			t[11] *= r,
			this
		},
		getMaxScaleOnAxis: function () {
			var e = this.elements,
			t = e[0] * e[0] + e[1] * e[1] + e[2] * e[2],
			n = e[4] * e[4] + e[5] * e[5] + e[6] * e[6],
			i = e[8] * e[8] + e[9] * e[9] + e[10] * e[10];
			return Math.sqrt(Math.max(t, n, i))
		},
		makeTranslation: function (e, t, n) {
			return this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1),
			this
		},
		makeRotationX: function (e) {
			var t = Math.cos(e),
			n = Math.sin(e);
			return this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1),
			this
		},
		makeRotationY: function (e) {
			var t = Math.cos(e),
			n = Math.sin(e);
			return this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1),
			this
		},
		makeRotationZ: function (e) {
			var t = Math.cos(e),
			n = Math.sin(e);
			return this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
			this
		},
		makeRotationAxis: function (e, t) {
			var n = Math.cos(t),
			i = Math.sin(t),
			r = 1 - n,
			a = e.x,
			o = e.y,
			s = e.z,
			l = r * a,
			c = r * o;
			return this.set(l * a + n, l * o - i * s, l * s + i * o, 0, l * o + i * s, c * o + n, c * s - i * a, 0, l * s - i * o, c * s + i * a, r * s * s + n, 0, 0, 0, 0, 1),
			this
		},
		makeScale: function (e, t, n) {
			return this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1),
			this
		},
		makeShear: function (e, t, n) {
			return this.set(1, t, n, 0, e, 1, n, 0, e, t, 1, 0, 0, 0, 0, 1),
			this
		},
		compose: function (e, t, n) {
			return this.makeRotationFromQuaternion(t),
			this.scale(n),
			this.setPosition(e),
			this
		},
		decompose: function () {
			var e,
			t;
			return function (n, i, r) {
				void 0 === e && (e = new l, t = new c);
				var a = this.elements,
				o = e.set(a[0], a[1], a[2]).length(),
				s = e.set(a[4], a[5], a[6]).length(),
				d = e.set(a[8], a[9], a[10]).length();
				this.determinant() < 0 && (o = -o),
				n.x = a[12],
				n.y = a[13],
				n.z = a[14],
				t.elements.set(this.elements);
				var u = 1 / o,
				h = 1 / s,
				p = 1 / d;
				return t.elements[0] *= u,
				t.elements[1] *= u,
				t.elements[2] *= u,
				t.elements[4] *= h,
				t.elements[5] *= h,
				t.elements[6] *= h,
				t.elements[8] *= p,
				t.elements[9] *= p,
				t.elements[10] *= p,
				i.setFromRotationMatrix(t),
				r.x = o,
				r.y = s,
				r.z = d,
				this
			}
		}
		(),
		makeFrustum: function (e, t, n, i, r, a) {
			var o = this.elements,
			s = 2 * r / (t - e),
			l = 2 * r / (i - n),
			c = (t + e) / (t - e),
			d = (i + n) / (i - n),
			u =  - (a + r) / (a - r),
			h = -2 * a * r / (a - r);
			return o[0] = s,
			o[4] = 0,
			o[8] = c,
			o[12] = 0,
			o[1] = 0,
			o[5] = l,
			o[9] = d,
			o[13] = 0,
			o[2] = 0,
			o[6] = 0,
			o[10] = u,
			o[14] = h,
			o[3] = 0,
			o[7] = 0,
			o[11] = -1,
			o[15] = 0,
			this
		},
		makePerspective: function (e, t, n, i) {
			var r = n * Math.tan(Ja.DEG2RAD * e * .5),
			a = -r,
			o = a * t,
			s = r * t;
			return this.makeFrustum(o, s, a, r, n, i)
		},
		makeOrthographic: function (e, t, n, i, r, a) {
			var o = this.elements,
			s = 1 / (t - e),
			l = 1 / (n - i),
			c = 1 / (a - r),
			d = (t + e) * s,
			u = (n + i) * l,
			h = (a + r) * c;
			return o[0] = 2 * s,
			o[4] = 0,
			o[8] = 0,
			o[12] = -d,
			o[1] = 0,
			o[5] = 2 * l,
			o[9] = 0,
			o[13] = -u,
			o[2] = 0,
			o[6] = 0,
			o[10] = -2 * c,
			o[14] = -h,
			o[3] = 0,
			o[7] = 0,
			o[11] = 0,
			o[15] = 1,
			this
		},
		equals: function (e) {
			for (var t = this.elements, n = e.elements, i = 0; i < 16; i++)
				if (t[i] !== n[i])
					return !1;
			return !0
		},
		fromArray: function (e, t) {
			void 0 === t && (t = 0);
			for (var n = 0; n < 16; n++)
				this.elements[n] = e[n + t];
			return this
		},
		toArray: function (e, t) {
			void 0 === e && (e = []),
			void 0 === t && (t = 0);
			var n = this.elements;
			return e[t] = n[0],
			e[t + 1] = n[1],
			e[t + 2] = n[2],
			e[t + 3] = n[3],
			e[t + 4] = n[4],
			e[t + 5] = n[5],
			e[t + 6] = n[6],
			e[t + 7] = n[7],
			e[t + 8] = n[8],
			e[t + 9] = n[9],
			e[t + 10] = n[10],
			e[t + 11] = n[11],
			e[t + 12] = n[12],
			e[t + 13] = n[13],
			e[t + 14] = n[14],
			e[t + 15] = n[15],
			e
		}
	},
	(d.prototype = Object.create(i.prototype)).constructor = d,
	d.prototype.isCubeTexture = !0,
	Object.defineProperty(d.prototype, "images", {
		get: function () {
			return this.image
		},
		set: function (e) {
			this.image = e
		}
	});
	var Ka = new i,
	eo = new d,
	to = [],
	no = [];
	H.prototype.setValue = function (e, t) {
		for (var n = this.seq, i = 0, r = n.length; i !== r; ++i) {
			var a = n[i];
			a.setValue(e, t[a.id])
		}
	};
	var io = /([\w\d_]+)(\])?(\[|\.)?/g;
	j.prototype.setValue = function (e, t, n) {
		var i = this.map[t];
		void 0 !== i && i.setValue(e, n, this.renderer)
	},
	j.prototype.set = function (e, t, n) {
		var i = this.map[n];
		void 0 !== i && i.setValue(e, t[n], this.renderer)
	},
	j.prototype.setOptional = function (e, t, n) {
		var i = t[n];
		void 0 !== i && this.setValue(e, n, i)
	},
	j.upload = function (e, t, n, i) {
		for (var r = 0, a = t.length; r !== a; ++r) {
			var o = t[r],
			s = n[o.id];
			!1 !== s.needsUpdate && o.setValue(e, s.value, i)
		}
	},
	j.seqWithValue = function (e, t) {
		for (var n = [], i = 0, r = e.length; i !== r; ++i) {
			var a = e[i];
			a.id in t && n.push(a)
		}
		return n
	};
	var ro = {
		merge: function (e) {
			for (var t = {}, n = 0; n < e.length; n++) {
				var i = this.clone(e[n]);
				for (var r in i)
					t[r] = i[r]
			}
			return t
		},
		clone: function (e) {
			var t = {};
			for (var n in e) {
				t[n] = {};
				for (var i in e[n]) {
					var r = e[n][i];
					r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? t[n][i] = r.clone() : Array.isArray(r) ? t[n][i] = r.slice() : t[n][i] = r
				}
			}
			return t
		}
	},
	ao = {
		alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
		alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
		alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
		aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
		aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
		begin_vertex: "\nvec3 transformed = vec3( position );\n",
		beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
		bsdfs: "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
		bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
		clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
		clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
		clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
		clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
		color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
		color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
		color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
		color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
		common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",
		cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
		defaultnormal_vertex: "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",
		displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
		displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
		emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
		emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
		encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
		encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",
		envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
		envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
		envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
		envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
		fog_fragment: "#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
		fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
		gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
		lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
		lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
		lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
		lights_pars: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
		lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
		lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n    }\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
		lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
		lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = material.specularRoughness;\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n    }\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
		lights_template: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
		logdepthbuf_fragment: "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",
		logdepthbuf_pars_fragment: "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
		logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
		logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
		map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
		map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
		map_particle_fragment: "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
		map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
		metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",
		metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
		morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
		morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
		morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
		normal_flip: "#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",
		normal_fragment: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
		normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
		packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
		premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
		project_vertex: "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",
		roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",
		roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
		shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
		shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",
		shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",
		shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
		skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
		skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
		skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",
		skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
		specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
		specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
		tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
		tonemapping_pars_fragment: "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
		uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
		uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
		uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
		uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
		uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
		uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
		worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",
		cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
		cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
		depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
		depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
		distanceRGBA_frag: "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",
		distanceRGBA_vert: "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
		equirect_frag: "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
		equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
		linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
		linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
		meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
		meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",
		meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
		meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",
		meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
		meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",
		meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
		meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
		normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#include <premultiplied_alpha_fragment>\n\t#include <encodings_fragment>\n}\n",
		normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
		points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
		points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
		shadow_frag: "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",
		shadow_vert: "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"
	};
	V.prototype = {
		constructor: V,
		isColor: !0,
		r: 1,
		g: 1,
		b: 1,
		set: function (e) {
			return e && e.isColor ? this.copy(e) : "number" == typeof e ? this.setHex(e) : "string" == typeof e && this.setStyle(e),
			this
		},
		setScalar: function (e) {
			return this.r = e,
			this.g = e,
			this.b = e,
			this
		},
		setHex: function (e) {
			return e = Math.floor(e),
			this.r = (e >> 16 & 255) / 255,
			this.g = (e >> 8 & 255) / 255,
			this.b = (255 & e) / 255,
			this
		},
		setRGB: function (e, t, n) {
			return this.r = e,
			this.g = t,
			this.b = n,
			this
		},
		setHSL: function () {
			function e(e, t, n) {
				return n < 0 && (n += 1),
				n > 1 && (n -= 1),
				n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + 6 * (t - e) * (2 / 3 - n) : e
			}
			return function (t, n, i) {
				if (t = Ja.euclideanModulo(t, 1), n = Ja.clamp(n, 0, 1), i = Ja.clamp(i, 0, 1), 0 === n)
					this.r = this.g = this.b = i;
				else {
					var r = i <= .5 ? i * (1 + n) : i + n - i * n,
					a = 2 * i - r;
					this.r = e(a, r, t + 1 / 3),
					this.g = e(a, r, t),
					this.b = e(a, r, t - 1 / 3)
				}
				return this
			}
		}
		(),
		setStyle: function (e) {
			function t(t) {
				void 0 !== t && parseFloat(t) < 1 && console.warn("THREE.Color: Alpha component of " + e + " will be ignored.")
			}
			var n;
			if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)) {
				var i,
				r = n[1],
				a = n[2];
				switch (r) {
				case "rgb":
				case "rgba":
					if (i = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))
						return this.r = Math.min(255, parseInt(i[1], 10)) / 255, this.g = Math.min(255, parseInt(i[2], 10)) / 255, this.b = Math.min(255, parseInt(i[3], 10)) / 255, t(i[5]), this;
					if (i = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))
						return this.r = Math.min(100, parseInt(i[1], 10)) / 100, this.g = Math.min(100, parseInt(i[2], 10)) / 100, this.b = Math.min(100, parseInt(i[3], 10)) / 100, t(i[5]), this;
					break;
				case "hsl":
				case "hsla":
					if (i = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) {
						var o = parseFloat(i[1]) / 360,
						s = parseInt(i[2], 10) / 100,
						l = parseInt(i[3], 10) / 100;
						return t(i[5]),
						this.setHSL(o, s, l)
					}
				}
			} else if (n = /^\#([A-Fa-f0-9]+)$/.exec(e)) {
				var c = (d = n[1]).length;
				if (3 === c)
					return this.r = parseInt(d.charAt(0) + d.charAt(0), 16) / 255, this.g = parseInt(d.charAt(1) + d.charAt(1), 16) / 255, this.b = parseInt(d.charAt(2) + d.charAt(2), 16) / 255, this;
				if (6 === c)
					return this.r = parseInt(d.charAt(0) + d.charAt(1), 16) / 255, this.g = parseInt(d.charAt(2) + d.charAt(3), 16) / 255, this.b = parseInt(d.charAt(4) + d.charAt(5), 16) / 255, this
			}
			if (e && e.length > 0) {
				var d = oo[e];
				void 0 !== d ? this.setHex(d) : console.warn("THREE.Color: Unknown color " + e)
			}
			return this
		},
		clone: function () {
			return new this.constructor(this.r, this.g, this.b)
		},
		copy: function (e) {
			return this.r = e.r,
			this.g = e.g,
			this.b = e.b,
			this
		},
		copyGammaToLinear: function (e, t) {
			return void 0 === t && (t = 2),
			this.r = Math.pow(e.r, t),
			this.g = Math.pow(e.g, t),
			this.b = Math.pow(e.b, t),
			this
		},
		copyLinearToGamma: function (e, t) {
			void 0 === t && (t = 2);
			var n = t > 0 ? 1 / t : 1;
			return this.r = Math.pow(e.r, n),
			this.g = Math.pow(e.g, n),
			this.b = Math.pow(e.b, n),
			this
		},
		convertGammaToLinear: function () {
			var e = this.r,
			t = this.g,
			n = this.b;
			return this.r = e * e,
			this.g = t * t,
			this.b = n * n,
			this
		},
		convertLinearToGamma: function () {
			return this.r = Math.sqrt(this.r),
			this.g = Math.sqrt(this.g),
			this.b = Math.sqrt(this.b),
			this
		},
		getHex: function () {
			return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
		},
		getHexString: function () {
			return ("000000" + this.getHex().toString(16)).slice(-6)
		},
		getHSL: function (e) {
			var t,
			n,
			i = e || {
				h: 0,
				s: 0,
				l: 0
			},
			r = this.r,
			a = this.g,
			o = this.b,
			s = Math.max(r, a, o),
			l = Math.min(r, a, o),
			c = (l + s) / 2;
			if (l === s)
				t = 0, n = 0;
			else {
				var d = s - l;
				switch (n = c <= .5 ? d / (s + l) : d / (2 - s - l), s) {
				case r:
					t = (a - o) / d + (a < o ? 6 : 0);
					break;
				case a:
					t = (o - r) / d + 2;
					break;
				case o:
					t = (r - a) / d + 4
				}
				t /= 6
			}
			return i.h = t,
			i.s = n,
			i.l = c,
			i
		},
		getStyle: function () {
			return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
		},
		offsetHSL: function (e, t, n) {
			var i = this.getHSL();
			return i.h += e,
			i.s += t,
			i.l += n,
			this.setHSL(i.h, i.s, i.l),
			this
		},
		add: function (e) {
			return this.r += e.r,
			this.g += e.g,
			this.b += e.b,
			this
		},
		addColors: function (e, t) {
			return this.r = e.r + t.r,
			this.g = e.g + t.g,
			this.b = e.b + t.b,
			this
		},
		addScalar: function (e) {
			return this.r += e,
			this.g += e,
			this.b += e,
			this
		},
		sub: function (e) {
			return this.r = Math.max(0, this.r - e.r),
			this.g = Math.max(0, this.g - e.g),
			this.b = Math.max(0, this.b - e.b),
			this
		},
		multiply: function (e) {
			return this.r *= e.r,
			this.g *= e.g,
			this.b *= e.b,
			this
		},
		multiplyScalar: function (e) {
			return this.r *= e,
			this.g *= e,
			this.b *= e,
			this
		},
		lerp: function (e, t) {
			return this.r += (e.r - this.r) * t,
			this.g += (e.g - this.g) * t,
			this.b += (e.b - this.b) * t,
			this
		},
		equals: function (e) {
			return e.r === this.r && e.g === this.g && e.b === this.b
		},
		fromArray: function (e, t) {
			return void 0 === t && (t = 0),
			this.r = e[t],
			this.g = e[t + 1],
			this.b = e[t + 2],
			this
		},
		toArray: function (e, t) {
			return void 0 === e && (e = []),
			void 0 === t && (t = 0),
			e[t] = this.r,
			e[t + 1] = this.g,
			e[t + 2] = this.b,
			e
		},
		toJSON: function () {
			return this.getHex()
		}
	};
	var oo = {
		aliceblue: 15792383,
		antiquewhite: 16444375,
		aqua: 65535,
		aquamarine: 8388564,
		azure: 15794175,
		beige: 16119260,
		bisque: 16770244,
		black: 0,
		blanchedalmond: 16772045,
		blue: 255,
		blueviolet: 9055202,
		brown: 10824234,
		burlywood: 14596231,
		cadetblue: 6266528,
		chartreuse: 8388352,
		chocolate: 13789470,
		coral: 16744272,
		cornflowerblue: 6591981,
		cornsilk: 16775388,
		crimson: 14423100,
		cyan: 65535,
		darkblue: 139,
		darkcyan: 35723,
		darkgoldenrod: 12092939,
		darkgray: 11119017,
		darkgreen: 25600,
		darkgrey: 11119017,
		darkkhaki: 12433259,
		darkmagenta: 9109643,
		darkolivegreen: 5597999,
		darkorange: 16747520,
		darkorchid: 10040012,
		darkred: 9109504,
		darksalmon: 15308410,
		darkseagreen: 9419919,
		darkslateblue: 4734347,
		darkslategray: 3100495,
		darkslategrey: 3100495,
		darkturquoise: 52945,
		darkviolet: 9699539,
		deeppink: 16716947,
		deepskyblue: 49151,
		dimgray: 6908265,
		dimgrey: 6908265,
		dodgerblue: 2003199,
		firebrick: 11674146,
		floralwhite: 16775920,
		forestgreen: 2263842,
		fuchsia: 16711935,
		gainsboro: 14474460,
		ghostwhite: 16316671,
		gold: 16766720,
		goldenrod: 14329120,
		gray: 8421504,
		green: 32768,
		greenyellow: 11403055,
		grey: 8421504,
		honeydew: 15794160,
		hotpink: 16738740,
		indianred: 13458524,
		indigo: 4915330,
		ivory: 16777200,
		khaki: 15787660,
		lavender: 15132410,
		lavenderblush: 16773365,
		lawngreen: 8190976,
		lemonchiffon: 16775885,
		lightblue: 11393254,
		lightcoral: 15761536,
		lightcyan: 14745599,
		lightgoldenrodyellow: 16448210,
		lightgray: 13882323,
		lightgreen: 9498256,
		lightgrey: 13882323,
		lightpink: 16758465,
		lightsalmon: 16752762,
		lightseagreen: 2142890,
		lightskyblue: 8900346,
		lightslategray: 7833753,
		lightslategrey: 7833753,
		lightsteelblue: 11584734,
		lightyellow: 16777184,
		lime: 65280,
		limegreen: 3329330,
		linen: 16445670,
		magenta: 16711935,
		maroon: 8388608,
		mediumaquamarine: 6737322,
		mediumblue: 205,
		mediumorchid: 12211667,
		mediumpurple: 9662683,
		mediumseagreen: 3978097,
		mediumslateblue: 8087790,
		mediumspringgreen: 64154,
		mediumturquoise: 4772300,
		mediumvioletred: 13047173,
		midnightblue: 1644912,
		mintcream: 16121850,
		mistyrose: 16770273,
		moccasin: 16770229,
		navajowhite: 16768685,
		navy: 128,
		oldlace: 16643558,
		olive: 8421376,
		olivedrab: 7048739,
		orange: 16753920,
		orangered: 16729344,
		orchid: 14315734,
		palegoldenrod: 15657130,
		palegreen: 10025880,
		paleturquoise: 11529966,
		palevioletred: 14381203,
		papayawhip: 16773077,
		peachpuff: 16767673,
		peru: 13468991,
		pink: 16761035,
		plum: 14524637,
		powderblue: 11591910,
		purple: 8388736,
		red: 16711680,
		rosybrown: 12357519,
		royalblue: 4286945,
		saddlebrown: 9127187,
		salmon: 16416882,
		sandybrown: 16032864,
		seagreen: 3050327,
		seashell: 16774638,
		sienna: 10506797,
		silver: 12632256,
		skyblue: 8900331,
		slateblue: 6970061,
		slategray: 7372944,
		slategrey: 7372944,
		snow: 16775930,
		springgreen: 65407,
		steelblue: 4620980,
		tan: 13808780,
		teal: 32896,
		thistle: 14204888,
		tomato: 16737095,
		turquoise: 4251856,
		violet: 15631086,
		wheat: 16113331,
		white: 16777215,
		whitesmoke: 16119285,
		yellow: 16776960,
		yellowgreen: 10145074
	};
	(W.prototype = Object.create(i.prototype)).constructor = W,
	W.prototype.isDataTexture = !0;
	var so = {
		common: {
			diffuse: {
				value: new V(15658734)
			},
			opacity: {
				value: 1
			},
			map: {
				value: null
			},
			offsetRepeat: {
				value: new r(0, 0, 1, 1)
			},
			specularMap: {
				value: null
			},
			alphaMap: {
				value: null
			},
			envMap: {
				value: null
			},
			flipEnvMap: {
				value: -1
			},
			reflectivity: {
				value: 1
			},
			refractionRatio: {
				value: .98
			}
		},
		aomap: {
			aoMap: {
				value: null
			},
			aoMapIntensity: {
				value: 1
			}
		},
		lightmap: {
			lightMap: {
				value: null
			},
			lightMapIntensity: {
				value: 1
			}
		},
		emissivemap: {
			emissiveMap: {
				value: null
			}
		},
		bumpmap: {
			bumpMap: {
				value: null
			},
			bumpScale: {
				value: 1
			}
		},
		normalmap: {
			normalMap: {
				value: null
			},
			normalScale: {
				value: new n(1, 1)
			}
		},
		displacementmap: {
			displacementMap: {
				value: null
			},
			displacementScale: {
				value: 1
			},
			displacementBias: {
				value: 0
			}
		},
		roughnessmap: {
			roughnessMap: {
				value: null
			}
		},
		metalnessmap: {
			metalnessMap: {
				value: null
			}
		},
		gradientmap: {
			gradientMap: {
				value: null
			}
		},
		fog: {
			fogDensity: {
				value: 25e-5
			},
			fogNear: {
				value: 1
			},
			fogFar: {
				value: 2e3
			},
			fogColor: {
				value: new V(16777215)
			}
		},
		lights: {
			ambientLightColor: {
				value: []
			},
			directionalLights: {
				value: [],
				properties: {
					direction: {},
					color: {},
					shadow: {},
					shadowBias: {},
					shadowRadius: {},
					shadowMapSize: {}
				}
			},
			directionalShadowMap: {
				value: []
			},
			directionalShadowMatrix: {
				value: []
			},
			spotLights: {
				value: [],
				properties: {
					color: {},
					position: {},
					direction: {},
					distance: {},
					coneCos: {},
					penumbraCos: {},
					decay: {},
					shadow: {},
					shadowBias: {},
					shadowRadius: {},
					shadowMapSize: {}
				}
			},
			spotShadowMap: {
				value: []
			},
			spotShadowMatrix: {
				value: []
			},
			pointLights: {
				value: [],
				properties: {
					color: {},
					position: {},
					decay: {},
					distance: {},
					shadow: {},
					shadowBias: {},
					shadowRadius: {},
					shadowMapSize: {}
				}
			},
			pointShadowMap: {
				value: []
			},
			pointShadowMatrix: {
				value: []
			},
			hemisphereLights: {
				value: [],
				properties: {
					direction: {},
					skyColor: {},
					groundColor: {}
				}
			},
			rectAreaLights: {
				value: [],
				properties: {
					color: {},
					position: {},
					width: {},
					height: {}
				}
			}
		},
		points: {
			diffuse: {
				value: new V(15658734)
			},
			opacity: {
				value: 1
			},
			size: {
				value: 1
			},
			scale: {
				value: 1
			},
			map: {
				value: null
			},
			offsetRepeat: {
				value: new r(0, 0, 1, 1)
			}
		}
	},
	lo = {
		basic: {
			uniforms: ro.merge([so.common, so.aomap, so.lightmap, so.fog]),
			vertexShader: ao.meshbasic_vert,
			fragmentShader: ao.meshbasic_frag
		},
		lambert: {
			uniforms: ro.merge([so.common, so.aomap, so.lightmap, so.emissivemap, so.fog, so.lights, {
						emissive: {
							value: new V(0)
						}
					}
				]),
			vertexShader: ao.meshlambert_vert,
			fragmentShader: ao.meshlambert_frag
		},
		phong: {
			uniforms: ro.merge([so.common, so.aomap, so.lightmap, so.emissivemap, so.bumpmap, so.normalmap, so.displacementmap, so.gradientmap, so.fog, so.lights, {
						emissive: {
							value: new V(0)
						},
						specular: {
							value: new V(1118481)
						},
						shininess: {
							value: 30
						}
					}
				]),
			vertexShader: ao.meshphong_vert,
			fragmentShader: ao.meshphong_frag
		},
		standard: {
			uniforms: ro.merge([so.common, so.aomap, so.lightmap, so.emissivemap, so.bumpmap, so.normalmap, so.displacementmap, so.roughnessmap, so.metalnessmap, so.fog, so.lights, {
						emissive: {
							value: new V(0)
						},
						roughness: {
							value: .5
						},
						metalness: {
							value: 0
						},
						envMapIntensity: {
							value: 1
						}
					}
				]),
			vertexShader: ao.meshphysical_vert,
			fragmentShader: ao.meshphysical_frag
		},
		points: {
			uniforms: ro.merge([so.points, so.fog]),
			vertexShader: ao.points_vert,
			fragmentShader: ao.points_frag
		},
		dashed: {
			uniforms: ro.merge([so.common, so.fog, {
						scale: {
							value: 1
						},
						dashSize: {
							value: 1
						},
						totalSize: {
							value: 2
						}
					}
				]),
			vertexShader: ao.linedashed_vert,
			fragmentShader: ao.linedashed_frag
		},
		depth: {
			uniforms: ro.merge([so.common, so.displacementmap]),
			vertexShader: ao.depth_vert,
			fragmentShader: ao.depth_frag
		},
		normal: {
			uniforms: ro.merge([so.common, so.bumpmap, so.normalmap, so.displacementmap, {
						opacity: {
							value: 1
						}
					}
				]),
			vertexShader: ao.normal_vert,
			fragmentShader: ao.normal_frag
		},
		cube: {
			uniforms: {
				tCube: {
					value: null
				},
				tFlip: {
					value: -1
				},
				opacity: {
					value: 1
				}
			},
			vertexShader: ao.cube_vert,
			fragmentShader: ao.cube_frag
		},
		equirect: {
			uniforms: {
				tEquirect: {
					value: null
				},
				tFlip: {
					value: -1
				}
			},
			vertexShader: ao.equirect_vert,
			fragmentShader: ao.equirect_frag
		},
		distanceRGBA: {
			uniforms: {
				lightPos: {
					value: new l
				}
			},
			vertexShader: ao.distanceRGBA_vert,
			fragmentShader: ao.distanceRGBA_frag
		}
	};
	lo.physical = {
		uniforms: ro.merge([lo.standard.uniforms, {
					clearCoat: {
						value: 0
					},
					clearCoatRoughness: {
						value: 0
					}
				}
			]),
		vertexShader: ao.meshphysical_vert,
		fragmentShader: ao.meshphysical_frag
	},
	G.prototype = {
		constructor: G,
		set: function (e, t) {
			return this.min.copy(e),
			this.max.copy(t),
			this
		},
		setFromPoints: function (e) {
			this.makeEmpty();
			for (var t = 0, n = e.length; t < n; t++)
				this.expandByPoint(e[t]);
			return this
		},
		setFromCenterAndSize: function () {
			var e = new n;
			return function (t, n) {
				var i = e.copy(n).multiplyScalar(.5);
				return this.min.copy(t).sub(i),
				this.max.copy(t).add(i),
				this
			}
		}
		(),
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.min.copy(e.min),
			this.max.copy(e.max),
			this
		},
		makeEmpty: function () {
			return this.min.x = this.min.y = 1 / 0,
			this.max.x = this.max.y = -1 / 0,
			this
		},
		isEmpty: function () {
			return this.max.x < this.min.x || this.max.y < this.min.y
		},
		getCenter: function (e) {
			var t = e || new n;
			return this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
		},
		getSize: function (e) {
			var t = e || new n;
			return this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
		},
		expandByPoint: function (e) {
			return this.min.min(e),
			this.max.max(e),
			this
		},
		expandByVector: function (e) {
			return this.min.sub(e),
			this.max.add(e),
			this
		},
		expandByScalar: function (e) {
			return this.min.addScalar(-e),
			this.max.addScalar(e),
			this
		},
		containsPoint: function (e) {
			return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y)
		},
		containsBox: function (e) {
			return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y
		},
		getParameter: function (e, t) {
			return (t || new n).set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y))
		},
		intersectsBox: function (e) {
			return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y)
		},
		clampPoint: function (e, t) {
			return (t || new n).copy(e).clamp(this.min, this.max)
		},
		distanceToPoint: function () {
			var e = new n;
			return function (t) {
				return e.copy(t).clamp(this.min, this.max).sub(t).length()
			}
		}
		(),
		intersect: function (e) {
			return this.min.max(e.min),
			this.max.min(e.max),
			this
		},
		union: function (e) {
			return this.min.min(e.min),
			this.max.max(e.max),
			this
		},
		translate: function (e) {
			return this.min.add(e),
			this.max.add(e),
			this
		},
		equals: function (e) {
			return e.min.equals(this.min) && e.max.equals(this.max)
		}
	};
	var co = 0;
	Y.prototype = {
		constructor: Y,
		isMaterial: !0,
		get needsUpdate() {
			return this._needsUpdate
		},
		set needsUpdate(e) {
			!0 === e && this.update(),
			this._needsUpdate = e
		},
		setValues: function (e) {
			if (void 0 !== e)
				for (var t in e) {
					var n = e[t];
					if (void 0 !== n) {
						var i = this[t];
						void 0 !== i ? i && i.isColor ? i.set(n) : i && i.isVector3 && n && n.isVector3 ? i.copy(n) : this[t] = "overdraw" === t ? Number(n) : n : console.warn("THREE." + this.type + ": '" + t + "' is not a property of this material.")
					} else
						console.warn("THREE.Material: '" + t + "' parameter is undefined.")
				}
		},
		toJSON: function (e) {
			function t(e) {
				var t = [];
				for (var n in e) {
					var i = e[n];
					delete i.metadata,
					t.push(i)
				}
				return t
			}
			var n = void 0 === e;
			n && (e = {
					textures: {},
					images: {}
				});
			var i = {
				metadata: {
					version: 4.4,
					type: "Material",
					generator: "Material.toJSON"
				}
			};
			if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), this.color && this.color.isColor && (i.color = this.color.getHex()), void 0 !== this.roughness && (i.roughness = this.roughness), void 0 !== this.metalness && (i.metalness = this.metalness), this.emissive && this.emissive.isColor && (i.emissive = this.emissive.getHex()), this.specular && this.specular.isColor && (i.specular = this.specular.getHex()), void 0 !== this.shininess && (i.shininess = this.shininess), void 0 !== this.clearCoat && (i.clearCoat = this.clearCoat), void 0 !== this.clearCoatRoughness && (i.clearCoatRoughness = this.clearCoatRoughness), this.map && this.map.isTexture && (i.map = this.map.toJSON(e).uuid), this.alphaMap && this.alphaMap.isTexture && (i.alphaMap = this.alphaMap.toJSON(e).uuid), this.lightMap && this.lightMap.isTexture && (i.lightMap = this.lightMap.toJSON(e).uuid), this.bumpMap && this.bumpMap.isTexture && (i.bumpMap = this.bumpMap.toJSON(e).uuid, i.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (i.normalMap = this.normalMap.toJSON(e).uuid, i.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (i.displacementMap = this.displacementMap.toJSON(e).uuid, i.displacementScale = this.displacementScale, i.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (i.roughnessMap = this.roughnessMap.toJSON(e).uuid), this.metalnessMap && this.metalnessMap.isTexture && (i.metalnessMap = this.metalnessMap.toJSON(e).uuid), this.emissiveMap && this.emissiveMap.isTexture && (i.emissiveMap = this.emissiveMap.toJSON(e).uuid), this.specularMap && this.specularMap.isTexture && (i.specularMap = this.specularMap.toJSON(e).uuid), this.envMap && this.envMap.isTexture && (i.envMap = this.envMap.toJSON(e).uuid, i.reflectivity = this.reflectivity), this.gradientMap && this.gradientMap.isTexture && (i.gradientMap = this.gradientMap.toJSON(e).uuid), void 0 !== this.size && (i.size = this.size), void 0 !== this.sizeAttenuation && (i.sizeAttenuation = this.sizeAttenuation), this.blending !== rr && (i.blending = this.blending), this.shading !== Qi && (i.shading = this.shading), this.side !== Yi && (i.side = this.side), this.vertexColors !== er && (i.vertexColors = this.vertexColors), this.opacity < 1 && (i.opacity = this.opacity), !0 === this.transparent && (i.transparent = this.transparent), i.depthFunc = this.depthFunc, i.depthTest = this.depthTest, i.depthWrite = this.depthWrite, this.alphaTest > 0 && (i.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (i.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (i.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (i.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (i.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (i.wireframeLinejoin = this.wireframeLinejoin), i.skinning = this.skinning, i.morphTargets = this.morphTargets, n) {
				var r = t(e.textures),
				a = t(e.images);
				r.length > 0 && (i.textures = r),
				a.length > 0 && (i.images = a)
			}
			return i
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			this.name = e.name,
			this.fog = e.fog,
			this.lights = e.lights,
			this.blending = e.blending,
			this.side = e.side,
			this.shading = e.shading,
			this.vertexColors = e.vertexColors,
			this.opacity = e.opacity,
			this.transparent = e.transparent,
			this.blendSrc = e.blendSrc,
			this.blendDst = e.blendDst,
			this.blendEquation = e.blendEquation,
			this.blendSrcAlpha = e.blendSrcAlpha,
			this.blendDstAlpha = e.blendDstAlpha,
			this.blendEquationAlpha = e.blendEquationAlpha,
			this.depthFunc = e.depthFunc,
			this.depthTest = e.depthTest,
			this.depthWrite = e.depthWrite,
			this.colorWrite = e.colorWrite,
			this.precision = e.precision,
			this.polygonOffset = e.polygonOffset,
			this.polygonOffsetFactor = e.polygonOffsetFactor,
			this.polygonOffsetUnits = e.polygonOffsetUnits,
			this.alphaTest = e.alphaTest,
			this.premultipliedAlpha = e.premultipliedAlpha,
			this.overdraw = e.overdraw,
			this.visible = e.visible,
			this.clipShadows = e.clipShadows,
			this.clipIntersection = e.clipIntersection;
			var t = e.clippingPlanes,
			n = null;
			if (null !== t) {
				var i = t.length;
				n = new Array(i);
				for (var r = 0; r !== i; ++r)
					n[r] = t[r].clone()
			}
			return this.clippingPlanes = n,
			this
		},
		update: function () {
			this.dispatchEvent({
				type: "update"
			})
		},
		dispose: function () {
			this.dispatchEvent({
				type: "dispose"
			})
		}
	},
	Object.assign(Y.prototype, t.prototype),
	(q.prototype = Object.create(Y.prototype)).constructor = q,
	q.prototype.isShaderMaterial = !0,
	q.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.fragmentShader = e.fragmentShader,
		this.vertexShader = e.vertexShader,
		this.uniforms = ro.clone(e.uniforms),
		this.defines = e.defines,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this.lights = e.lights,
		this.clipping = e.clipping,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this.morphNormals = e.morphNormals,
		this.extensions = e.extensions,
		this
	},
	q.prototype.toJSON = function (e) {
		var t = Y.prototype.toJSON.call(this, e);
		return t.uniforms = this.uniforms,
		t.vertexShader = this.vertexShader,
		t.fragmentShader = this.fragmentShader,
		t
	},
	(Z.prototype = Object.create(Y.prototype)).constructor = Z,
	Z.prototype.isMeshDepthMaterial = !0,
	Z.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.depthPacking = e.depthPacking,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this.map = e.map,
		this.alphaMap = e.alphaMap,
		this.displacementMap = e.displacementMap,
		this.displacementScale = e.displacementScale,
		this.displacementBias = e.displacementBias,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this
	},
	J.prototype = {
		constructor: J,
		isBox3: !0,
		set: function (e, t) {
			return this.min.copy(e),
			this.max.copy(t),
			this
		},
		setFromArray: function (e) {
			for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, a = -1 / 0, o = -1 / 0, s = 0, l = e.length; s < l; s += 3) {
				var c = e[s],
				d = e[s + 1],
				u = e[s + 2];
				c < t && (t = c),
				d < n && (n = d),
				u < i && (i = u),
				c > r && (r = c),
				d > a && (a = d),
				u > o && (o = u)
			}
			this.min.set(t, n, i),
			this.max.set(r, a, o)
		},
		setFromBufferAttribute: function (e) {
			for (var t = 1 / 0, n = 1 / 0, i = 1 / 0, r = -1 / 0, a = -1 / 0, o = -1 / 0, s = 0, l = e.count; s < l; s++) {
				var c = e.getX(s),
				d = e.getY(s),
				u = e.getZ(s);
				c < t && (t = c),
				d < n && (n = d),
				u < i && (i = u),
				c > r && (r = c),
				d > a && (a = d),
				u > o && (o = u)
			}
			this.min.set(t, n, i),
			this.max.set(r, a, o)
		},
		setFromPoints: function (e) {
			this.makeEmpty();
			for (var t = 0, n = e.length; t < n; t++)
				this.expandByPoint(e[t]);
			return this
		},
		setFromCenterAndSize: function () {
			var e = new l;
			return function (t, n) {
				var i = e.copy(n).multiplyScalar(.5);
				return this.min.copy(t).sub(i),
				this.max.copy(t).add(i),
				this
			}
		}
		(),
		setFromObject: function () {
			var e = new l;
			return function (t) {
				var n = this;
				return t.updateMatrixWorld(!0),
				this.makeEmpty(),
				t.traverse(function (t) {
					var i,
					r,
					a = t.geometry;
					if (void 0 !== a)
						if (a.isGeometry) {
							var o = a.vertices;
							for (i = 0, r = o.length; i < r; i++)
								e.copy(o[i]), e.applyMatrix4(t.matrixWorld), n.expandByPoint(e)
						} else if (a.isBufferGeometry) {
							var s = a.attributes.position;
							if (void 0 !== s)
								for (i = 0, r = s.count; i < r; i++)
									e.fromAttribute(s, i).applyMatrix4(t.matrixWorld), n.expandByPoint(e)
						}
				}),
				this
			}
		}
		(),
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.min.copy(e.min),
			this.max.copy(e.max),
			this
		},
		makeEmpty: function () {
			return this.min.x = this.min.y = this.min.z = 1 / 0,
			this.max.x = this.max.y = this.max.z = -1 / 0,
			this
		},
		isEmpty: function () {
			return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
		},
		getCenter: function (e) {
			var t = e || new l;
			return this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
		},
		getSize: function (e) {
			var t = e || new l;
			return this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
		},
		expandByPoint: function (e) {
			return this.min.min(e),
			this.max.max(e),
			this
		},
		expandByVector: function (e) {
			return this.min.sub(e),
			this.max.add(e),
			this
		},
		expandByScalar: function (e) {
			return this.min.addScalar(-e),
			this.max.addScalar(e),
			this
		},
		containsPoint: function (e) {
			return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y || e.z < this.min.z || e.z > this.max.z)
		},
		containsBox: function (e) {
			return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y && this.min.z <= e.min.z && e.max.z <= this.max.z
		},
		getParameter: function (e, t) {
			return (t || new l).set((e.x - this.min.x) / (this.max.x - this.min.x), (e.y - this.min.y) / (this.max.y - this.min.y), (e.z - this.min.z) / (this.max.z - this.min.z))
		},
		intersectsBox: function (e) {
			return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y || e.max.z < this.min.z || e.min.z > this.max.z)
		},
		intersectsSphere: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new l),
				this.clampPoint(t.center, e),
				e.distanceToSquared(t.center) <= t.radius * t.radius
			}
		}
		(),
		intersectsPlane: function (e) {
			var t,
			n;
			return e.normal.x > 0 ? (t = e.normal.x * this.min.x, n = e.normal.x * this.max.x) : (t = e.normal.x * this.max.x, n = e.normal.x * this.min.x),
			e.normal.y > 0 ? (t += e.normal.y * this.min.y, n += e.normal.y * this.max.y) : (t += e.normal.y * this.max.y, n += e.normal.y * this.min.y),
			e.normal.z > 0 ? (t += e.normal.z * this.min.z, n += e.normal.z * this.max.z) : (t += e.normal.z * this.max.z, n += e.normal.z * this.min.z),
			t <= e.constant && n >= e.constant
		},
		clampPoint: function (e, t) {
			return (t || new l).copy(e).clamp(this.min, this.max)
		},
		distanceToPoint: function () {
			var e = new l;
			return function (t) {
				return e.copy(t).clamp(this.min, this.max).sub(t).length()
			}
		}
		(),
		getBoundingSphere: function () {
			var e = new l;
			return function (t) {
				var n = t || new Q;
				return this.getCenter(n.center),
				n.radius = .5 * this.getSize(e).length(),
				n
			}
		}
		(),
		intersect: function (e) {
			return this.min.max(e.min),
			this.max.min(e.max),
			this.isEmpty() && this.makeEmpty(),
			this
		},
		union: function (e) {
			return this.min.min(e.min),
			this.max.max(e.max),
			this
		},
		applyMatrix4: function () {
			var e = [new l, new l, new l, new l, new l, new l, new l, new l];
			return function (t) {
				return this.isEmpty() ? this : (e[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), e[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), e[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), e[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), e[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), e[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), e[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), e[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.setFromPoints(e), this)
			}
		}
		(),
		translate: function (e) {
			return this.min.add(e),
			this.max.add(e),
			this
		},
		equals: function (e) {
			return e.min.equals(this.min) && e.max.equals(this.max)
		}
	},
	Q.prototype = {
		constructor: Q,
		set: function (e, t) {
			return this.center.copy(e),
			this.radius = t,
			this
		},
		setFromPoints: function () {
			var e = new J;
			return function (t, n) {
				var i = this.center;
				void 0 !== n ? i.copy(n) : e.setFromPoints(t).getCenter(i);
				for (var r = 0, a = 0, o = t.length; a < o; a++)
					r = Math.max(r, i.distanceToSquared(t[a]));
				return this.radius = Math.sqrt(r),
				this
			}
		}
		(),
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.center.copy(e.center),
			this.radius = e.radius,
			this
		},
		empty: function () {
			return this.radius <= 0
		},
		containsPoint: function (e) {
			return e.distanceToSquared(this.center) <= this.radius * this.radius
		},
		distanceToPoint: function (e) {
			return e.distanceTo(this.center) - this.radius
		},
		intersectsSphere: function (e) {
			var t = this.radius + e.radius;
			return e.center.distanceToSquared(this.center) <= t * t
		},
		intersectsBox: function (e) {
			return e.intersectsSphere(this)
		},
		intersectsPlane: function (e) {
			return Math.abs(this.center.dot(e.normal) - e.constant) <= this.radius
		},
		clampPoint: function (e, t) {
			var n = this.center.distanceToSquared(e),
			i = t || new l;
			return i.copy(e),
			n > this.radius * this.radius && (i.sub(this.center).normalize(), i.multiplyScalar(this.radius).add(this.center)),
			i
		},
		getBoundingBox: function (e) {
			var t = e || new J;
			return t.set(this.center, this.center),
			t.expandByScalar(this.radius),
			t
		},
		applyMatrix4: function (e) {
			return this.center.applyMatrix4(e),
			this.radius = this.radius * e.getMaxScaleOnAxis(),
			this
		},
		translate: function (e) {
			return this.center.add(e),
			this
		},
		equals: function (e) {
			return e.center.equals(this.center) && e.radius === this.radius
		}
	},
	K.prototype = {
		constructor: K,
		isMatrix3: !0,
		set: function (e, t, n, i, r, a, o, s, l) {
			var c = this.elements;
			return c[0] = e,
			c[1] = i,
			c[2] = o,
			c[3] = t,
			c[4] = r,
			c[5] = s,
			c[6] = n,
			c[7] = a,
			c[8] = l,
			this
		},
		identity: function () {
			return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1),
			this
		},
		clone: function () {
			return (new this.constructor).fromArray(this.elements)
		},
		copy: function (e) {
			var t = e.elements;
			return this.set(t[0], t[3], t[6], t[1], t[4], t[7], t[2], t[5], t[8]),
			this
		},
		setFromMatrix4: function (e) {
			var t = e.elements;
			return this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]),
			this
		},
		applyToVector3Array: function () {
			var e;
			return function (t, n, i) {
				void 0 === e && (e = new l),
				void 0 === n && (n = 0),
				void 0 === i && (i = t.length);
				for (var r = 0, a = n; r < i; r += 3, a += 3)
					e.fromArray(t, a), e.applyMatrix3(this), e.toArray(t, a);
				return t
			}
		}
		(),
		applyToBufferAttribute: function () {
			var e;
			return function (t) {
				void 0 === e && (e = new l);
				for (var n = 0, i = t.count; n < i; n++)
					e.x = t.getX(n), e.y = t.getY(n), e.z = t.getZ(n), e.applyMatrix3(this), t.setXYZ(n, e.x, e.y, e.z);
				return t
			}
		}
		(),
		multiplyScalar: function (e) {
			var t = this.elements;
			return t[0] *= e,
			t[3] *= e,
			t[6] *= e,
			t[1] *= e,
			t[4] *= e,
			t[7] *= e,
			t[2] *= e,
			t[5] *= e,
			t[8] *= e,
			this
		},
		determinant: function () {
			var e = this.elements,
			t = e[0],
			n = e[1],
			i = e[2],
			r = e[3],
			a = e[4],
			o = e[5],
			s = e[6],
			l = e[7],
			c = e[8];
			return t * a * c - t * o * l - n * r * c + n * o * s + i * r * l - i * a * s
		},
		getInverse: function (e, t) {
			e && e.isMatrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
			var n = e.elements,
			i = this.elements,
			r = n[0],
			a = n[1],
			o = n[2],
			s = n[3],
			l = n[4],
			c = n[5],
			d = n[6],
			u = n[7],
			h = n[8],
			p = h * l - c * u,
			f = c * d - h * s,
			m = u * s - l * d,
			g = r * p + a * f + o * m;
			if (0 === g) {
				var v = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";
				if (!0 === t)
					throw new Error(v);
				return console.warn(v),
				this.identity()
			}
			var b = 1 / g;
			return i[0] = p * b,
			i[1] = (o * u - h * a) * b,
			i[2] = (c * a - o * l) * b,
			i[3] = f * b,
			i[4] = (h * r - o * d) * b,
			i[5] = (o * s - c * r) * b,
			i[6] = m * b,
			i[7] = (a * d - u * r) * b,
			i[8] = (l * r - a * s) * b,
			this
		},
		transpose: function () {
			var e,
			t = this.elements;
			return e = t[1],
			t[1] = t[3],
			t[3] = e,
			e = t[2],
			t[2] = t[6],
			t[6] = e,
			e = t[5],
			t[5] = t[7],
			t[7] = e,
			this
		},
		getNormalMatrix: function (e) {
			return this.setFromMatrix4(e).getInverse(this).transpose()
		},
		transposeIntoArray: function (e) {
			var t = this.elements;
			return e[0] = t[0],
			e[1] = t[3],
			e[2] = t[6],
			e[3] = t[1],
			e[4] = t[4],
			e[5] = t[7],
			e[6] = t[2],
			e[7] = t[5],
			e[8] = t[8],
			this
		},
		fromArray: function (e, t) {
			void 0 === t && (t = 0);
			for (var n = 0; n < 9; n++)
				this.elements[n] = e[n + t];
			return this
		},
		toArray: function (e, t) {
			void 0 === e && (e = []),
			void 0 === t && (t = 0);
			var n = this.elements;
			return e[t] = n[0],
			e[t + 1] = n[1],
			e[t + 2] = n[2],
			e[t + 3] = n[3],
			e[t + 4] = n[4],
			e[t + 5] = n[5],
			e[t + 6] = n[6],
			e[t + 7] = n[7],
			e[t + 8] = n[8],
			e
		}
	},
	ee.prototype = {
		constructor: ee,
		set: function (e, t) {
			return this.normal.copy(e),
			this.constant = t,
			this
		},
		setComponents: function (e, t, n, i) {
			return this.normal.set(e, t, n),
			this.constant = i,
			this
		},
		setFromNormalAndCoplanarPoint: function (e, t) {
			return this.normal.copy(e),
			this.constant = -t.dot(this.normal),
			this
		},
		setFromCoplanarPoints: function () {
			var e = new l,
			t = new l;
			return function (n, i, r) {
				var a = e.subVectors(r, i).cross(t.subVectors(n, i)).normalize();
				return this.setFromNormalAndCoplanarPoint(a, n),
				this
			}
		}
		(),
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.normal.copy(e.normal),
			this.constant = e.constant,
			this
		},
		normalize: function () {
			var e = 1 / this.normal.length();
			return this.normal.multiplyScalar(e),
			this.constant *= e,
			this
		},
		negate: function () {
			return this.constant *= -1,
			this.normal.negate(),
			this
		},
		distanceToPoint: function (e) {
			return this.normal.dot(e) + this.constant
		},
		distanceToSphere: function (e) {
			return this.distanceToPoint(e.center) - e.radius
		},
		projectPoint: function (e, t) {
			return this.orthoPoint(e, t).sub(e).negate()
		},
		orthoPoint: function (e, t) {
			var n = this.distanceToPoint(e);
			return (t || new l).copy(this.normal).multiplyScalar(n)
		},
		intersectLine: function () {
			var e = new l;
			return function (t, n) {
				var i = n || new l,
				r = t.delta(e),
				a = this.normal.dot(r);
				if (0 !== a) {
					var o =  - (t.start.dot(this.normal) + this.constant) / a;
					if (!(o < 0 || o > 1))
						return i.copy(r).multiplyScalar(o).add(t.start)
				} else if (0 === this.distanceToPoint(t.start))
					return i.copy(t.start)
			}
		}
		(),
		intersectsLine: function (e) {
			var t = this.distanceToPoint(e.start),
			n = this.distanceToPoint(e.end);
			return t < 0 && n > 0 || n < 0 && t > 0
		},
		intersectsBox: function (e) {
			return e.intersectsPlane(this)
		},
		intersectsSphere: function (e) {
			return e.intersectsPlane(this)
		},
		coplanarPoint: function (e) {
			return (e || new l).copy(this.normal).multiplyScalar(-this.constant)
		},
		applyMatrix4: function () {
			var e = new l,
			t = new K;
			return function (n, i) {
				var r = this.coplanarPoint(e).applyMatrix4(n),
				a = i || t.getNormalMatrix(n),
				o = this.normal.applyMatrix3(a).normalize();
				return this.constant = -r.dot(o),
				this
			}
		}
		(),
		translate: function (e) {
			return this.constant = this.constant - e.dot(this.normal),
			this
		},
		equals: function (e) {
			return e.normal.equals(this.normal) && e.constant === this.constant
		}
	},
	te.prototype = {
		constructor: te,
		set: function (e, t, n, i, r, a) {
			var o = this.planes;
			return o[0].copy(e),
			o[1].copy(t),
			o[2].copy(n),
			o[3].copy(i),
			o[4].copy(r),
			o[5].copy(a),
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			for (var t = this.planes, n = 0; n < 6; n++)
				t[n].copy(e.planes[n]);
			return this
		},
		setFromMatrix: function (e) {
			var t = this.planes,
			n = e.elements,
			i = n[0],
			r = n[1],
			a = n[2],
			o = n[3],
			s = n[4],
			l = n[5],
			c = n[6],
			d = n[7],
			u = n[8],
			h = n[9],
			p = n[10],
			f = n[11],
			m = n[12],
			g = n[13],
			v = n[14],
			b = n[15];
			return t[0].setComponents(o - i, d - s, f - u, b - m).normalize(),
			t[1].setComponents(o + i, d + s, f + u, b + m).normalize(),
			t[2].setComponents(o + r, d + l, f + h, b + g).normalize(),
			t[3].setComponents(o - r, d - l, f - h, b - g).normalize(),
			t[4].setComponents(o - a, d - c, f - p, b - v).normalize(),
			t[5].setComponents(o + a, d + c, f + p, b + v).normalize(),
			this
		},
		intersectsObject: function () {
			var e = new Q;
			return function (t) {
				var n = t.geometry;
				return null === n.boundingSphere && n.computeBoundingSphere(),
				e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),
				this.intersectsSphere(e)
			}
		}
		(),
		intersectsSprite: function () {
			var e = new Q;
			return function (t) {
				return e.center.set(0, 0, 0),
				e.radius = .7071067811865476,
				e.applyMatrix4(t.matrixWorld),
				this.intersectsSphere(e)
			}
		}
		(),
		intersectsSphere: function (e) {
			for (var t = this.planes, n = e.center, i = -e.radius, r = 0; r < 6; r++) {
				if (t[r].distanceToPoint(n) < i)
					return !1
			}
			return !0
		},
		intersectsBox: function () {
			var e = new l,
			t = new l;
			return function (n) {
				for (var i = this.planes, r = 0; r < 6; r++) {
					var a = i[r];
					e.x = a.normal.x > 0 ? n.min.x : n.max.x,
					t.x = a.normal.x > 0 ? n.max.x : n.min.x,
					e.y = a.normal.y > 0 ? n.min.y : n.max.y,
					t.y = a.normal.y > 0 ? n.max.y : n.min.y,
					e.z = a.normal.z > 0 ? n.min.z : n.max.z,
					t.z = a.normal.z > 0 ? n.max.z : n.min.z;
					var o = a.distanceToPoint(e),
					s = a.distanceToPoint(t);
					if (o < 0 && s < 0)
						return !1
				}
				return !0
			}
		}
		(),
		containsPoint: function (e) {
			for (var t = this.planes, n = 0; n < 6; n++)
				if (t[n].distanceToPoint(e) < 0)
					return !1;
			return !0
		}
	},
	ie.prototype = {
		constructor: ie,
		set: function (e, t) {
			return this.origin.copy(e),
			this.direction.copy(t),
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.origin.copy(e.origin),
			this.direction.copy(e.direction),
			this
		},
		at: function (e, t) {
			return (t || new l).copy(this.direction).multiplyScalar(e).add(this.origin)
		},
		lookAt: function (e) {
			return this.direction.copy(e).sub(this.origin).normalize(),
			this
		},
		recast: function () {
			var e = new l;
			return function (t) {
				return this.origin.copy(this.at(t, e)),
				this
			}
		}
		(),
		closestPointToPoint: function (e, t) {
			var n = t || new l;
			n.subVectors(e, this.origin);
			var i = n.dot(this.direction);
			return i < 0 ? n.copy(this.origin) : n.copy(this.direction).multiplyScalar(i).add(this.origin)
		},
		distanceToPoint: function (e) {
			return Math.sqrt(this.distanceSqToPoint(e))
		},
		distanceSqToPoint: function () {
			var e = new l;
			return function (t) {
				var n = e.subVectors(t, this.origin).dot(this.direction);
				return n < 0 ? this.origin.distanceToSquared(t) : (e.copy(this.direction).multiplyScalar(n).add(this.origin), e.distanceToSquared(t))
			}
		}
		(),
		distanceSqToSegment: function () {
			var e = new l,
			t = new l,
			n = new l;
			return function (i, r, a, o) {
				e.copy(i).add(r).multiplyScalar(.5),
				t.copy(r).sub(i).normalize(),
				n.copy(this.origin).sub(e);
				var s,
				l,
				c,
				d,
				u = .5 * i.distanceTo(r),
				h = -this.direction.dot(t),
				p = n.dot(this.direction),
				f = -n.dot(t),
				m = n.lengthSq(),
				g = Math.abs(1 - h * h);
				if (g > 0)
					if (s = h * f - p, l = h * p - f, d = u * g, s >= 0)
						if (l >= -d)
							if (l <= d) {
								var v = 1 / g;
								c = (s *= v) * (s + h * (l *= v) + 2 * p) + l * (h * s + l + 2 * f) + m
							} else
								l = u, c =  - (s = Math.max(0,  - (h * l + p))) * s + l * (l + 2 * f) + m;
						else
							l = -u, c =  - (s = Math.max(0,  - (h * l + p))) * s + l * (l + 2 * f) + m;
					else
						l <= -d ? c =  - (s = Math.max(0,  - (-h * u + p))) * s + (l = s > 0 ? -u : Math.min(Math.max(-u, -f), u)) * (l + 2 * f) + m : l <= d ? (s = 0, c = (l = Math.min(Math.max(-u, -f), u)) * (l + 2 * f) + m) : c =  - (s = Math.max(0,  - (h * u + p))) * s + (l = s > 0 ? u : Math.min(Math.max(-u, -f), u)) * (l + 2 * f) + m;
				else
					l = h > 0 ? -u : u, c =  - (s = Math.max(0,  - (h * l + p))) * s + l * (l + 2 * f) + m;
				return a && a.copy(this.direction).multiplyScalar(s).add(this.origin),
				o && o.copy(t).multiplyScalar(l).add(e),
				c
			}
		}
		(),
		intersectSphere: function () {
			var e = new l;
			return function (t, n) {
				e.subVectors(t.center, this.origin);
				var i = e.dot(this.direction),
				r = e.dot(e) - i * i,
				a = t.radius * t.radius;
				if (r > a)
					return null;
				var o = Math.sqrt(a - r),
				s = i - o,
				l = i + o;
				return s < 0 && l < 0 ? null : s < 0 ? this.at(l, n) : this.at(s, n)
			}
		}
		(),
		intersectsSphere: function (e) {
			return this.distanceToPoint(e.center) <= e.radius
		},
		distanceToPlane: function (e) {
			var t = e.normal.dot(this.direction);
			if (0 === t)
				return 0 === e.distanceToPoint(this.origin) ? 0 : null;
			var n =  - (this.origin.dot(e.normal) + e.constant) / t;
			return n >= 0 ? n : null
		},
		intersectPlane: function (e, t) {
			var n = this.distanceToPlane(e);
			return null === n ? null : this.at(n, t)
		},
		intersectsPlane: function (e) {
			var t = e.distanceToPoint(this.origin);
			if (0 === t)
				return !0;
			return e.normal.dot(this.direction) * t < 0
		},
		intersectBox: function (e, t) {
			var n,
			i,
			r,
			a,
			o,
			s,
			l = 1 / this.direction.x,
			c = 1 / this.direction.y,
			d = 1 / this.direction.z,
			u = this.origin;
			return l >= 0 ? (n = (e.min.x - u.x) * l, i = (e.max.x - u.x) * l) : (n = (e.max.x - u.x) * l, i = (e.min.x - u.x) * l),
			c >= 0 ? (r = (e.min.y - u.y) * c, a = (e.max.y - u.y) * c) : (r = (e.max.y - u.y) * c, a = (e.min.y - u.y) * c),
			n > a || r > i ? null : ((r > n || n != n) && (n = r), (a < i || i != i) && (i = a), d >= 0 ? (o = (e.min.z - u.z) * d, s = (e.max.z - u.z) * d) : (o = (e.max.z - u.z) * d, s = (e.min.z - u.z) * d), n > s || o > i ? null : ((o > n || n != n) && (n = o), (s < i || i != i) && (i = s), i < 0 ? null : this.at(n >= 0 ? n : i, t)))
		},
		intersectsBox: function () {
			var e = new l;
			return function (t) {
				return null !== this.intersectBox(t, e)
			}
		}
		(),
		intersectTriangle: function () {
			var e = new l,
			t = new l,
			n = new l,
			i = new l;
			return function (r, a, o, s, l) {
				t.subVectors(a, r),
				n.subVectors(o, r),
				i.crossVectors(t, n);
				var c,
				d = this.direction.dot(i);
				if (d > 0) {
					if (s)
						return null;
					c = 1
				} else {
					if (!(d < 0))
						return null;
					c = -1,
					d = -d
				}
				e.subVectors(this.origin, r);
				var u = c * this.direction.dot(n.crossVectors(e, n));
				if (u < 0)
					return null;
				var h = c * this.direction.dot(t.cross(e));
				if (h < 0)
					return null;
				if (u + h > d)
					return null;
				var p = -c * e.dot(i);
				return p < 0 ? null : this.at(p / d, l)
			}
		}
		(),
		applyMatrix4: function (e) {
			return this.direction.add(this.origin).applyMatrix4(e),
			this.origin.applyMatrix4(e),
			this.direction.sub(this.origin),
			this.direction.normalize(),
			this
		},
		equals: function (e) {
			return e.origin.equals(this.origin) && e.direction.equals(this.direction)
		}
	},
	re.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"],
	re.DefaultOrder = "XYZ",
	re.prototype = {
		constructor: re,
		isEuler: !0,
		get x() {
			return this._x
		},
		set x(e) {
			this._x = e,
			this.onChangeCallback()
		},
		get y() {
			return this._y
		},
		set y(e) {
			this._y = e,
			this.onChangeCallback()
		},
		get z() {
			return this._z
		},
		set z(e) {
			this._z = e,
			this.onChangeCallback()
		},
		get order() {
			return this._order
		},
		set order(e) {
			this._order = e,
			this.onChangeCallback()
		},
		set: function (e, t, n, i) {
			return this._x = e,
			this._y = t,
			this._z = n,
			this._order = i || this._order,
			this.onChangeCallback(),
			this
		},
		clone: function () {
			return new this.constructor(this._x, this._y, this._z, this._order)
		},
		copy: function (e) {
			return this._x = e._x,
			this._y = e._y,
			this._z = e._z,
			this._order = e._order,
			this.onChangeCallback(),
			this
		},
		setFromRotationMatrix: function (e, t, n) {
			var i = Ja.clamp,
			r = e.elements,
			a = r[0],
			o = r[4],
			s = r[8],
			l = r[1],
			c = r[5],
			d = r[9],
			u = r[2],
			h = r[6],
			p = r[10];
			return "XYZ" === (t = t || this._order) ? (this._y = Math.asin(i(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(-d, p), this._z = Math.atan2(-o, a)) : (this._x = Math.atan2(h, c), this._z = 0)) : "YXZ" === t ? (this._x = Math.asin(-i(d, -1, 1)), Math.abs(d) < .99999 ? (this._y = Math.atan2(s, p), this._z = Math.atan2(l, c)) : (this._y = Math.atan2(-u, a), this._z = 0)) : "ZXY" === t ? (this._x = Math.asin(i(h, -1, 1)), Math.abs(h) < .99999 ? (this._y = Math.atan2(-u, p), this._z = Math.atan2(-o, c)) : (this._y = 0, this._z = Math.atan2(l, a))) : "ZYX" === t ? (this._y = Math.asin(-i(u, -1, 1)), Math.abs(u) < .99999 ? (this._x = Math.atan2(h, p), this._z = Math.atan2(l, a)) : (this._x = 0, this._z = Math.atan2(-o, c))) : "YZX" === t ? (this._z = Math.asin(i(l, -1, 1)), Math.abs(l) < .99999 ? (this._x = Math.atan2(-d, c), this._y = Math.atan2(-u, a)) : (this._x = 0, this._y = Math.atan2(s, p))) : "XZY" === t ? (this._z = Math.asin(-i(o, -1, 1)), Math.abs(o) < .99999 ? (this._x = Math.atan2(h, c), this._y = Math.atan2(s, a)) : (this._x = Math.atan2(-d, p), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + t),
			this._order = t,
			!1 !== n && this.onChangeCallback(),
			this
		},
		setFromQuaternion: function () {
			var e;
			return function (t, n, i) {
				return void 0 === e && (e = new c),
				e.makeRotationFromQuaternion(t),
				this.setFromRotationMatrix(e, n, i)
			}
		}
		(),
		setFromVector3: function (e, t) {
			return this.set(e.x, e.y, e.z, t || this._order)
		},
		reorder: function () {
			var e = new s;
			return function (t) {
				return e.setFromEuler(this),
				this.setFromQuaternion(e, t)
			}
		}
		(),
		equals: function (e) {
			return e._x === this._x && e._y === this._y && e._z === this._z && e._order === this._order
		},
		fromArray: function (e) {
			return this._x = e[0],
			this._y = e[1],
			this._z = e[2],
			void 0 !== e[3] && (this._order = e[3]),
			this.onChangeCallback(),
			this
		},
		toArray: function (e, t) {
			return void 0 === e && (e = []),
			void 0 === t && (t = 0),
			e[t] = this._x,
			e[t + 1] = this._y,
			e[t + 2] = this._z,
			e[t + 3] = this._order,
			e
		},
		toVector3: function (e) {
			return e ? e.set(this._x, this._y, this._z) : new l(this._x, this._y, this._z)
		},
		onChange: function (e) {
			return this.onChangeCallback = e,
			this
		},
		onChangeCallback: function () {}
	},
	ae.prototype = {
		constructor: ae,
		set: function (e) {
			this.mask = 1 << e
		},
		enable: function (e) {
			this.mask |= 1 << e
		},
		toggle: function (e) {
			this.mask ^= 1 << e
		},
		disable: function (e) {
			this.mask &= ~(1 << e)
		},
		test: function (e) {
			return 0 != (this.mask & e.mask)
		}
	};
	var uo = 0;
	oe.DefaultUp = new l(0, 1, 0),
	oe.DefaultMatrixAutoUpdate = !0,
	Object.assign(oe.prototype, t.prototype, {
		isObject3D: !0,
		applyMatrix: function (e) {
			this.matrix.multiplyMatrices(e, this.matrix),
			this.matrix.decompose(this.position, this.quaternion, this.scale)
		},
		setRotationFromAxisAngle: function (e, t) {
			this.quaternion.setFromAxisAngle(e, t)
		},
		setRotationFromEuler: function (e) {
			this.quaternion.setFromEuler(e, !0)
		},
		setRotationFromMatrix: function (e) {
			this.quaternion.setFromRotationMatrix(e)
		},
		setRotationFromQuaternion: function (e) {
			this.quaternion.copy(e)
		},
		rotateOnAxis: function () {
			var e = new s;
			return function (t, n) {
				return e.setFromAxisAngle(t, n),
				this.quaternion.multiply(e),
				this
			}
		}
		(),
		rotateX: function () {
			var e = new l(1, 0, 0);
			return function (t) {
				return this.rotateOnAxis(e, t)
			}
		}
		(),
		rotateY: function () {
			var e = new l(0, 1, 0);
			return function (t) {
				return this.rotateOnAxis(e, t)
			}
		}
		(),
		rotateZ: function () {
			var e = new l(0, 0, 1);
			return function (t) {
				return this.rotateOnAxis(e, t)
			}
		}
		(),
		translateOnAxis: function () {
			var e = new l;
			return function (t, n) {
				return e.copy(t).applyQuaternion(this.quaternion),
				this.position.add(e.multiplyScalar(n)),
				this
			}
		}
		(),
		translateX: function () {
			var e = new l(1, 0, 0);
			return function (t) {
				return this.translateOnAxis(e, t)
			}
		}
		(),
		translateY: function () {
			var e = new l(0, 1, 0);
			return function (t) {
				return this.translateOnAxis(e, t)
			}
		}
		(),
		translateZ: function () {
			var e = new l(0, 0, 1);
			return function (t) {
				return this.translateOnAxis(e, t)
			}
		}
		(),
		localToWorld: function (e) {
			return e.applyMatrix4(this.matrixWorld)
		},
		worldToLocal: function () {
			var e = new c;
			return function (t) {
				return t.applyMatrix4(e.getInverse(this.matrixWorld))
			}
		}
		(),
		lookAt: function () {
			var e = new c;
			return function (t) {
				e.lookAt(t, this.position, this.up),
				this.quaternion.setFromRotationMatrix(e)
			}
		}
		(),
		add: function (e) {
			if (arguments.length > 1) {
				for (var t = 0; t < arguments.length; t++)
					this.add(arguments[t]);
				return this
			}
			return e === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", e), this) : (e && e.isObject3D ? (null !== e.parent && e.parent.remove(e), e.parent = this, e.dispatchEvent({
						type: "added"
					}), this.children.push(e)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", e), this)
		},
		remove: function (e) {
			if (arguments.length > 1)
				for (var t = 0; t < arguments.length; t++)
					this.remove(arguments[t]);
			var n = this.children.indexOf(e);
			-1 !== n && (e.parent = null, e.dispatchEvent({
					type: "removed"
				}), this.children.splice(n, 1))
		},
		getObjectById: function (e) {
			return this.getObjectByProperty("id", e)
		},
		getObjectByName: function (e) {
			return this.getObjectByProperty("name", e)
		},
		getObjectByProperty: function (e, t) {
			if (this[e] === t)
				return this;
			for (var n = 0, i = this.children.length; n < i; n++) {
				var r = this.children[n].getObjectByProperty(e, t);
				if (void 0 !== r)
					return r
			}
		},
		getWorldPosition: function (e) {
			var t = e || new l;
			return this.updateMatrixWorld(!0),
			t.setFromMatrixPosition(this.matrixWorld)
		},
		getWorldQuaternion: function () {
			var e = new l,
			t = new l;
			return function (n) {
				var i = n || new s;
				return this.updateMatrixWorld(!0),
				this.matrixWorld.decompose(e, i, t),
				i
			}
		}
		(),
		getWorldRotation: function () {
			var e = new s;
			return function (t) {
				var n = t || new re;
				return this.getWorldQuaternion(e),
				n.setFromQuaternion(e, this.rotation.order, !1)
			}
		}
		(),
		getWorldScale: function () {
			var e = new l,
			t = new s;
			return function (n) {
				var i = n || new l;
				return this.updateMatrixWorld(!0),
				this.matrixWorld.decompose(e, t, i),
				i
			}
		}
		(),
		getWorldDirection: function () {
			var e = new s;
			return function (t) {
				var n = t || new l;
				return this.getWorldQuaternion(e),
				n.set(0, 0, 1).applyQuaternion(e)
			}
		}
		(),
		raycast: function () {},
		traverse: function (e) {
			e(this);
			for (var t = this.children, n = 0, i = t.length; n < i; n++)
				t[n].traverse(e)
		},
		traverseVisible: function (e) {
			if (!1 !== this.visible) {
				e(this);
				for (var t = this.children, n = 0, i = t.length; n < i; n++)
					t[n].traverseVisible(e)
			}
		},
		traverseAncestors: function (e) {
			var t = this.parent;
			null !== t && (e(t), t.traverseAncestors(e))
		},
		updateMatrix: function () {
			this.matrix.compose(this.position, this.quaternion, this.scale),
			this.matrixWorldNeedsUpdate = !0
		},
		updateMatrixWorld: function (e) {
			!0 === this.matrixAutoUpdate && this.updateMatrix(),
			!0 !== this.matrixWorldNeedsUpdate && !0 !== e || (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, e = !0);
			for (var t = this.children, n = 0, i = t.length; n < i; n++)
				t[n].updateMatrixWorld(e)
		},
		toJSON: function (e) {
			function t(e) {
				var t = [];
				for (var n in e) {
					var i = e[n];
					delete i.metadata,
					t.push(i)
				}
				return t
			}
			var n = void 0 === e || "" === e,
			i = {};
			n && (e = {
					geometries: {},
					materials: {},
					textures: {},
					images: {}
				}, i.metadata = {
					version: 4.4,
					type: "Object",
					generator: "Object3D.toJSON"
				});
			var r = {};
			if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), "{}" !== JSON.stringify(this.userData) && (r.userData = this.userData), !0 === this.castShadow && (r.castShadow = !0), !0 === this.receiveShadow && (r.receiveShadow = !0), !1 === this.visible && (r.visible = !1), r.matrix = this.matrix.toArray(), void 0 !== this.geometry && (void 0 === e.geometries[this.geometry.uuid] && (e.geometries[this.geometry.uuid] = this.geometry.toJSON(e)), r.geometry = this.geometry.uuid), void 0 !== this.material && (void 0 === e.materials[this.material.uuid] && (e.materials[this.material.uuid] = this.material.toJSON(e)), r.material = this.material.uuid), this.children.length > 0) {
				r.children = [];
				for (var a = 0; a < this.children.length; a++)
					r.children.push(this.children[a].toJSON(e).object)
			}
			if (n) {
				var o = t(e.geometries),
				s = t(e.materials),
				l = t(e.textures),
				c = t(e.images);
				o.length > 0 && (i.geometries = o),
				s.length > 0 && (i.materials = s),
				l.length > 0 && (i.textures = l),
				c.length > 0 && (i.images = c)
			}
			return i.object = r,
			i
		},
		clone: function (e) {
			return (new this.constructor).copy(this, e)
		},
		copy: function (e, t) {
			if (void 0 === t && (t = !0), this.name = e.name, this.up.copy(e.up), this.position.copy(e.position), this.quaternion.copy(e.quaternion), this.scale.copy(e.scale), this.matrix.copy(e.matrix), this.matrixWorld.copy(e.matrixWorld), this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrixWorldNeedsUpdate = e.matrixWorldNeedsUpdate, this.layers.mask = e.layers.mask, this.visible = e.visible, this.castShadow = e.castShadow, this.receiveShadow = e.receiveShadow, this.frustumCulled = e.frustumCulled, this.renderOrder = e.renderOrder, this.userData = JSON.parse(JSON.stringify(e.userData)), !0 === t)
				for (var n = 0; n < e.children.length; n++) {
					var i = e.children[n];
					this.add(i.clone())
				}
			return this
		}
	}),
	se.prototype = {
		constructor: se,
		set: function (e, t) {
			return this.start.copy(e),
			this.end.copy(t),
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.start.copy(e.start),
			this.end.copy(e.end),
			this
		},
		getCenter: function (e) {
			return (e || new l).addVectors(this.start, this.end).multiplyScalar(.5)
		},
		delta: function (e) {
			return (e || new l).subVectors(this.end, this.start)
		},
		distanceSq: function () {
			return this.start.distanceToSquared(this.end)
		},
		distance: function () {
			return this.start.distanceTo(this.end)
		},
		at: function (e, t) {
			var n = t || new l;
			return this.delta(n).multiplyScalar(e).add(this.start)
		},
		closestPointToPointParameter: function () {
			var e = new l,
			t = new l;
			return function (n, i) {
				e.subVectors(n, this.start),
				t.subVectors(this.end, this.start);
				var r = t.dot(t),
				a = t.dot(e) / r;
				return i && (a = Ja.clamp(a, 0, 1)),
				a
			}
		}
		(),
		closestPointToPoint: function (e, t, n) {
			var i = this.closestPointToPointParameter(e, t),
			r = n || new l;
			return this.delta(r).multiplyScalar(i).add(this.start)
		},
		applyMatrix4: function (e) {
			return this.start.applyMatrix4(e),
			this.end.applyMatrix4(e),
			this
		},
		equals: function (e) {
			return e.start.equals(this.start) && e.end.equals(this.end)
		}
	},
	le.normal = function () {
		var e = new l;
		return function (t, n, i, r) {
			var a = r || new l;
			a.subVectors(i, n),
			e.subVectors(t, n),
			a.cross(e);
			var o = a.lengthSq();
			return o > 0 ? a.multiplyScalar(1 / Math.sqrt(o)) : a.set(0, 0, 0)
		}
	}
	(),
	le.barycoordFromPoint = function () {
		var e = new l,
		t = new l,
		n = new l;
		return function (i, r, a, o, s) {
			e.subVectors(o, r),
			t.subVectors(a, r),
			n.subVectors(i, r);
			var c = e.dot(e),
			d = e.dot(t),
			u = e.dot(n),
			h = t.dot(t),
			p = t.dot(n),
			f = c * h - d * d,
			m = s || new l;
			if (0 === f)
				return m.set(-2, -1, -1);
			var g = 1 / f,
			v = (h * u - d * p) * g,
			b = (c * p - d * u) * g;
			return m.set(1 - v - b, b, v)
		}
	}
	(),
	le.containsPoint = function () {
		var e = new l;
		return function (t, n, i, r) {
			var a = le.barycoordFromPoint(t, n, i, r, e);
			return a.x >= 0 && a.y >= 0 && a.x + a.y <= 1
		}
	}
	(),
	le.prototype = {
		constructor: le,
		set: function (e, t, n) {
			return this.a.copy(e),
			this.b.copy(t),
			this.c.copy(n),
			this
		},
		setFromPointsAndIndices: function (e, t, n, i) {
			return this.a.copy(e[t]),
			this.b.copy(e[n]),
			this.c.copy(e[i]),
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.a.copy(e.a),
			this.b.copy(e.b),
			this.c.copy(e.c),
			this
		},
		area: function () {
			var e = new l,
			t = new l;
			return function () {
				return e.subVectors(this.c, this.b),
				t.subVectors(this.a, this.b),
				.5 * e.cross(t).length()
			}
		}
		(),
		midpoint: function (e) {
			return (e || new l).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
		},
		normal: function (e) {
			return le.normal(this.a, this.b, this.c, e)
		},
		plane: function (e) {
			return (e || new ee).setFromCoplanarPoints(this.a, this.b, this.c)
		},
		barycoordFromPoint: function (e, t) {
			return le.barycoordFromPoint(e, this.a, this.b, this.c, t)
		},
		containsPoint: function (e) {
			return le.containsPoint(e, this.a, this.b, this.c)
		},
		closestPointToPoint: function () {
			var e,
			t,
			n,
			i;
			return function (r, a) {
				void 0 === e && (e = new ee, t = [new se, new se, new se], n = new l, i = new l);
				var o = a || new l,
				s = 1 / 0;
				if (e.setFromCoplanarPoints(this.a, this.b, this.c), e.projectPoint(r, n), !0 === this.containsPoint(n))
					o.copy(n);
				else {
					t[0].set(this.a, this.b),
					t[1].set(this.b, this.c),
					t[2].set(this.c, this.a);
					for (var c = 0; c < t.length; c++) {
						t[c].closestPointToPoint(n, !0, i);
						var d = n.distanceToSquared(i);
						d < s && (s = d, o.copy(i))
					}
				}
				return o
			}
		}
		(),
		equals: function (e) {
			return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c)
		}
	},
	ce.prototype = {
		constructor: ce,
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			this.a = e.a,
			this.b = e.b,
			this.c = e.c,
			this.normal.copy(e.normal),
			this.color.copy(e.color),
			this.materialIndex = e.materialIndex;
			for (var t = 0, n = e.vertexNormals.length; t < n; t++)
				this.vertexNormals[t] = e.vertexNormals[t].clone();
			for (var t = 0, n = e.vertexColors.length; t < n; t++)
				this.vertexColors[t] = e.vertexColors[t].clone();
			return this
		}
	},
	(de.prototype = Object.create(Y.prototype)).constructor = de,
	de.prototype.isMeshBasicMaterial = !0,
	de.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.map = e.map,
		this.lightMap = e.lightMap,
		this.lightMapIntensity = e.lightMapIntensity,
		this.aoMap = e.aoMap,
		this.aoMapIntensity = e.aoMapIntensity,
		this.specularMap = e.specularMap,
		this.alphaMap = e.alphaMap,
		this.envMap = e.envMap,
		this.combine = e.combine,
		this.reflectivity = e.reflectivity,
		this.refractionRatio = e.refractionRatio,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this.wireframeLinecap = e.wireframeLinecap,
		this.wireframeLinejoin = e.wireframeLinejoin,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this
	},
	ue.prototype = {
		constructor: ue,
		isBufferAttribute: !0,
		set needsUpdate(e) {
			!0 === e && this.version++
		},
		setArray: function (e) {
			if (Array.isArray(e))
				throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
			this.count = void 0 !== e ? e.length / this.itemSize : 0,
			this.array = e
		},
		setDynamic: function (e) {
			return this.dynamic = e,
			this
		},
		copy: function (e) {
			return this.array = new e.array.constructor(e.array),
			this.itemSize = e.itemSize,
			this.count = e.count,
			this.normalized = e.normalized,
			this.dynamic = e.dynamic,
			this
		},
		copyAt: function (e, t, n) {
			e *= this.itemSize,
			n *= t.itemSize;
			for (var i = 0, r = this.itemSize; i < r; i++)
				this.array[e + i] = t.array[n + i];
			return this
		},
		copyArray: function (e) {
			return this.array.set(e),
			this
		},
		copyColorsArray: function (e) {
			for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
				var a = e[i];
				void 0 === a && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", i), a = new V),
				t[n++] = a.r,
				t[n++] = a.g,
				t[n++] = a.b
			}
			return this
		},
		copyIndicesArray: function (e) {
			for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
				var a = e[i];
				t[n++] = a.a,
				t[n++] = a.b,
				t[n++] = a.c
			}
			return this
		},
		copyVector2sArray: function (e) {
			for (var t = this.array, i = 0, r = 0, a = e.length; r < a; r++) {
				var o = e[r];
				void 0 === o && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r), o = new n),
				t[i++] = o.x,
				t[i++] = o.y
			}
			return this
		},
		copyVector3sArray: function (e) {
			for (var t = this.array, n = 0, i = 0, r = e.length; i < r; i++) {
				var a = e[i];
				void 0 === a && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", i), a = new l),
				t[n++] = a.x,
				t[n++] = a.y,
				t[n++] = a.z
			}
			return this
		},
		copyVector4sArray: function (e) {
			for (var t = this.array, n = 0, i = 0, a = e.length; i < a; i++) {
				var o = e[i];
				void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", i), o = new r),
				t[n++] = o.x,
				t[n++] = o.y,
				t[n++] = o.z,
				t[n++] = o.w
			}
			return this
		},
		set: function (e, t) {
			return void 0 === t && (t = 0),
			this.array.set(e, t),
			this
		},
		getX: function (e) {
			return this.array[e * this.itemSize]
		},
		setX: function (e, t) {
			return this.array[e * this.itemSize] = t,
			this
		},
		getY: function (e) {
			return this.array[e * this.itemSize + 1]
		},
		setY: function (e, t) {
			return this.array[e * this.itemSize + 1] = t,
			this
		},
		getZ: function (e) {
			return this.array[e * this.itemSize + 2]
		},
		setZ: function (e, t) {
			return this.array[e * this.itemSize + 2] = t,
			this
		},
		getW: function (e) {
			return this.array[e * this.itemSize + 3]
		},
		setW: function (e, t) {
			return this.array[e * this.itemSize + 3] = t,
			this
		},
		setXY: function (e, t, n) {
			return e *= this.itemSize,
			this.array[e + 0] = t,
			this.array[e + 1] = n,
			this
		},
		setXYZ: function (e, t, n, i) {
			return e *= this.itemSize,
			this.array[e + 0] = t,
			this.array[e + 1] = n,
			this.array[e + 2] = i,
			this
		},
		setXYZW: function (e, t, n, i, r) {
			return e *= this.itemSize,
			this.array[e + 0] = t,
			this.array[e + 1] = n,
			this.array[e + 2] = i,
			this.array[e + 3] = r,
			this
		},
		onUpload: function (e) {
			return this.onUploadCallback = e,
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		}
	},
	(he.prototype = Object.create(ue.prototype)).constructor = he,
	(pe.prototype = Object.create(ue.prototype)).constructor = pe,
	(fe.prototype = Object.create(ue.prototype)).constructor = fe,
	(me.prototype = Object.create(ue.prototype)).constructor = me,
	(ge.prototype = Object.create(ue.prototype)).constructor = ge,
	(ve.prototype = Object.create(ue.prototype)).constructor = ve,
	(be.prototype = Object.create(ue.prototype)).constructor = be,
	(ye.prototype = Object.create(ue.prototype)).constructor = ye,
	(xe.prototype = Object.create(ue.prototype)).constructor = xe,
	Object.assign(we.prototype, {
		computeGroups: function (e) {
			for (var t, n = [], i = void 0, r = e.faces, a = 0; a < r.length; a++) {
				var o = r[a];
				o.materialIndex !== i && (i = o.materialIndex, void 0 !== t && (t.count = 3 * a - t.start, n.push(t)), t = {
						start: 3 * a,
						materialIndex: i
					})
			}
			void 0 !== t && (t.count = 3 * a - t.start, n.push(t)),
			this.groups = n
		},
		fromGeometry: function (e) {
			var t,
			i = e.faces,
			r = e.vertices,
			a = e.faceVertexUvs,
			o = a[0] && a[0].length > 0,
			s = a[1] && a[1].length > 0,
			l = e.morphTargets,
			c = l.length;
			if (c > 0) {
				t = [];
				for (v = 0; v < c; v++)
					t[v] = [];
				this.morphTargets.position = t
			}
			var d,
			u = e.morphNormals,
			h = u.length;
			if (h > 0) {
				d = [];
				for (v = 0; v < h; v++)
					d[v] = [];
				this.morphTargets.normal = d
			}
			for (var p = e.skinIndices, f = e.skinWeights, m = p.length === r.length, g = f.length === r.length, v = 0; v < i.length; v++) {
				var b = i[v];
				this.vertices.push(r[b.a], r[b.b], r[b.c]);
				var y = b.vertexNormals;
				if (3 === y.length)
					this.normals.push(y[0], y[1], y[2]);
				else {
					var x = b.normal;
					this.normals.push(x, x, x)
				}
				var w = b.vertexColors;
				if (3 === w.length)
					this.colors.push(w[0], w[1], w[2]);
				else {
					var _ = b.color;
					this.colors.push(_, _, _)
				}
				if (!0 === o) {
					void 0 !== (T = a[0][v]) ? this.uvs.push(T[0], T[1], T[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", v), this.uvs.push(new n, new n, new n))
				}
				if (!0 === s) {
					var T = a[1][v];
					void 0 !== T ? this.uvs2.push(T[0], T[1], T[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", v), this.uvs2.push(new n, new n, new n))
				}
				for (M = 0; M < c; M++) {
					var E = l[M].vertices;
					t[M].push(E[b.a], E[b.b], E[b.c])
				}
				for (var M = 0; M < h; M++) {
					var C = u[M].vertexNormals[v];
					d[M].push(C.a, C.b, C.c)
				}
				m && this.skinIndices.push(p[b.a], p[b.b], p[b.c]),
				g && this.skinWeights.push(f[b.a], f[b.b], f[b.c])
			}
			return this.computeGroups(e),
			this.verticesNeedUpdate = e.verticesNeedUpdate,
			this.normalsNeedUpdate = e.normalsNeedUpdate,
			this.colorsNeedUpdate = e.colorsNeedUpdate,
			this.uvsNeedUpdate = e.uvsNeedUpdate,
			this.groupsNeedUpdate = e.groupsNeedUpdate,
			this
		}
	}),
	Object.assign(_e.prototype, t.prototype, {
		isGeometry: !0,
		applyMatrix: function (e) {
			for (var t = (new K).getNormalMatrix(e), n = 0, i = this.vertices.length; n < i; n++) {
				this.vertices[n].applyMatrix4(e)
			}
			for (var n = 0, i = this.faces.length; n < i; n++) {
				var r = this.faces[n];
				r.normal.applyMatrix3(t).normalize();
				for (var a = 0, o = r.vertexNormals.length; a < o; a++)
					r.vertexNormals[a].applyMatrix3(t).normalize()
			}
			return null !== this.boundingBox && this.computeBoundingBox(),
			null !== this.boundingSphere && this.computeBoundingSphere(),
			this.verticesNeedUpdate = !0,
			this.normalsNeedUpdate = !0,
			this
		},
		rotateX: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.makeRotationX(t),
				this.applyMatrix(e),
				this
			}
		}
		(),
		rotateY: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.makeRotationY(t),
				this.applyMatrix(e),
				this
			}
		}
		(),
		rotateZ: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.makeRotationZ(t),
				this.applyMatrix(e),
				this
			}
		}
		(),
		translate: function () {
			var e;
			return function (t, n, i) {
				return void 0 === e && (e = new c),
				e.makeTranslation(t, n, i),
				this.applyMatrix(e),
				this
			}
		}
		(),
		scale: function () {
			var e;
			return function (t, n, i) {
				return void 0 === e && (e = new c),
				e.makeScale(t, n, i),
				this.applyMatrix(e),
				this
			}
		}
		(),
		lookAt: function () {
			var e;
			return function (t) {
				void 0 === e && (e = new oe),
				e.lookAt(t),
				e.updateMatrix(),
				this.applyMatrix(e.matrix)
			}
		}
		(),
		fromBufferGeometry: function (e) {
			function t(e, t, n, r) {
				var a = new ce(e, t, n, void 0 !== s ? [h[e].clone(), h[t].clone(), h[n].clone()] : [], void 0 !== c ? [i.colors[e].clone(), i.colors[t].clone(), i.colors[n].clone()] : [], r);
				i.faces.push(a),
				void 0 !== d && i.faceVertexUvs[0].push([p[e].clone(), p[t].clone(), p[n].clone()]),
				void 0 !== u && i.faceVertexUvs[1].push([f[e].clone(), f[t].clone(), f[n].clone()])
			}
			var i = this,
			r = null !== e.index ? e.index.array : void 0,
			a = e.attributes,
			o = a.position.array,
			s = void 0 !== a.normal ? a.normal.array : void 0,
			c = void 0 !== a.color ? a.color.array : void 0,
			d = void 0 !== a.uv ? a.uv.array : void 0,
			u = void 0 !== a.uv2 ? a.uv2.array : void 0;
			void 0 !== u && (this.faceVertexUvs[1] = []);
			for (var h = [], p = [], f = [], m = 0, g = 0; m < o.length; m += 3, g += 2)
				i.vertices.push(new l(o[m], o[m + 1], o[m + 2])), void 0 !== s && h.push(new l(s[m], s[m + 1], s[m + 2])), void 0 !== c && i.colors.push(new V(c[m], c[m + 1], c[m + 2])), void 0 !== d && p.push(new n(d[g], d[g + 1])), void 0 !== u && f.push(new n(u[g], u[g + 1]));
			if (void 0 !== r) {
				var v = e.groups;
				if (v.length > 0)
					for (m = 0; m < v.length; m++)
						for (var b = v[m], y = b.start, g = y, x = y + b.count; g < x; g += 3)
							t(r[g], r[g + 1], r[g + 2], b.materialIndex);
				else
					for (m = 0; m < r.length; m += 3)
						t(r[m], r[m + 1], r[m + 2])
			} else
				for (m = 0; m < o.length / 3; m += 3)
					t(m, m + 1, m + 2);
			return this.computeFaceNormals(),
			null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
			null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()),
			this
		},
		center: function () {
			this.computeBoundingBox();
			var e = this.boundingBox.getCenter().negate();
			return this.translate(e.x, e.y, e.z),
			e
		},
		normalize: function () {
			this.computeBoundingSphere();
			var e = this.boundingSphere.center,
			t = this.boundingSphere.radius,
			n = 0 === t ? 1 : 1 / t,
			i = new c;
			return i.set(n, 0, 0, -n * e.x, 0, n, 0, -n * e.y, 0, 0, n, -n * e.z, 0, 0, 0, 1),
			this.applyMatrix(i),
			this
		},
		computeFaceNormals: function () {
			for (var e = new l, t = new l, n = 0, i = this.faces.length; n < i; n++) {
				var r = this.faces[n],
				a = this.vertices[r.a],
				o = this.vertices[r.b],
				s = this.vertices[r.c];
				e.subVectors(s, o),
				t.subVectors(a, o),
				e.cross(t),
				e.normalize(),
				r.normal.copy(e)
			}
		},
		computeVertexNormals: function (e) {
			void 0 === e && (e = !0);
			var t,
			n,
			i,
			r,
			a,
			o;
			for (o = new Array(this.vertices.length), t = 0, n = this.vertices.length; t < n; t++)
				o[t] = new l;
			if (e) {
				var s,
				c,
				d,
				u = new l,
				h = new l;
				for (i = 0, r = this.faces.length; i < r; i++)
					a = this.faces[i], s = this.vertices[a.a], c = this.vertices[a.b], d = this.vertices[a.c], u.subVectors(d, c), h.subVectors(s, c), u.cross(h), o[a.a].add(u), o[a.b].add(u), o[a.c].add(u)
			} else
				for (this.computeFaceNormals(), i = 0, r = this.faces.length; i < r; i++)
					o[(a = this.faces[i]).a].add(a.normal), o[a.b].add(a.normal), o[a.c].add(a.normal);
			for (t = 0, n = this.vertices.length; t < n; t++)
				o[t].normalize();
			for (i = 0, r = this.faces.length; i < r; i++) {
				var p = (a = this.faces[i]).vertexNormals;
				3 === p.length ? (p[0].copy(o[a.a]), p[1].copy(o[a.b]), p[2].copy(o[a.c])) : (p[0] = o[a.a].clone(), p[1] = o[a.b].clone(), p[2] = o[a.c].clone())
			}
			this.faces.length > 0 && (this.normalsNeedUpdate = !0)
		},
		computeFlatVertexNormals: function () {
			var e,
			t,
			n;
			for (this.computeFaceNormals(), e = 0, t = this.faces.length; e < t; e++) {
				var i = (n = this.faces[e]).vertexNormals;
				3 === i.length ? (i[0].copy(n.normal), i[1].copy(n.normal), i[2].copy(n.normal)) : (i[0] = n.normal.clone(), i[1] = n.normal.clone(), i[2] = n.normal.clone())
			}
			this.faces.length > 0 && (this.normalsNeedUpdate = !0)
		},
		computeMorphNormals: function () {
			var e,
			t,
			n,
			i,
			r;
			for (n = 0, i = this.faces.length; n < i; n++)
				for ((r = this.faces[n]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), e = 0, t = r.vertexNormals.length; e < t; e++)
					r.__originalVertexNormals[e] ? r.__originalVertexNormals[e].copy(r.vertexNormals[e]) : r.__originalVertexNormals[e] = r.vertexNormals[e].clone();
			var a = new _e;
			for (a.faces = this.faces, e = 0, t = this.morphTargets.length; e < t; e++) {
				if (!this.morphNormals[e]) {
					this.morphNormals[e] = {},
					this.morphNormals[e].faceNormals = [],
					this.morphNormals[e].vertexNormals = [];
					var o = this.morphNormals[e].faceNormals,
					s = this.morphNormals[e].vertexNormals;
					for (n = 0, i = this.faces.length; n < i; n++)
						d = new l, u = {
							a: new l,
							b: new l,
							c: new l
						},
					o.push(d),
					s.push(u)
				}
				var c = this.morphNormals[e];
				a.vertices = this.morphTargets[e].vertices,
				a.computeFaceNormals(),
				a.computeVertexNormals();
				var d,
				u;
				for (n = 0, i = this.faces.length; n < i; n++)
					r = this.faces[n], d = c.faceNormals[n], u = c.vertexNormals[n], d.copy(r.normal), u.a.copy(r.vertexNormals[0]), u.b.copy(r.vertexNormals[1]), u.c.copy(r.vertexNormals[2])
			}
			for (n = 0, i = this.faces.length; n < i; n++)
				(r = this.faces[n]).normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals
		},
		computeLineDistances: function () {
			for (var e = 0, t = this.vertices, n = 0, i = t.length; n < i; n++)
				n > 0 && (e += t[n].distanceTo(t[n - 1])), this.lineDistances[n] = e
		},
		computeBoundingBox: function () {
			null === this.boundingBox && (this.boundingBox = new J),
			this.boundingBox.setFromPoints(this.vertices)
		},
		computeBoundingSphere: function () {
			null === this.boundingSphere && (this.boundingSphere = new Q),
			this.boundingSphere.setFromPoints(this.vertices)
		},
		merge: function (e, t, n) {
			if (!1 !== (e && e.isGeometry)) {
				var i,
				r = this.vertices.length,
				a = this.vertices,
				o = e.vertices,
				s = this.faces,
				l = e.faces,
				c = this.faceVertexUvs[0],
				d = e.faceVertexUvs[0],
				u = this.colors,
				h = e.colors;
				void 0 === n && (n = 0),
				void 0 !== t && (i = (new K).getNormalMatrix(t));
				for (var p = 0, f = o.length; p < f; p++) {
					var m = o[p].clone();
					void 0 !== t && m.applyMatrix4(t),
					a.push(m)
				}
				for (var p = 0, f = h.length; p < f; p++)
					u.push(h[p].clone());
				for (p = 0, f = l.length; p < f; p++) {
					var g,
					v,
					b,
					y = l[p],
					x = y.vertexNormals,
					w = y.vertexColors;
					(g = new ce(y.a + r, y.b + r, y.c + r)).normal.copy(y.normal),
					void 0 !== i && g.normal.applyMatrix3(i).normalize();
					for (var _ = 0, T = x.length; _ < T; _++)
						v = x[_].clone(), void 0 !== i && v.applyMatrix3(i).normalize(), g.vertexNormals.push(v);
					g.color.copy(y.color);
					for (var _ = 0, T = w.length; _ < T; _++)
						b = w[_], g.vertexColors.push(b.clone());
					g.materialIndex = y.materialIndex + n,
					s.push(g)
				}
				for (p = 0, f = d.length; p < f; p++) {
					var E = d[p],
					M = [];
					if (void 0 !== E) {
						for (var _ = 0, T = E.length; _ < T; _++)
							M.push(E[_].clone());
						c.push(M)
					}
				}
			} else
				console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", e)
		},
		mergeMesh: function (e) {
			!1 !== (e && e.isMesh) ? (e.matrixAutoUpdate && e.updateMatrix(), this.merge(e.geometry, e.matrix)) : console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", e)
		},
		mergeVertices: function () {
			var e,
			t,
			n,
			i,
			r,
			a,
			o,
			s,
			l = {},
			c = [],
			d = [],
			u = Math.pow(10, 4);
			for (n = 0, i = this.vertices.length; n < i; n++)
				e = this.vertices[n], void 0 === l[t = Math.round(e.x * u) + "_" + Math.round(e.y * u) + "_" + Math.round(e.z * u)] ? (l[t] = n, c.push(this.vertices[n]), d[n] = c.length - 1) : d[n] = d[l[t]];
			var h = [];
			for (n = 0, i = this.faces.length; n < i; n++) {
				(r = this.faces[n]).a = d[r.a],
				r.b = d[r.b],
				r.c = d[r.c],
				a = [r.a, r.b, r.c];
				for (var p = 0; p < 3; p++)
					if (a[p] === a[(p + 1) % 3]) {
						p,
						h.push(n);
						break
					}
			}
			for (n = h.length - 1; n >= 0; n--) {
				var f = h[n];
				for (this.faces.splice(f, 1), o = 0, s = this.faceVertexUvs.length; o < s; o++)
					this.faceVertexUvs[o].splice(f, 1)
			}
			var m = this.vertices.length - c.length;
			return this.vertices = c,
			m
		},
		sortFacesByMaterialIndex: function () {
			for (var e = this.faces, t = e.length, n = 0; n < t; n++)
				e[n]._id = n;
			e.sort(function (e, t) {
				return e.materialIndex - t.materialIndex
			});
			var i,
			r,
			a = this.faceVertexUvs[0],
			o = this.faceVertexUvs[1];
			a && a.length === t && (i = []),
			o && o.length === t && (r = []);
			for (n = 0; n < t; n++) {
				var s = e[n]._id;
				i && i.push(a[s]),
				r && r.push(o[s])
			}
			i && (this.faceVertexUvs[0] = i),
			r && (this.faceVertexUvs[1] = r)
		},
		toJSON: function () {
			function e(e, t, n) {
				return n ? e | 1 << t : e & ~(1 << t)
			}
			function t(e) {
				var t = e.x.toString() + e.y.toString() + e.z.toString();
				return void 0 !== h[t] ? h[t] : (h[t] = u.length / 3, u.push(e.x, e.y, e.z), h[t])
			}
			function n(e) {
				var t = e.r.toString() + e.g.toString() + e.b.toString();
				return void 0 !== f[t] ? f[t] : (f[t] = p.length, p.push(e.getHex()), f[t])
			}
			function i(e) {
				var t = e.x.toString() + e.y.toString();
				return void 0 !== g[t] ? g[t] : (g[t] = m.length / 2, m.push(e.x, e.y), g[t])
			}
			var r = {
				metadata: {
					version: 4.4,
					type: "Geometry",
					generator: "Geometry.toJSON"
				}
			};
			if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), void 0 !== this.parameters) {
				var a = this.parameters;
				for (var o in a)
					void 0 !== a[o] && (r[o] = a[o]);
				return r
			}
			for (var s = [], l = 0; l < this.vertices.length; l++) {
				var c = this.vertices[l];
				s.push(c.x, c.y, c.z)
			}
			for (var d = [], u = [], h = {}, p = [], f = {}, m = [], g = {}, l = 0; l < this.faces.length; l++) {
				var v = this.faces[l],
				b = void 0 !== this.faceVertexUvs[0][l],
				y = v.normal.length() > 0,
				x = v.vertexNormals.length > 0,
				w = 1 !== v.color.r || 1 !== v.color.g || 1 !== v.color.b,
				_ = v.vertexColors.length > 0,
				T = 0;
				if (T = e(T, 0, 0), T = e(T, 1, !0), T = e(T, 2, !1), T = e(T, 3, b), T = e(T, 4, y), T = e(T, 5, x), T = e(T, 6, w), T = e(T, 7, _), d.push(T), d.push(v.a, v.b, v.c), d.push(v.materialIndex), b) {
					var E = this.faceVertexUvs[0][l];
					d.push(i(E[0]), i(E[1]), i(E[2]))
				}
				if (y && d.push(t(v.normal)), x) {
					var M = v.vertexNormals;
					d.push(t(M[0]), t(M[1]), t(M[2]))
				}
				if (w && d.push(n(v.color)), _) {
					var C = v.vertexColors;
					d.push(n(C[0]), n(C[1]), n(C[2]))
				}
			}
			return r.data = {},
			r.data.vertices = s,
			r.data.normals = u,
			p.length > 0 && (r.data.colors = p),
			m.length > 0 && (r.data.uvs = [m]),
			r.data.faces = d,
			r
		},
		clone: function () {
			return (new _e).copy(this)
		},
		copy: function (e) {
			this.vertices = [],
			this.faces = [],
			this.faceVertexUvs = [[]],
			this.colors = [];
			for (var t = e.vertices, n = 0, i = t.length; n < i; n++)
				this.vertices.push(t[n].clone());
			for (var r = e.colors, n = 0, i = r.length; n < i; n++)
				this.colors.push(r[n].clone());
			for (var a = e.faces, n = 0, i = a.length; n < i; n++)
				this.faces.push(a[n].clone());
			for (var n = 0, i = e.faceVertexUvs.length; n < i; n++) {
				var o = e.faceVertexUvs[n];
				void 0 === this.faceVertexUvs[n] && (this.faceVertexUvs[n] = []);
				for (var s = 0, l = o.length; s < l; s++) {
					for (var c = o[s], d = [], u = 0, h = c.length; u < h; u++) {
						var p = c[u];
						d.push(p.clone())
					}
					this.faceVertexUvs[n].push(d)
				}
			}
			return this
		},
		dispose: function () {
			this.dispatchEvent({
				type: "dispose"
			})
		}
	});
	var ho = 0;
	Object.assign(Ee.prototype, t.prototype, {
		isBufferGeometry: !0,
		getIndex: function () {
			return this.index
		},
		setIndex: function (e) {
			this.index = e
		},
		addAttribute: function (e, t) {
			return !1 === (t && t.isBufferAttribute) && !1 === (t && t.isInterleavedBufferAttribute) ? (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."), void this.addAttribute(e, new ue(arguments[1], arguments[2]))) : "index" === e ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), void this.setIndex(t)) : (this.attributes[e] = t, this)
		},
		getAttribute: function (e) {
			return this.attributes[e]
		},
		removeAttribute: function (e) {
			return delete this.attributes[e],
			this
		},
		addGroup: function (e, t, n) {
			this.groups.push({
				start: e,
				count: t,
				materialIndex: void 0 !== n ? n : 0
			})
		},
		clearGroups: function () {
			this.groups = []
		},
		setDrawRange: function (e, t) {
			this.drawRange.start = e,
			this.drawRange.count = t
		},
		applyMatrix: function (e) {
			var t = this.attributes.position;
			void 0 !== t && (e.applyToVector3Array(t.array), t.needsUpdate = !0);
			var n = this.attributes.normal;
			if (void 0 !== n) {
				(new K).getNormalMatrix(e).applyToVector3Array(n.array),
				n.needsUpdate = !0
			}
			return null !== this.boundingBox && this.computeBoundingBox(),
			null !== this.boundingSphere && this.computeBoundingSphere(),
			this
		},
		rotateX: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.makeRotationX(t),
				this.applyMatrix(e),
				this
			}
		}
		(),
		rotateY: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.makeRotationY(t),
				this.applyMatrix(e),
				this
			}
		}
		(),
		rotateZ: function () {
			var e;
			return function (t) {
				return void 0 === e && (e = new c),
				e.makeRotationZ(t),
				this.applyMatrix(e),
				this
			}
		}
		(),
		translate: function () {
			var e;
			return function (t, n, i) {
				return void 0 === e && (e = new c),
				e.makeTranslation(t, n, i),
				this.applyMatrix(e),
				this
			}
		}
		(),
		scale: function () {
			var e;
			return function (t, n, i) {
				return void 0 === e && (e = new c),
				e.makeScale(t, n, i),
				this.applyMatrix(e),
				this
			}
		}
		(),
		lookAt: function () {
			var e;
			return function (t) {
				void 0 === e && (e = new oe),
				e.lookAt(t),
				e.updateMatrix(),
				this.applyMatrix(e.matrix)
			}
		}
		(),
		center: function () {
			this.computeBoundingBox();
			var e = this.boundingBox.getCenter().negate();
			return this.translate(e.x, e.y, e.z),
			e
		},
		setFromObject: function (e) {
			var t = e.geometry;
			if (e.isPoints || e.isLine) {
				var n = new ye(3 * t.vertices.length, 3),
				i = new ye(3 * t.colors.length, 3);
				if (this.addAttribute("position", n.copyVector3sArray(t.vertices)), this.addAttribute("color", i.copyColorsArray(t.colors)), t.lineDistances && t.lineDistances.length === t.vertices.length) {
					var r = new ye(t.lineDistances.length, 1);
					this.addAttribute("lineDistance", r.copyArray(t.lineDistances))
				}
				null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
				null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone())
			} else
				e.isMesh && t && t.isGeometry && this.fromGeometry(t);
			return this
		},
		updateFromObject: function (e) {
			var t = e.geometry;
			if (e.isMesh) {
				var n = t.__directGeometry;
				if (!0 === t.elementsNeedUpdate && (n = void 0, t.elementsNeedUpdate = !1), void 0 === n)
					return this.fromGeometry(t);
				n.verticesNeedUpdate = t.verticesNeedUpdate,
				n.normalsNeedUpdate = t.normalsNeedUpdate,
				n.colorsNeedUpdate = t.colorsNeedUpdate,
				n.uvsNeedUpdate = t.uvsNeedUpdate,
				n.groupsNeedUpdate = t.groupsNeedUpdate,
				t.verticesNeedUpdate = !1,
				t.normalsNeedUpdate = !1,
				t.colorsNeedUpdate = !1,
				t.uvsNeedUpdate = !1,
				t.groupsNeedUpdate = !1,
				t = n
			}
			var i;
			return !0 === t.verticesNeedUpdate && (void 0 !== (i = this.attributes.position) && (i.copyVector3sArray(t.vertices), i.needsUpdate = !0), t.verticesNeedUpdate = !1),
			!0 === t.normalsNeedUpdate && (void 0 !== (i = this.attributes.normal) && (i.copyVector3sArray(t.normals), i.needsUpdate = !0), t.normalsNeedUpdate = !1),
			!0 === t.colorsNeedUpdate && (void 0 !== (i = this.attributes.color) && (i.copyColorsArray(t.colors), i.needsUpdate = !0), t.colorsNeedUpdate = !1),
			t.uvsNeedUpdate && (void 0 !== (i = this.attributes.uv) && (i.copyVector2sArray(t.uvs), i.needsUpdate = !0), t.uvsNeedUpdate = !1),
			t.lineDistancesNeedUpdate && (void 0 !== (i = this.attributes.lineDistance) && (i.copyArray(t.lineDistances), i.needsUpdate = !0), t.lineDistancesNeedUpdate = !1),
			t.groupsNeedUpdate && (t.computeGroups(e.geometry), this.groups = t.groups, t.groupsNeedUpdate = !1),
			this
		},
		fromGeometry: function (e) {
			return e.__directGeometry = (new we).fromGeometry(e),
			this.fromDirectGeometry(e.__directGeometry)
		},
		fromDirectGeometry: function (e) {
			var t = new Float32Array(3 * e.vertices.length);
			if (this.addAttribute("position", new ue(t, 3).copyVector3sArray(e.vertices)), e.normals.length > 0) {
				var n = new Float32Array(3 * e.normals.length);
				this.addAttribute("normal", new ue(n, 3).copyVector3sArray(e.normals))
			}
			if (e.colors.length > 0) {
				var i = new Float32Array(3 * e.colors.length);
				this.addAttribute("color", new ue(i, 3).copyColorsArray(e.colors))
			}
			if (e.uvs.length > 0) {
				var r = new Float32Array(2 * e.uvs.length);
				this.addAttribute("uv", new ue(r, 2).copyVector2sArray(e.uvs))
			}
			if (e.uvs2.length > 0) {
				var a = new Float32Array(2 * e.uvs2.length);
				this.addAttribute("uv2", new ue(a, 2).copyVector2sArray(e.uvs2))
			}
			if (e.indices.length > 0) {
				var o = new(e.vertices.length > 65535 ? Uint32Array : Uint16Array)(3 * e.indices.length);
				this.setIndex(new ue(o, 1).copyIndicesArray(e.indices))
			}
			this.groups = e.groups;
			for (var s in e.morphTargets) {
				for (var l = [], c = e.morphTargets[s], d = 0, u = c.length; d < u; d++) {
					var h = c[d],
					p = new ye(3 * h.length, 3);
					l.push(p.copyVector3sArray(h))
				}
				this.morphAttributes[s] = l
			}
			if (e.skinIndices.length > 0) {
				var f = new ye(4 * e.skinIndices.length, 4);
				this.addAttribute("skinIndex", f.copyVector4sArray(e.skinIndices))
			}
			if (e.skinWeights.length > 0) {
				var m = new ye(4 * e.skinWeights.length, 4);
				this.addAttribute("skinWeight", m.copyVector4sArray(e.skinWeights))
			}
			return null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()),
			null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
			this
		},
		computeBoundingBox: function () {
			null === this.boundingBox && (this.boundingBox = new J);
			var e = this.attributes.position;
			void 0 !== e ? this.boundingBox.setFromBufferAttribute(e) : this.boundingBox.makeEmpty(),
			(isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
		},
		computeBoundingSphere: function () {
			var e = new J,
			t = new l;
			return function () {
				null === this.boundingSphere && (this.boundingSphere = new Q);
				var n = this.attributes.position;
				if (n) {
					var i = this.boundingSphere.center;
					e.setFromBufferAttribute(n),
					e.getCenter(i);
					for (var r = 0, a = 0, o = n.count; a < o; a++)
						t.x = n.getX(a), t.y = n.getY(a), t.z = n.getZ(a), r = Math.max(r, i.distanceToSquared(t));
					this.boundingSphere.radius = Math.sqrt(r),
					isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
				}
			}
		}
		(),
		computeFaceNormals: function () {},
		computeVertexNormals: function () {
			var e = this.index,
			t = this.attributes,
			n = this.groups;
			if (t.position) {
				var i = t.position.array;
				if (void 0 === t.normal)
					this.addAttribute("normal", new ue(new Float32Array(i.length), 3));
				else
					for (var r = t.normal.array, a = 0, o = r.length; a < o; a++)
						r[a] = 0;
				var s,
				c,
				d,
				u = t.normal.array,
				h = new l,
				p = new l,
				f = new l,
				m = new l,
				g = new l;
				if (e) {
					var v = e.array;
					0 === n.length && this.addGroup(0, v.length);
					for (var b = 0, y = n.length; b < y; ++b)
						for (var x = n[b], w = x.start, a = w, o = w + x.count; a < o; a += 3)
							s = 3 * v[a + 0], c = 3 * v[a + 1], d = 3 * v[a + 2], h.fromArray(i, s), p.fromArray(i, c), f.fromArray(i, d), m.subVectors(f, p), g.subVectors(h, p), m.cross(g), u[s] += m.x, u[s + 1] += m.y, u[s + 2] += m.z, u[c] += m.x, u[c + 1] += m.y, u[c + 2] += m.z, u[d] += m.x, u[d + 1] += m.y, u[d + 2] += m.z
				} else
					for (var a = 0, o = i.length; a < o; a += 9)
						h.fromArray(i, a), p.fromArray(i, a + 3), f.fromArray(i, a + 6), m.subVectors(f, p), g.subVectors(h, p), m.cross(g), u[a] = m.x, u[a + 1] = m.y, u[a + 2] = m.z, u[a + 3] = m.x, u[a + 4] = m.y, u[a + 5] = m.z, u[a + 6] = m.x, u[a + 7] = m.y, u[a + 8] = m.z;
				this.normalizeNormals(),
				t.normal.needsUpdate = !0
			}
		},
		merge: function (e, t) {
			if (!1 !== (e && e.isBufferGeometry)) {
				void 0 === t && (t = 0);
				var n = this.attributes;
				for (var i in n)
					if (void 0 !== e.attributes[i])
						for (var r = n[i].array, a = e.attributes[i], o = a.array, s = 0, l = a.itemSize * t; s < o.length; s++, l++)
							r[l] = o[s];
				return this
			}
			console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", e)
		},
		normalizeNormals: function () {
			for (var e, t, n, i, r = this.attributes.normal.array, a = 0, o = r.length; a < o; a += 3)
				e = r[a], t = r[a + 1], n = r[a + 2], i = 1 / Math.sqrt(e * e + t * t + n * n), r[a] *= i, r[a + 1] *= i, r[a + 2] *= i
		},
		toNonIndexed: function () {
			if (null === this.index)
				return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
			var e = new Ee,
			t = this.index.array,
			n = this.attributes;
			for (var i in n) {
				for (var r = n[i], a = r.array, o = r.itemSize, s = new a.constructor(t.length * o), l = 0, c = 0, d = 0, u = t.length; d < u; d++) {
					l = t[d] * o;
					for (var h = 0; h < o; h++)
						s[c++] = a[l++]
				}
				e.addAttribute(i, new ue(s, o))
			}
			return e
		},
		toJSON: function () {
			var e = {
				metadata: {
					version: 4.4,
					type: "BufferGeometry",
					generator: "BufferGeometry.toJSON"
				}
			};
			if (e.uuid = this.uuid, e.type = this.type, "" !== this.name && (e.name = this.name), void 0 !== this.parameters) {
				var t = this.parameters;
				for (var n in t)
					void 0 !== t[n] && (e[n] = t[n]);
				return e
			}
			e.data = {
				attributes: {}
			};
			var i = this.index;
			if (null !== i) {
				o = Array.prototype.slice.call(i.array);
				e.data.index = {
					type: i.array.constructor.name,
					array: o
				}
			}
			var r = this.attributes;
			for (var n in r) {
				var a = r[n],
				o = Array.prototype.slice.call(a.array);
				e.data.attributes[n] = {
					itemSize: a.itemSize,
					type: a.array.constructor.name,
					array: o,
					normalized: a.normalized
				}
			}
			var s = this.groups;
			s.length > 0 && (e.data.groups = JSON.parse(JSON.stringify(s)));
			var l = this.boundingSphere;
			return null !== l && (e.data.boundingSphere = {
					center: l.center.toArray(),
					radius: l.radius
				}),
			e
		},
		clone: function () {
			return (new Ee).copy(this)
		},
		copy: function (e) {
			var t = e.index;
			null !== t && this.setIndex(t.clone());
			var n = e.attributes;
			for (var i in n) {
				var r = n[i];
				this.addAttribute(i, r.clone())
			}
			for (var a = e.groups, o = 0, s = a.length; o < s; o++) {
				var l = a[o];
				this.addGroup(l.start, l.count, l.materialIndex)
			}
			return this
		},
		dispose: function () {
			this.dispatchEvent({
				type: "dispose"
			})
		}
	}),
	Ee.MaxIndex = 65535,
	Me.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: Me,
			isMesh: !0,
			setDrawMode: function (e) {
				this.drawMode = e
			},
			copy: function (e) {
				return oe.prototype.copy.call(this, e),
				this.drawMode = e.drawMode,
				this
			},
			updateMorphTargets: function () {
				var e = this.geometry.morphTargets;
				if (void 0 !== e && e.length > 0) {
					this.morphTargetInfluences = [],
					this.morphTargetDictionary = {};
					for (var t = 0, n = e.length; t < n; t++)
						this.morphTargetInfluences.push(0), this.morphTargetDictionary[e[t].name] = t
				}
			},
			raycast: function () {
				function e(e, t, n, i, r, a, o) {
					return le.barycoordFromPoint(e, t, n, i, b),
					r.multiplyScalar(b.x),
					a.multiplyScalar(b.y),
					o.multiplyScalar(b.z),
					r.add(a).add(o),
					r.clone()
				}
				function t(e, t, n, i, r, a, o) {
					var s = e.material;
					if (null === (s.side === qi ? n.intersectTriangle(a, r, i, !0, o) : n.intersectTriangle(i, r, a, s.side !== Zi, o)))
						return null;
					x.copy(o),
					x.applyMatrix4(e.matrixWorld);
					var l = t.ray.origin.distanceTo(x);
					return l < t.near || l > t.far ? null : {
						distance: l,
						point: x.clone(),
						object: e
					}
				}
				function i(n, i, r, a, o, l, c, h) {
					s.fromArray(a, 3 * l),
					d.fromArray(a, 3 * c),
					u.fromArray(a, 3 * h);
					var p = t(n, i, r, s, d, u, y);
					return p && (o && (m.fromArray(o, 2 * l), g.fromArray(o, 2 * c), v.fromArray(o, 2 * h), p.uv = e(y, s, d, u, m, g, v)), p.face = new ce(l, c, h, le.normal(s, d, u)), p.faceIndex = l),
					p
				}
				var r = new c,
				a = new ie,
				o = new Q,
				s = new l,
				d = new l,
				u = new l,
				h = new l,
				p = new l,
				f = new l,
				m = new n,
				g = new n,
				v = new n,
				b = new l,
				y = new l,
				x = new l;
				return function (n, l) {
					var c = this.geometry,
					b = this.material,
					x = this.matrixWorld;
					if (void 0 !== b && (null === c.boundingSphere && c.computeBoundingSphere(), o.copy(c.boundingSphere), o.applyMatrix4(x), !1 !== n.ray.intersectsSphere(o) && (r.getInverse(x), a.copy(n.ray).applyMatrix4(r), null === c.boundingBox || !1 !== a.intersectsBox(c.boundingBox)))) {
						var w,
						_;
						if (c.isBufferGeometry) {
							var T,
							E,
							M,
							C = c.index,
							S = c.attributes,
							A = S.position.array;
							if (void 0 !== S.uv && (w = S.uv.array), null !== C)
								for (var R = C.array, P = 0, L = R.length; P < L; P += 3)
									T = R[P], E = R[P + 1], M = R[P + 2], (_ = i(this, n, a, A, w, T, E, M)) && (_.faceIndex = Math.floor(P / 3), l.push(_));
							else
								for (var P = 0, L = A.length; P < L; P += 9)
									(_ = i(this, n, a, A, w, T = P / 3, E = T + 1, M = T + 2)) && (_.index = T, l.push(_))
						} else if (c.isGeometry) {
							var k,
							O,
							D,
							I = b && b.isMultiMaterial,
							F = !0 === I ? b.materials : null,
							N = c.vertices,
							z = c.faces,
							H = c.faceVertexUvs[0];
							H.length > 0 && (w = H);
							for (var U = 0, B = z.length; U < B; U++) {
								var j = z[U],
								V = !0 === I ? F[j.materialIndex] : b;
								if (void 0 !== V) {
									if (k = N[j.a], O = N[j.b], D = N[j.c], !0 === V.morphTargets) {
										var W = c.morphTargets,
										G = this.morphTargetInfluences;
										s.set(0, 0, 0),
										d.set(0, 0, 0),
										u.set(0, 0, 0);
										for (var $ = 0, X = W.length; $ < X; $++) {
											var Y = G[$];
											if (0 !== Y) {
												var q = W[$].vertices;
												s.addScaledVector(h.subVectors(q[j.a], k), Y),
												d.addScaledVector(p.subVectors(q[j.b], O), Y),
												u.addScaledVector(f.subVectors(q[j.c], D), Y)
											}
										}
										s.add(k),
										d.add(O),
										u.add(D),
										k = s,
										O = d,
										D = u
									}
									if (_ = t(this, n, a, k, O, D, y)) {
										if (w) {
											var Z = w[U];
											m.copy(Z[0]),
											g.copy(Z[1]),
											v.copy(Z[2]),
											_.uv = e(y, k, O, D, m, g, v)
										}
										_.face = j,
										_.faceIndex = U,
										l.push(_)
									}
								}
							}
						}
					}
				}
			}
			(),
			clone: function () {
				return new this.constructor(this.geometry, this.material).copy(this)
			}
		}),
	(Ce.prototype = Object.create(Ee.prototype)).constructor = Ce,
	(Se.prototype = Object.create(Ee.prototype)).constructor = Se,
	(Ae.prototype = Object.create(oe.prototype)).constructor = Ae,
	Ae.prototype.isCamera = !0,
	Ae.prototype.getWorldDirection = function () {
		var e = new s;
		return function (t) {
			var n = t || new l;
			return this.getWorldQuaternion(e),
			n.set(0, 0, -1).applyQuaternion(e)
		}
	}
	(),
	Ae.prototype.lookAt = function () {
		var e = new c;
		return function (t) {
			e.lookAt(this.position, t, this.up),
			this.quaternion.setFromRotationMatrix(e)
		}
	}
	(),
	Ae.prototype.clone = function () {
		return (new this.constructor).copy(this)
	},
	Ae.prototype.copy = function (e) {
		return oe.prototype.copy.call(this, e),
		this.matrixWorldInverse.copy(e.matrixWorldInverse),
		this.projectionMatrix.copy(e.projectionMatrix),
		this
	},
	Re.prototype = Object.assign(Object.create(Ae.prototype), {
			constructor: Re,
			isPerspectiveCamera: !0,
			copy: function (e) {
				return Ae.prototype.copy.call(this, e),
				this.fov = e.fov,
				this.zoom = e.zoom,
				this.near = e.near,
				this.far = e.far,
				this.focus = e.focus,
				this.aspect = e.aspect,
				this.view = null === e.view ? null : Object.assign({}, e.view),
				this.filmGauge = e.filmGauge,
				this.filmOffset = e.filmOffset,
				this
			},
			setFocalLength: function (e) {
				var t = .5 * this.getFilmHeight() / e;
				this.fov = 2 * Ja.RAD2DEG * Math.atan(t),
				this.updateProjectionMatrix()
			},
			getFocalLength: function () {
				var e = Math.tan(.5 * Ja.DEG2RAD * this.fov);
				return .5 * this.getFilmHeight() / e
			},
			getEffectiveFOV: function () {
				return 2 * Ja.RAD2DEG * Math.atan(Math.tan(.5 * Ja.DEG2RAD * this.fov) / this.zoom)
			},
			getFilmWidth: function () {
				return this.filmGauge * Math.min(this.aspect, 1)
			},
			getFilmHeight: function () {
				return this.filmGauge / Math.max(this.aspect, 1)
			},
			setViewOffset: function (e, t, n, i, r, a) {
				this.aspect = e / t,
				this.view = {
					fullWidth: e,
					fullHeight: t,
					offsetX: n,
					offsetY: i,
					width: r,
					height: a
				},
				this.updateProjectionMatrix()
			},
			clearViewOffset: function () {
				this.view = null,
				this.updateProjectionMatrix()
			},
			updateProjectionMatrix: function () {
				var e = this.near,
				t = e * Math.tan(.5 * Ja.DEG2RAD * this.fov) / this.zoom,
				n = 2 * t,
				i = this.aspect * n,
				r =  - .5 * i,
				a = this.view;
				if (null !== a) {
					var o = a.fullWidth,
					s = a.fullHeight;
					r += a.offsetX * i / o,
					t -= a.offsetY * n / s,
					i *= a.width / o,
					n *= a.height / s
				}
				var l = this.filmOffset;
				0 !== l && (r += e * l / this.getFilmWidth()),
				this.projectionMatrix.makeFrustum(r, r + i, t - n, t, e, this.far)
			},
			toJSON: function (e) {
				var t = oe.prototype.toJSON.call(this, e);
				return t.object.fov = this.fov,
				t.object.zoom = this.zoom,
				t.object.near = this.near,
				t.object.far = this.far,
				t.object.focus = this.focus,
				t.object.aspect = this.aspect,
				null !== this.view && (t.object.view = Object.assign({}, this.view)),
				t.object.filmGauge = this.filmGauge,
				t.object.filmOffset = this.filmOffset,
				t
			}
		}),
	Pe.prototype = Object.assign(Object.create(Ae.prototype), {
			constructor: Pe,
			isOrthographicCamera: !0,
			copy: function (e) {
				return Ae.prototype.copy.call(this, e),
				this.left = e.left,
				this.right = e.right,
				this.top = e.top,
				this.bottom = e.bottom,
				this.near = e.near,
				this.far = e.far,
				this.zoom = e.zoom,
				this.view = null === e.view ? null : Object.assign({}, e.view),
				this
			},
			setViewOffset: function (e, t, n, i, r, a) {
				this.view = {
					fullWidth: e,
					fullHeight: t,
					offsetX: n,
					offsetY: i,
					width: r,
					height: a
				},
				this.updateProjectionMatrix()
			},
			clearViewOffset: function () {
				this.view = null,
				this.updateProjectionMatrix()
			},
			updateProjectionMatrix: function () {
				var e = (this.right - this.left) / (2 * this.zoom),
				t = (this.top - this.bottom) / (2 * this.zoom),
				n = (this.right + this.left) / 2,
				i = (this.top + this.bottom) / 2,
				r = n - e,
				a = n + e,
				o = i + t,
				s = i - t;
				if (null !== this.view) {
					var l = this.zoom / (this.view.width / this.view.fullWidth),
					c = this.zoom / (this.view.height / this.view.fullHeight),
					d = (this.right - this.left) / this.view.width,
					u = (this.top - this.bottom) / this.view.height;
					a = (r += d * (this.view.offsetX / l)) + d * (this.view.width / l),
					s = (o -= u * (this.view.offsetY / c)) - u * (this.view.height / c)
				}
				this.projectionMatrix.makeOrthographic(r, a, o, s, this.near, this.far)
			},
			toJSON: function (e) {
				var t = oe.prototype.toJSON.call(this, e);
				return t.object.zoom = this.zoom,
				t.object.left = this.left,
				t.object.right = this.right,
				t.object.top = this.top,
				t.object.bottom = this.bottom,
				t.object.near = this.near,
				t.object.far = this.far,
				null !== this.view && (t.object.view = Object.assign({}, this.view)),
				t
			}
		});
	var po = 0;
	We.prototype.isFogExp2 = !0,
	We.prototype.clone = function () {
		return new We(this.color.getHex(), this.density)
	},
	We.prototype.toJSON = function (e) {
		return {
			type: "FogExp2",
			color: this.color.getHex(),
			density: this.density
		}
	},
	Ge.prototype.isFog = !0,
	Ge.prototype.clone = function () {
		return new Ge(this.color.getHex(), this.near, this.far)
	},
	Ge.prototype.toJSON = function (e) {
		return {
			type: "Fog",
			color: this.color.getHex(),
			near: this.near,
			far: this.far
		}
	},
	($e.prototype = Object.create(oe.prototype)).constructor = $e,
	$e.prototype.copy = function (e, t) {
		return oe.prototype.copy.call(this, e, t),
		null !== e.background && (this.background = e.background.clone()),
		null !== e.fog && (this.fog = e.fog.clone()),
		null !== e.overrideMaterial && (this.overrideMaterial = e.overrideMaterial.clone()),
		this.autoUpdate = e.autoUpdate,
		this.matrixAutoUpdate = e.matrixAutoUpdate,
		this
	},
	$e.prototype.toJSON = function (e) {
		var t = oe.prototype.toJSON.call(this, e);
		return null !== this.background && (t.object.background = this.background.toJSON(e)),
		null !== this.fog && (t.object.fog = this.fog.toJSON()),
		t
	},
	Xe.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: Xe,
			isLensFlare: !0,
			copy: function (e) {
				oe.prototype.copy.call(this, e),
				this.positionScreen.copy(e.positionScreen),
				this.customUpdateCallback = e.customUpdateCallback;
				for (var t = 0, n = e.lensFlares.length; t < n; t++)
					this.lensFlares.push(e.lensFlares[t]);
				return this
			},
			add: function (e, t, n, i, r, a) {
				void 0 === t && (t = -1),
				void 0 === n && (n = 0),
				void 0 === a && (a = 1),
				void 0 === r && (r = new V(16777215)),
				void 0 === i && (i = rr),
				n = Math.min(n, Math.max(0, n)),
				this.lensFlares.push({
					texture: e,
					size: t,
					distance: n,
					x: 0,
					y: 0,
					z: 0,
					scale: 1,
					rotation: 0,
					opacity: a,
					color: r,
					blending: i
				})
			},
			updateLensFlares: function () {
				var e,
				t,
				n = this.lensFlares.length,
				i = 2 * -this.positionScreen.x,
				r = 2 * -this.positionScreen.y;
				for (e = 0; e < n; e++)
					(t = this.lensFlares[e]).x = this.positionScreen.x + i * t.distance, t.y = this.positionScreen.y + r * t.distance, t.wantedRotation = t.x * Math.PI * .25, t.rotation += .25 * (t.wantedRotation - t.rotation)
			}
		}),
	(Ye.prototype = Object.create(Y.prototype)).constructor = Ye,
	Ye.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.map = e.map,
		this.rotation = e.rotation,
		this
	},
	qe.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: qe,
			isSprite: !0,
			raycast: function () {
				var e = new l;
				return function (t, n) {
					e.setFromMatrixPosition(this.matrixWorld);
					var i = t.ray.distanceSqToPoint(e);
					i > this.scale.x * this.scale.y / 4 || n.push({
						distance: Math.sqrt(i),
						point: this.position,
						face: null,
						object: this
					})
				}
			}
			(),
			clone: function () {
				return new this.constructor(this.material).copy(this)
			}
		}),
	Ze.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: Ze,
			copy: function (e) {
				oe.prototype.copy.call(this, e, !1);
				for (var t = e.levels, n = 0, i = t.length; n < i; n++) {
					var r = t[n];
					this.addLevel(r.object.clone(), r.distance)
				}
				return this
			},
			addLevel: function (e, t) {
				void 0 === t && (t = 0),
				t = Math.abs(t);
				for (var n = this.levels, i = 0; i < n.length && !(t < n[i].distance); i++);
				n.splice(i, 0, {
					distance: t,
					object: e
				}),
				this.add(e)
			},
			getObjectForDistance: function (e) {
				for (var t = this.levels, n = 1, i = t.length; n < i && !(e < t[n].distance); n++);
				return t[n - 1].object
			},
			raycast: function () {
				var e = new l;
				return function (t, n) {
					e.setFromMatrixPosition(this.matrixWorld);
					var i = t.ray.origin.distanceTo(e);
					this.getObjectForDistance(i).raycast(t, n)
				}
			}
			(),
			update: function () {
				var e = new l,
				t = new l;
				return function (n) {
					var i = this.levels;
					if (i.length > 1) {
						e.setFromMatrixPosition(n.matrixWorld),
						t.setFromMatrixPosition(this.matrixWorld);
						var r = e.distanceTo(t);
						i[0].object.visible = !0;
						for (var a = 1, o = i.length; a < o && r >= i[a].distance; a++)
							i[a - 1].object.visible = !1, i[a].object.visible = !0;
						for (; a < o; a++)
							i[a].object.visible = !1
					}
				}
			}
			(),
			toJSON: function (e) {
				var t = oe.prototype.toJSON.call(this, e);
				t.object.levels = [];
				for (var n = this.levels, i = 0, r = n.length; i < r; i++) {
					var a = n[i];
					t.object.levels.push({
						object: a.object.uuid,
						distance: a.distance
					})
				}
				return t
			}
		}),
	Object.assign(Je.prototype, {
		calculateInverses: function () {
			this.boneInverses = [];
			for (var e = 0, t = this.bones.length; e < t; e++) {
				var n = new c;
				this.bones[e] && n.getInverse(this.bones[e].matrixWorld),
				this.boneInverses.push(n)
			}
		},
		pose: function () {
			for (var e, t = 0, n = this.bones.length; t < n; t++)
				(e = this.bones[t]) && e.matrixWorld.getInverse(this.boneInverses[t]);
			for (var t = 0, n = this.bones.length; t < n; t++)
				(e = this.bones[t]) && (e.parent && e.parent.isBone ? (e.matrix.getInverse(e.parent.matrixWorld), e.matrix.multiply(e.matrixWorld)) : e.matrix.copy(e.matrixWorld), e.matrix.decompose(e.position, e.quaternion, e.scale))
		},
		update: function () {
			var e = new c;
			return function () {
				for (var t = 0, n = this.bones.length; t < n; t++) {
					var i = this.bones[t] ? this.bones[t].matrixWorld : this.identityMatrix;
					e.multiplyMatrices(i, this.boneInverses[t]),
					e.toArray(this.boneMatrices, 16 * t)
				}
				this.useVertexTexture && (this.boneTexture.needsUpdate = !0)
			}
		}
		(),
		clone: function () {
			return new Je(this.bones, this.boneInverses, this.useVertexTexture)
		}
	}),
	Qe.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: Qe,
			isBone: !0
		}),
	Ke.prototype = Object.assign(Object.create(Me.prototype), {
			constructor: Ke,
			isSkinnedMesh: !0,
			bind: function (e, t) {
				this.skeleton = e,
				void 0 === t && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), t = this.matrixWorld),
				this.bindMatrix.copy(t),
				this.bindMatrixInverse.getInverse(t)
			},
			pose: function () {
				this.skeleton.pose()
			},
			normalizeSkinWeights: function () {
				if (this.geometry && this.geometry.isGeometry)
					for (i = 0; i < this.geometry.skinWeights.length; i++) {
						var e = this.geometry.skinWeights[i];
						(a = 1 / e.lengthManhattan()) !== 1 / 0 ? e.multiplyScalar(a) : e.set(1, 0, 0, 0)
					}
				else if (this.geometry && this.geometry.isBufferGeometry)
					for (var t = new r, n = this.geometry.attributes.skinWeight, i = 0; i < n.count; i++) {
						t.x = n.getX(i),
						t.y = n.getY(i),
						t.z = n.getZ(i),
						t.w = n.getW(i);
						var a = 1 / t.lengthManhattan();
						a !== 1 / 0 ? t.multiplyScalar(a) : t.set(1, 0, 0, 0),
						n.setXYZW(i, t.x, t.y, t.z, t.w)
					}
			},
			updateMatrixWorld: function (e) {
				Me.prototype.updateMatrixWorld.call(this, !0),
				"attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh unrecognized bindMode: " + this.bindMode)
			},
			clone: function () {
				return new this.constructor(this.geometry, this.material, this.skeleton.useVertexTexture).copy(this)
			}
		}),
	(et.prototype = Object.create(Y.prototype)).constructor = et,
	et.prototype.isLineBasicMaterial = !0,
	et.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.linewidth = e.linewidth,
		this.linecap = e.linecap,
		this.linejoin = e.linejoin,
		this
	},
	tt.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: tt,
			isLine: !0,
			raycast: function () {
				var e = new c,
				t = new ie,
				n = new Q;
				return function (i, r) {
					var a = i.linePrecision,
					o = a * a,
					s = this.geometry,
					c = this.matrixWorld;
					if (null === s.boundingSphere && s.computeBoundingSphere(), n.copy(s.boundingSphere), n.applyMatrix4(c), !1 !== i.ray.intersectsSphere(n)) {
						e.getInverse(c),
						t.copy(i.ray).applyMatrix4(e);
						var d = new l,
						u = new l,
						h = new l,
						p = new l,
						f = this && this.isLineSegments ? 2 : 1;
						if (s.isBufferGeometry) {
							var m = s.index,
							g = s.attributes.position.array;
							if (null !== m)
								for (var v = m.array, b = 0, y = v.length - 1; b < y; b += f) {
									var x = v[b],
									w = v[b + 1];
									d.fromArray(g, 3 * x),
									u.fromArray(g, 3 * w);
									if (!((E = t.distanceSqToSegment(d, u, p, h)) > o)) {
										p.applyMatrix4(this.matrixWorld);
										(M = i.ray.origin.distanceTo(p)) < i.near || M > i.far || r.push({
											distance: M,
											point: h.clone().applyMatrix4(this.matrixWorld),
											index: b,
											face: null,
											faceIndex: null,
											object: this
										})
									}
								}
							else
								for (var b = 0, y = g.length / 3 - 1; b < y; b += f) {
									d.fromArray(g, 3 * b),
									u.fromArray(g, 3 * b + 3);
									if (!((E = t.distanceSqToSegment(d, u, p, h)) > o)) {
										p.applyMatrix4(this.matrixWorld);
										(M = i.ray.origin.distanceTo(p)) < i.near || M > i.far || r.push({
											distance: M,
											point: h.clone().applyMatrix4(this.matrixWorld),
											index: b,
											face: null,
											faceIndex: null,
											object: this
										})
									}
								}
						} else if (s.isGeometry)
							for (var _ = s.vertices, T = _.length, b = 0; b < T - 1; b += f) {
								var E = t.distanceSqToSegment(_[b], _[b + 1], p, h);
								if (!(E > o)) {
									p.applyMatrix4(this.matrixWorld);
									var M = i.ray.origin.distanceTo(p);
									M < i.near || M > i.far || r.push({
										distance: M,
										point: h.clone().applyMatrix4(this.matrixWorld),
										index: b,
										face: null,
										faceIndex: null,
										object: this
									})
								}
							}
					}
				}
			}
			(),
			clone: function () {
				return new this.constructor(this.geometry, this.material).copy(this)
			}
		}),
	nt.prototype = Object.assign(Object.create(tt.prototype), {
			constructor: nt,
			isLineSegments: !0
		}),
	(it.prototype = Object.create(Y.prototype)).constructor = it,
	it.prototype.isPointsMaterial = !0,
	it.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.map = e.map,
		this.size = e.size,
		this.sizeAttenuation = e.sizeAttenuation,
		this
	},
	rt.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: rt,
			isPoints: !0,
			raycast: function () {
				var e = new c,
				t = new ie,
				n = new Q;
				return function (i, r) {
					function a(e, n) {
						var a = t.distanceSqToPoint(e);
						if (a < h) {
							var s = t.closestPointToPoint(e);
							s.applyMatrix4(c);
							var l = i.ray.origin.distanceTo(s);
							if (l < i.near || l > i.far)
								return;
							r.push({
								distance: l,
								distanceToRay: Math.sqrt(a),
								point: s.clone(),
								index: n,
								face: null,
								object: o
							})
						}
					}
					var o = this,
					s = this.geometry,
					c = this.matrixWorld,
					d = i.params.Points.threshold;
					if (null === s.boundingSphere && s.computeBoundingSphere(), n.copy(s.boundingSphere), n.applyMatrix4(c), !1 !== i.ray.intersectsSphere(n)) {
						e.getInverse(c),
						t.copy(i.ray).applyMatrix4(e);
						var u = d / ((this.scale.x + this.scale.y + this.scale.z) / 3),
						h = u * u,
						p = new l;
						if (s.isBufferGeometry) {
							var f = s.index,
							m = s.attributes.position.array;
							if (null !== f)
								for (var g = f.array, v = 0, b = g.length; v < b; v++) {
									var y = g[v];
									p.fromArray(m, 3 * y),
									a(p, y)
								}
							else
								for (var v = 0, x = m.length / 3; v < x; v++)
									p.fromArray(m, 3 * v), a(p, v)
						} else
							for (var w = s.vertices, v = 0, x = w.length; v < x; v++)
								a(w[v], v)
					}
				}
			}
			(),
			clone: function () {
				return new this.constructor(this.geometry, this.material).copy(this)
			}
		}),
	at.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: at
		}),
	(ot.prototype = Object.create(i.prototype)).constructor = ot,
	(st.prototype = Object.create(i.prototype)).constructor = st,
	st.prototype.isCompressedTexture = !0,
	(lt.prototype = Object.create(i.prototype)).constructor = lt,
	(ct.prototype = Object.create(i.prototype)).constructor = ct,
	ct.prototype.isDepthTexture = !0,
	(dt.prototype = Object.create(Ee.prototype)).constructor = dt,
	(ut.prototype = Object.create(Ee.prototype)).constructor = ut,
	(ht.prototype = Object.create(_e.prototype)).constructor = ht,
	(pt.prototype = Object.create(Ee.prototype)).constructor = pt,
	(ft.prototype = Object.create(pt.prototype)).constructor = ft,
	(mt.prototype = Object.create(_e.prototype)).constructor = mt,
	(gt.prototype = Object.create(pt.prototype)).constructor = gt,
	(vt.prototype = Object.create(_e.prototype)).constructor = vt,
	(bt.prototype = Object.create(pt.prototype)).constructor = bt,
	(yt.prototype = Object.create(_e.prototype)).constructor = yt,
	(xt.prototype = Object.create(pt.prototype)).constructor = xt,
	(wt.prototype = Object.create(_e.prototype)).constructor = wt,
	(_t.prototype = Object.create(_e.prototype)).constructor = _t,
	(Tt.prototype = Object.create(Ee.prototype)).constructor = Tt,
	(Et.prototype = Object.create(_e.prototype)).constructor = Et,
	(Mt.prototype = Object.create(Ee.prototype)).constructor = Mt,
	(Ct.prototype = Object.create(_e.prototype)).constructor = Ct,
	(St.prototype = Object.create(Ee.prototype)).constructor = St,
	(At.prototype = Object.create(_e.prototype)).constructor = At;
	var fo = {
		area: function (e) {
			for (var t = e.length, n = 0, i = t - 1, r = 0; r < t; i = r++)
				n += e[i].x * e[r].y - e[r].x * e[i].y;
			return .5 * n
		},
		triangulate: function () {
			function e(e, t, n, i, r, a) {
				var o,
				s,
				l,
				c,
				d,
				u,
				h,
				p,
				f;
				if (s = e[a[t]].x, l = e[a[t]].y, c = e[a[n]].x, d = e[a[n]].y, u = e[a[i]].x, h = e[a[i]].y, (c - s) * (h - l) - (d - l) * (u - s) <= 0)
					return !1;
				var m,
				g,
				v,
				b,
				y,
				x,
				w,
				_,
				T,
				E,
				M,
				C,
				S,
				A,
				R;
				for (m = u - c, g = h - d, v = s - u, b = l - h, y = c - s, x = d - l, o = 0; o < r; o++)
					if (p = e[a[o]].x, f = e[a[o]].y, !(p === s && f === l || p === c && f === d || p === u && f === h) && (w = p - s, _ = f - l, T = p - c, E = f - d, M = p - u, C = f - h, R = m * E - g * T, S = y * _ - x * w, A = v * C - b * M, R >= -Number.EPSILON && A >= -Number.EPSILON && S >= -Number.EPSILON))
						return !1;
				return !0
			}
			return function (t, n) {
				var i = t.length;
				if (i < 3)
					return null;
				var r,
				a,
				o,
				s = [],
				l = [],
				c = [];
				if (fo.area(t) > 0)
					for (a = 0; a < i; a++)
						l[a] = a;
				else
					for (a = 0; a < i; a++)
						l[a] = i - 1 - a;
				var d = i,
				u = 2 * d;
				for (a = d - 1; d > 2; ) {
					if (u-- <= 0)
						return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"), n ? c : s;
					if (r = a, d <= r && (r = 0), a = r + 1, d <= a && (a = 0), o = a + 1, d <= o && (o = 0), e(t, r, a, o, d, l)) {
						var h,
						p,
						f,
						m,
						g;
						for (h = l[r], p = l[a], f = l[o], s.push([t[h], t[p], t[f]]), c.push([l[r], l[a], l[o]]), m = a, g = a + 1; g < d; m++, g++)
							l[m] = l[g];
						u = 2 * --d
					}
				}
				return n ? c : s
			}
		}
		(),
		triangulateShape: function (e, t) {
			function n(e) {
				var t = e.length;
				t > 2 && e[t - 1].equals(e[0]) && e.pop()
			}
			function i(e, t, n) {
				return e.x !== t.x ? e.x < t.x ? e.x <= n.x && n.x <= t.x : t.x <= n.x && n.x <= e.x : e.y < t.y ? e.y <= n.y && n.y <= t.y : t.y <= n.y && n.y <= e.y
			}
			function r(e, t, n, r, a) {
				var o = t.x - e.x,
				s = t.y - e.y,
				l = r.x - n.x,
				c = r.y - n.y,
				d = e.x - n.x,
				u = e.y - n.y,
				h = s * l - o * c,
				p = s * d - o * u;
				if (Math.abs(h) > Number.EPSILON) {
					var f;
					if (h > 0) {
						if (p < 0 || p > h)
							return [];
						if ((f = c * d - l * u) < 0 || f > h)
							return []
					} else {
						if (p > 0 || p < h)
							return [];
						if ((f = c * d - l * u) > 0 || f < h)
							return []
					}
					if (0 === f)
						return !a || 0 !== p && p !== h ? [e] : [];
					if (f === h)
						return !a || 0 !== p && p !== h ? [t] : [];
					if (0 === p)
						return [n];
					if (p === h)
						return [r];
					var m = f / h;
					return [{
							x: e.x + m * o,
							y: e.y + m * s
						}
					]
				}
				if (0 !== p || c * d != l * u)
					return [];
				var g = 0 === o && 0 === s,
				v = 0 === l && 0 === c;
				if (g && v)
					return e.x !== n.x || e.y !== n.y ? [] : [e];
				if (g)
					return i(n, r, e) ? [e] : [];
				if (v)
					return i(e, t, n) ? [n] : [];
				var b,
				y,
				x,
				w,
				_,
				T,
				E,
				M;
				return 0 !== o ? (e.x < t.x ? (b = e, x = e.x, y = t, w = t.x) : (b = t, x = t.x, y = e, w = e.x), n.x < r.x ? (_ = n, E = n.x, T = r, M = r.x) : (_ = r, E = r.x, T = n, M = n.x)) : (e.y < t.y ? (b = e, x = e.y, y = t, w = t.y) : (b = t, x = t.y, y = e, w = e.y), n.y < r.y ? (_ = n, E = n.y, T = r, M = r.y) : (_ = r, E = r.y, T = n, M = n.y)),
				x <= E ? w < E ? [] : w === E ? a ? [] : [_] : w <= M ? [_, y] : [_, T] : x > M ? [] : x === M ? a ? [] : [b] : w <= M ? [b, y] : [b, T]
			}
			function a(e, t, n, i) {
				var r = t.x - e.x,
				a = t.y - e.y,
				o = n.x - e.x,
				s = n.y - e.y,
				l = i.x - e.x,
				c = i.y - e.y,
				d = r * s - a * o,
				u = r * c - a * l;
				if (Math.abs(d) > Number.EPSILON) {
					var h = l * s - c * o;
					return d > 0 ? u >= 0 && h >= 0 : u >= 0 || h >= 0
				}
				return u > 0
			}
			n(e),
			t.forEach(n);
			for (var o, s, l, c, d, u, h = {}, p = e.concat(), f = 0, m = t.length; f < m; f++)
				Array.prototype.push.apply(p, t[f]);
			for (o = 0, s = p.length; o < s; o++)
				void 0 !== h[d = p[o].x + ":" + p[o].y] && console.warn("THREE.ShapeUtils: Duplicate point", d, o), h[d] = o;
			var g = function (e, t) {
				function n(e, t) {
					var n = b.length - 1,
					i = e - 1;
					i < 0 && (i = n);
					var r = e + 1;
					r > n && (r = 0);
					var o = a(b[e], b[i], b[r], s[t]);
					if (!o)
						return !1;
					var l = s.length - 1,
					c = t - 1;
					c < 0 && (c = l);
					var d = t + 1;
					return d > l && (d = 0),
					!!(o = a(s[t], s[c], s[d], b[e]))
				}
				function i(e, t) {
					var n,
					i;
					for (n = 0; n < b.length; n++)
						if (i = n + 1, i %= b.length, r(e, t, b[n], b[i], !0).length > 0)
							return !0;
					return !1
				}
				function o(e, n) {
					var i,
					a,
					o,
					s;
					for (i = 0; i < y.length; i++)
						for (a = t[y[i]], o = 0; o < a.length; o++)
							if (s = o + 1, s %= a.length, r(e, n, a[o], a[s], !0).length > 0)
								return !0;
					return !1
				}
				for (var s, l, c, d, u, h, p, f, m, g, v, b = e.concat(), y = [], x = [], w = 0, _ = t.length; w < _; w++)
					y.push(w);
				for (var T = 0, E = 2 * y.length; y.length > 0; ) {
					if (--E < 0) {
						console.log("Infinite Loop! Holes left:" + y.length + ", Probably Hole outside Shape!");
						break
					}
					for (c = T; c < b.length; c++) {
						for (d = b[c], l = -1, w = 0; w < y.length; w++)
							if (h = y[w], p = d.x + ":" + d.y + ":" + h, void 0 === x[p]) {
								s = t[h];
								for (var M = 0; M < s.length; M++)
									if (u = s[M], n(c, M) && !i(d, u) && !o(d, u)) {
										l = M,
										y.splice(w, 1),
										f = b.slice(0, c + 1),
										m = b.slice(c),
										g = s.slice(l),
										v = s.slice(0, l + 1),
										b = f.concat(g).concat(v).concat(m),
										T = c;
										break
									}
								if (l >= 0)
									break;
								x[p] = !0
							}
						if (l >= 0)
							break
					}
				}
				return b
			}
			(e, t),
			v = fo.triangulate(g, !1);
			for (o = 0, s = v.length; o < s; o++)
				for (c = v[o], l = 0; l < 3; l++)
					void 0 !== (u = h[d = c[l].x + ":" + c[l].y]) && (c[l] = u);
			return v.concat()
		},
		isClockWise: function (e) {
			return fo.area(e) < 0
		},
		b2: function () {
			return function (e, t, n, i) {
				return function (e, t) {
					var n = 1 - e;
					return n * n * t
				}
				(e, t) + function (e, t) {
					return 2 * (1 - e) * e * t
				}
				(e, n) + function (e, t) {
					return e * e * t
				}
				(e, i)
			}
		}
		(),
		b3: function () {
			return function (e, t, n, i, r) {
				return function (e, t) {
					var n = 1 - e;
					return n * n * n * t
				}
				(e, t) + function (e, t) {
					var n = 1 - e;
					return 3 * n * n * e * t
				}
				(e, n) + function (e, t) {
					return 3 * (1 - e) * e * e * t
				}
				(e, i) + function (e, t) {
					return e * e * e * t
				}
				(e, r)
			}
		}
		()
	};
	(Rt.prototype = Object.create(_e.prototype)).constructor = Rt,
	Rt.prototype.addShapeList = function (e, t) {
		for (var n = e.length, i = 0; i < n; i++) {
			var r = e[i];
			this.addShape(r, t)
		}
	},
	Rt.prototype.addShape = function (e, t) {
		function i(e, t, n) {
			return t || console.error("THREE.ExtrudeGeometry: vec does not exist"),
			t.clone().multiplyScalar(n).add(e)
		}
		function r(e, t, i) {
			var r,
			a,
			o = 1,
			s = e.x - t.x,
			l = e.y - t.y,
			c = i.x - e.x,
			d = i.y - e.y,
			u = s * s + l * l,
			h = s * d - l * c;
			if (Math.abs(h) > Number.EPSILON) {
				var p = Math.sqrt(u),
				f = Math.sqrt(c * c + d * d),
				m = t.x - l / p,
				g = t.y + s / p,
				v = ((i.x - d / f - m) * d - (i.y + c / f - g) * c) / (s * d - l * c),
				b = (r = m + s * v - e.x) * r + (a = g + l * v - e.y) * a;
				if (b <= 2)
					return new n(r, a);
				o = Math.sqrt(b / 2)
			} else {
				var y = !1;
				s > Number.EPSILON ? c > Number.EPSILON && (y = !0) : s < -Number.EPSILON ? c < -Number.EPSILON && (y = !0) : Math.sign(l) === Math.sign(d) && (y = !0),
				y ? (r = -l, a = s, o = Math.sqrt(u)) : (r = s, a = l, o = Math.sqrt(u / 2))
			}
			return new n(r / o, a / o)
		}
		function a(e, t) {
			var n,
			i;
			for (W = e.length; --W >= 0; ) {
				n = W,
				(i = W - 1) < 0 && (i = e.length - 1);
				var r = 0,
				a = x + 2 * v;
				for (r = 0; r < a; r++) {
					var o = B * r,
					s = B * (r + 1);
					!function (e, t, n, i, r, a, o, s, l) {
						e += A,
						t += A,
						n += A,
						i += A,
						S.faces.push(new ce(e, t, i, null, null, 1)),
						S.faces.push(new ce(t, n, i, null, null, 1));
						var c = T.generateSideWallUV(S, e, t, n, i);
						S.faceVertexUvs[0].push([c[0], c[1], c[3]]),
						S.faceVertexUvs[0].push([c[1], c[2], c[3]])
					}
					(t + n + o, t + i + o, t + i + s, t + n + s)
				}
			}
		}
		function o(e, t, n) {
			S.vertices.push(new l(e, t, n))
		}
		function s(e, t, n) {
			e += A,
			t += A,
			n += A,
			S.faces.push(new ce(e, t, n, null, null, 0));
			var i = T.generateTopUV(S, e, t, n);
			S.faceVertexUvs[0].push(i)
		}
		var c,
		d,
		u,
		h,
		p,
		f = void 0 !== t.amount ? t.amount : 100,
		m = void 0 !== t.bevelThickness ? t.bevelThickness : 6,
		g = void 0 !== t.bevelSize ? t.bevelSize : m - 2,
		v = void 0 !== t.bevelSegments ? t.bevelSegments : 3,
		b = void 0 === t.bevelEnabled || t.bevelEnabled,
		y = void 0 !== t.curveSegments ? t.curveSegments : 12,
		x = void 0 !== t.steps ? t.steps : 1,
		w = t.extrudePath,
		_ = !1,
		T = void 0 !== t.UVGenerator ? t.UVGenerator : Rt.WorldUVGenerator;
		w && (c = w.getSpacedPoints(x), _ = !0, b = !1, d = void 0 !== t.frames ? t.frames : w.computeFrenetFrames(x, !1), u = new l, h = new l, p = new l),
		b || (v = 0, m = 0, g = 0);
		var E,
		M,
		C,
		S = this,
		A = this.vertices.length,
		R = e.extractPoints(y),
		P = R.shape,
		L = R.holes,
		k = !fo.isClockWise(P);
		if (k) {
			for (P = P.reverse(), M = 0, C = L.length; M < C; M++)
				E = L[M], fo.isClockWise(E) && (L[M] = E.reverse());
			k = !1
		}
		var O = fo.triangulateShape(P, L),
		D = P;
		for (M = 0, C = L.length; M < C; M++)
			E = L[M], P = P.concat(E);
		for (var I, F, N, z, H, U, B = P.length, j = O.length, V = [], W = 0, G = D.length, $ = G - 1, X = W + 1; W < G; W++, $++, X++)
			$ === G && ($ = 0), X === G && (X = 0), V[W] = r(D[W], D[$], D[X]);
		var Y,
		q = [],
		Z = V.concat();
		for (M = 0, C = L.length; M < C; M++) {
			for (E = L[M], Y = [], W = 0, $ = (G = E.length) - 1, X = W + 1; W < G; W++, $++, X++)
				$ === G && ($ = 0), X === G && (X = 0), Y[W] = r(E[W], E[$], E[X]);
			q.push(Y),
			Z = Z.concat(Y)
		}
		for (I = 0; I < v; I++) {
			for (N = I / v, z = m * Math.cos(N * Math.PI / 2), F = g * Math.sin(N * Math.PI / 2), W = 0, G = D.length; W < G; W++)
				o((H = i(D[W], V[W], F)).x, H.y, -z);
			for (M = 0, C = L.length; M < C; M++)
				for (E = L[M], Y = q[M], W = 0, G = E.length; W < G; W++)
					o((H = i(E[W], Y[W], F)).x, H.y, -z)
		}
		for (F = g, W = 0; W < B; W++)
			H = b ? i(P[W], Z[W], F) : P[W], _ ? (h.copy(d.normals[0]).multiplyScalar(H.x), u.copy(d.binormals[0]).multiplyScalar(H.y), p.copy(c[0]).add(h).add(u), o(p.x, p.y, p.z)) : o(H.x, H.y, 0);
		var J;
		for (J = 1; J <= x; J++)
			for (W = 0; W < B; W++)
				H = b ? i(P[W], Z[W], F) : P[W], _ ? (h.copy(d.normals[J]).multiplyScalar(H.x), u.copy(d.binormals[J]).multiplyScalar(H.y), p.copy(c[J]).add(h).add(u), o(p.x, p.y, p.z)) : o(H.x, H.y, f / x * J);
		for (I = v - 1; I >= 0; I--) {
			for (N = I / v, z = m * Math.cos(N * Math.PI / 2), F = g * Math.sin(N * Math.PI / 2), W = 0, G = D.length; W < G; W++)
				o((H = i(D[W], V[W], F)).x, H.y, f + z);
			for (M = 0, C = L.length; M < C; M++)
				for (E = L[M], Y = q[M], W = 0, G = E.length; W < G; W++)
					H = i(E[W], Y[W], F), _ ? o(H.x, H.y + c[x - 1].y, c[x - 1].x + z) : o(H.x, H.y, f + z)
		}
		!function () {
			if (b) {
				var e = 0,
				t = B * e;
				for (W = 0; W < j; W++)
					s((U = O[W])[2] + t, U[1] + t, U[0] + t);
				for (t = B * (e = x + 2 * v), W = 0; W < j; W++)
					s((U = O[W])[0] + t, U[1] + t, U[2] + t)
			} else {
				for (W = 0; W < j; W++)
					s((U = O[W])[2], U[1], U[0]);
				for (W = 0; W < j; W++)
					s((U = O[W])[0] + B * x, U[1] + B * x, U[2] + B * x)
			}
		}
		(),
		function () {
			var e = 0;
			for (a(D, e), e += D.length, M = 0, C = L.length; M < C; M++)
				a(E = L[M], e), e += E.length
		}
		()
	},
	Rt.WorldUVGenerator = {
		generateTopUV: function (e, t, i, r) {
			var a = e.vertices,
			o = a[t],
			s = a[i],
			l = a[r];
			return [new n(o.x, o.y), new n(s.x, s.y), new n(l.x, l.y)]
		},
		generateSideWallUV: function (e, t, i, r, a) {
			var o = e.vertices,
			s = o[t],
			l = o[i],
			c = o[r],
			d = o[a];
			return Math.abs(s.y - l.y) < .01 ? [new n(s.x, 1 - s.z), new n(l.x, 1 - l.z), new n(c.x, 1 - c.z), new n(d.x, 1 - d.z)] : [new n(s.y, 1 - s.z), new n(l.y, 1 - l.z), new n(c.y, 1 - c.z), new n(d.y, 1 - d.z)]
		}
	},
	(Pt.prototype = Object.create(Rt.prototype)).constructor = Pt,
	(Lt.prototype = Object.create(Ee.prototype)).constructor = Lt,
	(kt.prototype = Object.create(_e.prototype)).constructor = kt,
	(Ot.prototype = Object.create(Ee.prototype)).constructor = Ot,
	(Dt.prototype = Object.create(_e.prototype)).constructor = Dt,
	(It.prototype = Object.create(_e.prototype)).constructor = It,
	(Ft.prototype = Object.create(Ee.prototype)).constructor = Ft,
	(Nt.prototype = Object.create(_e.prototype)).constructor = Nt,
	(zt.prototype = Object.create(Ee.prototype)).constructor = zt,
	(Ht.prototype = Object.create(_e.prototype)).constructor = Ht,
	(Ut.prototype = Object.create(Ee.prototype)).constructor = Ut,
	(Bt.prototype = Object.create(Ee.prototype)).constructor = Bt,
	(jt.prototype = Object.create(_e.prototype)).constructor = jt,
	(Vt.prototype = Object.create(jt.prototype)).constructor = Vt,
	(Wt.prototype = Object.create(Bt.prototype)).constructor = Wt,
	(Gt.prototype = Object.create(Ee.prototype)).constructor = Gt,
	($t.prototype = Object.create(_e.prototype)).constructor = $t,
	(Xt.prototype = Object.create(_e.prototype)).constructor = Xt;
	var mo = Object.freeze({
			WireframeGeometry: dt,
			ParametricGeometry: ht,
			ParametricBufferGeometry: ut,
			TetrahedronGeometry: mt,
			TetrahedronBufferGeometry: ft,
			OctahedronGeometry: vt,
			OctahedronBufferGeometry: gt,
			IcosahedronGeometry: yt,
			IcosahedronBufferGeometry: bt,
			DodecahedronGeometry: wt,
			DodecahedronBufferGeometry: xt,
			PolyhedronGeometry: _t,
			PolyhedronBufferGeometry: pt,
			TubeGeometry: Et,
			TubeBufferGeometry: Tt,
			TorusKnotGeometry: Ct,
			TorusKnotBufferGeometry: Mt,
			TorusGeometry: At,
			TorusBufferGeometry: St,
			TextGeometry: Pt,
			SphereBufferGeometry: Lt,
			SphereGeometry: kt,
			RingGeometry: Dt,
			RingBufferGeometry: Ot,
			PlaneBufferGeometry: Se,
			PlaneGeometry: It,
			LatheGeometry: Nt,
			LatheBufferGeometry: Ft,
			ShapeGeometry: Ht,
			ShapeBufferGeometry: zt,
			ExtrudeGeometry: Rt,
			EdgesGeometry: Ut,
			ConeGeometry: Vt,
			ConeBufferGeometry: Wt,
			CylinderGeometry: jt,
			CylinderBufferGeometry: Bt,
			CircleBufferGeometry: Gt,
			CircleGeometry: $t,
			BoxBufferGeometry: Ce,
			BoxGeometry: Xt
		});
	(Yt.prototype = Object.create(q.prototype)).constructor = Yt,
	Yt.prototype.isShadowMaterial = !0,
	(qt.prototype = Object.create(q.prototype)).constructor = qt,
	qt.prototype.isRawShaderMaterial = !0,
	Zt.prototype = {
		constructor: Zt,
		isMultiMaterial: !0,
		toJSON: function (e) {
			for (var t = {
					metadata: {
						version: 4.2,
						type: "material",
						generator: "MaterialExporter"
					},
					uuid: this.uuid,
					type: this.type,
					materials: []
				}, n = this.materials, i = 0, r = n.length; i < r; i++) {
				var a = n[i].toJSON(e);
				delete a.metadata,
				t.materials.push(a)
			}
			return t.visible = this.visible,
			t
		},
		clone: function () {
			for (var e = new this.constructor, t = 0; t < this.materials.length; t++)
				e.materials.push(this.materials[t].clone());
			return e.visible = this.visible,
			e
		}
	},
	(Jt.prototype = Object.create(Y.prototype)).constructor = Jt,
	Jt.prototype.isMeshStandardMaterial = !0,
	Jt.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.defines = {
			STANDARD: ""
		},
		this.color.copy(e.color),
		this.roughness = e.roughness,
		this.metalness = e.metalness,
		this.map = e.map,
		this.lightMap = e.lightMap,
		this.lightMapIntensity = e.lightMapIntensity,
		this.aoMap = e.aoMap,
		this.aoMapIntensity = e.aoMapIntensity,
		this.emissive.copy(e.emissive),
		this.emissiveMap = e.emissiveMap,
		this.emissiveIntensity = e.emissiveIntensity,
		this.bumpMap = e.bumpMap,
		this.bumpScale = e.bumpScale,
		this.normalMap = e.normalMap,
		this.normalScale.copy(e.normalScale),
		this.displacementMap = e.displacementMap,
		this.displacementScale = e.displacementScale,
		this.displacementBias = e.displacementBias,
		this.roughnessMap = e.roughnessMap,
		this.metalnessMap = e.metalnessMap,
		this.alphaMap = e.alphaMap,
		this.envMap = e.envMap,
		this.envMapIntensity = e.envMapIntensity,
		this.refractionRatio = e.refractionRatio,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this.wireframeLinecap = e.wireframeLinecap,
		this.wireframeLinejoin = e.wireframeLinejoin,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this.morphNormals = e.morphNormals,
		this
	},
	(Qt.prototype = Object.create(Jt.prototype)).constructor = Qt,
	Qt.prototype.isMeshPhysicalMaterial = !0,
	Qt.prototype.copy = function (e) {
		return Jt.prototype.copy.call(this, e),
		this.defines = {
			PHYSICAL: ""
		},
		this.reflectivity = e.reflectivity,
		this.clearCoat = e.clearCoat,
		this.clearCoatRoughness = e.clearCoatRoughness,
		this
	},
	(Kt.prototype = Object.create(Y.prototype)).constructor = Kt,
	Kt.prototype.isMeshPhongMaterial = !0,
	Kt.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.specular.copy(e.specular),
		this.shininess = e.shininess,
		this.map = e.map,
		this.lightMap = e.lightMap,
		this.lightMapIntensity = e.lightMapIntensity,
		this.aoMap = e.aoMap,
		this.aoMapIntensity = e.aoMapIntensity,
		this.emissive.copy(e.emissive),
		this.emissiveMap = e.emissiveMap,
		this.emissiveIntensity = e.emissiveIntensity,
		this.bumpMap = e.bumpMap,
		this.bumpScale = e.bumpScale,
		this.normalMap = e.normalMap,
		this.normalScale.copy(e.normalScale),
		this.displacementMap = e.displacementMap,
		this.displacementScale = e.displacementScale,
		this.displacementBias = e.displacementBias,
		this.specularMap = e.specularMap,
		this.alphaMap = e.alphaMap,
		this.envMap = e.envMap,
		this.combine = e.combine,
		this.reflectivity = e.reflectivity,
		this.refractionRatio = e.refractionRatio,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this.wireframeLinecap = e.wireframeLinecap,
		this.wireframeLinejoin = e.wireframeLinejoin,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this.morphNormals = e.morphNormals,
		this
	},
	(en.prototype = Object.create(Kt.prototype)).constructor = en,
	en.prototype.isMeshToonMaterial = !0,
	en.prototype.copy = function (e) {
		return Kt.prototype.copy.call(this, e),
		this.gradientMap = e.gradientMap,
		this
	},
	(tn.prototype = Object.create(Y.prototype)).constructor = tn,
	tn.prototype.isMeshNormalMaterial = !0,
	tn.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.bumpMap = e.bumpMap,
		this.bumpScale = e.bumpScale,
		this.normalMap = e.normalMap,
		this.normalScale.copy(e.normalScale),
		this.displacementMap = e.displacementMap,
		this.displacementScale = e.displacementScale,
		this.displacementBias = e.displacementBias,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this.morphNormals = e.morphNormals,
		this
	},
	(nn.prototype = Object.create(Y.prototype)).constructor = nn,
	nn.prototype.isMeshLambertMaterial = !0,
	nn.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.map = e.map,
		this.lightMap = e.lightMap,
		this.lightMapIntensity = e.lightMapIntensity,
		this.aoMap = e.aoMap,
		this.aoMapIntensity = e.aoMapIntensity,
		this.emissive.copy(e.emissive),
		this.emissiveMap = e.emissiveMap,
		this.emissiveIntensity = e.emissiveIntensity,
		this.specularMap = e.specularMap,
		this.alphaMap = e.alphaMap,
		this.envMap = e.envMap,
		this.combine = e.combine,
		this.reflectivity = e.reflectivity,
		this.refractionRatio = e.refractionRatio,
		this.wireframe = e.wireframe,
		this.wireframeLinewidth = e.wireframeLinewidth,
		this.wireframeLinecap = e.wireframeLinecap,
		this.wireframeLinejoin = e.wireframeLinejoin,
		this.skinning = e.skinning,
		this.morphTargets = e.morphTargets,
		this.morphNormals = e.morphNormals,
		this
	},
	(rn.prototype = Object.create(Y.prototype)).constructor = rn,
	rn.prototype.isLineDashedMaterial = !0,
	rn.prototype.copy = function (e) {
		return Y.prototype.copy.call(this, e),
		this.color.copy(e.color),
		this.linewidth = e.linewidth,
		this.scale = e.scale,
		this.dashSize = e.dashSize,
		this.gapSize = e.gapSize,
		this
	};
	var go = Object.freeze({
			ShadowMaterial: Yt,
			SpriteMaterial: Ye,
			RawShaderMaterial: qt,
			ShaderMaterial: q,
			PointsMaterial: it,
			MultiMaterial: Zt,
			MeshPhysicalMaterial: Qt,
			MeshStandardMaterial: Jt,
			MeshPhongMaterial: Kt,
			MeshToonMaterial: en,
			MeshNormalMaterial: tn,
			MeshLambertMaterial: nn,
			MeshDepthMaterial: Z,
			MeshBasicMaterial: de,
			LineDashedMaterial: rn,
			LineBasicMaterial: et,
			Material: Y
		}),
	vo = {
		enabled: !1,
		files: {},
		add: function (e, t) {
			!1 !== this.enabled && (this.files[e] = t)
		},
		get: function (e) {
			if (!1 !== this.enabled)
				return this.files[e]
		},
		remove: function (e) {
			delete this.files[e]
		},
		clear: function () {
			this.files = {}
		}
	},
	bo = new an;
	Object.assign(on.prototype, {
		load: function (e, t, n, i) {
			void 0 === e && (e = ""),
			void 0 !== this.path && (e = this.path + e);
			var r = this,
			a = vo.get(e);
			if (void 0 !== a)
				return r.manager.itemStart(e), setTimeout(function () {
					t && t(a),
					r.manager.itemEnd(e)
				}, 0), a;
			var o = e.match(/^data:(.*?)(;base64)?,(.*)$/);
			if (o) {
				var s = o[1],
				l = !!o[2],
				c = o[3];
				c = window.decodeURIComponent(c),
				l && (c = window.atob(c));
				try {
					var d,
					u = (this.responseType || "").toLowerCase();
					switch (u) {
					case "arraybuffer":
					case "blob":
						d = new ArrayBuffer(c.length);
						for (var h = new Uint8Array(d), p = 0; p < c.length; p++)
							h[p] = c.charCodeAt(p);
						"blob" === u && (d = new Blob([d], {
									type: s
								}));
						break;
					case "document":
						var f = new DOMParser;
						d = f.parseFromString(c, s);
						break;
					case "json":
						d = JSON.parse(c);
						break;
					default:
						d = c
					}
					window.setTimeout(function () {
						t && t(d),
						r.manager.itemEnd(e)
					}, 0)
				} catch (t) {
					window.setTimeout(function () {
						i && i(t),
						r.manager.itemError(e)
					}, 0)
				}
			} else {
				var m = new XMLHttpRequest;
				m.open("GET", e, !0),
				m.addEventListener("load", function (n) {
					var a = n.target.response;
					vo.add(e, a),
					200 === this.status ? (t && t(a), r.manager.itemEnd(e)) : 0 === this.status ? (console.warn("THREE.FileLoader: HTTP Status 0 received."), t && t(a), r.manager.itemEnd(e)) : (i && i(n), r.manager.itemError(e))
				}, !1),
				void 0 !== n && m.addEventListener("progress", function (e) {
					n(e)
				}, !1),
				m.addEventListener("error", function (t) {
					i && i(t),
					r.manager.itemError(e)
				}, !1),
				void 0 !== this.responseType && (m.responseType = this.responseType),
				void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials),
				m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"),
				m.send(null)
			}
			return r.manager.itemStart(e),
			m
		},
		setPath: function (e) {
			return this.path = e,
			this
		},
		setResponseType: function (e) {
			return this.responseType = e,
			this
		},
		setWithCredentials: function (e) {
			return this.withCredentials = e,
			this
		},
		setMimeType: function (e) {
			return this.mimeType = e,
			this
		}
	}),
	Object.assign(sn.prototype, {
		load: function (e, t, n, i) {
			function r(r) {
				l.load(e[r], function (e) {
					var n = a._parser(e, !0);
					o[r] = {
						width: n.width,
						height: n.height,
						format: n.format,
						mipmaps: n.mipmaps
					},
					6 === (c += 1) && (1 === n.mipmapCount && (s.minFilter = ra), s.format = n.format, s.needsUpdate = !0, t && t(s))
				}, n, i)
			}
			var a = this,
			o = [],
			s = new st;
			s.image = o;
			var l = new on(this.manager);
			if (l.setPath(this.path), l.setResponseType("arraybuffer"), Array.isArray(e))
				for (var c = 0, d = 0, u = e.length; d < u; ++d)
					r(d);
			else
				l.load(e, function (e) {
					var n = a._parser(e, !0);
					if (n.isCubemap)
						for (var i = n.mipmaps.length / n.mipmapCount, r = 0; r < i; r++) {
							o[r] = {
								mipmaps: []
							};
							for (var l = 0; l < n.mipmapCount; l++)
								o[r].mipmaps.push(n.mipmaps[r * n.mipmapCount + l]), o[r].format = n.format, o[r].width = n.width, o[r].height = n.height
						}
					else
						s.image.width = n.width, s.image.height = n.height, s.mipmaps = n.mipmaps;
					1 === n.mipmapCount && (s.minFilter = ra),
					s.format = n.format,
					s.needsUpdate = !0,
					t && t(s)
				}, n, i);
			return s
		},
		setPath: function (e) {
			return this.path = e,
			this
		}
	});
	var yo = ln;
	Object.assign(ln.prototype, {
		load: function (e, t, n, i) {
			var r = this,
			a = new W,
			o = new on(this.manager);
			return o.setResponseType("arraybuffer"),
			o.load(e, function (e) {
				var n = r._parser(e);
				n && (void 0 !== n.image ? a.image = n.image : void 0 !== n.data && (a.image.width = n.width, a.image.height = n.height, a.image.data = n.data), a.wrapS = void 0 !== n.wrapS ? n.wrapS : Qr, a.wrapT = void 0 !== n.wrapT ? n.wrapT : Qr, a.magFilter = void 0 !== n.magFilter ? n.magFilter : ra, a.minFilter = void 0 !== n.minFilter ? n.minFilter : oa, a.anisotropy = void 0 !== n.anisotropy ? n.anisotropy : 1, void 0 !== n.format && (a.format = n.format), void 0 !== n.type && (a.type = n.type), void 0 !== n.mipmaps && (a.mipmaps = n.mipmaps), 1 === n.mipmapCount && (a.minFilter = ra), a.needsUpdate = !0, t && t(a, n))
			}, n, i),
			a
		}
	}),
	Object.assign(cn.prototype, {
		load: function (e, t, n, i) {
			var r = this,
			a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
			if (a.onload = function () {
				a.onload = null,
				URL.revokeObjectURL(a.src),
				t && t(a),
				r.manager.itemEnd(e)
			}, a.onerror = i, 0 === e.indexOf("data:"))
				a.src = e;
			else if (void 0 !== this.crossOrigin)
				a.crossOrigin = this.crossOrigin, a.src = e;
			else {
				var o = new on;
				o.setPath(this.path),
				o.setResponseType("blob"),
				o.setWithCredentials(this.withCredentials),
				o.load(e, function (e) {
					a.src = URL.createObjectURL(e)
				}, n, i)
			}
			return r.manager.itemStart(e),
			a
		},
		setCrossOrigin: function (e) {
			return this.crossOrigin = e,
			this
		},
		setWithCredentials: function (e) {
			return this.withCredentials = e,
			this
		},
		setPath: function (e) {
			return this.path = e,
			this
		}
	}),
	Object.assign(dn.prototype, {
		load: function (e, t, n, i) {
			function r(n) {
				o.load(e[n], function (e) {
					a.images[n] = e,
					6 === ++s && (a.needsUpdate = !0, t && t(a))
				}, void 0, i)
			}
			var a = new d,
			o = new cn(this.manager);
			o.setCrossOrigin(this.crossOrigin),
			o.setPath(this.path);
			for (var s = 0, l = 0; l < e.length; ++l)
				r(l);
			return a
		},
		setCrossOrigin: function (e) {
			return this.crossOrigin = e,
			this
		},
		setPath: function (e) {
			return this.path = e,
			this
		}
	}),
	Object.assign(un.prototype, {
		load: function (e, t, n, r) {
			var a = new i,
			o = new cn(this.manager);
			return o.setCrossOrigin(this.crossOrigin),
			o.setWithCredentials(this.withCredentials),
			o.setPath(this.path),
			o.load(e, function (n) {
				var i = e.search(/\.(jpg|jpeg)$/) > 0 || 0 === e.search(/^data\:image\/jpeg/);
				a.format = i ? wa : _a,
				a.image = n,
				a.needsUpdate = !0,
				void 0 !== t && t(a)
			}, n, r),
			a
		},
		setCrossOrigin: function (e) {
			return this.crossOrigin = e,
			this
		},
		setWithCredentials: function (e) {
			return this.withCredentials = e,
			this
		},
		setPath: function (e) {
			return this.path = e,
			this
		}
	}),
	hn.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: hn,
			isLight: !0,
			copy: function (e) {
				return oe.prototype.copy.call(this, e),
				this.color.copy(e.color),
				this.intensity = e.intensity,
				this
			},
			toJSON: function (e) {
				var t = oe.prototype.toJSON.call(this, e);
				return t.object.color = this.color.getHex(),
				t.object.intensity = this.intensity,
				void 0 !== this.groundColor && (t.object.groundColor = this.groundColor.getHex()),
				void 0 !== this.distance && (t.object.distance = this.distance),
				void 0 !== this.angle && (t.object.angle = this.angle),
				void 0 !== this.decay && (t.object.decay = this.decay),
				void 0 !== this.penumbra && (t.object.penumbra = this.penumbra),
				void 0 !== this.shadow && (t.object.shadow = this.shadow.toJSON()),
				t
			}
		}),
	pn.prototype = Object.assign(Object.create(hn.prototype), {
			constructor: pn,
			isHemisphereLight: !0,
			copy: function (e) {
				return hn.prototype.copy.call(this, e),
				this.groundColor.copy(e.groundColor),
				this
			}
		}),
	Object.assign(fn.prototype, {
		copy: function (e) {
			return this.camera = e.camera.clone(),
			this.bias = e.bias,
			this.radius = e.radius,
			this.mapSize.copy(e.mapSize),
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		toJSON: function () {
			var e = {};
			return 0 !== this.bias && (e.bias = this.bias),
			1 !== this.radius && (e.radius = this.radius),
			512 === this.mapSize.x && 512 === this.mapSize.y || (e.mapSize = this.mapSize.toArray()),
			e.camera = this.camera.toJSON(!1).object,
			delete e.camera.matrix,
			e
		}
	}),
	mn.prototype = Object.assign(Object.create(fn.prototype), {
			constructor: mn,
			isSpotLightShadow: !0,
			update: function (e) {
				var t = 2 * Ja.RAD2DEG * e.angle,
				n = this.mapSize.width / this.mapSize.height,
				i = e.distance || 500,
				r = this.camera;
				t === r.fov && n === r.aspect && i === r.far || (r.fov = t, r.aspect = n, r.far = i, r.updateProjectionMatrix())
			}
		}),
	gn.prototype = Object.assign(Object.create(hn.prototype), {
			constructor: gn,
			isSpotLight: !0,
			copy: function (e) {
				return hn.prototype.copy.call(this, e),
				this.distance = e.distance,
				this.angle = e.angle,
				this.penumbra = e.penumbra,
				this.decay = e.decay,
				this.target = e.target.clone(),
				this.shadow = e.shadow.clone(),
				this
			}
		}),
	vn.prototype = Object.assign(Object.create(hn.prototype), {
			constructor: vn,
			isPointLight: !0,
			copy: function (e) {
				return hn.prototype.copy.call(this, e),
				this.distance = e.distance,
				this.decay = e.decay,
				this.shadow = e.shadow.clone(),
				this
			}
		}),
	bn.prototype = Object.assign(Object.create(fn.prototype), {
			constructor: bn
		}),
	yn.prototype = Object.assign(Object.create(hn.prototype), {
			constructor: yn,
			isDirectionalLight: !0,
			copy: function (e) {
				return hn.prototype.copy.call(this, e),
				this.target = e.target.clone(),
				this.shadow = e.shadow.clone(),
				this
			}
		}),
	xn.prototype = Object.assign(Object.create(hn.prototype), {
			constructor: xn,
			isAmbientLight: !0
		});
	var xo = {
		arraySlice: function (e, t, n) {
			return xo.isTypedArray(e) ? new e.constructor(e.subarray(t, n)) : e.slice(t, n)
		},
		convertArray: function (e, t, n) {
			return !e || !n && e.constructor === t ? e : "number" == typeof t.BYTES_PER_ELEMENT ? new t(e) : Array.prototype.slice.call(e)
		},
		isTypedArray: function (e) {
			return ArrayBuffer.isView(e) && !(e instanceof DataView)
		},
		getKeyframeOrder: function (e) {
			for (var t = e.length, n = new Array(t), i = 0; i !== t; ++i)
				n[i] = i;
			return n.sort(function (t, n) {
				return e[t] - e[n]
			}),
			n
		},
		sortedArray: function (e, t, n) {
			for (var i = e.length, r = new e.constructor(i), a = 0, o = 0; o !== i; ++a)
				for (var s = n[a] * t, l = 0; l !== t; ++l)
					r[o++] = e[s + l];
			return r
		},
		flattenJSON: function (e, t, n, i) {
			for (var r = 1, a = e[0]; void 0 !== a && void 0 === a[i]; )
				a = e[r++];
			if (void 0 !== a) {
				var o = a[i];
				if (void 0 !== o)
					if (Array.isArray(o))
						do {
							void 0 !== (o = a[i]) && (t.push(a.time), n.push.apply(n, o)),
							a = e[r++]
						} while (void 0 !== a);
					else if (void 0 !== o.toArray)
						do {
							void 0 !== (o = a[i]) && (t.push(a.time), o.toArray(n, n.length)),
							a = e[r++]
						} while (void 0 !== a);
					else
						do {
							void 0 !== (o = a[i]) && (t.push(a.time), n.push(o)),
							a = e[r++]
						} while (void 0 !== a)
			}
		}
	};
	wn.prototype = {
		constructor: wn,
		evaluate: function (e) {
			var t = this.parameterPositions,
			n = this._cachedIndex,
			i = t[n],
			r = t[n - 1];
			e: {
				t: {
					var a;
					n: {
						i: if (!(e < i)) {
							for (s = n + 2; ; ) {
								if (void 0 === i) {
									if (e < r)
										break i;
									return n = t.length,
									this._cachedIndex = n,
									this.afterEnd_(n - 1, e, r)
								}
								if (n === s)
									break;
								if (r = i, i = t[++n], e < i)
									break t
							}
							a = t.length;
							break n
						} {
							if (e >= r)
								break e;
							var o = t[1];
							e < o && (n = 2, r = o);
							for (var s = n - 2; ; ) {
								if (void 0 === r)
									return this._cachedIndex = 0, this.beforeStart_(0, e, i);
								if (n === s)
									break;
								if (i = r, r = t[--n - 1], e >= r)
									break t
							}
							a = n,
							n = 0
						}
					}
					for (; n < a; ) {
						var l = n + a >>> 1;
						e < t[l] ? a = l : n = l + 1
					}
					if (i = t[n], void 0 === (r = t[n - 1]))
						return this._cachedIndex = 0, this.beforeStart_(0, e, i);
					if (void 0 === i)
						return n = t.length, this._cachedIndex = n, this.afterEnd_(n - 1, r, e)
				}
				this._cachedIndex = n,
				this.intervalChanged_(n, r, i)
			}
			return this.interpolate_(n, r, e, i)
		},
		settings: null,
		DefaultSettings_: {},
		getSettings_: function () {
			return this.settings || this.DefaultSettings_
		},
		copySampleValue_: function (e) {
			for (var t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e * i, a = 0; a !== i; ++a)
				t[a] = n[r + a];
			return t
		},
		interpolate_: function (e, t, n, i) {
			throw new Error("call to abstract method")
		},
		intervalChanged_: function (e, t, n) {}
	},
	Object.assign(wn.prototype, {
		beforeStart_: wn.prototype.copySampleValue_,
		afterEnd_: wn.prototype.copySampleValue_
	}),
	_n.prototype = Object.assign(Object.create(wn.prototype), {
			constructor: _n,
			DefaultSettings_: {
				endingStart: za,
				endingEnd: za
			},
			intervalChanged_: function (e, t, n) {
				var i = this.parameterPositions,
				r = e - 2,
				a = e + 1,
				o = i[r],
				s = i[a];
				if (void 0 === o)
					switch (this.getSettings_().endingStart) {
					case 2401:
						r = e,
						o = 2 * t - n;
						break;
					case 2402:
						o = t + i[r = i.length - 2] - i[r + 1];
						break;
					default:
						r = e,
						o = n
					}
				if (void 0 === s)
					switch (this.getSettings_().endingEnd) {
					case 2401:
						a = e,
						s = 2 * n - t;
						break;
					case 2402:
						a = 1,
						s = n + i[1] - i[0];
						break;
					default:
						a = e - 1,
						s = t
					}
				var l = .5 * (n - t),
				c = this.valueSize;
				this._weightPrev = l / (t - o),
				this._weightNext = l / (s - n),
				this._offsetPrev = r * c,
				this._offsetNext = a * c
			},
			interpolate_: function (e, t, n, i) {
				for (var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = e * o, l = s - o, c = this._offsetPrev, d = this._offsetNext, u = this._weightPrev, h = this._weightNext, p = (n - t) / (i - t), f = p * p, m = f * p, g = -u * m + 2 * u * f - u * p, v = (1 + u) * m + (-1.5 - 2 * u) * f + ( - .5 + u) * p + 1, b = (-1 - h) * m + (1.5 + h) * f + .5 * p, y = h * m - h * f, x = 0; x !== o; ++x)
					r[x] = g * a[c + x] + v * a[l + x] + b * a[s + x] + y * a[d + x];
				return r
			}
		}),
	Tn.prototype = Object.assign(Object.create(wn.prototype), {
			constructor: Tn,
			interpolate_: function (e, t, n, i) {
				for (var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, s = e * o, l = s - o, c = (n - t) / (i - t), d = 1 - c, u = 0; u !== o; ++u)
					r[u] = a[l + u] * d + a[s + u] * c;
				return r
			}
		}),
	En.prototype = Object.assign(Object.create(wn.prototype), {
			constructor: En,
			interpolate_: function (e, t, n, i) {
				return this.copySampleValue_(e - 1)
			}
		});
	var wo;
	wo = {
		TimeBufferType: Float32Array,
		ValueBufferType: Float32Array,
		DefaultInterpolation: 2301,
		InterpolantFactoryMethodDiscrete: function (e) {
			return new En(this.times, this.values, this.getValueSize(), e)
		},
		InterpolantFactoryMethodLinear: function (e) {
			return new Tn(this.times, this.values, this.getValueSize(), e)
		},
		InterpolantFactoryMethodSmooth: function (e) {
			return new _n(this.times, this.values, this.getValueSize(), e)
		},
		setInterpolation: function (e) {
			var t;
			switch (e) {
			case 2300:
				t = this.InterpolantFactoryMethodDiscrete;
				break;
			case 2301:
				t = this.InterpolantFactoryMethodLinear;
				break;
			case 2302:
				t = this.InterpolantFactoryMethodSmooth
			}
			if (void 0 !== t)
				this.createInterpolant = t;
			else {
				var n = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
				if (void 0 === this.createInterpolant) {
					if (e === this.DefaultInterpolation)
						throw new Error(n);
					this.setInterpolation(this.DefaultInterpolation)
				}
				console.warn(n)
			}
		},
		getInterpolation: function () {
			switch (this.createInterpolant) {
			case this.InterpolantFactoryMethodDiscrete:
				return 2300;
			case this.InterpolantFactoryMethodLinear:
				return 2301;
			case this.InterpolantFactoryMethodSmooth:
				return 2302
			}
		},
		getValueSize: function () {
			return this.values.length / this.times.length
		},
		shift: function (e) {
			if (0 !== e)
				for (var t = this.times, n = 0, i = t.length; n !== i; ++n)
					t[n] += e;
			return this
		},
		scale: function (e) {
			if (1 !== e)
				for (var t = this.times, n = 0, i = t.length; n !== i; ++n)
					t[n] *= e;
			return this
		},
		trim: function (e, t) {
			for (var n = this.times, i = n.length, r = 0, a = i - 1; r !== i && n[r] < e; )
				++r;
			for (; -1 !== a && n[a] > t; )
				--a;
			if (++a, 0 !== r || a !== i) {
				r >= a && (a = Math.max(a, 1), r = a - 1);
				var o = this.getValueSize();
				this.times = xo.arraySlice(n, r, a),
				this.values = xo.arraySlice(this.values, r * o, a * o)
			}
			return this
		},
		validate: function () {
			var e = !0,
			t = this.getValueSize();
			t - Math.floor(t) != 0 && (console.error("invalid value size in track", this), e = !1);
			var n = this.times,
			i = this.values,
			r = n.length;
			0 === r && (console.error("track is empty", this), e = !1);
			for (var a = null, o = 0; o !== r; o++) {
				var s = n[o];
				if ("number" == typeof s && isNaN(s)) {
					console.error("time is not a valid number", this, o, s),
					e = !1;
					break
				}
				if (null !== a && a > s) {
					console.error("out of order keys", this, o, s, a),
					e = !1;
					break
				}
				a = s
			}
			if (void 0 !== i && xo.isTypedArray(i))
				for (var o = 0, l = i.length; o !== l; ++o) {
					var c = i[o];
					if (isNaN(c)) {
						console.error("value is not a valid number", this, o, c),
						e = !1;
						break
					}
				}
			return e
		},
		optimize: function () {
			for (var e = this.times, t = this.values, n = this.getValueSize(), i = 2302 === this.getInterpolation(), r = 1, a = e.length - 1, o = 1; o < a; ++o) {
				var s = !1,
				l = e[o];
				if (l !== e[o + 1] && (1 !== o || l !== l[0]))
					if (i)
						s = !0;
					else
						for (var c = o * n, d = c - n, u = c + n, h = 0; h !== n; ++h) {
							var p = t[c + h];
							if (p !== t[d + h] || p !== t[u + h]) {
								s = !0;
								break
							}
						}
				if (s) {
					if (o !== r) {
						e[r] = e[o];
						for (var f = o * n, m = r * n, h = 0; h !== n; ++h)
							t[m + h] = t[f + h]
					}
					++r
				}
			}
			if (a > 0) {
				e[r] = e[a];
				for (var f = a * n, m = r * n, h = 0; h !== n; ++h)
					t[m + h] = t[f + h];
				++r
			}
			return r !== e.length && (this.times = xo.arraySlice(e, 0, r), this.values = xo.arraySlice(t, 0, r * n)),
			this
		}
	},
	Cn.prototype = Object.assign(Object.create(wo), {
			constructor: Cn,
			ValueTypeName: "vector"
		}),
	Sn.prototype = Object.assign(Object.create(wn.prototype), {
			constructor: Sn,
			interpolate_: function (e, t, n, i) {
				for (var r = this.resultBuffer, a = this.sampleValues, o = this.valueSize, l = e * o, c = (n - t) / (i - t), d = l + o; l !== d; l += 4)
					s.slerpFlat(r, 0, a, l - o, a, l, c);
				return r
			}
		}),
	An.prototype = Object.assign(Object.create(wo), {
			constructor: An,
			ValueTypeName: "quaternion",
			DefaultInterpolation: 2301,
			InterpolantFactoryMethodLinear: function (e) {
				return new Sn(this.times, this.values, this.getValueSize(), e)
			},
			InterpolantFactoryMethodSmooth: void 0
		}),
	Rn.prototype = Object.assign(Object.create(wo), {
			constructor: Rn,
			ValueTypeName: "number"
		}),
	Pn.prototype = Object.assign(Object.create(wo), {
			constructor: Pn,
			ValueTypeName: "string",
			ValueBufferType: Array,
			DefaultInterpolation: 2300,
			InterpolantFactoryMethodLinear: void 0,
			InterpolantFactoryMethodSmooth: void 0
		}),
	Ln.prototype = Object.assign(Object.create(wo), {
			constructor: Ln,
			ValueTypeName: "bool",
			ValueBufferType: Array,
			DefaultInterpolation: 2300,
			InterpolantFactoryMethodLinear: void 0,
			InterpolantFactoryMethodSmooth: void 0
		}),
	kn.prototype = Object.assign(Object.create(wo), {
			constructor: kn,
			ValueTypeName: "color"
		}),
	On.prototype = wo,
	wo.constructor = On,
	Object.assign(On, {
		parse: function (e) {
			if (void 0 === e.type)
				throw new Error("track type undefined, can not parse");
			var t = On._getTrackTypeForValueTypeName(e.type);
			if (void 0 === e.times) {
				var n = [],
				i = [];
				xo.flattenJSON(e.keys, n, i, "value"),
				e.times = n,
				e.values = i
			}
			return void 0 !== t.parse ? t.parse(e) : new t(e.name, e.times, e.values, e.interpolation)
		},
		toJSON: function (e) {
			var t,
			n = e.constructor;
			if (void 0 !== n.toJSON)
				t = n.toJSON(e);
			else {
				t = {
					name: e.name,
					times: xo.convertArray(e.times, Array),
					values: xo.convertArray(e.values, Array)
				};
				var i = e.getInterpolation();
				i !== e.DefaultInterpolation && (t.interpolation = i)
			}
			return t.type = e.ValueTypeName,
			t
		},
		_getTrackTypeForValueTypeName: function (e) {
			switch (e.toLowerCase()) {
			case "scalar":
			case "double":
			case "float":
			case "number":
			case "integer":
				return Rn;
			case "vector":
			case "vector2":
			case "vector3":
			case "vector4":
				return Cn;
			case "color":
				return kn;
			case "quaternion":
				return An;
			case "bool":
			case "boolean":
				return Ln;
			case "string":
				return Pn
			}
			throw new Error("Unsupported typeName: " + e)
		}
	}),
	Dn.prototype = {
		constructor: Dn,
		resetDuration: function () {
			for (var e = 0, t = 0, n = this.tracks.length; t !== n; ++t) {
				var i = this.tracks[t];
				e = Math.max(e, i.times[i.times.length - 1])
			}
			this.duration = e
		},
		trim: function () {
			for (var e = 0; e < this.tracks.length; e++)
				this.tracks[e].trim(0, this.duration);
			return this
		},
		optimize: function () {
			for (var e = 0; e < this.tracks.length; e++)
				this.tracks[e].optimize();
			return this
		}
	},
	Object.assign(Dn, {
		parse: function (e) {
			for (var t = [], n = e.tracks, i = 1 / (e.fps || 1), r = 0, a = n.length; r !== a; ++r)
				t.push(On.parse(n[r]).scale(i));
			return new Dn(e.name, e.duration, t)
		},
		toJSON: function (e) {
			for (var t = [], n = e.tracks, i = {
					name: e.name,
					duration: e.duration,
					tracks: t
				}, r = 0, a = n.length; r !== a; ++r)
				t.push(On.toJSON(n[r]));
			return i
		},
		CreateFromMorphTargetSequence: function (e, t, n, i) {
			for (var r = t.length, a = [], o = 0; o < r; o++) {
				var s = [],
				l = [];
				s.push((o + r - 1) % r, o, (o + 1) % r),
				l.push(0, 1, 0);
				var c = xo.getKeyframeOrder(s);
				s = xo.sortedArray(s, 1, c),
				l = xo.sortedArray(l, 1, c),
				i || 0 !== s[0] || (s.push(r), l.push(l[0])),
				a.push(new Rn(".morphTargetInfluences[" + t[o].name + "]", s, l).scale(1 / n))
			}
			return new Dn(e, -1, a)
		},
		findByName: function (e, t) {
			var n = e;
			if (!Array.isArray(e)) {
				var i = e;
				n = i.geometry && i.geometry.animations || i.animations
			}
			for (var r = 0; r < n.length; r++)
				if (n[r].name === t)
					return n[r];
			return null
		},
		CreateClipsFromMorphTargetSequences: function (e, t, n) {
			for (var i = {}, r = /^([\w-]*?)([\d]+)$/, a = 0, o = e.length; a < o; a++) {
				var s = e[a],
				l = s.name.match(r);
				if (l && l.length > 1) {
					var c = i[u = l[1]];
					c || (i[u] = c = []),
					c.push(s)
				}
			}
			var d = [];
			for (var u in i)
				d.push(Dn.CreateFromMorphTargetSequence(u, i[u], t, n));
			return d
		},
		parseAnimation: function (e, t) {
			if (!e)
				return console.error("  no animation in JSONLoader data"), null;
			for (var n = function (e, t, n, i, r) {
				if (0 !== n.length) {
					var a = [],
					o = [];
					xo.flattenJSON(n, a, o, i),
					0 !== a.length && r.push(new e(t, a, o))
				}
			}, i = [], r = e.name || "default", a = e.length || -1, o = e.fps || 30, s = e.hierarchy || [], l = 0; l < s.length; l++) {
				var c = s[l].keys;
				if (c && 0 !== c.length)
					if (c[0].morphTargets) {
						for (var d = {}, u = 0; u < c.length; u++)
							if (c[u].morphTargets)
								for (m = 0; m < c[u].morphTargets.length; m++)
									d[c[u].morphTargets[m]] = -1;
						for (var h in d) {
							for (var p = [], f = [], m = 0; m !== c[u].morphTargets.length; ++m) {
								var g = c[u];
								p.push(g.time),
								f.push(g.morphTarget === h ? 1 : 0)
							}
							i.push(new Rn(".morphTargetInfluence[" + h + "]", p, f))
						}
						a = d.length * (o || 1)
					} else {
						var v = ".bones[" + t[l].name + "]";
						n(Cn, v + ".position", c, "pos", i),
						n(An, v + ".quaternion", c, "rot", i),
						n(Cn, v + ".scale", c, "scl", i)
					}
			}
			if (0 === i.length)
				return null;
			return new Dn(r, a, i)
		}
	}),
	Object.assign(In.prototype, {
		load: function (e, t, n, i) {
			var r = this;
			new on(r.manager).load(e, function (e) {
				t(r.parse(JSON.parse(e)))
			}, n, i)
		},
		setTextures: function (e) {
			this.textures = e
		},
		parse: function (e) {
			function t(e) {
				return void 0 === i[e] && console.warn("THREE.MaterialLoader: Undefined texture", e),
				i[e]
			}
			var i = this.textures,
			r = new go[e.type];
			if (void 0 !== e.uuid && (r.uuid = e.uuid), void 0 !== e.name && (r.name = e.name), void 0 !== e.color && r.color.setHex(e.color), void 0 !== e.roughness && (r.roughness = e.roughness), void 0 !== e.metalness && (r.metalness = e.metalness), void 0 !== e.emissive && r.emissive.setHex(e.emissive), void 0 !== e.specular && r.specular.setHex(e.specular), void 0 !== e.shininess && (r.shininess = e.shininess), void 0 !== e.clearCoat && (r.clearCoat = e.clearCoat), void 0 !== e.clearCoatRoughness && (r.clearCoatRoughness = e.clearCoatRoughness), void 0 !== e.uniforms && (r.uniforms = e.uniforms), void 0 !== e.vertexShader && (r.vertexShader = e.vertexShader), void 0 !== e.fragmentShader && (r.fragmentShader = e.fragmentShader), void 0 !== e.vertexColors && (r.vertexColors = e.vertexColors), void 0 !== e.fog && (r.fog = e.fog), void 0 !== e.shading && (r.shading = e.shading), void 0 !== e.blending && (r.blending = e.blending), void 0 !== e.side && (r.side = e.side), void 0 !== e.opacity && (r.opacity = e.opacity), void 0 !== e.transparent && (r.transparent = e.transparent), void 0 !== e.alphaTest && (r.alphaTest = e.alphaTest), void 0 !== e.depthTest && (r.depthTest = e.depthTest), void 0 !== e.depthWrite && (r.depthWrite = e.depthWrite), void 0 !== e.colorWrite && (r.colorWrite = e.colorWrite), void 0 !== e.wireframe && (r.wireframe = e.wireframe), void 0 !== e.wireframeLinewidth && (r.wireframeLinewidth = e.wireframeLinewidth), void 0 !== e.wireframeLinecap && (r.wireframeLinecap = e.wireframeLinecap), void 0 !== e.wireframeLinejoin && (r.wireframeLinejoin = e.wireframeLinejoin), void 0 !== e.skinning && (r.skinning = e.skinning), void 0 !== e.morphTargets && (r.morphTargets = e.morphTargets), void 0 !== e.size && (r.size = e.size), void 0 !== e.sizeAttenuation && (r.sizeAttenuation = e.sizeAttenuation), void 0 !== e.map && (r.map = t(e.map)), void 0 !== e.alphaMap && (r.alphaMap = t(e.alphaMap), r.transparent = !0), void 0 !== e.bumpMap && (r.bumpMap = t(e.bumpMap)), void 0 !== e.bumpScale && (r.bumpScale = e.bumpScale), void 0 !== e.normalMap && (r.normalMap = t(e.normalMap)), void 0 !== e.normalScale) {
				var a = e.normalScale;
				!1 === Array.isArray(a) && (a = [a, a]),
				r.normalScale = (new n).fromArray(a)
			}
			if (void 0 !== e.displacementMap && (r.displacementMap = t(e.displacementMap)), void 0 !== e.displacementScale && (r.displacementScale = e.displacementScale), void 0 !== e.displacementBias && (r.displacementBias = e.displacementBias), void 0 !== e.roughnessMap && (r.roughnessMap = t(e.roughnessMap)), void 0 !== e.metalnessMap && (r.metalnessMap = t(e.metalnessMap)), void 0 !== e.emissiveMap && (r.emissiveMap = t(e.emissiveMap)), void 0 !== e.emissiveIntensity && (r.emissiveIntensity = e.emissiveIntensity), void 0 !== e.specularMap && (r.specularMap = t(e.specularMap)), void 0 !== e.envMap && (r.envMap = t(e.envMap)), void 0 !== e.reflectivity && (r.reflectivity = e.reflectivity), void 0 !== e.lightMap && (r.lightMap = t(e.lightMap)), void 0 !== e.lightMapIntensity && (r.lightMapIntensity = e.lightMapIntensity), void 0 !== e.aoMap && (r.aoMap = t(e.aoMap)), void 0 !== e.aoMapIntensity && (r.aoMapIntensity = e.aoMapIntensity), void 0 !== e.gradientMap && (r.gradientMap = t(e.gradientMap)), void 0 !== e.materials)
				for (var o = 0, s = e.materials.length; o < s; o++)
					r.materials.push(this.parse(e.materials[o]));
			return r
		}
	}),
	Object.assign(Fn.prototype, {
		load: function (e, t, n, i) {
			var r = this;
			new on(r.manager).load(e, function (e) {
				t(r.parse(JSON.parse(e)))
			}, n, i)
		},
		parse: function (e) {
			var t = new Ee,
			n = e.data.index,
			i = {
				Int8Array: Int8Array,
				Uint8Array: Uint8Array,
				Uint8ClampedArray: Uint8ClampedArray,
				Int16Array: Int16Array,
				Uint16Array: Uint16Array,
				Int32Array: Int32Array,
				Uint32Array: Uint32Array,
				Float32Array: Float32Array,
				Float64Array: Float64Array
			};
			if (void 0 !== n) {
				s = new i[n.type](n.array);
				t.setIndex(new ue(s, 1))
			}
			var r = e.data.attributes;
			for (var a in r) {
				var o = r[a],
				s = new i[o.type](o.array);
				t.addAttribute(a, new ue(s, o.itemSize, o.normalized))
			}
			var c = e.data.groups || e.data.drawcalls || e.data.offsets;
			if (void 0 !== c)
				for (var d = 0, u = c.length; d !== u; ++d) {
					var h = c[d];
					t.addGroup(h.start, h.count, h.materialIndex)
				}
			var p = e.data.boundingSphere;
			if (void 0 !== p) {
				var f = new l;
				void 0 !== p.center && f.fromArray(p.center),
				t.boundingSphere = new Q(f, p.radius)
			}
			return t
		}
	}),
	Nn.prototype = {
		constructor: Nn,
		crossOrigin: void 0,
		extractUrlBase: function (e) {
			var t = e.split("/");
			return 1 === t.length ? "./" : (t.pop(), t.join("/") + "/")
		},
		initMaterials: function (e, t, n) {
			for (var i = [], r = 0; r < e.length; ++r)
				i[r] = this.createMaterial(e[r], t, n);
			return i
		},
		createMaterial: function () {
			var e,
			t,
			n;
			return function (i, r, a) {
				function o(e, n, i, o, l) {
					var c,
					d = r + e,
					u = Nn.Handlers.get(d);
					null !== u ? c = u.load(d) : (t.setCrossOrigin(a), c = t.load(d)),
					void 0 !== n && (c.repeat.fromArray(n), 1 !== n[0] && (c.wrapS = Jr), 1 !== n[1] && (c.wrapT = Jr)),
					void 0 !== i && c.offset.fromArray(i),
					void 0 !== o && ("repeat" === o[0] && (c.wrapS = Jr), "mirror" === o[0] && (c.wrapS = Kr), "repeat" === o[1] && (c.wrapT = Jr), "mirror" === o[1] && (c.wrapT = Kr)),
					void 0 !== l && (c.anisotropy = l);
					var h = Ja.generateUUID();
					return s[h] = c,
					h
				}
				void 0 === e && (e = new V),
				void 0 === t && (t = new un),
				void 0 === n && (n = new In);
				var s = {},
				l = {
					uuid: Ja.generateUUID(),
					type: "MeshLambertMaterial"
				};
				for (var c in i) {
					var d = i[c];
					switch (c) {
					case "DbgColor":
					case "DbgIndex":
					case "opticalDensity":
					case "illumination":
						break;
					case "DbgName":
						l.name = d;
						break;
					case "blending":
						l.blending = cr[d];
						break;
					case "colorAmbient":
					case "mapAmbient":
						console.warn("THREE.Loader.createMaterial:", c, "is no longer supported.");
						break;
					case "colorDiffuse":
						l.color = e.fromArray(d).getHex();
						break;
					case "colorSpecular":
						l.specular = e.fromArray(d).getHex();
						break;
					case "colorEmissive":
						l.emissive = e.fromArray(d).getHex();
						break;
					case "specularCoef":
						l.shininess = d;
						break;
					case "shading":
						"basic" === d.toLowerCase() && (l.type = "MeshBasicMaterial"),
						"phong" === d.toLowerCase() && (l.type = "MeshPhongMaterial"),
						"standard" === d.toLowerCase() && (l.type = "MeshStandardMaterial");
						break;
					case "mapDiffuse":
						l.map = o(d, i.mapDiffuseRepeat, i.mapDiffuseOffset, i.mapDiffuseWrap, i.mapDiffuseAnisotropy);
						break;
					case "mapDiffuseRepeat":
					case "mapDiffuseOffset":
					case "mapDiffuseWrap":
					case "mapDiffuseAnisotropy":
						break;
					case "mapEmissive":
						l.emissiveMap = o(d, i.mapEmissiveRepeat, i.mapEmissiveOffset, i.mapEmissiveWrap, i.mapEmissiveAnisotropy);
						break;
					case "mapEmissiveRepeat":
					case "mapEmissiveOffset":
					case "mapEmissiveWrap":
					case "mapEmissiveAnisotropy":
						break;
					case "mapLight":
						l.lightMap = o(d, i.mapLightRepeat, i.mapLightOffset, i.mapLightWrap, i.mapLightAnisotropy);
						break;
					case "mapLightRepeat":
					case "mapLightOffset":
					case "mapLightWrap":
					case "mapLightAnisotropy":
						break;
					case "mapAO":
						l.aoMap = o(d, i.mapAORepeat, i.mapAOOffset, i.mapAOWrap, i.mapAOAnisotropy);
						break;
					case "mapAORepeat":
					case "mapAOOffset":
					case "mapAOWrap":
					case "mapAOAnisotropy":
						break;
					case "mapBump":
						l.bumpMap = o(d, i.mapBumpRepeat, i.mapBumpOffset, i.mapBumpWrap, i.mapBumpAnisotropy);
						break;
					case "mapBumpScale":
						l.bumpScale = d;
						break;
					case "mapBumpRepeat":
					case "mapBumpOffset":
					case "mapBumpWrap":
					case "mapBumpAnisotropy":
						break;
					case "mapNormal":
						l.normalMap = o(d, i.mapNormalRepeat, i.mapNormalOffset, i.mapNormalWrap, i.mapNormalAnisotropy);
						break;
					case "mapNormalFactor":
						l.normalScale = [d, d];
						break;
					case "mapNormalRepeat":
					case "mapNormalOffset":
					case "mapNormalWrap":
					case "mapNormalAnisotropy":
						break;
					case "mapSpecular":
						l.specularMap = o(d, i.mapSpecularRepeat, i.mapSpecularOffset, i.mapSpecularWrap, i.mapSpecularAnisotropy);
						break;
					case "mapSpecularRepeat":
					case "mapSpecularOffset":
					case "mapSpecularWrap":
					case "mapSpecularAnisotropy":
						break;
					case "mapMetalness":
						l.metalnessMap = o(d, i.mapMetalnessRepeat, i.mapMetalnessOffset, i.mapMetalnessWrap, i.mapMetalnessAnisotropy);
						break;
					case "mapMetalnessRepeat":
					case "mapMetalnessOffset":
					case "mapMetalnessWrap":
					case "mapMetalnessAnisotropy":
						break;
					case "mapRoughness":
						l.roughnessMap = o(d, i.mapRoughnessRepeat, i.mapRoughnessOffset, i.mapRoughnessWrap, i.mapRoughnessAnisotropy);
						break;
					case "mapRoughnessRepeat":
					case "mapRoughnessOffset":
					case "mapRoughnessWrap":
					case "mapRoughnessAnisotropy":
						break;
					case "mapAlpha":
						l.alphaMap = o(d, i.mapAlphaRepeat, i.mapAlphaOffset, i.mapAlphaWrap, i.mapAlphaAnisotropy);
						break;
					case "mapAlphaRepeat":
					case "mapAlphaOffset":
					case "mapAlphaWrap":
					case "mapAlphaAnisotropy":
						break;
					case "flipSided":
						l.side = qi;
						break;
					case "doubleSided":
						l.side = Zi;
						break;
					case "transparency":
						console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),
						l.opacity = d;
						break;
					case "depthTest":
					case "depthWrite":
					case "colorWrite":
					case "opacity":
					case "reflectivity":
					case "transparent":
					case "visible":
					case "wireframe":
						l[c] = d;
						break;
					case "vertexColors":
						!0 === d && (l.vertexColors = nr),
						"face" === d && (l.vertexColors = tr);
						break;
					default:
						console.error("THREE.Loader.createMaterial: Unsupported", c, d)
					}
				}
				return "MeshBasicMaterial" === l.type && delete l.emissive,
				"MeshPhongMaterial" !== l.type && delete l.specular,
				l.opacity < 1 && (l.transparent = !0),
				n.setTextures(s),
				n.parse(l)
			}
		}
		()
	},
	Nn.Handlers = {
		handlers: [],
		add: function (e, t) {
			this.handlers.push(e, t)
		},
		get: function (e) {
			for (var t = this.handlers, n = 0, i = t.length; n < i; n += 2) {
				var r = t[n],
				a = t[n + 1];
				if (r.test(e))
					return a
			}
			return null
		}
	},
	Object.assign(zn.prototype, {
		load: function (e, t, n, i) {
			var r = this,
			a = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : Nn.prototype.extractUrlBase(e),
			o = new on(this.manager);
			o.setWithCredentials(this.withCredentials),
			o.load(e, function (n) {
				var i = JSON.parse(n),
				o = i.metadata;
				if (void 0 !== o) {
					var s = o.type;
					if (void 0 !== s) {
						if ("object" === s.toLowerCase())
							return void console.error("THREE.JSONLoader: " + e + " should be loaded with THREE.ObjectLoader instead.");
						if ("scene" === s.toLowerCase())
							return void console.error("THREE.JSONLoader: " + e + " should be loaded with THREE.SceneLoader instead.")
					}
				}
				var l = r.parse(i, a);
				t(l.geometry, l.materials)
			}, n, i)
		},
		setTexturePath: function (e) {
			this.texturePath = e
		},
		parse: function (e, t) {
			var i = new _e,
			a = void 0 !== e.scale ? 1 / e.scale : 1;
			if (function (t) {
				function r(e, t) {
					return e & 1 << t
				}
				var a,
				o,
				s,
				c,
				d,
				u,
				h,
				p,
				f,
				m,
				g,
				v,
				b,
				y,
				x,
				w,
				_,
				T,
				E,
				M,
				C,
				S,
				A,
				R,
				P,
				L = e.faces,
				k = e.vertices,
				O = e.normals,
				D = e.colors,
				I = 0;
				if (void 0 !== e.uvs) {
					for (a = 0; a < e.uvs.length; a++)
						e.uvs[a].length && I++;
					for (a = 0; a < I; a++)
						i.faceVertexUvs[a] = []
				}
				for (c = 0, d = k.length; c < d; )
					(T = new l)
						.x = k[c++] * t, T.y = k[c++] * t, T.z = k[c++] * t, i.vertices.push(T);
					for (c = 0, d = L.length; c < d; )
						if (m = L[c++], g = r(m, 0), v = r(m, 1), b = r(m, 3), y = r(m, 4), x = r(m, 5), w = r(m, 6), _ = r(m, 7), g) {
							if (M = new ce, M.a = L[c], M.b = L[c + 1], M.c = L[c + 3], C = new ce, C.a = L[c + 1], C.b = L[c + 2], C.c = L[c + 3], c += 4, v && (f = L[c++], M.materialIndex = f, C.materialIndex = f), s = i.faces.length, b)
								for (a = 0; a < I; a++)
									for (R = e.uvs[a], i.faceVertexUvs[a][s] = [], i.faceVertexUvs[a][s + 1] = [], o = 0; o < 4; o++)
										P = new n(R[2 * (p = L[c++])], R[2 * p + 1]), 2 !== o && i.faceVertexUvs[a][s].push(P), 0 !== o && i.faceVertexUvs[a][s + 1].push(P);
							if (y && (h = 3 * L[c++], M.normal.set(O[h++], O[h++], O[h]), C.normal.copy(M.normal)), x)
								for (a = 0; a < 4; a++)
									h = 3 * L[c++], A = new l(O[h++], O[h++], O[h]), 2 !== a && M.vertexNormals.push(A), 0 !== a && C.vertexNormals.push(A);
							if (w && (S = D[u = L[c++]], M.color.setHex(S), C.color.setHex(S)), _)
								for (a = 0; a < 4; a++)
									S = D[u = L[c++]], 2 !== a && M.vertexColors.push(new V(S)), 0 !== a && C.vertexColors.push(new V(S));
							i.faces.push(M),
							i.faces.push(C)
						} else {
							if (E = new ce, E.a = L[c++], E.b = L[c++], E.c = L[c++], v && (f = L[c++], E.materialIndex = f), s = i.faces.length, b)
								for (a = 0; a < I; a++)
									for (R = e.uvs[a], i.faceVertexUvs[a][s] = [], o = 0; o < 3; o++)
										P = new n(R[2 * (p = L[c++])], R[2 * p + 1]), i.faceVertexUvs[a][s].push(P);
							if (y && (h = 3 * L[c++], E.normal.set(O[h++], O[h++], O[h])), x)
								for (a = 0; a < 3; a++)
									h = 3 * L[c++], A = new l(O[h++], O[h++], O[h]), E.vertexNormals.push(A);
							if (w && (u = L[c++], E.color.setHex(D[u])), _)
								for (a = 0; a < 3; a++)
									u = L[c++], E.vertexColors.push(new V(D[u]));
							i.faces.push(E)
						}
				}
					(a), function () {
					var t = void 0 !== e.influencesPerVertex ? e.influencesPerVertex : 2;
					if (e.skinWeights)
						for (var n = 0, a = e.skinWeights.length; n < a; n += t) {
							var o = e.skinWeights[n],
							s = t > 1 ? e.skinWeights[n + 1] : 0,
							l = t > 2 ? e.skinWeights[n + 2] : 0,
							c = t > 3 ? e.skinWeights[n + 3] : 0;
							i.skinWeights.push(new r(o, s, l, c))
						}
					if (e.skinIndices)
						for (var n = 0, a = e.skinIndices.length; n < a; n += t) {
							var d = e.skinIndices[n],
							u = t > 1 ? e.skinIndices[n + 1] : 0,
							h = t > 2 ? e.skinIndices[n + 2] : 0,
							p = t > 3 ? e.skinIndices[n + 3] : 0;
							i.skinIndices.push(new r(d, u, h, p))
						}
					i.bones = e.bones,
					i.bones && i.bones.length > 0 && (i.skinWeights.length !== i.skinIndices.length || i.skinIndices.length !== i.vertices.length) && console.warn("When skinning, number of vertices (" + i.vertices.length + "), skinIndices (" + i.skinIndices.length + "), and skinWeights (" + i.skinWeights.length + ") should match.")
				}
					(), function (t) {
					if (void 0 !== e.morphTargets)
						for (var n = 0, r = e.morphTargets.length; n < r; n++) {
							i.morphTargets[n] = {},
							i.morphTargets[n].name = e.morphTargets[n].name,
							i.morphTargets[n].vertices = [];
							for (var a = i.morphTargets[n].vertices, o = e.morphTargets[n].vertices, s = 0, c = o.length; s < c; s += 3) {
								var d = new l;
								d.x = o[s] * t,
								d.y = o[s + 1] * t,
								d.z = o[s + 2] * t,
								a.push(d)
							}
						}
					if (void 0 !== e.morphColors && e.morphColors.length > 0) {
						console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');
						for (var u = i.faces, h = e.morphColors[0].colors, n = 0, r = u.length; n < r; n++)
							u[n].color.fromArray(h, 3 * n)
					}
				}
					(a), function () {
					var t = [],
					n = [];
					void 0 !== e.animation && n.push(e.animation),
					void 0 !== e.animations && (e.animations.length ? n = n.concat(e.animations) : n.push(e.animations));
					for (var r = 0; r < n.length; r++) {
						var a = Dn.parseAnimation(n[r], i.bones);
						a && t.push(a)
					}
					if (i.morphTargets) {
						var o = Dn.CreateClipsFromMorphTargetSequences(i.morphTargets, 10);
						t = t.concat(o)
					}
					t.length > 0 && (i.animations = t)
				}
					(), i.computeFaceNormals(), i.computeBoundingSphere(), void 0 === e.materials || 0 === e.materials.length)return {
					geometry: i
				};
			var o = Nn.prototype.initMaterials(e.materials, t, this.crossOrigin);
			return {
				geometry: i,
				materials: o
			}
		}
	}),
	Object.assign(Hn.prototype, {
		load: function (e, t, n, i) {
			"" === this.texturePath && (this.texturePath = e.substring(0, e.lastIndexOf("/") + 1));
			var r = this;
			new on(r.manager).load(e, function (n) {
				var i = null;
				try {
					i = JSON.parse(n)
				} catch (t) {
					return void console.error("THREE:ObjectLoader: Can't parse " + e + ".", t.message)
				}
				var a = i.metadata;
				void 0 !== a && void 0 !== a.type && "geometry" !== a.type.toLowerCase() ? r.parse(i, t) : console.error("THREE.ObjectLoader: Can't load " + e + ". Use THREE.JSONLoader instead.")
			}, n, i)
		},
		setTexturePath: function (e) {
			this.texturePath = e
		},
		setCrossOrigin: function (e) {
			this.crossOrigin = e
		},
		parse: function (e, t) {
			var n = this.parseGeometries(e.geometries),
			i = this.parseImages(e.images, function () {
					void 0 !== t && t(o)
				}),
			r = this.parseTextures(e.textures, i),
			a = this.parseMaterials(e.materials, r),
			o = this.parseObject(e.object, n, a);
			return e.animations && (o.animations = this.parseAnimations(e.animations)),
			void 0 !== e.images && 0 !== e.images.length || void 0 !== t && t(o),
			o
		},
		parseGeometries: function (e) {
			var t = {};
			if (void 0 !== e)
				for (var n = new zn, i = new Fn, r = 0, a = e.length; r < a; r++) {
					var o,
					s = e[r];
					switch (s.type) {
					case "PlaneGeometry":
					case "PlaneBufferGeometry":
						o = new mo[s.type](s.width, s.height, s.widthSegments, s.heightSegments);
						break;
					case "BoxGeometry":
					case "BoxBufferGeometry":
					case "CubeGeometry":
						o = new mo[s.type](s.width, s.height, s.depth, s.widthSegments, s.heightSegments, s.depthSegments);
						break;
					case "CircleGeometry":
					case "CircleBufferGeometry":
						o = new mo[s.type](s.radius, s.segments, s.thetaStart, s.thetaLength);
						break;
					case "CylinderGeometry":
					case "CylinderBufferGeometry":
						o = new mo[s.type](s.radiusTop, s.radiusBottom, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength);
						break;
					case "ConeGeometry":
					case "ConeBufferGeometry":
						o = new mo[s.type](s.radius, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength);
						break;
					case "SphereGeometry":
					case "SphereBufferGeometry":
						o = new mo[s.type](s.radius, s.widthSegments, s.heightSegments, s.phiStart, s.phiLength, s.thetaStart, s.thetaLength);
						break;
					case "DodecahedronGeometry":
					case "IcosahedronGeometry":
					case "OctahedronGeometry":
					case "TetrahedronGeometry":
						o = new mo[s.type](s.radius, s.detail);
						break;
					case "RingGeometry":
					case "RingBufferGeometry":
						o = new mo[s.type](s.innerRadius, s.outerRadius, s.thetaSegments, s.phiSegments, s.thetaStart, s.thetaLength);
						break;
					case "TorusGeometry":
					case "TorusBufferGeometry":
						o = new mo[s.type](s.radius, s.tube, s.radialSegments, s.tubularSegments, s.arc);
						break;
					case "TorusKnotGeometry":
					case "TorusKnotBufferGeometry":
						o = new mo[s.type](s.radius, s.tube, s.tubularSegments, s.radialSegments, s.p, s.q);
						break;
					case "LatheGeometry":
					case "LatheBufferGeometry":
						o = new mo[s.type](s.points, s.segments, s.phiStart, s.phiLength);
						break;
					case "BufferGeometry":
						o = i.parse(s);
						break;
					case "Geometry":
						o = n.parse(s.data, this.texturePath).geometry;
						break;
					default:
						console.warn('THREE.ObjectLoader: Unsupported geometry type "' + s.type + '"');
						continue
					}
					o.uuid = s.uuid,
					void 0 !== s.name && (o.name = s.name),
					t[s.uuid] = o
				}
			return t
		},
		parseMaterials: function (e, t) {
			var n = {};
			if (void 0 !== e) {
				var i = new In;
				i.setTextures(t);
				for (var r = 0, a = e.length; r < a; r++) {
					var o = i.parse(e[r]);
					n[o.uuid] = o
				}
			}
			return n
		},
		parseAnimations: function (e) {
			for (var t = [], n = 0; n < e.length; n++) {
				var i = Dn.parse(e[n]);
				t.push(i)
			}
			return t
		},
		parseImages: function (e, t) {
			function n(e) {
				return i.manager.itemStart(e),
				a.load(e, function () {
					i.manager.itemEnd(e)
				}, void 0, function () {
					i.manager.itemError(e)
				})
			}
			var i = this,
			r = {};
			if (void 0 !== e && e.length > 0) {
				var a = new cn(new an(t));
				a.setCrossOrigin(this.crossOrigin);
				for (var o = 0, s = e.length; o < s; o++) {
					var l = e[o],
					c = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url) ? l.url : i.texturePath + l.url;
					r[l.uuid] = n(c)
				}
			}
			return r
		},
		parseTextures: function (e, t) {
			function n(e, t) {
				return "number" == typeof e ? e : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", e), t[e])
			}
			var r = {};
			if (void 0 !== e)
				for (var a = 0, o = e.length; a < o; a++) {
					var s = e[a];
					void 0 === s.image && console.warn('THREE.ObjectLoader: No "image" specified for', s.uuid),
					void 0 === t[s.image] && console.warn("THREE.ObjectLoader: Undefined image", s.image);
					var l = new i(t[s.image]);
					l.needsUpdate = !0,
					l.uuid = s.uuid,
					void 0 !== s.name && (l.name = s.name),
					void 0 !== s.mapping && (l.mapping = n(s.mapping, Zr)),
					void 0 !== s.offset && l.offset.fromArray(s.offset),
					void 0 !== s.repeat && l.repeat.fromArray(s.repeat),
					void 0 !== s.wrap && (l.wrapS = n(s.wrap[0], ea), l.wrapT = n(s.wrap[1], ea)),
					void 0 !== s.minFilter && (l.minFilter = n(s.minFilter, sa)),
					void 0 !== s.magFilter && (l.magFilter = n(s.magFilter, sa)),
					void 0 !== s.anisotropy && (l.anisotropy = s.anisotropy),
					void 0 !== s.flipY && (l.flipY = s.flipY),
					r[s.uuid] = l
				}
			return r
		},
		parseObject: function () {
			var e = new c;
			return function (t, n, i) {
				function r(e) {
					return void 0 === n[e] && console.warn("THREE.ObjectLoader: Undefined geometry", e),
					n[e]
				}
				function a(e) {
					if (void 0 !== e)
						return void 0 === i[e] && console.warn("THREE.ObjectLoader: Undefined material", e), i[e]
				}
				var o;
				switch (t.type) {
				case "Scene":
					o = new $e,
					void 0 !== t.background && Number.isInteger(t.background) && (o.background = new V(t.background)),
					void 0 !== t.fog && ("Fog" === t.fog.type ? o.fog = new Ge(t.fog.color, t.fog.near, t.fog.far) : "FogExp2" === t.fog.type && (o.fog = new We(t.fog.color, t.fog.density)));
					break;
				case "PerspectiveCamera":
					o = new Re(t.fov, t.aspect, t.near, t.far),
					void 0 !== t.focus && (o.focus = t.focus),
					void 0 !== t.zoom && (o.zoom = t.zoom),
					void 0 !== t.filmGauge && (o.filmGauge = t.filmGauge),
					void 0 !== t.filmOffset && (o.filmOffset = t.filmOffset),
					void 0 !== t.view && (o.view = Object.assign({}, t.view));
					break;
				case "OrthographicCamera":
					o = new Pe(t.left, t.right, t.top, t.bottom, t.near, t.far);
					break;
				case "AmbientLight":
					o = new xn(t.color, t.intensity);
					break;
				case "DirectionalLight":
					o = new yn(t.color, t.intensity);
					break;
				case "PointLight":
					o = new vn(t.color, t.intensity, t.distance, t.decay);
					break;
				case "SpotLight":
					o = new gn(t.color, t.intensity, t.distance, t.angle, t.penumbra, t.decay);
					break;
				case "HemisphereLight":
					o = new pn(t.color, t.groundColor, t.intensity);
					break;
				case "Mesh":
					var s = r(t.geometry),
					l = a(t.material);
					o = s.bones && s.bones.length > 0 ? new Ke(s, l) : new Me(s, l);
					break;
				case "LOD":
					o = new Ze;
					break;
				case "Line":
					o = new tt(r(t.geometry), a(t.material), t.mode);
					break;
				case "LineSegments":
					o = new nt(r(t.geometry), a(t.material));
					break;
				case "PointCloud":
				case "Points":
					o = new rt(r(t.geometry), a(t.material));
					break;
				case "Sprite":
					o = new qe(a(t.material));
					break;
				case "Group":
					o = new at;
					break;
				case "SkinnedMesh":
					console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");
				default:
					o = new oe
				}
				if (o.uuid = t.uuid, void 0 !== t.name && (o.name = t.name), void 0 !== t.matrix ? (e.fromArray(t.matrix), e.decompose(o.position, o.quaternion, o.scale)) : (void 0 !== t.position && o.position.fromArray(t.position), void 0 !== t.rotation && o.rotation.fromArray(t.rotation), void 0 !== t.quaternion && o.quaternion.fromArray(t.quaternion), void 0 !== t.scale && o.scale.fromArray(t.scale)), void 0 !== t.castShadow && (o.castShadow = t.castShadow), void 0 !== t.receiveShadow && (o.receiveShadow = t.receiveShadow), t.shadow && (void 0 !== t.shadow.bias && (o.shadow.bias = t.shadow.bias), void 0 !== t.shadow.radius && (o.shadow.radius = t.shadow.radius), void 0 !== t.shadow.mapSize && o.shadow.mapSize.fromArray(t.shadow.mapSize), void 0 !== t.shadow.camera && (o.shadow.camera = this.parseObject(t.shadow.camera))), void 0 !== t.visible && (o.visible = t.visible), void 0 !== t.userData && (o.userData = t.userData), void 0 !== t.children)
					for (var c in t.children)
						o.add(this.parseObject(t.children[c], n, i));
				if ("LOD" === t.type)
					for (var d = t.levels, u = 0; u < d.length; u++) {
						var h = d[u];
						void 0 !== (c = o.getObjectByProperty("uuid", h.object)) && o.addLevel(c, h.distance)
					}
				return o
			}
		}
		()
	}),
	Un.prototype = {
		constructor: Un,
		getPoint: function (e) {
			return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),
			null
		},
		getPointAt: function (e) {
			var t = this.getUtoTmapping(e);
			return this.getPoint(t)
		},
		getPoints: function (e) {
			e || (e = 5);
			for (var t = [], n = 0; n <= e; n++)
				t.push(this.getPoint(n / e));
			return t
		},
		getSpacedPoints: function (e) {
			e || (e = 5);
			for (var t = [], n = 0; n <= e; n++)
				t.push(this.getPointAt(n / e));
			return t
		},
		getLength: function () {
			var e = this.getLengths();
			return e[e.length - 1]
		},
		getLengths: function (e) {
			if (e || (e = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length === e + 1 && !this.needsUpdate)
				return this.cacheArcLengths;
			this.needsUpdate = !1;
			var t,
			n,
			i = [],
			r = this.getPoint(0),
			a = 0;
			for (i.push(0), n = 1; n <= e; n++)
				a += (t = this.getPoint(n / e)).distanceTo(r), i.push(a), r = t;
			return this.cacheArcLengths = i,
			i
		},
		updateArcLengths: function () {
			this.needsUpdate = !0,
			this.getLengths()
		},
		getUtoTmapping: function (e, t) {
			var n,
			i = this.getLengths(),
			r = 0,
			a = i.length;
			n = t || e * i[a - 1];
			for (var o, s = 0, l = a - 1; s <= l; )
				if (r = Math.floor(s + (l - s) / 2), (o = i[r] - n) < 0)
					s = r + 1;
				else {
					if (!(o > 0)) {
						l = r;
						break
					}
					l = r - 1
				}
			if (r = l, i[r] === n) {
				return d = r / (a - 1)
			}
			var c = i[r],
			d = (r + (n - c) / (i[r + 1] - c)) / (a - 1);
			return d
		},
		getTangent: function (e) {
			var t = e - 1e-4,
			n = e + 1e-4;
			t < 0 && (t = 0),
			n > 1 && (n = 1);
			var i = this.getPoint(t);
			return this.getPoint(n).clone().sub(i).normalize()
		},
		getTangentAt: function (e) {
			var t = this.getUtoTmapping(e);
			return this.getTangent(t)
		},
		computeFrenetFrames: function (e, t) {
			var n,
			i,
			r,
			a = new l,
			o = [],
			s = [],
			d = [],
			u = new l,
			h = new c;
			for (n = 0; n <= e; n++)
				i = n / e, o[n] = this.getTangentAt(i), o[n].normalize();
			s[0] = new l,
			d[0] = new l;
			var p = Number.MAX_VALUE,
			f = Math.abs(o[0].x),
			m = Math.abs(o[0].y),
			g = Math.abs(o[0].z);
			for (f <= p && (p = f, a.set(1, 0, 0)), m <= p && (p = m, a.set(0, 1, 0)), g <= p && a.set(0, 0, 1), u.crossVectors(o[0], a).normalize(), s[0].crossVectors(o[0], u), d[0].crossVectors(o[0], s[0]), n = 1; n <= e; n++)
				s[n] = s[n - 1].clone(), d[n] = d[n - 1].clone(), u.crossVectors(o[n - 1], o[n]), u.length() > Number.EPSILON && (u.normalize(), r = Math.acos(Ja.clamp(o[n - 1].dot(o[n]), -1, 1)), s[n].applyMatrix4(h.makeRotationAxis(u, r))), d[n].crossVectors(o[n], s[n]);
			if (!0 === t)
				for (r = Math.acos(Ja.clamp(s[0].dot(s[e]), -1, 1)), r /= e, o[0].dot(u.crossVectors(s[0], s[e])) > 0 && (r = -r), n = 1; n <= e; n++)
					s[n].applyMatrix4(h.makeRotationAxis(o[n], r * n)), d[n].crossVectors(o[n], s[n]);
			return {
				tangents: o,
				normals: s,
				binormals: d
			}
		}
	},
	Un.create = function (e, t) {
		return e.prototype = Object.create(Un.prototype),
		e.prototype.constructor = e,
		e.prototype.getPoint = t,
		e
	},
	(Bn.prototype = Object.create(Un.prototype)).constructor = Bn,
	Bn.prototype.isLineCurve = !0,
	Bn.prototype.getPoint = function (e) {
		if (1 === e)
			return this.v2.clone();
		var t = this.v2.clone().sub(this.v1);
		return t.multiplyScalar(e).add(this.v1),
		t
	},
	Bn.prototype.getPointAt = function (e) {
		return this.getPoint(e)
	},
	Bn.prototype.getTangent = function (e) {
		return this.v2.clone().sub(this.v1).normalize()
	},
	jn.prototype = Object.assign(Object.create(Un.prototype), {
			constructor: jn,
			add: function (e) {
				this.curves.push(e)
			},
			closePath: function () {
				var e = this.curves[0].getPoint(0),
				t = this.curves[this.curves.length - 1].getPoint(1);
				e.equals(t) || this.curves.push(new Bn(t, e))
			},
			getPoint: function (e) {
				for (var t = e * this.getLength(), n = this.getCurveLengths(), i = 0; i < n.length; ) {
					if (n[i] >= t) {
						var r = n[i] - t,
						a = this.curves[i],
						o = a.getLength(),
						s = 0 === o ? 0 : 1 - r / o;
						return a.getPointAt(s)
					}
					i++
				}
				return null
			},
			getLength: function () {
				var e = this.getCurveLengths();
				return e[e.length - 1]
			},
			updateArcLengths: function () {
				this.needsUpdate = !0,
				this.cacheLengths = null,
				this.getLengths()
			},
			getCurveLengths: function () {
				if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
					return this.cacheLengths;
				for (var e = [], t = 0, n = 0, i = this.curves.length; n < i; n++)
					t += this.curves[n].getLength(), e.push(t);
				return this.cacheLengths = e,
				e
			},
			getSpacedPoints: function (e) {
				e || (e = 40);
				for (var t = [], n = 0; n <= e; n++)
					t.push(this.getPoint(n / e));
				return this.autoClose && t.push(t[0]),
				t
			},
			getPoints: function (e) {
				e = e || 12;
				for (var t, n = [], i = 0, r = this.curves; i < r.length; i++)
					for (var a = r[i], o = a && a.isEllipseCurve ? 2 * e : a && a.isLineCurve ? 1 : a && a.isSplineCurve ? e * a.points.length : e, s = a.getPoints(o), l = 0; l < s.length; l++) {
						var c = s[l];
						t && t.equals(c) || (n.push(c), t = c)
					}
				return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]),
				n
			},
			createPointsGeometry: function (e) {
				var t = this.getPoints(e);
				return this.createGeometry(t)
			},
			createSpacedPointsGeometry: function (e) {
				var t = this.getSpacedPoints(e);
				return this.createGeometry(t)
			},
			createGeometry: function (e) {
				for (var t = new _e, n = 0, i = e.length; n < i; n++) {
					var r = e[n];
					t.vertices.push(new l(r.x, r.y, r.z || 0))
				}
				return t
			}
		}),
	(Vn.prototype = Object.create(Un.prototype)).constructor = Vn,
	Vn.prototype.isEllipseCurve = !0,
	Vn.prototype.getPoint = function (e) {
		for (var t = 2 * Math.PI, i = this.aEndAngle - this.aStartAngle, r = Math.abs(i) < Number.EPSILON; i < 0; )
			i += t;
		for (; i > t; )
			i -= t;
		i < Number.EPSILON && (i = r ? 0 : t),
		!0 !== this.aClockwise || r || (i === t ? i = -t : i -= t);
		var a = this.aStartAngle + e * i,
		o = this.aX + this.xRadius * Math.cos(a),
		s = this.aY + this.yRadius * Math.sin(a);
		if (0 !== this.aRotation) {
			var l = Math.cos(this.aRotation),
			c = Math.sin(this.aRotation),
			d = o - this.aX,
			u = s - this.aY;
			o = d * l - u * c + this.aX,
			s = d * c + u * l + this.aY
		}
		return new n(o, s)
	};
	var _o = {
		tangentQuadraticBezier: function (e, t, n, i) {
			return 2 * (1 - e) * (n - t) + 2 * e * (i - n)
		},
		tangentCubicBezier: function (e, t, n, i, r) {
			return -3 * t * (1 - e) * (1 - e) + 3 * n * (1 - e) * (1 - e) - 6 * e * n * (1 - e) + 6 * e * i * (1 - e) - 3 * e * e * i + 3 * e * e * r
		},
		tangentSpline: function (e, t, n, i, r) {
			return 6 * e * e - 6 * e + (3 * e * e - 4 * e + 1) + (-6 * e * e + 6 * e) + (3 * e * e - 2 * e)
		},
		interpolate: function (e, t, n, i, r) {
			var a = .5 * (n - e),
			o = .5 * (i - t),
			s = r * r;
			return (2 * t - 2 * n + a + o) * (r * s) + (-3 * t + 3 * n - 2 * a - o) * s + a * r + t
		}
	};
	(Wn.prototype = Object.create(Un.prototype)).constructor = Wn,
	Wn.prototype.isSplineCurve = !0,
	Wn.prototype.getPoint = function (e) {
		var t = this.points,
		i = (t.length - 1) * e,
		r = Math.floor(i),
		a = i - r,
		o = t[0 === r ? r : r - 1],
		s = t[r],
		l = t[r > t.length - 2 ? t.length - 1 : r + 1],
		c = t[r > t.length - 3 ? t.length - 1 : r + 2],
		d = _o.interpolate;
		return new n(d(o.x, s.x, l.x, c.x, a), d(o.y, s.y, l.y, c.y, a))
	},
	(Gn.prototype = Object.create(Un.prototype)).constructor = Gn,
	Gn.prototype.getPoint = function (e) {
		var t = fo.b3;
		return new n(t(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x), t(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y))
	},
	Gn.prototype.getTangent = function (e) {
		var t = _o.tangentCubicBezier;
		return new n(t(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x), t(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y)).normalize()
	},
	($n.prototype = Object.create(Un.prototype)).constructor = $n,
	$n.prototype.getPoint = function (e) {
		var t = fo.b2;
		return new n(t(e, this.v0.x, this.v1.x, this.v2.x), t(e, this.v0.y, this.v1.y, this.v2.y))
	},
	$n.prototype.getTangent = function (e) {
		var t = _o.tangentQuadraticBezier;
		return new n(t(e, this.v0.x, this.v1.x, this.v2.x), t(e, this.v0.y, this.v1.y, this.v2.y)).normalize()
	};
	var To = Object.assign(Object.create(jn.prototype), {
			fromPoints: function (e) {
				this.moveTo(e[0].x, e[0].y);
				for (var t = 1, n = e.length; t < n; t++)
					this.lineTo(e[t].x, e[t].y)
			},
			moveTo: function (e, t) {
				this.currentPoint.set(e, t)
			},
			lineTo: function (e, t) {
				var i = new Bn(this.currentPoint.clone(), new n(e, t));
				this.curves.push(i),
				this.currentPoint.set(e, t)
			},
			quadraticCurveTo: function (e, t, i, r) {
				var a = new $n(this.currentPoint.clone(), new n(e, t), new n(i, r));
				this.curves.push(a),
				this.currentPoint.set(i, r)
			},
			bezierCurveTo: function (e, t, i, r, a, o) {
				var s = new Gn(this.currentPoint.clone(), new n(e, t), new n(i, r), new n(a, o));
				this.curves.push(s),
				this.currentPoint.set(a, o)
			},
			splineThru: function (e) {
				var t = new Wn([this.currentPoint.clone()].concat(e));
				this.curves.push(t),
				this.currentPoint.copy(e[e.length - 1])
			},
			arc: function (e, t, n, i, r, a) {
				var o = this.currentPoint.x,
				s = this.currentPoint.y;
				this.absarc(e + o, t + s, n, i, r, a)
			},
			absarc: function (e, t, n, i, r, a) {
				this.absellipse(e, t, n, n, i, r, a)
			},
			ellipse: function (e, t, n, i, r, a, o, s) {
				var l = this.currentPoint.x,
				c = this.currentPoint.y;
				this.absellipse(e + l, t + c, n, i, r, a, o, s)
			},
			absellipse: function (e, t, n, i, r, a, o, s) {
				var l = new Vn(e, t, n, i, r, a, o, s);
				if (this.curves.length > 0) {
					var c = l.getPoint(0);
					c.equals(this.currentPoint) || this.lineTo(c.x, c.y)
				}
				this.curves.push(l);
				var d = l.getPoint(1);
				this.currentPoint.copy(d)
			}
		});
	Xn.prototype = Object.assign(Object.create(To), {
			constructor: Xn,
			getPointsHoles: function (e) {
				for (var t = [], n = 0, i = this.holes.length; n < i; n++)
					t[n] = this.holes[n].getPoints(e);
				return t
			},
			extractAllPoints: function (e) {
				return {
					shape: this.getPoints(e),
					holes: this.getPointsHoles(e)
				}
			},
			extractPoints: function (e) {
				return this.extractAllPoints(e)
			}
		}),
	Yn.prototype = To,
	To.constructor = Yn,
	qn.prototype = {
		moveTo: function (e, t) {
			this.currentPath = new Yn,
			this.subPaths.push(this.currentPath),
			this.currentPath.moveTo(e, t)
		},
		lineTo: function (e, t) {
			this.currentPath.lineTo(e, t)
		},
		quadraticCurveTo: function (e, t, n, i) {
			this.currentPath.quadraticCurveTo(e, t, n, i)
		},
		bezierCurveTo: function (e, t, n, i, r, a) {
			this.currentPath.bezierCurveTo(e, t, n, i, r, a)
		},
		splineThru: function (e) {
			this.currentPath.splineThru(e)
		},
		toShapes: function (e, t) {
			function n(e) {
				for (var t = [], n = 0, i = e.length; n < i; n++) {
					var r = e[n],
					a = new Xn;
					a.curves = r.curves,
					t.push(a)
				}
				return t
			}
			function i(e, t) {
				for (var n = t.length, i = !1, r = n - 1, a = 0; a < n; r = a++) {
					var o = t[r],
					s = t[a],
					l = s.x - o.x,
					c = s.y - o.y;
					if (Math.abs(c) > Number.EPSILON) {
						if (c < 0 && (o = t[a], l = -l, s = t[r], c = -c), e.y < o.y || e.y > s.y)
							continue;
						if (e.y === o.y) {
							if (e.x === o.x)
								return !0
						} else {
							var d = c * (e.x - o.x) - l * (e.y - o.y);
							if (0 === d)
								return !0;
							if (d < 0)
								continue;
							i = !i
						}
					} else {
						if (e.y !== o.y)
							continue;
						if (s.x <= e.x && e.x <= o.x || o.x <= e.x && e.x <= s.x)
							return !0
					}
				}
				return i
			}
			var r = fo.isClockWise,
			a = this.subPaths;
			if (0 === a.length)
				return [];
			if (!0 === t)
				return n(a);
			var o,
			s,
			l,
			c = [];
			if (1 === a.length)
				return s = a[0], l = new Xn, l.curves = s.curves, c.push(l), c;
			var d = !r(a[0].getPoints());
			d = e ? !d : d;
			var u,
			h = [],
			p = [],
			f = [],
			m = 0;
			p[m] = void 0,
			f[m] = [];
			for (var g = 0, v = a.length; g < v; g++)
				o = r(u = (s = a[g]).getPoints()), (o = e ? !o : o) ? (!d && p[m] && m++, p[m] = {
						s: new Xn,
						p: u
					}, p[m].s.curves = s.curves, d && m++, f[m] = []) : f[m].push({
					h: s,
					p: u[0]
				});
			if (!p[0])
				return n(a);
			if (p.length > 1) {
				for (var b = !1, y = [], x = 0, w = p.length; x < w; x++)
					h[x] = [];
				for (var x = 0, w = p.length; x < w; x++)
					for (var _ = f[x], T = 0; T < _.length; T++) {
						for (var E = _[T], M = !0, C = 0; C < p.length; C++)
							i(E.p, p[C].p) && (x !== C && y.push({
									froms: x,
									tos: C,
									hole: T
								}), M ? (M = !1, h[C].push(E)) : b = !0);
						M && h[x].push(E)
					}
				y.length > 0 && (b || (f = h))
			}
			for (var S, g = 0, A = p.length; g < A; g++) {
				l = p[g].s,
				c.push(l);
				for (var R = 0, P = (S = f[g]).length; R < P; R++)
					l.holes.push(S[R].h)
			}
			return c
		}
	},
	Object.assign(Zn.prototype, {
		isFont: !0,
		generateShapes: function (e, t, n) {
			function i(e) {
				for (var i = String(e).split(""), a = t / r.resolution, o = 0, s = [], l = 0; l < i.length; l++) {
					var c = function (e, t, i) {
						var a = r.glyphs[e] || r.glyphs["?"];
						if (!a)
							return;
						var o,
						s,
						l,
						c,
						d,
						u,
						h,
						p,
						f,
						m,
						g,
						v = new qn,
						b = [],
						y = fo.b2,
						x = fo.b3;
						if (a.o)
							for (var w = a._cachedOutline || (a._cachedOutline = a.o.split(" ")), _ = 0, T = w.length; _ < T; ) {
								switch (w[_++]) {
								case "m":
									o = w[_++] * t + i,
									s = w[_++] * t,
									v.moveTo(o, s);
									break;
								case "l":
									o = w[_++] * t + i,
									s = w[_++] * t,
									v.lineTo(o, s);
									break;
								case "q":
									if (l = w[_++] * t + i, c = w[_++] * t, h = w[_++] * t + i, p = w[_++] * t, v.quadraticCurveTo(h, p, l, c), g = b[b.length - 1]) {
										d = g.x,
										u = g.y;
										for (E = 1; E <= n; E++) {
											y(M = E / n, d, h, l),
											y(M, u, p, c)
										}
									}
									break;
								case "b":
									if (l = w[_++] * t + i, c = w[_++] * t, h = w[_++] * t + i, p = w[_++] * t, f = w[_++] * t + i, m = w[_++] * t, v.bezierCurveTo(h, p, f, m, l, c), g = b[b.length - 1]) {
										d = g.x,
										u = g.y;
										for (var E = 1; E <= n; E++) {
											var M = E / n;
											x(M, d, h, f, l),
											x(M, u, p, m, c)
										}
									}
								}
							}
						return {
							offset: a.ha * t,
							path: v
						}
					}
					(i[l], a, o);
					o += c.offset,
					s.push(c.path)
				}
				return s
			}
			void 0 === t && (t = 100),
			void 0 === n && (n = 4);
			for (var r = this.data, a = i(e), o = [], s = 0, l = a.length; s < l; s++)
				Array.prototype.push.apply(o, a[s].toShapes());
			return o
		}
	}),
	Object.assign(Jn.prototype, {
		load: function (e, t, n, i) {
			var r = this;
			new on(this.manager).load(e, function (e) {
				var n;
				try {
					n = JSON.parse(e)
				} catch (t) {
					console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
					n = JSON.parse(e.substring(65, e.length - 2))
				}
				var i = r.parse(n);
				t && t(i)
			}, n, i)
		},
		parse: function (e) {
			return new Zn(e)
		}
	});
	var Eo,
	Mo = {
		getContext: function () {
			return void 0 === Eo && (Eo = new(window.AudioContext || window.webkitAudioContext)),
			Eo
		},
		setContext: function (e) {
			Eo = e
		}
	};
	Object.assign(Qn.prototype, {
		load: function (e, t, n, i) {
			var r = new on(this.manager);
			r.setResponseType("arraybuffer"),
			r.load(e, function (e) {
				Mo.getContext().decodeAudioData(e, function (e) {
					t(e)
				})
			}, n, i)
		}
	}),
	Kn.prototype = Object.assign(Object.create(hn.prototype), {
			constructor: Kn,
			isRectAreaLight: !0,
			copy: function (e) {
				return hn.prototype.copy.call(this, e),
				this.width = e.width,
				this.height = e.height,
				this
			}
		}),
	Object.assign(ei.prototype, {
		update: function () {
			var e,
			t,
			n,
			i,
			r,
			a,
			o,
			s = new c,
			l = new c;
			return function (c) {
				if (e !== this || t !== c.focus || n !== c.fov || i !== c.aspect * this.aspect || r !== c.near || a !== c.far || o !== c.zoom) {
					e = this,
					t = c.focus,
					n = c.fov,
					i = c.aspect * this.aspect,
					r = c.near,
					a = c.far,
					o = c.zoom;
					var d,
					u,
					h = c.projectionMatrix.clone(),
					p = this.eyeSep / 2,
					f = p * r / t,
					m = r * Math.tan(Ja.DEG2RAD * n * .5) / o;
					l.elements[12] = -p,
					s.elements[12] = p,
					d = -m * i + f,
					u = m * i + f,
					h.elements[0] = 2 * r / (u - d),
					h.elements[8] = (u + d) / (u - d),
					this.cameraL.projectionMatrix.copy(h),
					d = -m * i - f,
					u = m * i - f,
					h.elements[0] = 2 * r / (u - d),
					h.elements[8] = (u + d) / (u - d),
					this.cameraR.projectionMatrix.copy(h)
				}
				this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(l),
				this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(s)
			}
		}
		()
	}),
	(ti.prototype = Object.create(oe.prototype)).constructor = ti,
	ni.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: ni,
			getInput: function () {
				return this.gain
			},
			removeFilter: function () {
				null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null)
			},
			getFilter: function () {
				return this.filter
			},
			setFilter: function (e) {
				null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination),
				this.filter = e,
				this.gain.connect(this.filter),
				this.filter.connect(this.context.destination)
			},
			getMasterVolume: function () {
				return this.gain.gain.value
			},
			setMasterVolume: function (e) {
				this.gain.gain.value = e
			},
			updateMatrixWorld: function () {
				var e = new l,
				t = new s,
				n = new l,
				i = new l;
				return function (r) {
					oe.prototype.updateMatrixWorld.call(this, r);
					var a = this.context.listener,
					o = this.up;
					this.matrixWorld.decompose(e, t, n),
					i.set(0, 0, -1).applyQuaternion(t),
					a.positionX ? (a.positionX.setValueAtTime(e.x, this.context.currentTime), a.positionY.setValueAtTime(e.y, this.context.currentTime), a.positionZ.setValueAtTime(e.z, this.context.currentTime), a.forwardX.setValueAtTime(i.x, this.context.currentTime), a.forwardY.setValueAtTime(i.y, this.context.currentTime), a.forwardZ.setValueAtTime(i.z, this.context.currentTime), a.upX.setValueAtTime(o.x, this.context.currentTime), a.upY.setValueAtTime(o.y, this.context.currentTime), a.upZ.setValueAtTime(o.z, this.context.currentTime)) : (a.setPosition(e.x, e.y, e.z), a.setOrientation(i.x, i.y, i.z, o.x, o.y, o.z))
				}
			}
			()
		}),
	ii.prototype = Object.assign(Object.create(oe.prototype), {
			constructor: ii,
			getOutput: function () {
				return this.gain
			},
			setNodeSource: function (e) {
				return this.hasPlaybackControl = !1,
				this.sourceType = "audioNode",
				this.source = e,
				this.connect(),
				this
			},
			setBuffer: function (e) {
				return this.buffer = e,
				this.sourceType = "buffer",
				this.autoplay && this.play(),
				this
			},
			play: function () {
				if (!0 !== this.isPlaying) {
					if (!1 !== this.hasPlaybackControl) {
						var e = this.context.createBufferSource();
						return e.buffer = this.buffer,
						e.loop = this.loop,
						e.onended = this.onEnded.bind(this),
						e.playbackRate.setValueAtTime(this.playbackRate, this.startTime),
						e.start(0, this.startTime),
						this.isPlaying = !0,
						this.source = e,
						this.connect()
					}
					console.warn("THREE.Audio: this Audio has no playback control.")
				} else
					console.warn("THREE.Audio: Audio is already playing.")
			},
			pause: function () {
				if (!1 !== this.hasPlaybackControl)
					return this.source.stop(), this.startTime = this.context.currentTime, this.isPlaying = !1, this;
				console.warn("THREE.Audio: this Audio has no playback control.")
			},
			stop: function () {
				if (!1 !== this.hasPlaybackControl)
					return this.source.stop(), this.startTime = 0, this.isPlaying = !1, this;
				console.warn("THREE.Audio: this Audio has no playback control.")
			},
			connect: function () {
				if (this.filters.length > 0) {
					this.source.connect(this.filters[0]);
					for (var e = 1, t = this.filters.length; e < t; e++)
						this.filters[e - 1].connect(this.filters[e]);
					this.filters[this.filters.length - 1].connect(this.getOutput())
				} else
					this.source.connect(this.getOutput());
				return this
			},
			disconnect: function () {
				if (this.filters.length > 0) {
					this.source.disconnect(this.filters[0]);
					for (var e = 1, t = this.filters.length; e < t; e++)
						this.filters[e - 1].disconnect(this.filters[e]);
					this.filters[this.filters.length - 1].disconnect(this.getOutput())
				} else
					this.source.disconnect(this.getOutput());
				return this
			},
			getFilters: function () {
				return this.filters
			},
			setFilters: function (e) {
				return e || (e = []),
				!0 === this.isPlaying ? (this.disconnect(), this.filters = e, this.connect()) : this.filters = e,
				this
			},
			getFilter: function () {
				return this.getFilters()[0]
			},
			setFilter: function (e) {
				return this.setFilters(e ? [e] : [])
			},
			setPlaybackRate: function (e) {
				if (!1 !== this.hasPlaybackControl)
					return this.playbackRate = e, !0 === this.isPlaying && this.source.playbackRate.setValueAtTime(this.playbackRate, this.context.currentTime), this;
				console.warn("THREE.Audio: this Audio has no playback control.")
			},
			getPlaybackRate: function () {
				return this.playbackRate
			},
			onEnded: function () {
				this.isPlaying = !1
			},
			getLoop: function () {
				return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.loop
			},
			setLoop: function (e) {
				if (!1 !== this.hasPlaybackControl)
					return this.loop = e, !0 === this.isPlaying && (this.source.loop = this.loop), this;
				console.warn("THREE.Audio: this Audio has no playback control.")
			},
			getVolume: function () {
				return this.gain.gain.value
			},
			setVolume: function (e) {
				return this.gain.gain.value = e,
				this
			}
		}),
	ri.prototype = Object.assign(Object.create(ii.prototype), {
			constructor: ri,
			getOutput: function () {
				return this.panner
			},
			getRefDistance: function () {
				return this.panner.refDistance
			},
			setRefDistance: function (e) {
				this.panner.refDistance = e
			},
			getRolloffFactor: function () {
				return this.panner.rolloffFactor
			},
			setRolloffFactor: function (e) {
				this.panner.rolloffFactor = e
			},
			getDistanceModel: function () {
				return this.panner.distanceModel
			},
			setDistanceModel: function (e) {
				this.panner.distanceModel = e
			},
			getMaxDistance: function () {
				return this.panner.maxDistance
			},
			setMaxDistance: function (e) {
				this.panner.maxDistance = e
			},
			updateMatrixWorld: function () {
				var e = new l;
				return function (t) {
					oe.prototype.updateMatrixWorld.call(this, t),
					e.setFromMatrixPosition(this.matrixWorld),
					this.panner.setPosition(e.x, e.y, e.z)
				}
			}
			()
		}),
	Object.assign(ai.prototype, {
		getFrequencyData: function () {
			return this.analyser.getByteFrequencyData(this.data),
			this.data
		},
		getAverageFrequency: function () {
			for (var e = 0, t = this.getFrequencyData(), n = 0; n < t.length; n++)
				e += t[n];
			return e / t.length
		}
	}),
	oi.prototype = {
		constructor: oi,
		accumulate: function (e, t) {
			var n = this.buffer,
			i = this.valueSize,
			r = e * i + i,
			a = this.cumulativeWeight;
			if (0 === a) {
				for (var o = 0; o !== i; ++o)
					n[r + o] = n[o];
				a = t
			} else {
				var s = t / (a += t);
				this._mixBufferRegion(n, r, 0, s, i)
			}
			this.cumulativeWeight = a
		},
		apply: function (e) {
			var t = this.valueSize,
			n = this.buffer,
			i = e * t + t,
			r = this.cumulativeWeight,
			a = this.binding;
			if (this.cumulativeWeight = 0, r < 1) {
				var o = 3 * t;
				this._mixBufferRegion(n, i, o, 1 - r, t)
			}
			for (var s = t, l = t + t; s !== l; ++s)
				if (n[s] !== n[s + t]) {
					a.setValue(n, i);
					break
				}
		},
		saveOriginalState: function () {
			var e = this.binding,
			t = this.buffer,
			n = this.valueSize,
			i = 3 * n;
			e.getValue(t, i);
			for (var r = n, a = i; r !== a; ++r)
				t[r] = t[i + r % n];
			this.cumulativeWeight = 0
		},
		restoreOriginalState: function () {
			var e = 3 * this.valueSize;
			this.binding.setValue(this.buffer, e)
		},
		_select: function (e, t, n, i, r) {
			if (i >= .5)
				for (var a = 0; a !== r; ++a)
					e[t + a] = e[n + a]
		},
		_slerp: function (e, t, n, i, r) {
			s.slerpFlat(e, t, e, t, e, n, i)
		},
		_lerp: function (e, t, n, i, r) {
			for (var a = 1 - i, o = 0; o !== r; ++o) {
				var s = t + o;
				e[s] = e[s] * a + e[n + o] * i
			}
		}
	},
	si.prototype = {
		constructor: si,
		getValue: function (e, t) {
			this.bind(),
			this.getValue(e, t)
		},
		setValue: function (e, t) {
			this.bind(),
			this.setValue(e, t)
		},
		bind: function () {
			var e = this.node,
			t = this.parsedPath,
			n = t.objectName,
			i = t.propertyName,
			r = t.propertyIndex;
			if (e || (e = si.findNode(this.rootNode, t.nodeName) || this.rootNode, this.node = e), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, e) {
				if (n) {
					var a = t.objectIndex;
					switch (n) {
					case "materials":
						if (!e.material)
							return void console.error("  can not bind to material as node does not have a material", this);
						if (!e.material.materials)
							return void console.error("  can not bind to material.materials as node.material does not have a materials array", this);
						e = e.material.materials;
						break;
					case "bones":
						if (!e.skeleton)
							return void console.error("  can not bind to bones as node does not have a skeleton", this);
						e = e.skeleton.bones;
						for (c = 0; c < e.length; c++)
							if (e[c].name === a) {
								a = c;
								break
							}
						break;
					default:
						if (void 0 === e[n])
							return void console.error("  can not bind to objectName of node, undefined", this);
						e = e[n]
					}
					if (void 0 !== a) {
						if (void 0 === e[a])
							return void console.error("  trying to bind to objectIndex of objectName, but is undefined:", this, e);
						e = e[a]
					}
				}
				var o = e[i];
				if (void 0 !== o) {
					var s = this.Versioning.None;
					void 0 !== e.needsUpdate ? (s = this.Versioning.NeedsUpdate, this.targetObject = e) : void 0 !== e.matrixWorldNeedsUpdate && (s = this.Versioning.MatrixWorldNeedsUpdate, this.targetObject = e);
					var l = this.BindingType.Direct;
					if (void 0 !== r) {
						if ("morphTargetInfluences" === i) {
							if (!e.geometry)
								return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry", this);
							if (!e.geometry.morphTargets)
								return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets", this);
							for (var c = 0; c < this.node.geometry.morphTargets.length; c++)
								if (e.geometry.morphTargets[c].name === r) {
									r = c;
									break
								}
						}
						l = this.BindingType.ArrayElement,
						this.resolvedProperty = o,
						this.propertyIndex = r
					} else
						void 0 !== o.fromArray && void 0 !== o.toArray ? (l = this.BindingType.HasFromToArray, this.resolvedProperty = o) : void 0 !== o.length ? (l = this.BindingType.EntireArray, this.resolvedProperty = o) : this.propertyName = i;
					this.getValue = this.GetterByBindingType[l],
					this.setValue = this.SetterByBindingTypeAndVersioning[l][s]
				} else {
					var d = t.nodeName;
					console.error("  trying to update property for track: " + d + "." + i + " but it wasn't found.", e)
				}
			} else
				console.error("  trying to update node for track: " + this.path + " but it wasn't found.")
		},
		unbind: function () {
			this.node = null,
			this.getValue = this._getValue_unbound,
			this.setValue = this._setValue_unbound
		}
	},
	Object.assign(si.prototype, {
		_getValue_unavailable: function () {},
		_setValue_unavailable: function () {},
		_getValue_unbound: si.prototype.getValue,
		_setValue_unbound: si.prototype.setValue,
		BindingType: {
			Direct: 0,
			EntireArray: 1,
			ArrayElement: 2,
			HasFromToArray: 3
		},
		Versioning: {
			None: 0,
			NeedsUpdate: 1,
			MatrixWorldNeedsUpdate: 2
		},
		GetterByBindingType: [function (e, t) {
				e[t] = this.node[this.propertyName]
			}, function (e, t) {
				for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
					e[t++] = n[i]
			}, function (e, t) {
				e[t] = this.resolvedProperty[this.propertyIndex]
			}, function (e, t) {
				this.resolvedProperty.toArray(e, t)
			}
		],
		SetterByBindingTypeAndVersioning: [[function (e, t) {
					this.node[this.propertyName] = e[t]
				}, function (e, t) {
					this.node[this.propertyName] = e[t],
					this.targetObject.needsUpdate = !0
				}, function (e, t) {
					this.node[this.propertyName] = e[t],
					this.targetObject.matrixWorldNeedsUpdate = !0
				}
			], [function (e, t) {
					for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
						n[i] = e[t++]
				}, function (e, t) {
					for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
						n[i] = e[t++];
					this.targetObject.needsUpdate = !0
				}, function (e, t) {
					for (var n = this.resolvedProperty, i = 0, r = n.length; i !== r; ++i)
						n[i] = e[t++];
					this.targetObject.matrixWorldNeedsUpdate = !0
				}
			], [function (e, t) {
					this.resolvedProperty[this.propertyIndex] = e[t]
				}, function (e, t) {
					this.resolvedProperty[this.propertyIndex] = e[t],
					this.targetObject.needsUpdate = !0
				}, function (e, t) {
					this.resolvedProperty[this.propertyIndex] = e[t],
					this.targetObject.matrixWorldNeedsUpdate = !0
				}
			], [function (e, t) {
					this.resolvedProperty.fromArray(e, t)
				}, function (e, t) {
					this.resolvedProperty.fromArray(e, t),
					this.targetObject.needsUpdate = !0
				}, function (e, t) {
					this.resolvedProperty.fromArray(e, t),
					this.targetObject.matrixWorldNeedsUpdate = !0
				}
			]]
	}),
	(si.Composite = function (e, t, n) {
		var i = n || si.parseTrackName(t);
		this._targetGroup = e,
		this._bindings = e.subscribe_(t, i)
	}).prototype = {
		constructor: si.Composite,
		getValue: function (e, t) {
			this.bind();
			var n = this._targetGroup.nCachedObjects_,
			i = this._bindings[n];
			void 0 !== i && i.getValue(e, t)
		},
		setValue: function (e, t) {
			for (var n = this._bindings, i = this._targetGroup.nCachedObjects_, r = n.length; i !== r; ++i)
				n[i].setValue(e, t)
		},
		bind: function () {
			for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t)
				e[t].bind()
		},
		unbind: function () {
			for (var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length; t !== n; ++t)
				e[t].unbind()
		}
	},
	si.create = function (e, t, n) {
		return e && e.isAnimationObjectGroup ? new si.Composite(e, t, n) : new si(e, t, n)
	},
	si.parseTrackName = function (e) {
		var t = /^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(e);
		if (!t)
			throw new Error("cannot parse trackName at all: " + e);
		var n = {
			nodeName: t[2],
			objectName: t[3],
			objectIndex: t[4],
			propertyName: t[5],
			propertyIndex: t[6]
		};
		if (null === n.propertyName || 0 === n.propertyName.length)
			throw new Error("can not parse propertyName from trackName: " + e);
		return n
	},
	si.findNode = function (e, t) {
		if (!t || "" === t || "root" === t || "." === t || -1 === t || t === e.name || t === e.uuid)
			return e;
		if (e.skeleton) {
			var n = function (e) {
				for (var n = 0; n < e.bones.length; n++) {
					var i = e.bones[n];
					if (i.name === t)
						return i
				}
				return null
			}
			(e.skeleton);
			if (n)
				return n
		}
		if (e.children) {
			var i = function (e) {
				for (var n = 0; n < e.length; n++) {
					var r = e[n];
					if (r.name === t || r.uuid === t)
						return r;
					var a = i(r.children);
					if (a)
						return a
				}
				return null
			},
			r = i(e.children);
			if (r)
				return r
		}
		return null
	},
	li.prototype = {
		constructor: li,
		isAnimationObjectGroup: !0,
		add: function (e) {
			for (var t = this._objects, n = t.length, i = this.nCachedObjects_, r = this._indicesByUUID, a = this._paths, o = this._parsedPaths, s = this._bindings, l = s.length, c = 0, d = arguments.length; c !== d; ++c) {
				var u = arguments[c],
				h = u.uuid,
				p = r[h],
				f = void 0;
				if (void 0 === p) {
					p = n++,
					r[h] = p,
					t.push(u);
					for (var m = 0, g = l; m !== g; ++m)
						s[m].push(new si(u, a[m], o[m]))
				} else if (p < i) {
					f = t[p];
					var v = --i,
					b = t[v];
					r[b.uuid] = p,
					t[p] = b,
					r[h] = v,
					t[v] = u;
					for (var m = 0, g = l; m !== g; ++m) {
						var y = s[m],
						x = y[v],
						w = y[p];
						y[p] = x,
						void 0 === w && (w = new si(u, a[m], o[m])),
						y[v] = w
					}
				} else
					t[p] !== f && console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")
			}
			this.nCachedObjects_ = i
		},
		remove: function (e) {
			for (var t = this._objects, n = this.nCachedObjects_, i = this._indicesByUUID, r = this._bindings, a = r.length, o = 0, s = arguments.length; o !== s; ++o) {
				var l = arguments[o],
				c = l.uuid,
				d = i[c];
				if (void 0 !== d && d >= n) {
					var u = n++,
					h = t[u];
					i[h.uuid] = d,
					t[d] = h,
					i[c] = u,
					t[u] = l;
					for (var p = 0, f = a; p !== f; ++p) {
						var m = r[p],
						g = m[u],
						v = m[d];
						m[d] = g,
						m[u] = v
					}
				}
			}
			this.nCachedObjects_ = n
		},
		uncache: function (e) {
			for (var t = this._objects, n = t.length, i = this.nCachedObjects_, r = this._indicesByUUID, a = this._bindings, o = a.length, s = 0, l = arguments.length; s !== l; ++s) {
				var c = arguments[s].uuid,
				d = r[c];
				if (void 0 !== d)
					if (delete r[c], d < i) {
						var u = --i,
						h = t[u],
						p = t[b = --n];
						r[h.uuid] = d,
						t[d] = h,
						r[p.uuid] = u,
						t[u] = p,
						t.pop();
						for (var f = 0, m = o; f !== m; ++f) {
							var g = (y = a[f])[u],
							v = y[b];
							y[d] = g,
							y[u] = v,
							y.pop()
						}
					} else {
						var b = --n;
						r[(p = t[b]).uuid] = d,
						t[d] = p,
						t.pop();
						for (var f = 0, m = o; f !== m; ++f) {
							var y = a[f];
							y[d] = y[b],
							y.pop()
						}
					}
			}
			this.nCachedObjects_ = i
		},
		subscribe_: function (e, t) {
			var n = this._bindingsIndicesByPath,
			i = n[e],
			r = this._bindings;
			if (void 0 !== i)
				return r[i];
			var a = this._paths,
			o = this._parsedPaths,
			s = this._objects,
			l = s.length,
			c = this.nCachedObjects_,
			d = new Array(l);
			i = r.length,
			n[e] = i,
			a.push(e),
			o.push(t),
			r.push(d);
			for (var u = c, h = s.length; u !== h; ++u) {
				var p = s[u];
				d[u] = new si(p, e, t)
			}
			return d
		},
		unsubscribe_: function (e) {
			var t = this._bindingsIndicesByPath,
			n = t[e];
			if (void 0 !== n) {
				var i = this._paths,
				r = this._parsedPaths,
				a = this._bindings,
				o = a.length - 1,
				s = a[o];
				t[e[o]] = n,
				a[n] = s,
				a.pop(),
				r[n] = r[o],
				r.pop(),
				i[n] = i[o],
				i.pop()
			}
		}
	},
	ci.prototype = {
		constructor: ci,

		play: function () {
			return this._mixer._activateAction(this),
			this
		},
		stop: function () {
			return this._mixer._deactivateAction(this),
			this.reset()
		},
		reset: function () {
			return this.paused = !1,
			this.enabled = !0,
			this.time = 0,
			this._loopCount = -1,
			this._startTime = null,
			this.stopFading().stopWarping()
		},
		isRunning: function () {
			return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
		},
		isScheduled: function () {
			return this._mixer._isActiveAction(this)
		},
		startAt: function (e) {
			return this._startTime = e,
			this
		},
		setLoop: function (e, t) {
			return this.loop = e,
			this.repetitions = t,
			this
		},
		setEffectiveWeight: function (e) {
			return this.weight = e,
			this._effectiveWeight = this.enabled ? e : 0,
			this.stopFading()
		},
		getEffectiveWeight: function () {
			return this._effectiveWeight
		},
		fadeIn: function (e) {
			return this._scheduleFading(e, 0, 1)
		},
		fadeOut: function (e) {
			return this._scheduleFading(e, 1, 0)
		},
		crossFadeFrom: function (e, t, n) {
			if (e.fadeOut(t), this.fadeIn(t), n) {
				var i = this._clip.duration,
				r = e._clip.duration,
				a = r / i,
				o = i / r;
				e.warp(1, a, t),
				this.warp(o, 1, t)
			}
			return this
		},
		crossFadeTo: function (e, t, n) {
			return e.crossFadeFrom(this, t, n)
		},
		stopFading: function () {
			var e = this._weightInterpolant;
			return null !== e && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(e)),
			this
		},
		setEffectiveTimeScale: function (e) {
			return this.timeScale = e,
			this._effectiveTimeScale = this.paused ? 0 : e,
			this.stopWarping()
		},
		getEffectiveTimeScale: function () {
			return this._effectiveTimeScale
		},
		setDuration: function (e) {
			return this.timeScale = this._clip.duration / e,
			this.stopWarping()
		},
		syncWith: function (e) {
			return this.time = e.time,
			this.timeScale = e.timeScale,
			this.stopWarping()
		},
		halt: function (e) {
			return this.warp(this._effectiveTimeScale, 0, e)
		},
		warp: function (e, t, n) {
			var i = this._mixer,
			r = i.time,
			a = this._timeScaleInterpolant,
			o = this.timeScale;
			null === a && (a = i._lendControlInterpolant(), this._timeScaleInterpolant = a);
			var s = a.parameterPositions,
			l = a.sampleValues;
			return s[0] = r,
			s[1] = r + n,
			l[0] = e / o,
			l[1] = t / o,
			this
		},
		stopWarping: function () {
			var e = this._timeScaleInterpolant;
			return null !== e && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(e)),
			this
		},
		getMixer: function () {
			return this._mixer
		},
		getClip: function () {
			return this._clip
		},
		getRoot: function () {
			return this._localRoot || this._mixer._root
		},
		_update: function (e, t, n, i) {
			var r = this._startTime;
			if (null !== r) {
				var a = (e - r) * n;
				if (a < 0 || 0 === n)
					return;
				this._startTime = null,
				t = n * a
			}
			t *= this._updateTimeScale(e);
			var o = this._updateTime(t),
			s = this._updateWeight(e);
			if (s > 0)
				for (var l = this._interpolants, c = this._propertyBindings, d = 0, u = l.length; d !== u; ++d)
					l[d].evaluate(o), c[d].accumulate(i, s)
		},
		_updateWeight: function (e) {
			var t = 0;
			if (this.enabled) {
				t = this.weight;
				var n = this._weightInterpolant;
				if (null !== n) {
					var i = n.evaluate(e)[0];
					t *= i,
					e > n.parameterPositions[1] && (this.stopFading(), 0 === i && (this.enabled = !1))
				}
			}
			return this._effectiveWeight = t,
			t
		},
		_updateTimeScale: function (e) {
			var t = 0;
			if (!this.paused) {
				t = this.timeScale;
				var n = this._timeScaleInterpolant;
				if (null !== n) {
					t *= n.evaluate(e)[0],
					e > n.parameterPositions[1] && (this.stopWarping(), 0 === t ? this.paused = !0 : this.timeScale = t)
				}
			}
			return this._effectiveTimeScale = t,
			t
		},
		_updateTime: function (e) {
			var t = this.time + e;
			if (0 === e)
				return t;
			var n = this._clip.duration,
			i = this.loop,
			r = this._loopCount;
			if (2200 === i) {
				-1 === r && (this._loopCount = 0, this._setEndings(!0, !0, !1));
				e: {
					if (t >= n)
						t = n;
					else {
						if (!(t < 0))
							break e;
						t = 0
					}
					this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
					this._mixer.dispatchEvent({
						type: "finished",
						action: this,
						direction: e < 0 ? -1 : 1
					})
				}
			} else {
				var a = 2202 === i;
				if (-1 === r && (e >= 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, a)) : this._setEndings(0 === this.repetitions, !0, a)), t >= n || t < 0) {
					var o = Math.floor(t / n);
					t -= n * o,
					r += Math.abs(o);
					var s = this.repetitions - r;
					if (s < 0)
						this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, t = e > 0 ? n : 0, this._mixer.dispatchEvent({
							type: "finished",
							action: this,
							direction: e > 0 ? 1 : -1
						});
					else {
						if (0 === s) {
							var l = e < 0;
							this._setEndings(l, !l, a)
						} else
							this._setEndings(!1, !1, a);
						this._loopCount = r,
						this._mixer.dispatchEvent({
							type: "loop",
							action: this,
							loopDelta: o
						})
					}
				}
				if (a && 1 == (1 & r))
					return this.time = t, n - t
			}
			return this.time = t,
			t
		},
		_setEndings: function (e, t, n) {
			var i = this._interpolantSettings;
			n ? (i.endingStart = 2401, i.endingEnd = 2401) : (i.endingStart = e ? this.zeroSlopeAtStart ? 2401 : za : 2402, i.endingEnd = t ? this.zeroSlopeAtEnd ? 2401 : za : 2402)
		},
		_scheduleFading: function (e, t, n) {
			var i = this._mixer,
			r = i.time,
			a = this._weightInterpolant;
			null === a && (a = i._lendControlInterpolant(), this._weightInterpolant = a);
			var o = a.parameterPositions,
			s = a.sampleValues;
			return o[0] = r,
			s[0] = t,
			o[1] = r + e,
			s[1] = n,
			this
		}
	},
	Object.assign(di.prototype, t.prototype, {
		clipAction: function (e, t) {
			var n = t || this._root,
			i = n.uuid,
			r = "string" == typeof e ? Dn.findByName(n, e) : e,
			a = null !== r ? r.uuid : e,
			o = this._actionsByClip[a],
			s = null;
			if (void 0 !== o) {
				var l = o.actionByRoot[i];
				if (void 0 !== l)
					return l;
				s = o.knownActions[0],
				null === r && (r = s._clip)
			}
			if (null === r)
				return null;
			var c = new ci(this, r, t);
			return this._bindAction(c, s),
			this._addInactiveAction(c, a, i),
			c
		},
		existingAction: function (e, t) {
			var n = t || this._root,
			i = n.uuid,
			r = "string" == typeof e ? Dn.findByName(n, e) : e,
			a = r ? r.uuid : e,
			o = this._actionsByClip[a];
			return void 0 !== o ? o.actionByRoot[i] || null : null
		},
		stopAllAction: function () {
			var e = this._actions,
			t = this._nActiveActions,
			n = this._bindings,
			i = this._nActiveBindings;
			this._nActiveActions = 0,
			this._nActiveBindings = 0;
			for (r = 0; r !== t; ++r)
				e[r].reset();
			for (var r = 0; r !== i; ++r)
				n[r].useCount = 0;
			return this
		},
		update: function (e) {
			e *= this.timeScale;
			for (var t = this._actions, n = this._nActiveActions, i = this.time += e, r = Math.sign(e), a = this._accuIndex ^= 1, o = 0; o !== n; ++o) {
				var s = t[o];
				s.enabled && s._update(i, e, r, a)
			}
			for (var l = this._bindings, c = this._nActiveBindings, o = 0; o !== c; ++o)
				l[o].apply(a);
			return this
		},
		getRoot: function () {
			return this._root
		},
		uncacheClip: function (e) {
			var t = this._actions,
			n = e.uuid,
			i = this._actionsByClip,
			r = i[n];
			if (void 0 !== r) {
				for (var a = r.knownActions, o = 0, s = a.length; o !== s; ++o) {
					var l = a[o];
					this._deactivateAction(l);
					var c = l._cacheIndex,
					d = t[t.length - 1];
					l._cacheIndex = null,
					l._byClipCacheIndex = null,
					d._cacheIndex = c,
					t[c] = d,
					t.pop(),
					this._removeInactiveBindingsForAction(l)
				}
				delete i[n]
			}
		},
		uncacheRoot: function (e) {
			var t = e.uuid,
			n = this._actionsByClip;
			for (var i in n) {
				var r = n[i].actionByRoot[t];
				void 0 !== r && (this._deactivateAction(r), this._removeInactiveAction(r))
			}
			var a = this._bindingsByRootAndName[t];
			if (void 0 !== a)
				for (var o in a) {
					var s = a[o];
					s.restoreOriginalState(),
					this._removeInactiveBinding(s)
				}
		},
		uncacheAction: function (e, t) {
			var n = this.existingAction(e, t);
			null !== n && (this._deactivateAction(n), this._removeInactiveAction(n))
		}
	}),
	Object.assign(di.prototype, {
		_bindAction: function (e, t) {
			var n = e._localRoot || this._root,
			i = e._clip.tracks,
			r = i.length,
			a = e._propertyBindings,
			o = e._interpolants,
			s = n.uuid,
			l = this._bindingsByRootAndName,
			c = l[s];
			void 0 === c && (c = {}, l[s] = c);
			for (var d = 0; d !== r; ++d) {
				var u = i[d],
				h = u.name,
				p = c[h];
				if (void 0 !== p)
					a[d] = p;
				else {
					if (void 0 !== (p = a[d])) {
						null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, s, h));
						continue
					}
					var f = t && t._propertyBindings[d].binding.parsedPath;
					++(p = new oi(si.create(n, h, f), u.ValueTypeName, u.getValueSize())).referenceCount,
					this._addInactiveBinding(p, s, h),
					a[d] = p
				}
				o[d].resultBuffer = p.buffer
			}
		},
		_activateAction: function (e) {
			if (!this._isActiveAction(e)) {
				if (null === e._cacheIndex) {
					var t = (e._localRoot || this._root).uuid,
					n = e._clip.uuid,
					i = this._actionsByClip[n];
					this._bindAction(e, i && i.knownActions[0]),
					this._addInactiveAction(e, n, t)
				}
				for (var r = e._propertyBindings, a = 0, o = r.length; a !== o; ++a) {
					var s = r[a];
					0 == s.useCount++ && (this._lendBinding(s), s.saveOriginalState())
				}
				this._lendAction(e)
			}
		},
		_deactivateAction: function (e) {
			if (this._isActiveAction(e)) {
				for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
					var r = t[n];
					0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
				}
				this._takeBackAction(e)
			}
		},
		_initMemoryManager: function () {
			this._actions = [],
			this._nActiveActions = 0,
			this._actionsByClip = {},
			this._bindings = [],
			this._nActiveBindings = 0,
			this._bindingsByRootAndName = {},
			this._controlInterpolants = [],
			this._nActiveControlInterpolants = 0;
			var e = this;
			this.stats = {
				actions: {
					get total() {
						return e._actions.length
					},
					get inUse() {
						return e._nActiveActions
					}
				},
				bindings: {
					get total() {
						return e._bindings.length
					},
					get inUse() {
						return e._nActiveBindings
					}
				},
				controlInterpolants: {
					get total() {
						return e._controlInterpolants.length
					},
					get inUse() {
						return e._nActiveControlInterpolants
					}
				}
			}
		},
		_isActiveAction: function (e) {
			var t = e._cacheIndex;
			return null !== t && t < this._nActiveActions
		},
		_addInactiveAction: function (e, t, n) {
			var i = this._actions,
			r = this._actionsByClip,
			a = r[t];
			if (void 0 === a)
				a = {
					knownActions: [e],
					actionByRoot: {}
				},
			e._byClipCacheIndex = 0,
			r[t] = a;
			else {
				var o = a.knownActions;
				e._byClipCacheIndex = o.length,
				o.push(e)
			}
			e._cacheIndex = i.length,
			i.push(e),
			a.actionByRoot[n] = e
		},
		_removeInactiveAction: function (e) {
			var t = this._actions,
			n = t[t.length - 1],
			i = e._cacheIndex;
			n._cacheIndex = i,
			t[i] = n,
			t.pop(),
			e._cacheIndex = null;
			var r = e._clip.uuid,
			a = this._actionsByClip,
			o = a[r],
			s = o.knownActions,
			l = s[s.length - 1],
			c = e._byClipCacheIndex;
			l._byClipCacheIndex = c,
			s[c] = l,
			s.pop(),
			e._byClipCacheIndex = null;
			delete o.actionByRoot[(t._localRoot || this._root).uuid],
			0 === s.length && delete a[r],
			this._removeInactiveBindingsForAction(e)
		},
		_removeInactiveBindingsForAction: function (e) {
			for (var t = e._propertyBindings, n = 0, i = t.length; n !== i; ++n) {
				var r = t[n];
				0 == --r.referenceCount && this._removeInactiveBinding(r)
			}
		},
		_lendAction: function (e) {
			var t = this._actions,
			n = e._cacheIndex,
			i = this._nActiveActions++,
			r = t[i];
			e._cacheIndex = i,
			t[i] = e,
			r._cacheIndex = n,
			t[n] = r
		},
		_takeBackAction: function (e) {
			var t = this._actions,
			n = e._cacheIndex,
			i = --this._nActiveActions,
			r = t[i];
			e._cacheIndex = i,
			t[i] = e,
			r._cacheIndex = n,
			t[n] = r
		},
		_addInactiveBinding: function (e, t, n) {
			var i = this._bindingsByRootAndName,
			r = i[t],
			a = this._bindings;
			void 0 === r && (r = {}, i[t] = r),
			r[n] = e,
			e._cacheIndex = a.length,
			a.push(e)
		},
		_removeInactiveBinding: function (e) {
			var t = this._bindings,
			n = e.binding,
			i = n.rootNode.uuid,
			r = n.path,
			a = this._bindingsByRootAndName,
			o = a[i],
			s = t[t.length - 1],
			l = e._cacheIndex;
			s._cacheIndex = l,
			t[l] = s,
			t.pop(),
			delete o[r];
			e: {
				for (var c in o)
					break e;
				delete a[i]
			}
		},
		_lendBinding: function (e) {
			var t = this._bindings,
			n = e._cacheIndex,
			i = this._nActiveBindings++,
			r = t[i];
			e._cacheIndex = i,
			t[i] = e,
			r._cacheIndex = n,
			t[n] = r
		},
		_takeBackBinding: function (e) {
			var t = this._bindings,
			n = e._cacheIndex,
			i = --this._nActiveBindings,
			r = t[i];
			e._cacheIndex = i,
			t[i] = e,
			r._cacheIndex = n,
			t[n] = r
		},
		_lendControlInterpolant: function () {
			var e = this._controlInterpolants,
			t = this._nActiveControlInterpolants++,
			n = e[t];
			return void 0 === n && ((n = new Tn(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer)).__cacheIndex = t, e[t] = n),
			n
		},
		_takeBackControlInterpolant: function (e) {
			var t = this._controlInterpolants,
			n = e.__cacheIndex,
			i = --this._nActiveControlInterpolants,
			r = t[i];
			e.__cacheIndex = i,
			t[i] = e,
			r.__cacheIndex = n,
			t[n] = r
		},
		_controlInterpolantsResultBuffer: new Float32Array(1)
	}),
	ui.prototype.clone = function () {
		return new ui(void 0 === this.value.clone ? this.value : this.value.clone())
	},
	(hi.prototype = Object.create(Ee.prototype)).constructor = hi,
	hi.prototype.isInstancedBufferGeometry = !0,
	hi.prototype.addGroup = function (e, t, n) {
		this.groups.push({
			start: e,
			count: t,
			materialIndex: n
		})
	},
	hi.prototype.copy = function (e) {
		var t = e.index;
		null !== t && this.setIndex(t.clone());
		var n = e.attributes;
		for (var i in n) {
			var r = n[i];
			this.addAttribute(i, r.clone())
		}
		for (var a = e.groups, o = 0, s = a.length; o < s; o++) {
			var l = a[o];
			this.addGroup(l.start, l.count, l.materialIndex)
		}
		return this
	},
	pi.prototype = {
		constructor: pi,
		isInterleavedBufferAttribute: !0,
		get count() {
			return this.data.count
		},
		get array() {
			return this.data.array
		},
		setX: function (e, t) {
			return this.data.array[e * this.data.stride + this.offset] = t,
			this
		},
		setY: function (e, t) {
			return this.data.array[e * this.data.stride + this.offset + 1] = t,
			this
		},
		setZ: function (e, t) {
			return this.data.array[e * this.data.stride + this.offset + 2] = t,
			this
		},
		setW: function (e, t) {
			return this.data.array[e * this.data.stride + this.offset + 3] = t,
			this
		},
		getX: function (e) {
			return this.data.array[e * this.data.stride + this.offset]
		},
		getY: function (e) {
			return this.data.array[e * this.data.stride + this.offset + 1]
		},
		getZ: function (e) {
			return this.data.array[e * this.data.stride + this.offset + 2]
		},
		getW: function (e) {
			return this.data.array[e * this.data.stride + this.offset + 3]
		},
		setXY: function (e, t, n) {
			return e = e * this.data.stride + this.offset,
			this.data.array[e + 0] = t,
			this.data.array[e + 1] = n,
			this
		},
		setXYZ: function (e, t, n, i) {
			return e = e * this.data.stride + this.offset,
			this.data.array[e + 0] = t,
			this.data.array[e + 1] = n,
			this.data.array[e + 2] = i,
			this
		},
		setXYZW: function (e, t, n, i, r) {
			return e = e * this.data.stride + this.offset,
			this.data.array[e + 0] = t,
			this.data.array[e + 1] = n,
			this.data.array[e + 2] = i,
			this.data.array[e + 3] = r,
			this
		}
	},
	fi.prototype = {
		constructor: fi,
		isInterleavedBuffer: !0,
		set needsUpdate(e) {
			!0 === e && this.version++
		},
		setArray: function (e) {
			if (Array.isArray(e))
				throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
			this.count = void 0 !== e ? e.length / this.stride : 0,
			this.array = e
		},
		setDynamic: function (e) {
			return this.dynamic = e,
			this
		},
		copy: function (e) {
			return this.array = new e.array.constructor(e.array),
			this.count = e.count,
			this.stride = e.stride,
			this.dynamic = e.dynamic,
			this
		},
		copyAt: function (e, t, n) {
			e *= this.stride,
			n *= t.stride;
			for (var i = 0, r = this.stride; i < r; i++)
				this.array[e + i] = t.array[n + i];
			return this
		},
		set: function (e, t) {
			return void 0 === t && (t = 0),
			this.array.set(e, t),
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		onUpload: function (e) {
			return this.onUploadCallback = e,
			this
		}
	},
	(mi.prototype = Object.create(fi.prototype)).constructor = mi,
	mi.prototype.isInstancedInterleavedBuffer = !0,
	mi.prototype.copy = function (e) {
		return fi.prototype.copy.call(this, e),
		this.meshPerAttribute = e.meshPerAttribute,
		this
	},
	(gi.prototype = Object.create(ue.prototype)).constructor = gi,
	gi.prototype.isInstancedBufferAttribute = !0,
	gi.prototype.copy = function (e) {
		return ue.prototype.copy.call(this, e),
		this.meshPerAttribute = e.meshPerAttribute,
		this
	},
	vi.prototype = {
		constructor: vi,
		linePrecision: 1,
		set: function (e, t) {
			this.ray.set(e, t)
		},
		setFromCamera: function (e, t) {
			t && t.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(t.matrixWorld), this.ray.direction.set(e.x, e.y, .5).unproject(t).sub(this.ray.origin).normalize()) : t && t.isOrthographicCamera ? (this.ray.origin.set(e.x, e.y, (t.near + t.far) / (t.near - t.far)).unproject(t), this.ray.direction.set(0, 0, -1).transformDirection(t.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
		},
		intersectObject: function (e, t) {
			var n = [];
			return yi(e, this, n, t),
			n.sort(bi),
			n
		},
		intersectObjects: function (e, t) {
			var n = [];
			if (!1 === Array.isArray(e))
				return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."), n;
			for (var i = 0, r = e.length; i < r; i++)
				yi(e[i], this, n, t);
			return n.sort(bi),
			n
		}
	},
	xi.prototype = {
		constructor: xi,
		start: function () {
			this.startTime = (performance || Date).now(),
			this.oldTime = this.startTime,
			this.elapsedTime = 0,
			this.running = !0
		},
		stop: function () {
			this.getElapsedTime(),
			this.running = !1
		},
		getElapsedTime: function () {
			return this.getDelta(),
			this.elapsedTime
		},
		getDelta: function () {
			var e = 0;
			if (this.autoStart && !this.running && this.start(), this.running) {
				var t = (performance || Date).now();
				e = (t - this.oldTime) / 1e3,
				this.oldTime = t,
				this.elapsedTime += e
			}
			return e
		}
	},
	wi.prototype = {
		constructor: wi,
		set: function (e, t, n) {
			return this.radius = e,
			this.phi = t,
			this.theta = n,
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.radius = e.radius,
			this.phi = e.phi,
			this.theta = e.theta,
			this
		},
		makeSafe: function () {
			return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)),
			this
		},
		setFromVector3: function (e) {
			return this.radius = e.length(),
			0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(e.x, e.z), this.phi = Math.acos(Ja.clamp(e.y / this.radius, -1, 1))),
			this
		}
	},
	_i.prototype = {
		constructor: _i,
		set: function (e, t, n) {
			return this.radius = e,
			this.theta = t,
			this.y = n,
			this
		},
		clone: function () {
			return (new this.constructor).copy(this)
		},
		copy: function (e) {
			return this.radius = e.radius,
			this.theta = e.theta,
			this.y = e.y,
			this
		},
		setFromVector3: function (e) {
			return this.radius = Math.sqrt(e.x * e.x + e.z * e.z),
			this.theta = Math.atan2(e.x, e.z),
			this.y = e.y,
			this
		}
	},
	(Ti.prototype = Object.create(Me.prototype)).constructor = Ti,
	Ti.prototype.createAnimation = function (e, t, n, i) {
		var r = {
			start: t,
			end: n,
			length: n - t + 1,
			fps: i,
			duration: (n - t) / i,
			lastFrame: 0,
			currentFrame: 0,
			active: !1,
			time: 0,
			direction: 1,
			weight: 1,
			directionBackwards: !1,
			mirroredLoop: !1
		};
		this.animationsMap[e] = r,
		this.animationsList.push(r)
	},
	Ti.prototype.autoCreateAnimations = function (e) {
		for (var t, n = /([a-z]+)_?(\d+)/i, i = {}, r = this.geometry, a = 0, o = r.morphTargets.length; a < o; a++) {
			var s = r.morphTargets[a].name.match(n);
			if (s && s.length > 1) {
				i[l = s[1]] || (i[l] = {
						start: 1 / 0,
						end: -1 / 0
					});
				a < (c = i[l]).start && (c.start = a),
				a > c.end && (c.end = a),
				t || (t = l)
			}
		}
		for (var l in i) {
			var c = i[l];
			this.createAnimation(l, c.start, c.end, e)
		}
		this.firstAnimation = t
	},
	Ti.prototype.setAnimationDirectionForward = function (e) {
		var t = this.animationsMap[e];
		t && (t.direction = 1, t.directionBackwards = !1)
	},
	Ti.prototype.setAnimationDirectionBackward = function (e) {
		var t = this.animationsMap[e];
		t && (t.direction = -1, t.directionBackwards = !0)
	},
	Ti.prototype.setAnimationFPS = function (e, t) {
		var n = this.animationsMap[e];
		n && (n.fps = t, n.duration = (n.end - n.start) / n.fps)
	},
	Ti.prototype.setAnimationDuration = function (e, t) {
		var n = this.animationsMap[e];
		n && (n.duration = t, n.fps = (n.end - n.start) / n.duration)
	},
	Ti.prototype.setAnimationWeight = function (e, t) {
		var n = this.animationsMap[e];
		n && (n.weight = t)
	},
	Ti.prototype.setAnimationTime = function (e, t) {
		var n = this.animationsMap[e];
		n && (n.time = t)
	},
	Ti.prototype.getAnimationTime = function (e) {
		var t = 0,
		n = this.animationsMap[e];
		return n && (t = n.time),
		t
	},
	Ti.prototype.getAnimationDuration = function (e) {
		var t = -1,
		n = this.animationsMap[e];
		return n && (t = n.duration),
		t
	},
	Ti.prototype.playAnimation = function (e) {
		var t = this.animationsMap[e];
		t ? (t.time = 0, t.active = !0) : console.warn("THREE.MorphBlendMesh: animation[" + e + "] undefined in .playAnimation()")
	},
	Ti.prototype.stopAnimation = function (e) {
		var t = this.animationsMap[e];
		t && (t.active = !1)
	},
	Ti.prototype.update = function (e) {
		for (var t = 0, n = this.animationsList.length; t < n; t++) {
			var i = this.animationsList[t];
			if (i.active) {
				var r = i.duration / i.length;
				i.time += i.direction * e,
				i.mirroredLoop ? (i.time > i.duration || i.time < 0) && (i.direction *= -1, i.time > i.duration && (i.time = i.duration, i.directionBackwards = !0), i.time < 0 && (i.time = 0, i.directionBackwards = !1)) : (i.time = i.time % i.duration, i.time < 0 && (i.time += i.duration));
				var a = i.start + Ja.clamp(Math.floor(i.time / r), 0, i.length - 1),
				o = i.weight;
				a !== i.currentFrame && (this.morphTargetInfluences[i.lastFrame] = 0, this.morphTargetInfluences[i.currentFrame] = 1 * o, this.morphTargetInfluences[a] = 0, i.lastFrame = i.currentFrame, i.currentFrame = a);
				var s = i.time % r / r;
				i.directionBackwards && (s = 1 - s),
				i.currentFrame !== i.lastFrame ? (this.morphTargetInfluences[i.currentFrame] = s * o, this.morphTargetInfluences[i.lastFrame] = (1 - s) * o) : this.morphTargetInfluences[i.currentFrame] = o
			}
		}
	},
	(Ei.prototype = Object.create(oe.prototype)).constructor = Ei,
	Ei.prototype.isImmediateRenderObject = !0,
	(Mi.prototype = Object.create(nt.prototype)).constructor = Mi,
	Mi.prototype.update = function () {
		var e = new l,
		t = new l,
		n = new K;
		return function () {
			var i = ["a", "b", "c"];
			this.object.updateMatrixWorld(!0),
			n.getNormalMatrix(this.object.matrixWorld);
			var r = this.object.matrixWorld,
			a = this.geometry.attributes.position,
			o = this.object.geometry;
			if (o && o.isGeometry)
				for (var s = o.vertices, l = o.faces, c = 0, d = 0, u = l.length; d < u; d++)
					for (var h = l[d], p = 0, f = h.vertexNormals.length; p < f; p++) {
						var m = s[h[i[p]]],
						g = h.vertexNormals[p];
						e.copy(m).applyMatrix4(r),
						t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),
						a.setXYZ(c, e.x, e.y, e.z),
						c += 1,
						a.setXYZ(c, t.x, t.y, t.z),
						c += 1
					}
			else if (o && o.isBufferGeometry)
				for (var v = o.attributes.position, b = o.attributes.normal, c = 0, p = 0, f = v.count; p < f; p++)
					e.set(v.getX(p), v.getY(p), v.getZ(p)).applyMatrix4(r), t.set(b.getX(p), b.getY(p), b.getZ(p)), t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e), a.setXYZ(c, e.x, e.y, e.z), c += 1, a.setXYZ(c, t.x, t.y, t.z), c += 1;
			return a.needsUpdate = !0,
			this
		}
	}
	(),
	(Ci.prototype = Object.create(oe.prototype)).constructor = Ci,
	Ci.prototype.dispose = function () {
		this.cone.geometry.dispose(),
		this.cone.material.dispose()
	},
	Ci.prototype.update = function () {
		var e = new l,
		t = new l;
		return function () {
			var n = this.light.distance ? this.light.distance : 1e3,
			i = n * Math.tan(this.light.angle);
			this.cone.scale.set(i, i, n),
			e.setFromMatrixPosition(this.light.matrixWorld),
			t.setFromMatrixPosition(this.light.target.matrixWorld),
			this.cone.lookAt(t.sub(e)),
			this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
		}
	}
	(),
	(Si.prototype = Object.create(nt.prototype)).constructor = Si,
	Si.prototype.getBoneList = function (e) {
		var t = [];
		e && e.isBone && t.push(e);
		for (var n = 0; n < e.children.length; n++)
			t.push.apply(t, this.getBoneList(e.children[n]));
		return t
	},
	Si.prototype.update = function () {
		var e = new l,
		t = new c,
		n = new c;
		return function () {
			var i = this.geometry,
			r = i.getAttribute("position");
			n.getInverse(this.root.matrixWorld);
			for (var a = 0, o = 0; a < this.bones.length; a++) {
				var s = this.bones[a];
				s.parent && s.parent.isBone && (t.multiplyMatrices(n, s.matrixWorld), e.setFromMatrixPosition(t), r.setXYZ(o, e.x, e.y, e.z), t.multiplyMatrices(n, s.parent.matrixWorld), e.setFromMatrixPosition(t), r.setXYZ(o + 1, e.x, e.y, e.z), o += 2)
			}
			i.getAttribute("position").needsUpdate = !0
		}
	}
	(),
	(Ai.prototype = Object.create(Me.prototype)).constructor = Ai,
	Ai.prototype.dispose = function () {
		this.geometry.dispose(),
		this.material.dispose()
	},
	Ai.prototype.update = function () {
		this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
	},
	(Ri.prototype = Object.create(oe.prototype)).constructor = Ri,
	Ri.prototype.dispose = function () {
		this.children[0].geometry.dispose(),
		this.children[0].material.dispose(),
		this.children[1].geometry.dispose(),
		this.children[1].material.dispose()
	},
	Ri.prototype.update = function () {
		var e = new l,
		t = new l;
		return function () {
			var n = this.children[0],
			i = this.children[1];
			if (this.light.target) {
				e.setFromMatrixPosition(this.light.matrixWorld),
				t.setFromMatrixPosition(this.light.target.matrixWorld);
				var r = t.clone().sub(e);
				n.lookAt(r),
				i.lookAt(r)
			}
			n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),
			i.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);
			var a = .5 * this.light.width,
			o = .5 * this.light.height,
			s = n.geometry.getAttribute("position"),
			l = s.array;
			l[0] = a,
			l[1] = -o,
			l[2] = 0,
			l[3] = a,
			l[4] = o,
			l[5] = 0,
			l[6] = -a,
			l[7] = o,
			l[8] = 0,
			l[9] = -a,
			l[10] = o,
			l[11] = 0,
			l[12] = -a,
			l[13] = -o,
			l[14] = 0,
			l[15] = a,
			l[16] = -o,
			l[17] = 0,
			s.needsUpdate = !0
		}
	}
	(),
	(Pi.prototype = Object.create(oe.prototype)).constructor = Pi,
	Pi.prototype.dispose = function () {
		this.children[0].geometry.dispose(),
		this.children[0].material.dispose()
	},
	Pi.prototype.update = function () {
		var e = new l,
		t = new V,
		n = new V;
		return function () {
			var i = this.children[0],
			r = i.geometry.getAttribute("color");
			t.copy(this.light.color).multiplyScalar(this.light.intensity),
			n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);
			for (var a = 0, o = r.count; a < o; a++) {
				var s = a < o / 2 ? t : n;
				r.setXYZ(a, s.r, s.g, s.b)
			}
			i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),
			r.needsUpdate = !0
		}
	}
	(),
	(Li.prototype = Object.create(nt.prototype)).constructor = Li,
	(ki.prototype = Object.create(nt.prototype)).constructor = ki,
	(Oi.prototype = Object.create(nt.prototype)).constructor = Oi,
	Oi.prototype.update = function () {
		var e = new l,
		t = new l,
		n = new K;
		return function () {
			this.object.updateMatrixWorld(!0),
			n.getNormalMatrix(this.object.matrixWorld);
			for (var i = this.object.matrixWorld, r = this.geometry.attributes.position, a = this.object.geometry, o = a.vertices, s = a.faces, l = 0, c = 0, d = s.length; c < d; c++) {
				var u = s[c],
				h = u.normal;
				e.copy(o[u.a]).add(o[u.b]).add(o[u.c]).divideScalar(3).applyMatrix4(i),
				t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),
				r.setXYZ(l, e.x, e.y, e.z),
				l += 1,
				r.setXYZ(l, t.x, t.y, t.z),
				l += 1
			}
			return r.needsUpdate = !0,
			this
		}
	}
	(),
	(Di.prototype = Object.create(oe.prototype)).constructor = Di,
	Di.prototype.dispose = function () {
		var e = this.children[0],
		t = this.children[1];
		e.geometry.dispose(),
		e.material.dispose(),
		t.geometry.dispose(),
		t.material.dispose()
	},
	Di.prototype.update = function () {
		var e = new l,
		t = new l,
		n = new l;
		return function () {
			e.setFromMatrixPosition(this.light.matrixWorld),
			t.setFromMatrixPosition(this.light.target.matrixWorld),
			n.subVectors(t, e);
			var i = this.children[0],
			r = this.children[1];
			i.lookAt(n),
			i.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),
			r.lookAt(n),
			r.scale.z = n.length()
		}
	}
	(),
	(Ii.prototype = Object.create(nt.prototype)).constructor = Ii,
	Ii.prototype.update = function () {
		function e(e, a, o, s) {
			i.set(a, o, s).unproject(r);
			var l = n[e];
			if (void 0 !== l)
				for (var c = t.getAttribute("position"), d = 0, u = l.length; d < u; d++)
					c.setXYZ(l[d], i.x, i.y, i.z)
		}
		var t,
		n,
		i = new l,
		r = new Ae;
		return function () {
			t = this.geometry,
			n = this.pointMap;
			r.projectionMatrix.copy(this.camera.projectionMatrix),
			e("c", 0, 0, -1),
			e("t", 0, 0, 1),
			e("n1", -1, -1, -1),
			e("n2", 1, -1, -1),
			e("n3", -1, 1, -1),
			e("n4", 1, 1, -1),
			e("f1", -1, -1, 1),
			e("f2", 1, -1, 1),
			e("f3", -1, 1, 1),
			e("f4", 1, 1, 1),
			e("u1", .7, 1.1, -1),
			e("u2",  - .7, 1.1, -1),
			e("u3", 0, 2, -1),
			e("cf1", -1, 0, 1),
			e("cf2", 1, 0, 1),
			e("cf3", 0, -1, 1),
			e("cf4", 0, 1, 1),
			e("cn1", -1, 0, -1),
			e("cn2", 1, 0, -1),
			e("cn3", 0, -1, -1),
			e("cn4", 0, 1, -1),
			t.getAttribute("position").needsUpdate = !0
		}
	}
	(),
	(Fi.prototype = Object.create(nt.prototype)).constructor = Fi,
	Fi.prototype.update = function () {
		var e = new J;
		return function (t) {
			if (t && t.isBox3 ? e.copy(t) : e.setFromObject(t), !e.isEmpty()) {
				var n = e.min,
				i = e.max,
				r = this.geometry.attributes.position,
				a = r.array;
				a[0] = i.x,
				a[1] = i.y,
				a[2] = i.z,
				a[3] = n.x,
				a[4] = i.y,
				a[5] = i.z,
				a[6] = n.x,
				a[7] = n.y,
				a[8] = i.z,
				a[9] = i.x,
				a[10] = n.y,
				a[11] = i.z,
				a[12] = i.x,
				a[13] = i.y,
				a[14] = n.z,
				a[15] = n.x,
				a[16] = i.y,
				a[17] = n.z,
				a[18] = n.x,
				a[19] = n.y,
				a[20] = n.z,
				a[21] = i.x,
				a[22] = n.y,
				a[23] = n.z,
				r.needsUpdate = !0,
				this.geometry.computeBoundingSphere()
			}
		}
	}
	();
	var Co = new Ee;
	Co.addAttribute("position", new ye([0, 0, 0, 0, 1, 0], 3));
	var So = new Bt(0, .5, 1, 5, 1);
	So.translate(0,  - .5, 0),
	(Ni.prototype = Object.create(oe.prototype)).constructor = Ni,
	Ni.prototype.setDirection = function () {
		var e,
		t = new l;
		return function (n) {
			n.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : n.y <  - .99999 ? this.quaternion.set(1, 0, 0, 0) : (t.set(n.z, 0, -n.x).normalize(), e = Math.acos(n.y), this.quaternion.setFromAxisAngle(t, e))
		}
	}
	(),
	Ni.prototype.setLength = function (e, t, n) {
		void 0 === t && (t = .2 * e),
		void 0 === n && (n = .2 * t),
		this.line.scale.set(1, Math.max(0, e - t), 1),
		this.line.updateMatrix(),
		this.cone.scale.set(n, t, n),
		this.cone.position.y = e,
		this.cone.updateMatrix()
	},
	Ni.prototype.setColor = function (e) {
		this.line.material.color.copy(e),
		this.cone.material.color.copy(e)
	},
	(zi.prototype = Object.create(nt.prototype)).constructor = zi;
	var Ao = function () {
		function e() {}
		var t = new l,
		n = new e,
		i = new e,
		r = new e;
		return e.prototype.init = function (e, t, n, i) {
			this.c0 = e,
			this.c1 = n,
			this.c2 = -3 * e + 3 * t - 2 * n - i,
			this.c3 = 2 * e - 2 * t + n + i
		},
		e.prototype.initNonuniformCatmullRom = function (e, t, n, i, r, a, o) {
			var s = (t - e) / r - (n - e) / (r + a) + (n - t) / a,
			l = (n - t) / a - (i - t) / (a + o) + (i - n) / o;
			s *= a,
			l *= a,
			this.init(t, n, s, l)
		},
		e.prototype.initCatmullRom = function (e, t, n, i, r) {
			this.init(t, n, r * (n - e), r * (i - t))
		},
		e.prototype.calc = function (e) {
			var t = e * e,
			n = t * e;
			return this.c0 + this.c1 * e + this.c2 * t + this.c3 * n
		},
		Un.create(function (e) {
			this.points = e || [],
			this.closed = !1
		}, function (e) {
			var a,
			o,
			s,
			c,
			d = this.points;
			(c = d.length) < 2 && console.log("duh, you need at least 2 points"),
			s = (a = (c - (this.closed ? 0 : 1)) * e) - (o = Math.floor(a)),
			this.closed ? o += o > 0 ? 0 : (Math.floor(Math.abs(o) / d.length) + 1) * d.length : 0 === s && o === c - 1 && (o = c - 2, s = 1);
			var u,
			h,
			p,
			f;
			if (this.closed || o > 0 ? u = d[(o - 1) % c] : (t.subVectors(d[0], d[1]).add(d[0]), u = t), h = d[o % c], p = d[(o + 1) % c], this.closed || o + 2 < c ? f = d[(o + 2) % c] : (t.subVectors(d[c - 1], d[c - 2]).add(d[c - 1]), f = t), void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) {
				var m = "chordal" === this.type ? .5 : .25,
				g = Math.pow(u.distanceToSquared(h), m),
				v = Math.pow(h.distanceToSquared(p), m),
				b = Math.pow(p.distanceToSquared(f), m);
				v < 1e-4 && (v = 1),
				g < 1e-4 && (g = v),
				b < 1e-4 && (b = v),
				n.initNonuniformCatmullRom(u.x, h.x, p.x, f.x, g, v, b),
				i.initNonuniformCatmullRom(u.y, h.y, p.y, f.y, g, v, b),
				r.initNonuniformCatmullRom(u.z, h.z, p.z, f.z, g, v, b)
			} else if ("catmullrom" === this.type) {
				var y = void 0 !== this.tension ? this.tension : .5;
				n.initCatmullRom(u.x, h.x, p.x, f.x, y),
				i.initCatmullRom(u.y, h.y, p.y, f.y, y),
				r.initCatmullRom(u.z, h.z, p.z, f.z, y)
			}
			return new l(n.calc(s), i.calc(s), r.calc(s))
		})
	}
	(),
	Ro = Un.create(function (e) {
			console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),
			this.points = void 0 === e ? [] : e
		}, function (e) {
			var t = this.points,
			n = (t.length - 1) * e,
			i = Math.floor(n),
			r = n - i,
			a = t[0 == i ? i : i - 1],
			o = t[i],
			s = t[i > t.length - 2 ? t.length - 1 : i + 1],
			c = t[i > t.length - 3 ? t.length - 1 : i + 2],
			d = _o.interpolate;
			return new l(d(a.x, o.x, s.x, c.x, r), d(a.y, o.y, s.y, c.y, r), d(a.z, o.z, s.z, c.z, r))
		}),
	Po = Un.create(function (e, t, n, i) {
			this.v0 = e,
			this.v1 = t,
			this.v2 = n,
			this.v3 = i
		}, function (e) {
			var t = fo.b3;
			return new l(t(e, this.v0.x, this.v1.x, this.v2.x, this.v3.x), t(e, this.v0.y, this.v1.y, this.v2.y, this.v3.y), t(e, this.v0.z, this.v1.z, this.v2.z, this.v3.z))
		}),
	Lo = Un.create(function (e, t, n) {
			this.v0 = e,
			this.v1 = t,
			this.v2 = n
		}, function (e) {
			var t = fo.b2;
			return new l(t(e, this.v0.x, this.v1.x, this.v2.x), t(e, this.v0.y, this.v1.y, this.v2.y), t(e, this.v0.z, this.v1.z, this.v2.z))
		}),
	ko = Un.create(function (e, t) {
			this.v1 = e,
			this.v2 = t
		}, function (e) {
			if (1 === e)
				return this.v2.clone();
			var t = new l;
			return t.subVectors(this.v2, this.v1),
			t.multiplyScalar(e),
			t.add(this.v1),
			t
		});
	(Hi.prototype = Object.create(Vn.prototype)).constructor = Hi;
	var Oo = {
		createMultiMaterialObject: function (e, t) {
			for (var n = new at, i = 0, r = t.length; i < r; i++)
				n.add(new Me(e, t[i]));
			return n
		},
		detach: function (e, t, n) {
			e.applyMatrix(t.matrixWorld),
			t.remove(e),
			n.add(e)
		},
		attach: function (e, t, n) {
			var i = new c;
			i.getInverse(n.matrixWorld),
			e.applyMatrix(i),
			t.remove(e),
			n.add(e)
		}
	};
	Ui.prototype = Object.create(Ao.prototype),
	Li.prototype.setColors = function () {
		console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
	},
	Object.assign(G.prototype, {
		center: function (e) {
			return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),
			this.getCenter(e)
		},
		empty: function () {
			return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),
			this.isEmpty()
		},
		isIntersectionBox: function (e) {
			return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),
			this.intersectsBox(e)
		},
		size: function (e) {
			return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),
			this.getSize(e)
		}
	}),
	Object.assign(J.prototype, {
		center: function (e) {
			return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),
			this.getCenter(e)
		},
		empty: function () {
			return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),
			this.isEmpty()
		},
		isIntersectionBox: function (e) {
			return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),
			this.intersectsBox(e)
		},
		isIntersectionSphere: function (e) {
			return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
			this.intersectsSphere(e)
		},
		size: function (e) {
			return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),
			this.getSize(e)
		}
	}),
	se.prototype.center = function (e) {
		return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),
		this.getCenter(e)
	},
	Ja.random16 = function () {
		return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),
		Math.random()
	},
	Object.assign(K.prototype, {
		flattenToArrayOffset: function (e, t) {
			return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
			this.toArray(e, t)
		},
		multiplyVector3: function (e) {
			return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),
			e.applyMatrix3(this)
		},
		multiplyVector3Array: function (e) {
			return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),
			this.applyToVector3Array(e)
		},
		applyToBuffer: function (e, t, n) {
			return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),
			this.applyToBufferAttribute(e)
		}
	}),
	Object.assign(c.prototype, {
		extractPosition: function (e) {
			return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),
			this.copyPosition(e)
		},
		flattenToArrayOffset: function (e, t) {
			return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
			this.toArray(e, t)
		},
		getPosition: function () {
			var e;
			return function () {
				return void 0 === e && (e = new l),
				console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),
				e.setFromMatrixColumn(this, 3)
			}
		}
		(),
		setRotationFromQuaternion: function (e) {
			return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),
			this.makeRotationFromQuaternion(e)
		},
		multiplyVector3: function (e) {
			return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),
			e.applyProjection(this)
		},
		multiplyVector4: function (e) {
			return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),
			e.applyMatrix4(this)
		},
		multiplyVector3Array: function (e) {
			return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),
			this.applyToVector3Array(e)
		},
		rotateAxis: function (e) {
			console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),
			e.transformDirection(this)
		},
		crossVector: function (e) {
			return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),
			e.applyMatrix4(this)
		},
		translate: function () {
			console.error("THREE.Matrix4: .translate() has been removed.")
		},
		rotateX: function () {
			console.error("THREE.Matrix4: .rotateX() has been removed.")
		},
		rotateY: function () {
			console.error("THREE.Matrix4: .rotateY() has been removed.")
		},
		rotateZ: function () {
			console.error("THREE.Matrix4: .rotateZ() has been removed.")
		},
		rotateByAxis: function () {
			console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
		},
		applyToBuffer: function (e, t, n) {
			return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),
			this.applyToBufferAttribute(e)
		}
	}),
	ee.prototype.isIntersectionLine = function (e) {
		return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),
		this.intersectsLine(e)
	},
	s.prototype.multiplyVector3 = function (e) {
		return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),
		e.applyQuaternion(this)
	},
	Object.assign(ie.prototype, {
		isIntersectionBox: function (e) {
			return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),
			this.intersectsBox(e)
		},
		isIntersectionPlane: function (e) {
			return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),
			this.intersectsPlane(e)
		},
		isIntersectionSphere: function (e) {
			return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
			this.intersectsSphere(e)
		}
	}),
	Object.assign(Xn.prototype, {
		extrude: function (e) {
			return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),
			new Rt(this, e)
		},
		makeGeometry: function (e) {
			return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),
			new Ht(this, e)
		}
	}),
	Object.assign(l.prototype, {
		setEulerFromRotationMatrix: function () {
			console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
		},
		setEulerFromQuaternion: function () {
			console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
		},
		getPositionFromMatrix: function (e) {
			return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),
			this.setFromMatrixPosition(e)
		},
		getScaleFromMatrix: function (e) {
			return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),
			this.setFromMatrixScale(e)
		},
		getColumnFromMatrix: function (e, t) {
			return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),
			this.setFromMatrixColumn(t, e)
		}
	}),
	_e.prototype.computeTangents = function () {
		console.warn("THREE.Geometry: .computeTangents() has been removed.")
	},
	Object.assign(oe.prototype, {
		getChildByName: function (e) {
			return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),
			this.getObjectByName(e)
		},
		renderDepth: function () {
			console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
		},
		translate: function (e, t) {
			return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),
			this.translateOnAxis(t, e)
		}
	}),
	Object.defineProperties(oe.prototype, {
		eulerOrder: {
			get: function () {
				return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
				this.rotation.order
			},
			set: function (e) {
				console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
				this.rotation.order = e
			}
		},
		useQuaternion: {
			get: function () {
				console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
			},
			set: function () {
				console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
			}
		}
	}),
	Object.defineProperties(Ze.prototype, {
		objects: {
			get: function () {
				return console.warn("THREE.LOD: .objects has been renamed to .levels."),
				this.levels
			}
		}
	}),
	Re.prototype.setLens = function (e, t) {
		console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),
		void 0 !== t && (this.filmGauge = t),
		this.setFocalLength(e)
	},
	Object.defineProperties(hn.prototype, {
		onlyShadow: {
			set: function () {
				console.warn("THREE.Light: .onlyShadow has been removed.")
			}
		},
		shadowCameraFov: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),
				this.shadow.camera.fov = e
			}
		},
		shadowCameraLeft: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),
				this.shadow.camera.left = e
			}
		},
		shadowCameraRight: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),
				this.shadow.camera.right = e
			}
		},
		shadowCameraTop: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),
				this.shadow.camera.top = e
			}
		},
		shadowCameraBottom: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),
				this.shadow.camera.bottom = e
			}
		},
		shadowCameraNear: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),
				this.shadow.camera.near = e
			}
		},
		shadowCameraFar: {
			set: function (e) {
				console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),
				this.shadow.camera.far = e
			}
		},
		shadowCameraVisible: {
			set: function () {
				console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
			}
		},
		shadowBias: {
			set: function (e) {
				console.warn("THREE.Light: .shadowBias is now .shadow.bias."),
				this.shadow.bias = e
			}
		},
		shadowDarkness: {
			set: function () {
				console.warn("THREE.Light: .shadowDarkness has been removed.")
			}
		},
		shadowMapWidth: {
			set: function (e) {
				console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),
				this.shadow.mapSize.width = e
			}
		},
		shadowMapHeight: {
			set: function (e) {
				console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),
				this.shadow.mapSize.height = e
			}
		}
	}),
	Object.defineProperties(ue.prototype, {
		length: {
			get: function () {
				return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),
				this.array.length
			}
		}
	}),
	Object.assign(Ee.prototype, {
		addIndex: function (e) {
			console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),
			this.setIndex(e)
		},
		addDrawCall: function (e, t, n) {
			void 0 !== n && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),
			console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),
			this.addGroup(e, t)
		},
		clearDrawCalls: function () {
			console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),
			this.clearGroups()
		},
		computeTangents: function () {
			console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
		},
		computeOffsets: function () {
			console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
		}
	}),
	Object.defineProperties(Ee.prototype, {
		drawcalls: {
			get: function () {
				return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),
				this.groups
			}
		},
		offsets: {
			get: function () {
				return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),
				this.groups
			}
		}
	}),
	Object.defineProperties(ui.prototype, {
		dynamic: {
			set: function () {
				console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
			}
		},
		onUpdate: {
			value: function () {
				return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),
				this
			}
		}
	}),
	Object.defineProperties(Y.prototype, {
		wrapAround: {
			get: function () {
				console.warn("THREE." + this.type + ": .wrapAround has been removed.")
			},
			set: function () {
				console.warn("THREE." + this.type + ": .wrapAround has been removed.")
			}
		},
		wrapRGB: {
			get: function () {
				return console.warn("THREE." + this.type + ": .wrapRGB has been removed."),
				new V
			}
		}
	}),
	Object.defineProperties(Kt.prototype, {
		metal: {
			get: function () {
				return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),
				!1
			},
			set: function () {
				console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
			}
		}
	}),
	Object.defineProperties(q.prototype, {
		derivatives: {
			get: function () {
				return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
				this.extensions.derivatives
			},
			set: function (e) {
				console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
				this.extensions.derivatives = e
			}
		}
	}),
	t.prototype = Object.assign(Object.create({
				constructor: t,
				apply: function (e) {
					console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),
					Object.assign(e, this)
				}
			}), t.prototype),
	Object.assign(Ve.prototype, {
		supportsFloatTextures: function () {
			return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),
			this.extensions.get("OES_texture_float")
		},
		supportsHalfFloatTextures: function () {
			return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),
			this.extensions.get("OES_texture_half_float")
		},
		supportsStandardDerivatives: function () {
			return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),
			this.extensions.get("OES_standard_derivatives")
		},
		supportsCompressedTextureS3TC: function () {
			return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),
			this.extensions.get("WEBGL_compressed_texture_s3tc")
		},
		supportsCompressedTexturePVRTC: function () {
			return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),
			this.extensions.get("WEBGL_compressed_texture_pvrtc")
		},
		supportsBlendMinMax: function () {
			return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),
			this.extensions.get("EXT_blend_minmax")
		},
		supportsVertexTextures: function () {
			return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),
			this.capabilities.vertexTextures
		},
		supportsInstancedArrays: function () {
			return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),
			this.extensions.get("ANGLE_instanced_arrays")
		},
		enableScissorTest: function (e) {
			console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),
			this.setScissorTest(e)
		},
		initMaterial: function () {
			console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
		},
		addPrePlugin: function () {
			console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
		},
		addPostPlugin: function () {
			console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
		},
		updateShadowMap: function () {
			console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
		}
	}),
	Object.defineProperties(Ve.prototype, {
		shadowMapEnabled: {
			get: function () {
				return this.shadowMap.enabled
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),
				this.shadowMap.enabled = e
			}
		},
		shadowMapType: {
			get: function () {
				return this.shadowMap.type
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),
				this.shadowMap.type = e
			}
		},
		shadowMapCullFace: {
			get: function () {
				return this.shadowMap.cullFace
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),
				this.shadowMap.cullFace = e
			}
		}
	}),
	Object.defineProperties(ne.prototype, {
		cullFace: {
			get: function () {
				return this.renderReverseSided ? Wi : Vi
			},
			set: function (e) {
				var t = e !== Vi;
				console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to " + t + "."),
				this.renderReverseSided = t
			}
		}
	}),
	Object.defineProperties(a.prototype, {
		wrapS: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
				this.texture.wrapS
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
				this.texture.wrapS = e
			}
		},
		wrapT: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
				this.texture.wrapT
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
				this.texture.wrapT = e
			}
		},
		magFilter: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
				this.texture.magFilter
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
				this.texture.magFilter = e
			}
		},
		minFilter: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
				this.texture.minFilter
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
				this.texture.minFilter = e
			}
		},
		anisotropy: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
				this.texture.anisotropy
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
				this.texture.anisotropy = e
			}
		},
		offset: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
				this.texture.offset
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
				this.texture.offset = e
			}
		},
		repeat: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
				this.texture.repeat
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
				this.texture.repeat = e
			}
		},
		format: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
				this.texture.format
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
				this.texture.format = e
			}
		},
		type: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
				this.texture.type
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
				this.texture.type = e
			}
		},
		generateMipmaps: {
			get: function () {
				return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
				this.texture.generateMipmaps
			},
			set: function (e) {
				console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
				this.texture.generateMipmaps = e
			}
		}
	}),
	ii.prototype.load = function (e) {
		console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
		var t = this;
		return (new Qn).load(e, function (e) {
			t.setBuffer(e)
		}),
		this
	},
	ai.prototype.getData = function () {
		return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),
		this.getFrequencyData()
	};
	var Do = {
		merge: function (e, t, n) {
			console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");
			var i;
			t.isMesh && (t.matrixAutoUpdate && t.updateMatrix(), i = t.matrix, t = t.geometry),
			e.merge(t, i, n)
		},
		center: function (e) {
			return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),
			e.center()
		}
	},
	Io = {
		crossOrigin: void 0,
		loadTexture: function (e, t, n, i) {
			console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
			var r = new un;
			r.setCrossOrigin(this.crossOrigin);
			var a = r.load(e, n, void 0, i);
			return t && (a.mapping = t),
			a
		},
		loadTextureCube: function (e, t, n, i) {
			console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
			var r = new dn;
			r.setCrossOrigin(this.crossOrigin);
			var a = r.load(e, n, void 0, i);
			return t && (a.mapping = t),
			a
		},
		loadCompressedTexture: function () {
			console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
		},
		loadCompressedTextureCube: function () {
			console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
		}
	};
	e.WebGLRenderTargetCube = o,
	e.WebGLRenderTarget = a,
	e.WebGLRenderer = Ve,
	e.ShaderLib = lo,
	e.UniformsLib = so,
	e.UniformsUtils = ro,
	e.ShaderChunk = ao,
	e.FogExp2 = We,
	e.Fog = Ge,
	e.Scene = $e,
	e.LensFlare = Xe,
	e.Sprite = qe,
	e.LOD = Ze,
	e.SkinnedMesh = Ke,
	e.Skeleton = Je,
	e.Bone = Qe,
	e.Mesh = Me,
	e.LineSegments = nt,
	e.Line = tt,
	e.Points = rt,
	e.Group = at,
	e.VideoTexture = ot,
	e.DataTexture = W,
	e.CompressedTexture = st,
	e.CubeTexture = d,
	e.CanvasTexture = lt,
	e.DepthTexture = ct,
	e.Texture = i,
	e.CompressedTextureLoader = sn,
	e.BinaryTextureLoader = ln,
	e.DataTextureLoader = yo,
	e.CubeTextureLoader = dn,
	e.TextureLoader = un,
	e.ObjectLoader = Hn,
	e.MaterialLoader = In,
	e.BufferGeometryLoader = Fn,
	e.DefaultLoadingManager = bo,
	e.LoadingManager = an,
	e.JSONLoader = zn,
	e.ImageLoader = cn,
	e.FontLoader = Jn,
	e.FileLoader = on,
	e.Loader = Nn,
	e.Cache = vo,
	e.AudioLoader = Qn,
	e.SpotLightShadow = mn,
	e.SpotLight = gn,
	e.PointLight = vn,
	e.RectAreaLight = Kn,
	e.HemisphereLight = pn,
	e.DirectionalLightShadow = bn,
	e.DirectionalLight = yn,
	e.AmbientLight = xn,
	e.LightShadow = fn,
	e.Light = hn,
	e.StereoCamera = ei,
	e.PerspectiveCamera = Re,
	e.OrthographicCamera = Pe,
	e.CubeCamera = ti,
	e.Camera = Ae,
	e.AudioListener = ni,
	e.PositionalAudio = ri,
	e.AudioContext = Mo,
	e.AudioAnalyser = ai,
	e.Audio = ii,
	e.VectorKeyframeTrack = Cn,
	e.StringKeyframeTrack = Pn,
	e.QuaternionKeyframeTrack = An,
	e.NumberKeyframeTrack = Rn,
	e.ColorKeyframeTrack = kn,
	e.UnsignedSHort4444Type = yr,
	e.BooleanKeyframeTrack = Ln,
	e.PropertyMixer = oi,
	e.PropertyBinding = si,
	e.KeyframeTrack = On,
	e.AnimationUtils = xo,
	e.AnimationObjectGroup = li,
	e.AnimationMixer = di,
	e.AnimationClip = Dn,
	e.Uniform = ui,
	e.InstancedBufferGeometry = hi,
	e.BufferGeometry = Ee,
	e.GeometryIdCount = Te,
	e.Geometry = _e,
	e.InterleavedBufferAttribute = pi,
	e.InstancedInterleavedBuffer = mi,
	e.InterleavedBuffer = fi,
	e.InstancedBufferAttribute = gi,
	e.Face3 = ce,
	e.Object3D = oe,
	e.Raycaster = vi,
	e.Layers = ae,
	e.EventDispatcher = t,
	e.Clock = xi,
	e.QuaternionLinearInterpolant = Sn,
	e.LinearInterpolant = Tn,
	e.DiscreteInterpolant = En,
	e.CubicInterpolant = _n,
	e.Interpolant = wn,
	e.Triangle = le,
	e.Spline = function (e) {
		function t(e, t, n, i, r, a, o) {
			var s = .5 * (n - e),
			l = .5 * (i - t);
			return (2 * (t - n) + s + l) * o + (-3 * (t - n) - 2 * s - l) * a + s * r + t
		}
		this.points = e;
		var n,
		i,
		r,
		a,
		o,
		s,
		c,
		d,
		u,
		h = [],
		p = {
			x: 0,
			y: 0,
			z: 0
		};
		this.initFromArray = function (e) {
			this.points = [];
			for (var t = 0; t < e.length; t++)
				this.points[t] = {
					x: e[t][0],
					y: e[t][1],
					z: e[t][2]
				}
		},
		this.getPoint = function (e) {
			return n = (this.points.length - 1) * e,
			i = Math.floor(n),
			r = n - i,
			h[0] = 0 === i ? i : i - 1,
			h[1] = i,
			h[2] = i > this.points.length - 2 ? this.points.length - 1 : i + 1,
			h[3] = i > this.points.length - 3 ? this.points.length - 1 : i + 2,
			s = this.points[h[0]],
			c = this.points[h[1]],
			d = this.points[h[2]],
			u = this.points[h[3]],
			a = r * r,
			o = r * a,
			p.x = t(s.x, c.x, d.x, u.x, r, a, o),
			p.y = t(s.y, c.y, d.y, u.y, r, a, o),
			p.z = t(s.z, c.z, d.z, u.z, r, a, o),
			p
		},
		this.getControlPointsArray = function () {
			var e,
			t,
			n = this.points.length,
			i = [];
			for (e = 0; e < n; e++)
				t = this.points[e], i[e] = [t.x, t.y, t.z];
			return i
		},
		this.getLength = function (e) {
			var t,
			n,
			i,
			r,
			a = 0,
			o = 0,
			s = 0,
			c = new l,
			d = new l,
			u = [],
			h = 0;
			for (u[0] = 0, e || (e = 100), i = this.points.length * e, c.copy(this.points[0]), t = 1; t < i; t++)
				n = t / i, r = this.getPoint(n), d.copy(r), h += d.distanceTo(c), c.copy(r), a = (this.points.length - 1) * n, (o = Math.floor(a)) !== s && (u[o] = h, s = o);
			return u[u.length] = h, {
				chunks: u,
				total: h
			}
		},
		this.reparametrizeByArcLength = function (e) {
			var t,
			n,
			i,
			r,
			a,
			o,
			s,
			c,
			d = [],
			u = new l,
			h = this.getLength();
			for (d.push(u.copy(this.points[0]).clone()), t = 1; t < this.points.length; t++) {
				for (o = h.chunks[t] - h.chunks[t - 1], s = Math.ceil(e * o / h.total), r = (t - 1) / (this.points.length - 1), a = t / (this.points.length - 1), n = 1; n < s - 1; n++)
					i = r + n * (1 / s) * (a - r), c = this.getPoint(i), d.push(u.copy(c).clone());
				d.push(u.copy(this.points[t]).clone())
			}
			this.points = d
		}
	},
	e.Math = Ja,
	e.Spherical = wi,
	e.Cylindrical = _i,
	e.Plane = ee,
	e.Frustum = te,
	e.Sphere = Q,
	e.Ray = ie,
	e.Matrix4 = c,
	e.Matrix3 = K,
	e.Box3 = J,
	e.Box2 = G,
	e.Line3 = se,
	e.Euler = re,
	e.Vector4 = r,
	e.Vector3 = l,
	e.Vector2 = n,
	e.Quaternion = s,
	e.Color = V,
	e.MorphBlendMesh = Ti,
	e.ImmediateRenderObject = Ei,
	e.VertexNormalsHelper = Mi,
	e.SpotLightHelper = Ci,
	e.SkeletonHelper = Si,
	e.PointLightHelper = Ai,
	e.RectAreaLightHelper = Ri,
	e.HemisphereLightHelper = Pi,
	e.GridHelper = Li,
	e.PolarGridHelper = ki,
	e.FaceNormalsHelper = Oi,
	e.DirectionalLightHelper = Di,
	e.CameraHelper = Ii,
	e.BoxHelper = Fi,
	e.ArrowHelper = Ni,
	e.AxisHelper = zi,
	e.CatmullRomCurve3 = Ao,
	e.SplineCurve3 = Ro,
	e.CubicBezierCurve3 = Po,
	e.QuadraticBezierCurve3 = Lo,
	e.LineCurve3 = ko,
	e.ArcCurve = Hi,
	e.EllipseCurve = Vn,
	e.SplineCurve = Wn,
	e.CubicBezierCurve = Gn,
	e.QuadraticBezierCurve = $n,
	e.LineCurve = Bn,
	e.Shape = Xn,
	e.ShapePath = qn,
	e.Path = Yn,
	e.Font = Zn,
	e.CurvePath = jn,
	e.Curve = Un,
	e.ShapeUtils = fo,
	e.SceneUtils = Oo,
	e.CurveUtils = _o,
	e.WireframeGeometry = dt,
	e.ParametricGeometry = ht,
	e.ParametricBufferGeometry = ut,
	e.TetrahedronGeometry = mt,
	e.TetrahedronBufferGeometry = ft,
	e.OctahedronGeometry = vt,
	e.OctahedronBufferGeometry = gt,
	e.IcosahedronGeometry = yt,
	e.IcosahedronBufferGeometry = bt,
	e.DodecahedronGeometry = wt,
	e.DodecahedronBufferGeometry = xt,
	e.PolyhedronGeometry = _t,
	e.PolyhedronBufferGeometry = pt,
	e.TubeGeometry = Et,
	e.TubeBufferGeometry = Tt,
	e.TorusKnotGeometry = Ct,
	e.TorusKnotBufferGeometry = Mt,
	e.TorusGeometry = At,
	e.TorusBufferGeometry = St,
	e.TextGeometry = Pt,
	e.SphereBufferGeometry = Lt,
	e.SphereGeometry = kt,
	e.RingGeometry = Dt,
	e.RingBufferGeometry = Ot,
	e.PlaneBufferGeometry = Se,
	e.PlaneGeometry = It,
	e.LatheGeometry = Nt,
	e.LatheBufferGeometry = Ft,
	e.ShapeGeometry = Ht,
	e.ShapeBufferGeometry = zt,
	e.ExtrudeGeometry = Rt,
	e.EdgesGeometry = Ut,
	e.ConeGeometry = Vt,
	e.ConeBufferGeometry = Wt,
	e.CylinderGeometry = jt,
	e.CylinderBufferGeometry = Bt,
	e.CircleBufferGeometry = Gt,
	e.CircleGeometry = $t,
	e.BoxBufferGeometry = Ce,
	e.BoxGeometry = Xt,
	e.ShadowMaterial = Yt,
	e.SpriteMaterial = Ye,
	e.RawShaderMaterial = qt,
	e.ShaderMaterial = q,
	e.PointsMaterial = it,
	e.MultiMaterial = Zt,
	e.MeshPhysicalMaterial = Qt,
	e.MeshStandardMaterial = Jt,
	e.MeshPhongMaterial = Kt,
	e.MeshToonMaterial = en,
	e.MeshNormalMaterial = tn,
	e.MeshLambertMaterial = nn,
	e.MeshDepthMaterial = Z,
	e.MeshBasicMaterial = de,
	e.LineDashedMaterial = rn,
	e.LineBasicMaterial = et,
	e.Material = Y,
	e.Float64BufferAttribute = xe,
	e.Float32BufferAttribute = ye,
	e.Uint32BufferAttribute = be,
	e.Int32BufferAttribute = ve,
	e.Uint16BufferAttribute = ge,
	e.Int16BufferAttribute = me,
	e.Uint8ClampedBufferAttribute = fe,
	e.Uint8BufferAttribute = pe,
	e.SRcAlphaFactor = Ki,
	e.Int8BufferAttribute = he,
	e.BufferAttribute = ue,
	e.REVISION = Bi,
	e.MOUSE = {
		LEFT: 0,
		MIDDLE: 1,
		RIGHT: 2
	},
	e.CullFaceNone = ji,
	e.CullFaceBack = Vi,
	e.CullFaceFront = Wi,
	e.CullFaceFrontBack = 3,
	e.FrontFaceDirectionCW = Gi,
	e.FrontFaceDirectionCCW = 1,
	e.BasicShadowMap = 0,
	e.PCFShadowMap = $i,
	e.PCFSoftShadowMap = Xi,
	e.FrontSide = Yi,
	e.BackSide = qi,
	e.DoubleSide = Zi,
	e.FlatShading = Ji,
	e.SmoothShading = Qi,
	e.NoColors = er,
	e.FaceColors = tr,
	e.VertexColors = nr,
	e.NoBlending = ir,
	e.NormalBlending = rr,
	e.AdditiveBlending = ar,
	e.SubtractiveBlending = or,
	e.MultiplyBlending = sr,
	e.CustomBlending = lr,
	e.BlendingMode = cr,
	e.AddEquation = dr,
	e.SubtractEquation = ur,
	e.ReverseSubtractEquation = hr,
	e.MinEquation = pr,
	e.MaxEquation = fr,
	e.ZeroFactor = mr,
	e.OneFactor = gr,
	e.SrcColorFactor = vr,
	e.OneMinusSrcColorFactor = br,
	e.SrcAlphaFactor = xr,
	e.OneMinusSrcAlphaFactor = wr,
	e.DstAlphaFactor = _r,
	e.OneMinusDstAlphaFactor = Tr,
	e.DstColorFactor = Er,
	e.OneMinusDstColorFactor = Mr,
	e.SrcAlphaSaturateFactor = Cr,
	e.NeverDepth = Sr,
	e.AlwaysDepth = Ar,
	e.LessDepth = Rr,
	e.LessEqualDepth = Pr,
	e.EqualDepth = Lr,
	e.GreaterEqualDepth = kr,
	e.GreaterDepth = Or,
	e.NotEqualDepth = Dr,
	e.MultiplyOperation = Ir,
	e.MixOperation = Fr,
	e.AddOperation = Nr,
	e.NoToneMapping = zr,
	e.LinearToneMapping = Hr,
	e.ReinhardToneMapping = Ur,
	e.Uncharted2ToneMapping = Br,
	e.CineonToneMapping = jr,
	e.UVMapping = 300,
	e.CubeReflectionMapping = Vr,
	e.CubeRefractionMapping = Wr,
	e.EquirectangularReflectionMapping = Gr,
	e.EquirectangularRefractionMapping = $r,
	e.SphericalReflectionMapping = Xr,
	e.CubeUVReflectionMapping = Yr,
	e.CubeUVRefractionMapping = qr,
	e.TextureMapping = Zr,
	e.RepeatWrapping = Jr,
	e.ClampToEdgeWrapping = Qr,
	e.MirroredRepeatWrapping = Kr,
	e.TextureWrapping = ea,
	e.NearestFilter = ta,
	e.NearestMipMapNearestFilter = na,
	e.NearestMipMapLinearFilter = ia,
	e.LinearFilter = ra,
	e.LinearMipMapNearestFilter = aa,
	e.LinearMipMapLinearFilter = oa,
	e.TextureFilter = sa,
	e.UnsignedByteType = la,
	e.ByteType = ca,
	e.ShortType = da,
	e.UnsignedShortType = ua,
	e.IntType = ha,
	e.UnsignedIntType = pa,
	e.FloatType = fa,
	e.HalfFloatType = ma,
	e.UnsignedShort4444Type = ga,
	e.UnsignedShort5551Type = va,
	e.UnsignedShort565Type = ba,
	e.UnsignedInt248Type = ya,
	e.AlphaFormat = xa,
	e.RGBFormat = wa,
	e.RGBAFormat = _a,
	e.LuminanceFormat = Ta,
	e.LuminanceAlphaFormat = Ea,
	e.RGBEFormat = Ma,
	e.DepthFormat = Ca,
	e.DepthStencilFormat = Sa,
	e.RGB_S3TC_DXT1_Format = Aa,
	e.RGBA_S3TC_DXT1_Format = Ra,
	e.RGBA_S3TC_DXT3_Format = Pa,
	e.RGBA_S3TC_DXT5_Format = La,
	e.RGB_PVRTC_4BPPV1_Format = ka,
	e.RGB_PVRTC_2BPPV1_Format = Oa,
	e.RGBA_PVRTC_4BPPV1_Format = Da,
	e.RGBA_PVRTC_2BPPV1_Format = Ia,
	e.RGB_ETC1_Format = Fa,
	e.LoopOnce = 2200,
	e.LoopRepeat = Na,
	e.LoopPingPong = 2202,
	e.InterpolateDiscrete = 2300,
	e.InterpolateLinear = 2301,
	e.InterpolateSmooth = 2302,
	e.ZeroCurvatureEnding = za,
	e.ZeroSlopeEnding = 2401,
	e.WrapAroundEnding = 2402,
	e.TrianglesDrawMode = Ha,
	e.TriangleStripDrawMode = Ua,
	e.TriangleFanDrawMode = Ba,
	e.LinearEncoding = ja,
	e.sRGBEncoding = Va,
	e.GammaEncoding = Wa,
	e.RGBEEncoding = Ga,
	e.LogLuvEncoding = 3003,
	e.RGBM7Encoding = $a,
	e.RGBM16Encoding = Xa,
	e.RGBDEncoding = Ya,
	e.BasicDepthPacking = qa,
	e.RGBADepthPacking = Za,
	e.CubeGeometry = Xt,
	e.Face4 = function (e, t, n, i, r, a, o) {
		return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),
		new ce(e, t, n, r, a, o)
	},
	e.LineStrip = 0,
	e.LinePieces = 1,
	e.MeshFaceMaterial = function (e) {
		return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),
		new Zt(e)
	},
	e.PointCloud = function (e, t) {
		return console.warn("THREE.PointCloud has been renamed to THREE.Points."),
		new rt(e, t)
	},
	e.Particle = function (e) {
		return console.warn("THREE.Particle has been renamed to THREE.Sprite."),
		new qe(e)
	},
	e.ParticleSystem = function (e, t) {
		return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),
		new rt(e, t)
	},
	e.PointCloudMaterial = function (e) {
		return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),
		new it(e)
	},
	e.ParticleBasicMaterial = function (e) {
		return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),
		new it(e)
	},
	e.ParticleSystemMaterial = function (e) {
		return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),
		new it(e)
	},
	e.Vertex = function (e, t, n) {
		return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),
		new l(e, t, n)
	},
	e.DynamicBufferAttribute = function (e, t) {
		return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),
		new ue(e, t).setDynamic(!0)
	},
	e.Int8Attribute = function (e, t) {
		return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),
		new he(e, t)
	},
	e.Uint8Attribute = function (e, t) {
		return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),
		new pe(e, t)
	},
	e.Uint8ClampedAttribute = function (e, t) {
		return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),
		new fe(e, t)
	},
	e.Int16Attribute = function (e, t) {
		return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),
		new me(e, t)
	},
	e.Uint16Attribute = function (e, t) {
		return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),
		new ge(e, t)
	},
	e.Int32Attribute = function (e, t) {
		return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),
		new ve(e, t)
	},
	e.Uint32Attribute = function (e, t) {
		return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),
		new be(e, t)
	},
	e.Float32Attribute = function (e, t) {
		return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),
		new ye(e, t)
	},
	e.Float64Attribute = function (e, t) {
		return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),
		new xe(e, t)
	},
	e.ClosedSplineCurve3 = Ui,
	e.BoundingBoxHelper = function (e, t) {
		return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),
		new Fi(e, t)
	},
	e.EdgesHelper = function (e, t) {
		return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),
		new nt(new Ut(e.geometry), new et({
				color: void 0 !== t ? t : 16777215
			}))
	},
	e.WireframeHelper = function (e, t) {
		return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),
		new nt(new dt(e.geometry), new et({
				color: void 0 !== t ? t : 16777215
			}))
	},
	e.XHRLoader = function (e) {
		return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),
		new on(e)
	},
	e.GeometryUtils = Do,
	e.ImageUtils = Io,
	e.Projector = function () {
		console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),
		this.projectVector = function (e, t) {
			console.warn("THREE.Projector: .projectVector() is now vector.project()."),
			e.project(t)
		},
		this.unprojectVector = function (e, t) {
			console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),
			e.unproject(t)
		},
		this.pickingRay = function () {
			console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")
		}
	},
	e.CanvasRenderer = function () {
		console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),
		this.domElement = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
		this.clear = function () {},
		this.render = function () {},
		this.setClearColor = function () {},
		this.setSize = function () {}
	},
	Object.defineProperty(e, "__esModule", {
		value: !0
	})
}), function (e, t) {
	function n(e) {
		var t = e.length,
		n = ee.type(e);
		return !ee.isWindow(e) && (!(1 !== e.nodeType || !t) || ("array" === n || "function" !== n && (0 === t || "number" == typeof t && t > 0 && t - 1 in e)))
	}
	function i(e, n, i, r) {
		if (ee.acceptData(e)) {
			var a,
			o,
			s = ee.expando,
			l = "string" == typeof n,
			c = e.nodeType,
			d = c ? ee.cache : e,
			u = c ? e[s] : e[s] && s;
			if (u && d[u] && (r || d[u].data) || !l || i !== t)
				return u || (c ? e[s] = u = G.pop() || ee.guid++ : u = s), d[u] || (d[u] = {}, c || (d[u].toJSON = ee.noop)), ("object" == typeof n || "function" == typeof n) && (r ? d[u] = ee.extend(d[u], n) : d[u].data = ee.extend(d[u].data, n)), a = d[u], r || (a.data || (a.data = {}), a = a.data), i !== t && (a[ee.camelCase(n)] = i), l ? null == (o = a[n]) && (o = a[ee.camelCase(n)]) : o = a, o
		}
	}
	function r(e, t, n) {
		if (ee.acceptData(e)) {
			var i,
			r,
			a,
			s = e.nodeType,
			l = s ? ee.cache : e,
			c = s ? e[ee.expando] : ee.expando;
			if (l[c]) {
				if (t && (a = n ? l[c] : l[c].data)) {
					ee.isArray(t) ? t = t.concat(ee.map(t, ee.camelCase)) : t in a ? t = [t] : (t = ee.camelCase(t), t = t in a ? [t] : t.split(" "));
					for (i = 0, r = t.length; r > i; i++)
						delete a[t[i]];
					if (!(n ? o : ee.isEmptyObject)(a))
						return
				}
				(n || (delete l[c].data, o(l[c]))) && (s ? ee.cleanData([e], !0) : ee.support.deleteExpando || l != l.window ? delete l[c] : l[c] = null)
			}
		}
	}
	function a(e, n, i) {
		if (i === t && 1 === e.nodeType) {
			var r = "data-" + n.replace(ve, "-$1").toLowerCase();
			if ("string" == typeof(i = e.getAttribute(r))) {
				try {
					i = "true" === i || "false" !== i && ("null" === i ? null : +i + "" === i ? +i : ge.test(i) ? ee.parseJSON(i) : i)
				} catch (e) {}
				ee.data(e, n, i)
			} else
				i = t
		}
		return i
	}
	function o(e) {
		var t;
		for (t in e)
			if (("data" !== t || !ee.isEmptyObject(e[t])) && "toJSON" !== t)
				return !1;
		return !0
	}
	function s() {
		return !0
	}
	function l() {
		return !1
	}
	function c(e, t) {
		do {
			e = e[t]
		} while (e && 1 !== e.nodeType);
		return e
	}
	function d(e, t, n) {
		if (t = t || 0, ee.isFunction(t))
			return ee.grep(e, function (e, i) {
				return !!t.call(e, i, e) === n
			});
		if (t.nodeType)
			return ee.grep(e, function (e) {
				return e === t === n
			});
		if ("string" == typeof t) {
			var i = ee.grep(e, function (e) {
					return 1 === e.nodeType
				});
			if (Ie.test(t))
				return ee.filter(t, i, !n);
			t = ee.filter(t, i)
		}
		return ee.grep(e, function (e) {
			return ee.inArray(e, t) >= 0 === n
		})
	}
	function u(e) {
		var t = ze.split("|"),
		n = e.createDocumentFragment();
		if (n.createElement)
			for (; t.length; )
				n.createElement(t.pop());
		return n
	}
	function h(e) {
		var t = e.getAttributeNode("type");
		return e.type = (t && t.specified) + "/" + e.type,
		e
	}
	function p(e) {
		var t = Ze.exec(e.type);
		return t ? e.type = t[1] : e.removeAttribute("type"),
		e
	}
	function f(e, t) {
		for (var n, i = 0; null != (n = e[i]); i++)
			ee._data(n, "globalEval", !t || ee._data(t[i], "globalEval"))
	}
	function m(e, t) {
		if (1 === t.nodeType && ee.hasData(e)) {
			var n,
			i,
			r,
			a = ee._data(e),
			o = ee._data(t, a),
			s = a.events;
			if (s) {
				delete o.handle,
				o.events = {};
				for (n in s)
					for (i = 0, r = s[n].length; r > i; i++)
						ee.event.add(t, n, s[n][i])
			}
			o.data && (o.data = ee.extend({}, o.data))
		}
	}
	function g(e, t) {
		var n,
		i,
		r;
		if (1 === t.nodeType) {
			if (n = t.nodeName.toLowerCase(), !ee.support.noCloneEvent && t[ee.expando]) {
				r = ee._data(t);
				for (i in r.events)
					ee.removeEvent(t, i, r.handle);
				t.removeAttribute(ee.expando)
			}
			"script" === n && t.text !== e.text ? (h(t).text = e.text, p(t)) : "object" === n ? (t.parentNode && (t.outerHTML = e.outerHTML), ee.support.html5Clone && e.innerHTML && !ee.trim(t.innerHTML) && (t.innerHTML = e.innerHTML)) : "input" === n && Xe.test(e.type) ? (t.defaultChecked = t.checked = e.checked, t.value !== e.value && (t.value = e.value)) : "option" === n ? t.defaultSelected = t.selected = e.defaultSelected : ("input" === n || "textarea" === n) && (t.defaultValue = e.defaultValue)
		}
	}
	function v(e, n) {
		var i,
		r,
		a = 0,
		o = typeof e.getElementsByTagName !== H ? e.getElementsByTagName(n || "*") : typeof e.querySelectorAll !== H ? e.querySelectorAll(n || "*") : t;
		if (!o)
			for (o = [], i = e.childNodes || e; null != (r = i[a]); a++)
				!n || ee.nodeName(r, n) ? o.push(r) : ee.merge(o, v(r, n));
		return n === t || n && ee.nodeName(e, n) ? ee.merge([e], o) : o
	}
	function b(e) {
		Xe.test(e.type) && (e.defaultChecked = e.checked)
	}
	function y(e, t) {
		if (t in e)
			return t;
		for (var n = t.charAt(0).toUpperCase() + t.slice(1), i = t, r = mt.length; r--; )
			if ((t = mt[r] + n)in e)
				return t;
		return i
	}
	function x(e, t) {
		return e = t || e,
		"none" === ee.css(e, "display") || !ee.contains(e.ownerDocument, e)
	}
	function w(e, t) {
		for (var n, i, r, a = [], o = 0, s = e.length; s > o; o++)
			(i = e[o]).style && (a[o] = ee._data(i, "olddisplay"), n = i.style.display, t ? (a[o] || "none" !== n || (i.style.display = ""), "" === i.style.display && x(i) && (a[o] = ee._data(i, "olddisplay", M(i.nodeName)))) : a[o] || (r = x(i), (n && "none" !== n || !r) && ee._data(i, "olddisplay", r ? n : ee.css(i, "display"))));
		for (o = 0; s > o; o++)
			(i = e[o]).style && (t && "none" !== i.style.display && "" !== i.style.display || (i.style.display = t ? a[o] || "" : "none"));
		return e
	}
	function _(e, t, n) {
		var i = lt.exec(t);
		return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : t
	}
	function T(e, t, n, i, r) {
		for (var a = n === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0, o = 0; 4 > a; a += 2)
			"margin" === n && (o += ee.css(e, n + ft[a], !0, r)), i ? ("content" === n && (o -= ee.css(e, "padding" + ft[a], !0, r)), "margin" !== n && (o -= ee.css(e, "border" + ft[a] + "Width", !0, r))) : (o += ee.css(e, "padding" + ft[a], !0, r), "padding" !== n && (o += ee.css(e, "border" + ft[a] + "Width", !0, r)));
		return o
	}
	function E(e, t, n) {
		var i = !0,
		r = "width" === t ? e.offsetWidth : e.offsetHeight,
		a = tt(e),
		o = ee.support.boxSizing && "border-box" === ee.css(e, "boxSizing", !1, a);
		if (0 >= r || null == r) {
			if ((0 > (r = nt(e, t, a)) || null == r) && (r = e.style[t]), ct.test(r))
				return r;
			i = o && (ee.support.boxSizingReliable || r === e.style[t]),
			r = parseFloat(r) || 0
		}
		return r + T(e, t, n || (o ? "border" : "content"), i, a) + "px"
	}
	function M(e) {
		var t = U,
		n = ut[e];
		return n || ("none" !== (n = C(e, t)) && n || (et = (et || ee("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(t.documentElement), (t = (et[0].contentWindow || et[0].contentDocument).document).write("<!doctype html><html><body>"), t.close(), n = C(e, t), et.detach()), ut[e] = n),
		n
	}
	function C(e, t) {
		var n = ee(t.createElement(e)).appendTo(t.body),
		i = ee.css(n[0], "display");
		return n.remove(),
		i
	}
	function S(e, t, n, i) {
		var r;
		if (ee.isArray(t))
			ee.each(t, function (t, r) {
				n || vt.test(e) ? i(e, r) : S(e + "[" + ("object" == typeof r ? t : "") + "]", r, n, i)
			});
		else if (n || "object" !== ee.type(t))
			i(e, t);
		else
			for (r in t)
				S(e + "[" + r + "]", t[r], n, i)
	}
	function A(e) {
		return function (t, n) {
			"string" != typeof t && (n = t, t = "*");
			var i,
			r = 0,
			a = t.toLowerCase().match(ne) || [];
			if (ee.isFunction(n))
				for (; i = a[r++]; )
					"+" === i[0] ? (i = i.slice(1) || "*", (e[i] = e[i] || []).unshift(n)) : (e[i] = e[i] || []).push(n)
		}
	}
	function R(e, n, i, r) {
		function a(l) {
			var c;
			return o[l] = !0,
			ee.each(e[l] || [], function (e, l) {
				var d = l(n, i, r);
				return "string" != typeof d || s || o[d] ? s ? !(c = d) : t : (n.dataTypes.unshift(d), a(d), !1)
			}),
			c
		}
		var o = {},
		s = e === Ot;
		return a(n.dataTypes[0]) || !o["*"] && a("*")
	}
	function P(e, n) {
		var i,
		r,
		a = ee.ajaxSettings.flatOptions || {};
		for (r in n)
			n[r] !== t && ((a[r] ? e : i || (i = {}))[r] = n[r]);
		return i && ee.extend(!0, e, i),
		e
	}
	function L() {
		try {
			return new e.XMLHttpRequest
		} catch (e) {}
	}
	function k() {
		return setTimeout(function () {
			Bt = t
		}),
		Bt = ee.now()
	}
	function O(e, t, n) {
		var i,
		r,
		a = 0,
		o = $t.length,
		s = ee.Deferred().always(function () {
				delete l.elem
			}),
		l = function () {
			if (r)
				return !1;
			for (var t = Bt || k(), n = Math.max(0, c.startTime + c.duration - t), i = 1 - (n / c.duration || 0), a = 0, o = c.tweens.length; o > a; a++)
				c.tweens[a].run(i);
			return s.notifyWith(e, [c, i, n]),
			1 > i && o ? n : (s.resolveWith(e, [c]), !1)
		},
		c = s.promise({
				elem: e,
				props: ee.extend({}, t),
				opts: ee.extend(!0, {
					specialEasing: {}
				}, n),
				originalProperties: t,
				originalOptions: n,
				startTime: Bt || k(),
				duration: n.duration,
				tweens: [],
				createTween: function (t, n) {
					var i = ee.Tween(e, c.opts, t, n, c.opts.specialEasing[t] || c.opts.easing);
					return c.tweens.push(i),
					i
				},
				stop: function (t) {
					var n = 0,
					i = t ? c.tweens.length : 0;
					if (r)
						return this;
					for (r = !0; i > n; n++)
						c.tweens[n].run(1);
					return t ? s.resolveWith(e, [c, t]) : s.rejectWith(e, [c, t]),
					this
				}
			}),
		d = c.props;
		for (function (e, t) {
			var n,
			i,
			r,
			a,
			o;
			for (r in e)
				if (i = ee.camelCase(r), a = t[i], n = e[r], ee.isArray(n) && (a = n[1], n = e[r] = n[0]), r !== i && (e[i] = n, delete e[r]), (o = ee.cssHooks[i]) && "expand" in o) {
					n = o.expand(n),
					delete e[i];
					for (r in n)
						r in e || (e[r] = n[r], t[r] = a)
					} else
						t[i] = a
			}
				(d, c.opts.specialEasing); o > a; a++)if (i = $t[a].call(c, e, d, c.opts))
				return i;
		return function (e, t) {
			ee.each(t, function (t, n) {
				for (var i = (Xt[t] || []).concat(Xt["*"]), r = 0, a = i.length; a > r; r++)
					if (i[r].call(e, t, n))
						return
			})
		}
		(c, d),
		ee.isFunction(c.opts.start) && c.opts.start.call(e, c),
		ee.fx.timer(ee.extend(l, {
				elem: e,
				anim: c,
				queue: c.opts.queue
			})),
		c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always)
	}
	function D(e, t, n, i, r) {
		return new D.prototype.init(e, t, n, i, r)
	}
	function I(e, t) {
		var n,
		i = {
			height: e
		},
		r = 0;
		for (t = t ? 1 : 0; 4 > r; r += 2 - t)
			n = ft[r], i["margin" + n] = i["padding" + n] = e;
		return t && (i.opacity = i.width = e),
		i
	}
	function F(e) {
		return ee.isWindow(e) ? e : 9 === e.nodeType && (e.defaultView || e.parentWindow)
	}
	var N,
	z,
	H = typeof t,
	U = e.document,
	B = e.location,
	j = e.jQuery,
	V = e.$,
	W = {},
	G = [],
	$ = "1.9.1",
	X = G.concat,
	Y = G.push,
	q = G.slice,
	Z = G.indexOf,
	J = W.toString,
	Q = W.hasOwnProperty,
	K = $.trim,
	ee = function (e, t) {
		return new ee.fn.init(e, t, z)
	},
	te = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
	ne = /\S+/g,
	ie = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
	re = /^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,
	ae = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
	oe = /^[\],:{}\s]*$/,
	se = /(?:^|:|,)(?:\s*\[)+/g,
	le = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
	ce = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
	de = /^-ms-/,
	ue = /-([\da-z])/gi,
	he = function (e, t) {
		return t.toUpperCase()
	},
	pe = function (e) {
		(U.addEventListener || "load" === e.type || "complete" === U.readyState) && (fe(), ee.ready())
	},
	fe = function () {
		U.addEventListener ? (U.removeEventListener("DOMContentLoaded", pe, !1), e.removeEventListener("load", pe, !1)) : (U.detachEvent("onreadystatechange", pe), e.detachEvent("onload", pe))
	};
	ee.fn = ee.prototype = {
		jquery: $,
		constructor: ee,
		init: function (e, n, i) {
			var r,
			a;
			if (!e)
				return this;
			if ("string" == typeof e) {
				if (!(r = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : re.exec(e)) || !r[1] && n)
					return !n || n.jquery ? (n || i).find(e) : this.constructor(n).find(e);
				if (r[1]) {
					if (n = n instanceof ee ? n[0] : n, ee.merge(this, ee.parseHTML(r[1], n && n.nodeType ? n.ownerDocument || n : U, !0)), ae.test(r[1]) && ee.isPlainObject(n))
						for (r in n)
							ee.isFunction(this[r]) ? this[r](n[r]) : this.attr(r, n[r]);
					return this
				}
				if ((a = U.getElementById(r[2])) && a.parentNode) {
					if (a.id !== r[2])
						return i.find(e);
					this.length = 1,
					this[0] = a
				}
				return this.context = U,
				this.selector = e,
				this
			}
			return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : ee.isFunction(e) ? i.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), ee.makeArray(e, this))
		},
		selector: "",
		length: 0,
		size: function () {
			return this.length
		},
		toArray: function () {
			return q.call(this)
		},
		get: function (e) {
			return null == e ? this.toArray() : 0 > e ? this[this.length + e] : this[e]
		},
		pushStack: function (e) {
			var t = ee.merge(this.constructor(), e);
			return t.prevObject = this,
			t.context = this.context,
			t
		},
		each: function (e, t) {
			return ee.each(this, e, t)
		},
		ready: function (e) {
			return ee.ready.promise().done(e),
			this
		},
		slice: function () {
			return this.pushStack(q.apply(this, arguments))
		},
		first: function () {
			return this.eq(0)
		},
		last: function () {
			return this.eq(-1)
		},
		eq: function (e) {
			var t = this.length,
			n = +e + (0 > e ? t : 0);
			return this.pushStack(n >= 0 && t > n ? [this[n]] : [])
		},
		map: function (e) {
			return this.pushStack(ee.map(this, function (t, n) {
					return e.call(t, n, t)
				}))
		},
		end: function () {
			return this.prevObject || this.constructor(null)
		},
		push: Y,
		sort: [].sort,
		splice: [].splice
	},
	ee.fn.init.prototype = ee.fn,
	ee.extend = ee.fn.extend = function () {
		var e,
		n,
		i,
		r,
		a,
		o,
		s = arguments[0] || {},
		l = 1,
		c = arguments.length,
		d = !1;
		for ("boolean" == typeof s && (d = s, s = arguments[1] || {}, l = 2), "object" == typeof s || ee.isFunction(s) || (s = {}), c === l && (s = this, --l); c > l; l++)
			if (null != (a = arguments[l]))
				for (r in a)
					e = s[r], i = a[r], s !== i && (d && i && (ee.isPlainObject(i) || (n = ee.isArray(i))) ? (n ? (n = !1, o = e && ee.isArray(e) ? e : []) : o = e && ee.isPlainObject(e) ? e : {}, s[r] = ee.extend(d, o, i)) : i !== t && (s[r] = i));
		return s
	},
	ee.extend({
		noConflict: function (t) {
			return e.$ === ee && (e.$ = V),
			t && e.jQuery === ee && (e.jQuery = j),
			ee
		},
		isReady: !1,
		readyWait: 1,
		holdReady: function (e) {
			e ? ee.readyWait++ : ee.ready(!0)
		},
		ready: function (e) {
			if (!0 === e ? !--ee.readyWait : !ee.isReady) {
				if (!U.body)
					return setTimeout(ee.ready);
				ee.isReady = !0,
				!0 !== e && --ee.readyWait > 0 || (N.resolveWith(U, [ee]), ee.fn.trigger && ee(U).trigger("ready").off("ready"))
			}
		},
		isFunction: function (e) {
			return "function" === ee.type(e)
		},
		isArray: Array.isArray || function (e) {
			return "array" === ee.type(e)
		},
		isWindow: function (e) {
			return null != e && e == e.window
		},
		isNumeric: function (e) {
			return !isNaN(parseFloat(e)) && isFinite(e)
		},
		type: function (e) {
			return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? W[J.call(e)] || "object" : typeof e
		},
		isPlainObject: function (e) {
			if (!e || "object" !== ee.type(e) || e.nodeType || ee.isWindow(e))
				return !1;
			try {
				if (e.constructor && !Q.call(e, "constructor") && !Q.call(e.constructor.prototype, "isPrototypeOf"))
					return !1
			} catch (e) {
				return !1
			}
			var n;
			for (n in e);
			return n === t || Q.call(e, n)
		},
		isEmptyObject: function (e) {
			var t;
			for (t in e)
				return !1;
			return !0
		},
		error: function (e) {
			throw Error(e)
		},
		parseHTML: function (e, t, n) {
			if (!e || "string" != typeof e)
				return null;
			"boolean" == typeof t && (n = t, t = !1),
			t = t || U;
			var i = ae.exec(e),
			r = !n && [];
			return i ? [t.createElement(i[1])] : (i = ee.buildFragment([e], t, r), r && ee(r).remove(), ee.merge([], i.childNodes))
		},
		parseJSON: function (n) {
			return e.JSON && e.JSON.parse ? e.JSON.parse(n) : null === n ? n : "string" == typeof n && (n = ee.trim(n)) && oe.test(n.replace(le, "@").replace(ce, "]").replace(se, "")) ? Function("return " + n)() : (ee.error("Invalid JSON: " + n), t)
		},
		parseXML: function (n) {
			var i,
			r;
			if (!n || "string" != typeof n)
				return null;
			try {
				e.DOMParser ? (r = new DOMParser, i = r.parseFromString(n, "text/xml")) : (i = new ActiveXObject("Microsoft.XMLDOM"), i.async = "false", i.loadXML(n))
			} catch (e) {
				i = t
			}
			return i && i.documentElement && !i.getElementsByTagName("parsererror").length || ee.error("Invalid XML: " + n),
			i
		},
		noop: function () {},
		globalEval: function (t) {
			t && ee.trim(t) && (e.execScript || function (t) {
				e.eval.call(e, t)
			})(t)
		},
		camelCase: function (e) {
			return e.replace(de, "ms-").replace(ue, he)
		},
		nodeName: function (e, t) {
			return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
		},
		each: function (e, t, i) {
			var r = 0,
			a = e.length,
			o = n(e);
			if (i) {
				if (o)
					for (; a > r && !1 !== t.apply(e[r], i); r++);
				else
					for (r in e)
						if (!1 === t.apply(e[r], i))
							break
			} else if (o)
				for (; a > r && !1 !== t.call(e[r], r, e[r]); r++);
			else
				for (r in e)
					if (!1 === t.call(e[r], r, e[r]))
						break;
			return e
		},
		trim: K && !K.call("\ufeff") ? function (e) {
			return null == e ? "" : K.call(e)
		}
		 : function (e) {
			return null == e ? "" : (e + "").replace(ie, "")
		},
		makeArray: function (e, t) {
			var i = t || [];
			return null != e && (n(Object(e)) ? ee.merge(i, "string" == typeof e ? [e] : e) : Y.call(i, e)),
			i
		},
		inArray: function (e, t, n) {
			var i;
			if (t) {
				if (Z)
					return Z.call(t, e, n);
				for (i = t.length, n = n ? 0 > n ? Math.max(0, i + n) : n : 0; i > n; n++)
					if (n in t && t[n] === e)
						return n
			}
			return -1
		},
		merge: function (e, n) {
			var i = n.length,
			r = e.length,
			a = 0;
			if ("number" == typeof i)
				for (; i > a; a++)
					e[r++] = n[a];
			else
				for (; n[a] !== t; )
					e[r++] = n[a++];
			return e.length = r,
			e
		},
		grep: function (e, t, n) {
			var i,
			r = [],
			a = 0,
			o = e.length;
			for (n = !!n; o > a; a++)
				i = !!t(e[a], a), n !== i && r.push(e[a]);
			return r
		},
		map: function (e, t, i) {
			var r,
			a = 0,
			o = e.length,
			s = [];
			if (n(e))
				for (; o > a; a++)
					null != (r = t(e[a], a, i)) && (s[s.length] = r);
			else
				for (a in e)
					null != (r = t(e[a], a, i)) && (s[s.length] = r);
			return X.apply([], s)
		},
		guid: 1,
		proxy: function (e, n) {
			var i,
			r,
			a;
			return "string" == typeof n && (a = e[n], n = e, e = a),
			ee.isFunction(e) ? (i = q.call(arguments, 2), r = function () {
				return e.apply(n || this, i.concat(q.call(arguments)))
			}, r.guid = e.guid = e.guid || ee.guid++, r) : t
		},
		access: function (e, n, i, r, a, o, s) {
			var l = 0,
			c = e.length,
			d = null == i;
			if ("object" === ee.type(i)) {
				a = !0;
				for (l in i)
					ee.access(e, n, l, i[l], !0, o, s)
			} else if (r !== t && (a = !0, ee.isFunction(r) || (s = !0), d && (s ? (n.call(e, r), n = null) : (d = n, n = function (e, t, n) {
							return d.call(ee(e), n)
						})), n))
				for (; c > l; l++)
					n(e[l], i, s ? r : r.call(e[l], l, n(e[l], i)));
			return a ? e : d ? n.call(e) : c ? n(e[0], i) : o
		},
		now: function () {
			return (new Date).getTime()
		}
	}),
	ee.ready.promise = function (t) {
		if (!N)
			if (N = ee.Deferred(), "complete" === U.readyState)
				setTimeout(ee.ready);
			else if (U.addEventListener)
				U.addEventListener("DOMContentLoaded", pe, !1), e.addEventListener("load", pe, !1);
			else {
				U.attachEvent("onreadystatechange", pe),
				e.attachEvent("onload", pe);
				var n = !1;
				try {
					n = null == e.frameElement && U.documentElement
				} catch (e) {}
				n && n.doScroll && function e() {
					if (!ee.isReady) {
						try {
							n.doScroll("left")
						} catch (t) {
							return setTimeout(e, 50)
						}
						fe(),
						ee.ready()
					}
				}
				()
			}
		return N.promise(t)
	},
	ee.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (e, t) {
		W["[object " + t + "]"] = t.toLowerCase()
	}),
	z = ee(U);
	var me = {};
	ee.Callbacks = function (e) {
		var n,
		i,
		r,
		a,
		o,
		s,
		l = [],
		c = !(e = "string" == typeof e ? me[e] || function (e) {
			var t = me[e] = {};
			return ee.each(e.match(ne) || [], function (e, n) {
				t[n] = !0
			}),
			t
		}
			(e) : ee.extend({}, e)).once && [],
		d = function (t) {
			for (i = e.memory && t, r = !0, o = s || 0, s = 0, a = l.length, n = !0; l && a > o; o++)
				if (!1 === l[o].apply(t[0], t[1]) && e.stopOnFalse) {
					i = !1;
					break
				}
			n = !1,
			l && (c ? c.length && d(c.shift()) : i ? l = [] : u.disable())
		},
		u = {
			add: function () {
				if (l) {
					var t = l.length;
					(function t(n) {
						ee.each(n, function (n, i) {
							var r = ee.type(i);
							"function" === r ? e.unique && u.has(i) || l.push(i) : i && i.length && "string" !== r && t(i)
						})
					})(arguments),
					n ? a = l.length : i && (s = t, d(i))
				}
				return this
			},
			remove: function () {
				return l && ee.each(arguments, function (e, t) {
					for (var i; (i = ee.inArray(t, l, i)) > -1; )
						l.splice(i, 1), n && (a >= i && a--, o >= i && o--)
				}),
				this
			},
			has: function (e) {
				return e ? ee.inArray(e, l) > -1 : !(!l || !l.length)
			},
			empty: function () {
				return l = [],
				this
			},
			disable: function () {
				return l = c = i = t,
				this
			},
			disabled: function () {
				return !l
			},
			lock: function () {
				return c = t,
				i || u.disable(),
				this
			},
			locked: function () {
				return !c
			},
			fireWith: function (e, t) {
				return t = t || [],
				t = [e, t.slice ? t.slice() : t],
				!l || r && !c || (n ? c.push(t) : d(t)),
				this
			},
			fire: function () {
				return u.fireWith(this, arguments),
				this
			},
			fired: function () {
				return !!r
			}
		};
		return u
	},
	ee.extend({
		Deferred: function (e) {
			var t = [["resolve", "done", ee.Callbacks("once memory"), "resolved"], ["reject", "fail", ee.Callbacks("once memory"), "rejected"], ["notify", "progress", ee.Callbacks("memory")]],
			n = "pending",
			i = {
				state: function () {
					return n
				},
				always: function () {
					return r.done(arguments).fail(arguments),
					this
				},
				then: function () {
					var e = arguments;
					return ee.Deferred(function (n) {
						ee.each(t, function (t, a) {
							var o = a[0],
							s = ee.isFunction(e[t]) && e[t];
							r[a[1]](function () {
								var e = s && s.apply(this, arguments);
								e && ee.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o + "With"](this === i ? n.promise() : this, s ? [e] : arguments)
							})
						}),
						e = null
					}).promise()
				},
				promise: function (e) {
					return null != e ? ee.extend(e, i) : i
				}
			},
			r = {};
			return i.pipe = i.then,
			ee.each(t, function (e, a) {
				var o = a[2],
				s = a[3];
				i[a[1]] = o.add,
				s && o.add(function () {
					n = s
				}, t[1 ^ e][2].disable, t[2][2].lock),
				r[a[0]] = function () {
					return r[a[0] + "With"](this === r ? i : this, arguments),
					this
				},
				r[a[0] + "With"] = o.fireWith
			}),
			i.promise(r),
			e && e.call(r, r),
			r
		},
		when: function (e) {
			var t,
			n,
			i,
			r = 0,
			a = q.call(arguments),
			o = a.length,
			s = 1 !== o || e && ee.isFunction(e.promise) ? o : 0,
			l = 1 === s ? e : ee.Deferred(),
			c = function (e, n, i) {
				return function (r) {
					n[e] = this,
					i[e] = arguments.length > 1 ? q.call(arguments) : r,
					i === t ? l.notifyWith(n, i) : --s || l.resolveWith(n, i)
				}
			};
			if (o > 1)
				for (t = Array(o), n = Array(o), i = Array(o); o > r; r++)
					a[r] && ee.isFunction(a[r].promise) ? a[r].promise().done(c(r, i, a)).fail(l.reject).progress(c(r, n, t)) : --s;
			return s || l.resolveWith(i, a),
			l.promise()
		}
	}),
	ee.support = function () {
		var t,
		n,
		i,
		r,
		a,
		o,
		s,
		l,
		c,
		d,
		u = U.createElement("div");
		if (u.setAttribute("className", "t"), u.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", n = u.getElementsByTagName("*"), i = u.getElementsByTagName("a")[0], !n || !i || !n.length)
			return {};
		s = (a = U.createElement("select")).appendChild(U.createElement("option")),
		r = u.getElementsByTagName("input")[0],
		i.style.cssText = "top:1px;float:left;opacity:.5",
		t = {
			getSetAttribute: "t" !== u.className,
			leadingWhitespace: 3 === u.firstChild.nodeType,
			tbody: !u.getElementsByTagName("tbody").length,
			htmlSerialize: !!u.getElementsByTagName("link").length,
			style: /top/.test(i.getAttribute("style")),
			hrefNormalized: "/a" === i.getAttribute("href"),
			opacity: /^0.5/.test(i.style.opacity),
			cssFloat: !!i.style.cssFloat,
			checkOn: !!r.value,
			optSelected: s.selected,
			enctype: !!U.createElement("form").enctype,
			html5Clone: "<:nav></:nav>" !== U.createElement("nav").cloneNode(!0).outerHTML,
			boxModel: "CSS1Compat" === U.compatMode,
			deleteExpando: !0,
			noCloneEvent: !0,
			inlineBlockNeedsLayout: !1,
			shrinkWrapBlocks: !1,
			reliableMarginRight: !0,
			boxSizingReliable: !0,
			pixelPosition: !1
		},
		r.checked = !0,
		t.noCloneChecked = r.cloneNode(!0).checked,
		a.disabled = !0,
		t.optDisabled = !s.disabled;
		try {
			delete u.test
		} catch (e) {
			t.deleteExpando = !1
		}
		(r = U.createElement("input")).setAttribute("value", ""),
		t.input = "" === r.getAttribute("value"),
		r.value = "t",
		r.setAttribute("type", "radio"),
		t.radioValue = "t" === r.value,
		r.setAttribute("checked", "t"),
		r.setAttribute("name", "t"),
		(o = U.createDocumentFragment()).appendChild(r),
		t.appendChecked = r.checked,
		t.checkClone = o.cloneNode(!0).cloneNode(!0).lastChild.checked,
		u.attachEvent && (u.attachEvent("onclick", function () {
				t.noCloneEvent = !1
			}), u.cloneNode(!0).click());
		for (d in {
			submit: !0,
			change: !0,
			focusin: !0
		})
			u.setAttribute(l = "on" + d, "t"), t[d + "Bubbles"] = l in e || !1 === u.attributes[l].expando;
		return u.style.backgroundClip = "content-box",
		u.cloneNode(!0).style.backgroundClip = "",
		t.clearCloneStyle = "content-box" === u.style.backgroundClip,
		ee(function () {
			var n,
			i,
			r,
			a = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
			o = U.getElementsByTagName("body")[0];
			o && (n = U.createElement("div"), n.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", o.appendChild(n).appendChild(u), u.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", r = u.getElementsByTagName("td"), r[0].style.cssText = "padding:0;margin:0;border:0;display:none", c = 0 === r[0].offsetHeight, r[0].style.display = "", r[1].style.display = "none", t.reliableHiddenOffsets = c && 0 === r[0].offsetHeight, u.innerHTML = "", u.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", t.boxSizing = 4 === u.offsetWidth, t.doesNotIncludeMarginInBodyOffset = 1 !== o.offsetTop, e.getComputedStyle && (t.pixelPosition = "1%" !== (e.getComputedStyle(u, null) || {}).top, t.boxSizingReliable = "4px" === (e.getComputedStyle(u, null) || {
							width: "4px"
						}).width, i = u.appendChild(U.createElement("div")), i.style.cssText = u.style.cssText = a, i.style.marginRight = i.style.width = "0", u.style.width = "1px", t.reliableMarginRight = !parseFloat((e.getComputedStyle(i, null) || {}).marginRight)), typeof u.style.zoom !== H && (u.innerHTML = "", u.style.cssText = a + "width:1px;padding:1px;display:inline;zoom:1", t.inlineBlockNeedsLayout = 3 === u.offsetWidth, u.style.display = "block", u.innerHTML = "<div></div>", u.firstChild.style.width = "5px", t.shrinkWrapBlocks = 3 !== u.offsetWidth, t.inlineBlockNeedsLayout && (o.style.zoom = 1)), o.removeChild(n), n = u = r = i = null)
		}),
		n = a = o = s = i = r = null,
		t
	}
	();
	var ge = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
	ve = /([A-Z])/g;
	ee.extend({
		cache: {},
		expando: "jQuery" + ($ + Math.random()).replace(/\D/g, ""),
		noData: {
			embed: !0,
			object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
			applet: !0
		},
		hasData: function (e) {
			return !!(e = e.nodeType ? ee.cache[e[ee.expando]] : e[ee.expando]) && !o(e)
		},
		data: function (e, t, n) {
			return i(e, t, n)
		},
		removeData: function (e, t) {
			return r(e, t)
		},
		_data: function (e, t, n) {
			return i(e, t, n, !0)
		},
		_removeData: function (e, t) {
			return r(e, t, !0)
		},
		acceptData: function (e) {
			if (e.nodeType && 1 !== e.nodeType && 9 !== e.nodeType)
				return !1;
			var t = e.nodeName && ee.noData[e.nodeName.toLowerCase()];
			return !t || !0 !== t && e.getAttribute("classid") === t
		}
	}),
	ee.fn.extend({
		data: function (e, n) {
			var i,
			r,
			o = this[0],
			s = 0,
			l = null;
			if (e === t) {
				if (this.length && (l = ee.data(o), 1 === o.nodeType && !ee._data(o, "parsedAttrs"))) {
					for (i = o.attributes; i.length > s; s++)
						(r = i[s].name).indexOf("data-") || (r = ee.camelCase(r.slice(5)), a(o, r, l[r]));
					ee._data(o, "parsedAttrs", !0)
				}
				return l
			}
			return "object" == typeof e ? this.each(function () {
				ee.data(this, e)
			}) : ee.access(this, function (n) {
				return n === t ? o ? a(o, e, ee.data(o, e)) : null : (this.each(function () {
						ee.data(this, e, n)
					}), t)
			}, null, n, arguments.length > 1, null, !0)
		},
		removeData: function (e) {
			return this.each(function () {
				ee.removeData(this, e)
			})
		}
	}),
	ee.extend({
		queue: function (e, n, i) {
			var r;
			return e ? (n = (n || "fx") + "queue", r = ee._data(e, n), i && (!r || ee.isArray(i) ? r = ee._data(e, n, ee.makeArray(i)) : r.push(i)), r || []) : t
		},
		dequeue: function (e, t) {
			t = t || "fx";
			var n = ee.queue(e, t),
			i = n.length,
			r = n.shift(),
			a = ee._queueHooks(e, t);
			"inprogress" === r && (r = n.shift(), i--),
			a.cur = r,
			r && ("fx" === t && n.unshift("inprogress"), delete a.stop, r.call(e, function () {
					ee.dequeue(e, t)
				}, a)),
			!i && a && a.empty.fire()
		},
		_queueHooks: function (e, t) {
			var n = t + "queueHooks";
			return ee._data(e, n) || ee._data(e, n, {
				empty: ee.Callbacks("once memory").add(function () {
					ee._removeData(e, t + "queue"),
					ee._removeData(e, n)
				})
			})
		}
	}),
	ee.fn.extend({
		queue: function (e, n) {
			var i = 2;
			return "string" != typeof e && (n = e, e = "fx", i--),
			i > arguments.length ? ee.queue(this[0], e) : n === t ? this : this.each(function () {
				var t = ee.queue(this, e, n);
				ee._queueHooks(this, e),
				"fx" === e && "inprogress" !== t[0] && ee.dequeue(this, e)
			})
		},
		dequeue: function (e) {
			return this.each(function () {
				ee.dequeue(this, e)
			})
		},
		delay: function (e, t) {
			return e = ee.fx ? ee.fx.speeds[e] || e : e,
			t = t || "fx",
			this.queue(t, function (t, n) {
				var i = setTimeout(t, e);
				n.stop = function () {
					clearTimeout(i)
				}
			})
		},
		clearQueue: function (e) {
			return this.queue(e || "fx", [])
		},
		promise: function (e, n) {
			var i,
			r = 1,
			a = ee.Deferred(),
			o = this,
			s = this.length,
			l = function () {
				--r || a.resolveWith(o, [o])
			};
			for ("string" != typeof e && (n = e, e = t), e = e || "fx"; s--; )
				(i = ee._data(o[s], e + "queueHooks")) && i.empty && (r++, i.empty.add(l));
			return l(),
			a.promise(n)
		}
	});
	var be,
	ye,
	xe = /[\t\r\n]/g,
	we = /\r/g,
	_e = /^(?:input|select|textarea|button|object)$/i,
	Te = /^(?:a|area)$/i,
	Ee = /^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,
	Me = /^(?:checked|selected)$/i,
	Ce = ee.support.getSetAttribute,
	Se = ee.support.input;
	ee.fn.extend({
		attr: function (e, t) {
			return ee.access(this, ee.attr, e, t, arguments.length > 1)
		},
		removeAttr: function (e) {
			return this.each(function () {
				ee.removeAttr(this, e)
			})
		},
		prop: function (e, t) {
			return ee.access(this, ee.prop, e, t, arguments.length > 1)
		},
		removeProp: function (e) {
			return e = ee.propFix[e] || e,
			this.each(function () {
				try {
					this[e] = t,
					delete this[e]
				} catch (e) {}
			})
		},
		addClass: function (e) {
			var t,
			n,
			i,
			r,
			a,
			o = 0,
			s = this.length,
			l = "string" == typeof e && e;
			if (ee.isFunction(e))
				return this.each(function (t) {
					ee(this).addClass(e.call(this, t, this.className))
				});
			if (l)
				for (t = (e || "").match(ne) || []; s > o; o++)
					if (n = this[o], i = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(xe, " ") : " ")) {
						for (a = 0; r = t[a++]; )
							0 > i.indexOf(" " + r + " ") && (i += r + " ");
						n.className = ee.trim(i)
					}
			return this
		},
		removeClass: function (e) {
			var t,
			n,
			i,
			r,
			a,
			o = 0,
			s = this.length,
			l = 0 === arguments.length || "string" == typeof e && e;
			if (ee.isFunction(e))
				return this.each(function (t) {
					ee(this).removeClass(e.call(this, t, this.className))
				});
			if (l)
				for (t = (e || "").match(ne) || []; s > o; o++)
					if (n = this[o], i = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(xe, " ") : "")) {
						for (a = 0; r = t[a++]; )
							for (; i.indexOf(" " + r + " ") >= 0; )
								i = i.replace(" " + r + " ", " ");
						n.className = e ? ee.trim(i) : ""
					}
			return this
		},
		toggleClass: function (e, t) {
			var n = typeof e,
			i = "boolean" == typeof t;
			return ee.isFunction(e) ? this.each(function (n) {
				ee(this).toggleClass(e.call(this, n, this.className, t), t)
			}) : this.each(function () {
				if ("string" === n)
					for (var r, a = 0, o = ee(this), s = t, l = e.match(ne) || []; r = l[a++]; )
						s = i ? s : !o.hasClass(r), o[s ? "addClass" : "removeClass"](r);
				else (n === H || "boolean" === n) && (this.className && ee._data(this, "__className__", this.className), this.className = this.className || !1 === e ? "" : ee._data(this, "__className__") || "")
			})
		},
		hasClass: function (e) {
			for (var t = " " + e + " ", n = 0, i = this.length; i > n; n++)
				if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(xe, " ").indexOf(t) >= 0)
					return !0;
			return !1
		},
		val: function (e) {
			var n,
			i,
			r,
			a = this[0];
			return arguments.length ? (r = ee.isFunction(e), this.each(function (n) {
					var a,
					o = ee(this);
					1 === this.nodeType && (null == (a = r ? e.call(this, n, o.val()) : e) ? a = "" : "number" == typeof a ? a += "" : ee.isArray(a) && (a = ee.map(a, function (e) {
										return null == e ? "" : e + ""
									})), (i = ee.valHooks[this.type] || ee.valHooks[this.nodeName.toLowerCase()]) && "set" in i && i.set(this, a, "value") !== t || (this.value = a))
				})) : a ? (i = ee.valHooks[a.type] || ee.valHooks[a.nodeName.toLowerCase()]) && "get" in i && (n = i.get(a, "value")) !== t ? n : "string" == typeof(n = a.value) ? n.replace(we, "") : null == n ? "" : n : void 0
		}
	}),
	ee.extend({
		valHooks: {
			option: {
				get: function (e) {
					var t = e.attributes.value;
					return !t || t.specified ? e.value : e.text
				}
			},
			select: {
				get: function (e) {
					for (var t, n, i = e.options, r = e.selectedIndex, a = "select-one" === e.type || 0 > r, o = a ? null : [], s = a ? r + 1 : i.length, l = 0 > r ? s : a ? r : 0; s > l; l++)
						if (!(!(n = i[l]).selected && l !== r || (ee.support.optDisabled ? n.disabled : null !== n.getAttribute("disabled")) || n.parentNode.disabled && ee.nodeName(n.parentNode, "optgroup"))) {
							if (t = ee(n).val(), a)
								return t;
							o.push(t)
						}
					return o
				},
				set: function (e, t) {
					var n = ee.makeArray(t);
					return ee(e).find("option").each(function () {
						this.selected = ee.inArray(ee(this).val(), n) >= 0
					}),
					n.length || (e.selectedIndex = -1),
					n
				}
			}
		},
		attr: function (e, n, i) {
			var r,
			a,
			o,
			s = e.nodeType;
			if (e && 3 !== s && 8 !== s && 2 !== s)
				return typeof e.getAttribute === H ? ee.prop(e, n, i) : ((a = 1 !== s || !ee.isXMLDoc(e)) && (n = n.toLowerCase(), r = ee.attrHooks[n] || (Ee.test(n) ? ye : be)), i === t ? r && a && "get" in r && null !== (o = r.get(e, n)) ? o : (typeof e.getAttribute !== H && (o = e.getAttribute(n)), null == o ? t : o) : null !== i ? r && a && "set" in r && (o = r.set(e, i, n)) !== t ? o : (e.setAttribute(n, i + ""), i) : (ee.removeAttr(e, n), t))
		},
		removeAttr: function (e, t) {
			var n,
			i,
			r = 0,
			a = t && t.match(ne);
			if (a && 1 === e.nodeType)
				for (; n = a[r++]; )
					i = ee.propFix[n] || n, Ee.test(n) ? !Ce && Me.test(n) ? e[ee.camelCase("default-" + n)] = e[i] = !1 : e[i] = !1 : ee.attr(e, n, ""), e.removeAttribute(Ce ? n : i)
		},
		attrHooks: {
			type: {
				set: function (e, t) {
					if (!ee.support.radioValue && "radio" === t && ee.nodeName(e, "input")) {
						var n = e.value;
						return e.setAttribute("type", t),
						n && (e.value = n),
						t
					}
				}
			}
		},
		propFix: {
			tabindex: "tabIndex",
			readonly: "readOnly",
			for : "htmlFor", class: "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable"
	},
	prop: function (e, n, i) {
		var r,
		a,
		o = e.nodeType;
		if (e && 3 !== o && 8 !== o && 2 !== o)
			return (1 !== o || !ee.isXMLDoc(e))
				 && (n = ee.propFix[n] || n, a = ee.propHooks[n]), i !== t ? a && "set" in a && (r = a.set(e, i, n)) !== t ? r : e[n] = i : a && "get" in a && null !== (r = a.get(e, n)) ? r : e[n]
		},
		propHooks: {
			tabIndex: {
				get: function (e) {
					var n = e.getAttributeNode("tabindex");
					return n && n.specified ? parseInt(n.value, 10) : _e.test(e.nodeName) || Te.test(e.nodeName) && e.href ? 0 : t
				}
			}
		}
	}),
	ye = {
		get: function (e, n) {
			var i = ee.prop(e, n),
			r = "boolean" == typeof i && e.getAttribute(n),
			a = "boolean" == typeof i ? Se && Ce ? null != r : Me.test(n) ? e[ee.camelCase("default-" + n)] : !!r : e.getAttributeNode(n);
			return a && !1 !== a.value ? n.toLowerCase() : t
		},
		set: function (e, t, n) {
			return !1 === t ? ee.removeAttr(e, n) : Se && Ce || !Me.test(n) ? e.setAttribute(!Ce && ee.propFix[n] || n, n) : e[ee.camelCase("default-" + n)] = e[n] = !0,
			n
		}
	},
	Se && Ce || (ee.attrHooks.value = {
			get: function (e, n) {
				var i = e.getAttributeNode(n);
				return ee.nodeName(e, "input") ? e.defaultValue : i && i.specified ? i.value : t
			},
			set: function (e, n, i) {
				return ee.nodeName(e, "input") ? (e.defaultValue = n, t) : be && be.set(e, n, i)
			}
		}),
	Ce || (be = ee.valHooks.button = {
			get: function (e, n) {
				var i = e.getAttributeNode(n);
				return i && ("id" === n || "name" === n || "coords" === n ? "" !== i.value : i.specified) ? i.value : t
			},
			set: function (e, n, i) {
				var r = e.getAttributeNode(i);
				return r || e.setAttributeNode(r = e.ownerDocument.createAttribute(i)),
				r.value = n += "",
				"value" === i || n === e.getAttribute(i) ? n : t
			}
		}, ee.attrHooks.contenteditable = {
			get: be.get,
			set: function (e, t, n) {
				be.set(e, "" !== t && t, n)
			}
		}, ee.each(["width", "height"], function (e, n) {
			ee.attrHooks[n] = ee.extend(ee.attrHooks[n], {
					set: function (e, i) {
						return "" === i ? (e.setAttribute(n, "auto"), i) : t
					}
				})
		})),
	ee.support.hrefNormalized || (ee.each(["href", "src", "width", "height"], function (e, n) {
			ee.attrHooks[n] = ee.extend(ee.attrHooks[n], {
					get: function (e) {
						var i = e.getAttribute(n, 2);
						return null == i ? t : i
					}
				})
		}), ee.each(["href", "src"], function (e, t) {
			ee.propHooks[t] = {
				get: function (e) {
					return e.getAttribute(t, 4)
				}
			}
		})),
	ee.support.style || (ee.attrHooks.style = {
			get: function (e) {
				return e.style.cssText || t
			},
			set: function (e, t) {
				return e.style.cssText = t + ""
			}
		}),
	ee.support.optSelected || (ee.propHooks.selected = ee.extend(ee.propHooks.selected, {
				get: function (e) {
					var t = e.parentNode;
					return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex),
					null
				}
			})),
	ee.support.enctype || (ee.propFix.enctype = "encoding"),
	ee.support.checkOn || ee.each(["radio", "checkbox"], function () {
		ee.valHooks[this] = {
			get: function (e) {
				return null === e.getAttribute("value") ? "on" : e.value
			}
		}
	}),
	ee.each(["radio", "checkbox"], function () {
		ee.valHooks[this] = ee.extend(ee.valHooks[this], {
				set: function (e, n) {
					return ee.isArray(n) ? e.checked = ee.inArray(ee(e).val(), n) >= 0 : t
				}
			})
	});
	var Ae = /^(?:input|select|textarea)$/i,
	Re = /^key/,
	Pe = /^(?:mouse|contextmenu)|click/,
	Le = /^(?:focusinfocus|focusoutblur)$/,
	ke = /^([^.]*)(?:\.(.+)|)$/;
	ee.event = {
		global: {},
		add: function (e, n, i, r, a) {
			var o,
			s,
			l,
			c,
			d,
			u,
			h,
			p,
			f,
			m,
			g,
			v = ee._data(e);
			if (v) {
				for (i.handler && (c = i, i = c.handler, a = c.selector), i.guid || (i.guid = ee.guid++), (s = v.events) || (s = v.events = {}), (u = v.handle) || (u = v.handle = function (e) {
						return typeof ee === H || e && ee.event.triggered === e.type ? t : ee.event.dispatch.apply(u.elem, arguments)
					}, u.elem = e), l = (n = (n || "").match(ne) || [""]).length; l--; )
					o = ke.exec(n[l]) || [], f = g = o[1], m = (o[2] || "").split(".").sort(), d = ee.event.special[f] || {},
				f = (a ? d.delegateType : d.bindType) || f,
				d = ee.event.special[f] || {},
				h = ee.extend({
						type: f,
						origType: g,
						data: r,
						handler: i,
						guid: i.guid,
						selector: a,
						needsContext: a && ee.expr.match.needsContext.test(a),
						namespace: m.join(".")
					}, c),
				(p = s[f]) || (p = s[f] = [], p.delegateCount = 0, d.setup && !1 !== d.setup.call(e, r, m, u) || (e.addEventListener ? e.addEventListener(f, u, !1) : e.attachEvent && e.attachEvent("on" + f, u))),
				d.add && (d.add.call(e, h), h.handler.guid || (h.handler.guid = i.guid)),
				a ? p.splice(p.delegateCount++, 0, h) : p.push(h),
				ee.event.global[f] = !0;
				e = null
			}
		},
		remove: function (e, t, n, i, r) {
			var a,
			o,
			s,
			l,
			c,
			d,
			u,
			h,
			p,
			f,
			m,
			g = ee.hasData(e) && ee._data(e);
			if (g && (d = g.events)) {
				for (c = (t = (t || "").match(ne) || [""]).length; c--; )
					if (s = ke.exec(t[c]) || [], p = m = s[1], f = (s[2] || "").split(".").sort(), p) {
						for (u = ee.event.special[p] || {}, h = d[p = (i ? u.delegateType : u.bindType) || p] || [], s = s[2] && RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = a = h.length; a--; )
							o = h[a], !r && m !== o.origType || n && n.guid !== o.guid || s && !s.test(o.namespace) || i && i !== o.selector && ("**" !== i || !o.selector) || (h.splice(a, 1), o.selector && h.delegateCount--, u.remove && u.remove.call(e, o));
						l && !h.length && (u.teardown && !1 !== u.teardown.call(e, f, g.handle) || ee.removeEvent(e, p, g.handle), delete d[p])
					} else
						for (p in d)
							ee.event.remove(e, p + t[c], n, i, !0);
				ee.isEmptyObject(d) && (delete g.handle, ee._removeData(e, "events"))
			}
		},
		trigger: function (n, i, r, a) {
			var o,
			s,
			l,
			c,
			d,
			u,
			h,
			p = [r || U],
			f = Q.call(n, "type") ? n.type : n,
			m = Q.call(n, "namespace") ? n.namespace.split(".") : [];
			if (l = u = r = r || U, 3 !== r.nodeType && 8 !== r.nodeType && !Le.test(f + ee.event.triggered) && (f.indexOf(".") >= 0 && (m = f.split("."), f = m.shift(), m.sort()), s = 0 > f.indexOf(":") && "on" + f, n = n[ee.expando] ? n : new ee.Event(f, "object" == typeof n && n), n.isTrigger = !0, n.namespace = m.join("."), n.namespace_re = n.namespace ? RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, n.result = t, n.target || (n.target = r), i = null == i ? [n] : ee.makeArray(i, [n]), d = ee.event.special[f] || {}, a || !d.trigger || !1 !== d.trigger.apply(r, i))) {
				if (!a && !d.noBubble && !ee.isWindow(r)) {
					for (c = d.delegateType || f, Le.test(c + f) || (l = l.parentNode); l; l = l.parentNode)
						p.push(l), u = l;
					u === (r.ownerDocument || U) && p.push(u.defaultView || u.parentWindow || e)
				}
				for (h = 0; (l = p[h++]) && !n.isPropagationStopped(); )
					n.type = h > 1 ? c : d.bindType || f, (o = (ee._data(l, "events") || {})[n.type] && ee._data(l, "handle")) && o.apply(l, i), (o = s && l[s]) && ee.acceptData(l) && o.apply && !1 === o.apply(l, i) && n.preventDefault();
				if (n.type = f, !(a || n.isDefaultPrevented() || d._default && !1 !== d._default.apply(r.ownerDocument, i) || "click" === f && ee.nodeName(r, "a") || !ee.acceptData(r) || !s || !r[f] || ee.isWindow(r))) {
					(u = r[s]) && (r[s] = null),
					ee.event.triggered = f;
					try {
						r[f]()
					} catch (e) {}
					ee.event.triggered = t,
					u && (r[s] = u)
				}
				return n.result
			}
		},
		dispatch: function (e) {
			e = ee.event.fix(e);
			var n,
			i,
			r,
			a,
			o,
			s = [],
			l = q.call(arguments),
			c = (ee._data(this, "events") || {})[e.type] || [],
			d = ee.event.special[e.type] || {};
			if (l[0] = e, e.delegateTarget = this, !d.preDispatch || !1 !== d.preDispatch.call(this, e)) {
				for (s = ee.event.handlers.call(this, e, c), n = 0; (a = s[n++]) && !e.isPropagationStopped(); )
					for (e.currentTarget = a.elem, o = 0; (r = a.handlers[o++]) && !e.isImmediatePropagationStopped(); )
						(!e.namespace_re || e.namespace_re.test(r.namespace)) && (e.handleObj = r, e.data = r.data, (i = ((ee.event.special[r.origType] || {}).handle || r.handler).apply(a.elem, l)) !== t && !1 === (e.result = i) && (e.preventDefault(), e.stopPropagation()));
				return d.postDispatch && d.postDispatch.call(this, e),
				e.result
			}
		},
		handlers: function (e, n) {
			var i,
			r,
			a,
			o,
			s = [],
			l = n.delegateCount,
			c = e.target;
			if (l && c.nodeType && (!e.button || "click" !== e.type))
				for (; c != this; c = c.parentNode || this)
					if (1 === c.nodeType && (!0 !== c.disabled || "click" !== e.type)) {
						for (a = [], o = 0; l > o; o++)
							r = n[o], i = r.selector + " ", a[i] === t && (a[i] = r.needsContext ? ee(i, this).index(c) >= 0 : ee.find(i, this, null, [c]).length), a[i] && a.push(r);
						a.length && s.push({
							elem: c,
							handlers: a
						})
					}
			return n.length > l && s.push({
				elem: this,
				handlers: n.slice(l)
			}),
			s
		},
		fix: function (e) {
			if (e[ee.expando])
				return e;
			var t,
			n,
			i,
			r = e.type,
			a = e,
			o = this.fixHooks[r];
			for (o || (this.fixHooks[r] = o = Pe.test(r) ? this.mouseHooks : Re.test(r) ? this.keyHooks : {}), i = o.props ? this.props.concat(o.props) : this.props, e = new ee.Event(a), t = i.length; t--; )
				n = i[t], e[n] = a[n];
			return e.target || (e.target = a.srcElement || U),
			3 === e.target.nodeType && (e.target = e.target.parentNode),
			e.metaKey = !!e.metaKey,
			o.filter ? o.filter(e, a) : e
		},
		props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
		fixHooks: {},
		keyHooks: {
			props: "char charCode key keyCode".split(" "),
			filter: function (e, t) {
				return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode),
				e
			}
		},
		mouseHooks: {
			props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
			filter: function (e, n) {
				var i,
				r,
				a,
				o = n.button,
				s = n.fromElement;
				return null == e.pageX && null != n.clientX && (r = e.target.ownerDocument || U, a = r.documentElement, i = r.body, e.pageX = n.clientX + (a && a.scrollLeft || i && i.scrollLeft || 0) - (a && a.clientLeft || i && i.clientLeft || 0), e.pageY = n.clientY + (a && a.scrollTop || i && i.scrollTop || 0) - (a && a.clientTop || i && i.clientTop || 0)),
				!e.relatedTarget && s && (e.relatedTarget = s === e.target ? n.toElement : s),
				e.which || o === t || (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0),
				e
			}
		},
		special: {
			load: {
				noBubble: !0
			},
			click: {
				trigger: function () {
					return ee.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : t
				}
			},
			focus: {
				trigger: function () {
					if (this !== U.activeElement && this.focus)
						try {
							return this.focus(),
							!1
						} catch (e) {}
				},
				delegateType: "focusin"
			},
			blur: {
				trigger: function () {
					return this === U.activeElement && this.blur ? (this.blur(), !1) : t
				},
				delegateType: "focusout"
			},
			beforeunload: {
				postDispatch: function (e) {
					e.result !== t && (e.originalEvent.returnValue = e.result)
				}
			}
		},
		simulate: function (e, t, n, i) {
			var r = ee.extend(new ee.Event, n, {
					type: e,
					isSimulated: !0,
					originalEvent: {}
				});
			i ? ee.event.trigger(r, null, t) : ee.event.dispatch.call(t, r),
			r.isDefaultPrevented() && n.preventDefault()
		}
	},
	ee.removeEvent = U.removeEventListener ? function (e, t, n) {
		e.removeEventListener && e.removeEventListener(t, n, !1)
	}
	 : function (e, t, n) {
		var i = "on" + t;
		e.detachEvent && (typeof e[i] === H && (e[i] = null), e.detachEvent(i, n))
	},
	ee.Event = function (e, n) {
		return this instanceof ee.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || !1 === e.returnValue || e.getPreventDefault && e.getPreventDefault() ? s : l) : this.type = e, n && ee.extend(this, n), this.timeStamp = e && e.timeStamp || ee.now(), this[ee.expando] = !0, t) : new ee.Event(e, n)
	},
	ee.Event.prototype = {
		isDefaultPrevented: l,
		isPropagationStopped: l,
		isImmediatePropagationStopped: l,
		preventDefault: function () {
			var e = this.originalEvent;
			this.isDefaultPrevented = s,
			e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
		},
		stopPropagation: function () {
			var e = this.originalEvent;
			this.isPropagationStopped = s,
			e && (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0)
		},
		stopImmediatePropagation: function () {
			this.isImmediatePropagationStopped = s,
			this.stopPropagation()
		}
	},
	ee.each({
		mouseenter: "mouseover",
		mouseleave: "mouseout"
	}, function (e, t) {
		ee.event.special[e] = {
			delegateType: t,
			bindType: t,
			handle: function (e) {
				var n,
				i = e.relatedTarget,
				r = e.handleObj;
				return (!i || i !== this && !ee.contains(this, i)) && (e.type = r.origType, n = r.handler.apply(this, arguments), e.type = t),
				n
			}
		}
	}),
	ee.support.submitBubbles || (ee.event.special.submit = {
			setup: function () {
				return !ee.nodeName(this, "form") && (ee.event.add(this, "click._submit keypress._submit", function (e) {
						var n = e.target,
						i = ee.nodeName(n, "input") || ee.nodeName(n, "button") ? n.form : t;
						i && !ee._data(i, "submitBubbles") && (ee.event.add(i, "submit._submit", function (e) {
								e._submit_bubble = !0
							}), ee._data(i, "submitBubbles", !0))
					}), t)
			},
			postDispatch: function (e) {
				e._submit_bubble && (delete e._submit_bubble, this.parentNode && !e.isTrigger && ee.event.simulate("submit", this.parentNode, e, !0))
			},
			teardown: function () {
				return !ee.nodeName(this, "form") && (ee.event.remove(this, "._submit"), t)
			}
		}),
	ee.support.changeBubbles || (ee.event.special.change = {
			setup: function () {
				return Ae.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (ee.event.add(this, "propertychange._change", function (e) {
							"checked" === e.originalEvent.propertyName && (this._just_changed = !0)
						}), ee.event.add(this, "click._change", function (e) {
							this._just_changed && !e.isTrigger && (this._just_changed = !1),
							ee.event.simulate("change", this, e, !0)
						})), !1) : (ee.event.add(this, "beforeactivate._change", function (e) {
						var t = e.target;
						Ae.test(t.nodeName) && !ee._data(t, "changeBubbles") && (ee.event.add(t, "change._change", function (e) {
								!this.parentNode || e.isSimulated || e.isTrigger || ee.event.simulate("change", this.parentNode, e, !0)
							}), ee._data(t, "changeBubbles", !0))
					}), t)
			},
			handle: function (e) {
				var n = e.target;
				return this !== n || e.isSimulated || e.isTrigger || "radio" !== n.type && "checkbox" !== n.type ? e.handleObj.handler.apply(this, arguments) : t
			},
			teardown: function () {
				return ee.event.remove(this, "._change"),
				!Ae.test(this.nodeName)
			}
		}),
	ee.support.focusinBubbles || ee.each({
		focus: "focusin",
		blur: "focusout"
	}, function (e, t) {
		var n = 0,
		i = function (e) {
			ee.event.simulate(t, e.target, ee.event.fix(e), !0)
		};
		ee.event.special[t] = {
			setup: function () {
				0 == n++ && U.addEventListener(e, i, !0)
			},
			teardown: function () {
				0 == --n && U.removeEventListener(e, i, !0)
			}
		}
	}),
	ee.fn.extend({
		on: function (e, n, i, r, a) {
			var o,
			s;
			if ("object" == typeof e) {
				"string" != typeof n && (i = i || n, n = t);
				for (o in e)
					this.on(o, n, i, e[o], a);
				return this
			}
			if (null == i && null == r ? (r = n, i = n = t) : null == r && ("string" == typeof n ? (r = i, i = t) : (r = i, i = n, n = t)), !1 === r)
				r = l;
			else if (!r)
				return this;
			return 1 === a && (s = r, r = function (e) {
				return ee().off(e),
				s.apply(this, arguments)
			}, r.guid = s.guid || (s.guid = ee.guid++)),
			this.each(function () {
				ee.event.add(this, e, r, i, n)
			})
		},
		one: function (e, t, n, i) {
			return this.on(e, t, n, i, 1)
		},
		off: function (e, n, i) {
			var r,
			a;
			if (e && e.preventDefault && e.handleObj)
				return r = e.handleObj, ee(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
			if ("object" == typeof e) {
				for (a in e)
					this.off(a, n, e[a]);
				return this
			}
			return (!1 === n || "function" == typeof n) && (i = n, n = t),
			!1 === i && (i = l),
			this.each(function () {
				ee.event.remove(this, e, i, n)
			})
		},
		bind: function (e, t, n) {
			return this.on(e, null, t, n)
		},
		unbind: function (e, t) {
			return this.off(e, null, t)
		},
		delegate: function (e, t, n, i) {
			return this.on(t, e, n, i)
		},
		undelegate: function (e, t, n) {
			return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
		},
		trigger: function (e, t) {
			return this.each(function () {
				ee.event.trigger(e, t, this)
			})
		},
		triggerHandler: function (e, n) {
			var i = this[0];
			return i ? ee.event.trigger(e, n, i, !0) : t
		}
	}),
	function (e, t) {
		function n(e) {
			return he.test(e + "")
		}
		function i() {
			var e,
			t = [];
			return e = function (n, i) {
				return t.push(n += " ") > T.cacheLength && delete e[t.shift()],
				e[n] = i
			}
		}
		function r(e) {
			return e[z] = !0,
			e
		}
		function a(e) {
			var t = P.createElement("div");
			try {
				return e(t)
			} catch (e) {
				return !1
			}
			finally {
				t = null
			}
		}
		function o(e, t, n, i) {
			var r,
			a,
			o,
			s,
			l,
			c,
			d,
			p,
			f,
			m;
			if ((t ? t.ownerDocument || t : H) !== P && R(t), t = t || P, n = n || [], !e || "string" != typeof e)
				return n;
			if (1 !== (s = t.nodeType) && 9 !== s)
				return [];
			if (!k && !i) {
				if (r = pe.exec(e))
					if (o = r[1]) {
						if (9 === s) {
							if (!(a = t.getElementById(o)) || !a.parentNode)
								return n;
							if (a.id === o)
								return n.push(a), n
						} else if (t.ownerDocument && (a = t.ownerDocument.getElementById(o)) && F(t, a) && a.id === o)
							return n.push(a), n
					} else {
						if (r[2])
							return Z.apply(n, J.call(t.getElementsByTagName(e), 0)), n;
						if ((o = r[3]) && U.getByClassName && t.getElementsByClassName)
							return Z.apply(n, J.call(t.getElementsByClassName(o), 0)), n
					}
				if (U.qsa && !O.test(e)) {
					if (d = !0, p = z, f = t, m = 9 === s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
						for (c = u(e), (d = t.getAttribute("id")) ? p = d.replace(ge, "\\$&") : t.setAttribute("id", p), p = "[id='" + p + "'] ", l = c.length; l--; )
							c[l] = p + h(c[l]);
						f = ue.test(e) && t.parentNode || t,
						m = c.join(",")
					}
					if (m)
						try {
							return Z.apply(n, J.call(f.querySelectorAll(m), 0)),
							n
						} catch (e) {}
					finally {
						d || t.removeAttribute("id")
					}
				}
			}
			return y(e.replace(ae, "$1"), t, n, i)
		}
		function s(e, t) {
			var n = t && e,
			i = n && (~t.sourceIndex || X) - (~e.sourceIndex || X);
			if (i)
				return i;
			if (n)
				for (; n = n.nextSibling; )
					if (n === t)
						return -1;
			return e ? 1 : -1
		}
		function l(e) {
			return function (t) {
				return "input" === t.nodeName.toLowerCase() && t.type === e
			}
		}
		function c(e) {
			return function (t) {
				var n = t.nodeName.toLowerCase();
				return ("input" === n || "button" === n) && t.type === e
			}
		}
		function d(e) {
			return r(function (t) {
				return t = +t,
				r(function (n, i) {
					for (var r, a = e([], n.length, t), o = a.length; o--; )
						n[r = a[o]] && (n[r] = !(i[r] = n[r]))
				})
			})
		}
		function u(e, t) {
			var n,
			i,
			r,
			a,
			s,
			l,
			c,
			d = W[e + " "];
			if (d)
				return t ? 0 : d.slice(0);
			for (s = e, l = [], c = T.preFilter; s; ) {
				(!n || (i = oe.exec(s))) && (i && (s = s.slice(i[0].length) || s), l.push(r = [])),
				n = !1,
				(i = se.exec(s)) && (n = i.shift(), r.push({
						value: n,
						type: i[0].replace(ae, " ")
					}), s = s.slice(n.length));
				for (a in T.filter)
					!(i = de[a].exec(s)) || c[a] && !(i = c[a](i)) || (n = i.shift(), r.push({
							value: n,
							type: a,
							matches: i
						}), s = s.slice(n.length));
				if (!n)
					break
			}
			return t ? s.length : s ? o.error(e) : W(e, l).slice(0)
		}
		function h(e) {
			for (var t = 0, n = e.length, i = ""; n > t; t++)
				i += e[t].value;
			return i
		}
		function p(e, t, n) {
			var i = t.dir,
			r = n && "parentNode" === i,
			a = j++;
			return t.first ? function (t, n, a) {
				for (; t = t[i]; )
					if (1 === t.nodeType || r)
						return e(t, n, a)
			}
			 : function (t, n, o) {
				var s,
				l,
				c,
				d = B + " " + a;
				if (o) {
					for (; t = t[i]; )
						if ((1 === t.nodeType || r) && e(t, n, o))
							return !0
				} else
					for (; t = t[i]; )
						if (1 === t.nodeType || r)
							if (c = t[z] || (t[z] = {}), (l = c[i]) && l[0] === d) {
								if (!0 === (s = l[1]) || s === _)
									return !0 === s
							} else if (l = c[i] = [d], l[1] = e(t, n, o) || _, !0 === l[1])
								return !0
			}
		}
		function f(e) {
			return e.length > 1 ? function (t, n, i) {
				for (var r = e.length; r--; )
					if (!e[r](t, n, i))
						return !1;
				return !0
			}
			 : e[0]
		}
		function m(e, t, n, i, r) {
			for (var a, o = [], s = 0, l = e.length, c = null != t; l > s; s++)
				(a = e[s]) && (!n || n(a, i, r)) && (o.push(a), c && t.push(s));
			return o
		}
		function g(e, t, n, i, a, s) {
			return i && !i[z] && (i = g(i)),
			a && !a[z] && (a = g(a, s)),
			r(function (r, s, l, c) {
				var d,
				u,
				h,
				p = [],
				f = [],
				g = s.length,
				v = r || function (e, t, n) {
					for (var i = 0, r = t.length; r > i; i++)
						o(e, t[i], n);
					return n
				}
				(t || "*", l.nodeType ? [l] : l, []),
				b = !e || !r && t ? v : m(v, p, e, l, c),
				y = n ? a || (r ? e : g || i) ? [] : s : b;
				if (n && n(b, y, l, c), i)
					for (d = m(y, f), i(d, [], l, c), u = d.length; u--; )
						(h = d[u]) && (y[f[u]] = !(b[f[u]] = h));
				if (r) {
					if (a || e) {
						if (a) {
							for (d = [], u = y.length; u--; )
								(h = y[u]) && d.push(b[u] = h);
							a(null, y = [], d, c)
						}
						for (u = y.length; u--; )
							(h = y[u]) && (d = a ? Q.call(r, h) : p[u]) > -1 && (r[d] = !(s[d] = h))
					}
				} else
					y = m(y === s ? y.splice(g, y.length) : y), a ? a(null, s, y, c) : Z.apply(s, y)
			})
		}
		function v(e) {
			for (var t, n, i, r = e.length, a = T.relative[e[0].type], o = a || T.relative[" "], s = a ? 1 : 0, l = p(function (e) {
						return e === t
					}, o, !0), c = p(function (e) {
						return Q.call(t, e) > -1
					}, o, !0), d = [function (e, n, i) {
						return !a && (i || n !== A) || ((t = n).nodeType ? l(e, n, i) : c(e, n, i))
					}
				]; r > s; s++)
				if (n = T.relative[e[s].type])
					d = [p(f(d), n)];
				else {
					if ((n = T.filter[e[s].type].apply(null, e[s].matches))[z]) {
						for (i = ++s; r > i && !T.relative[e[i].type]; i++);
						return g(s > 1 && f(d), s > 1 && h(e.slice(0, s - 1)).replace(ae, "$1"), n, i > s && v(e.slice(s, i)), r > i && v(e = e.slice(i)), r > i && h(e))
					}
					d.push(n)
				}
			return f(d)
		}
		function b(e, t) {
			var n = 0,
			i = t.length > 0,
			a = e.length > 0,
			s = function (r, s, l, c, d) {
				var u,
				h,
				p,
				f = [],
				g = 0,
				v = "0",
				b = r && [],
				y = null != d,
				x = A,
				w = r || a && T.find.TAG("*", d && s.parentNode || s),
				E = B += null == x ? 1 : Math.random() || .1;
				for (y && (A = s !== P && s, _ = n); null != (u = w[v]); v++) {
					if (a && u) {
						for (h = 0; p = e[h++]; )
							if (p(u, s, l)) {
								c.push(u);
								break
							}
						y && (B = E, _ = ++n)
					}
					i && ((u = !p && u) && g--, r && b.push(u))
				}
				if (g += v, i && v !== g) {
					for (h = 0; p = t[h++]; )
						p(b, f, s, l);
					if (r) {
						if (g > 0)
							for (; v--; )
								b[v] || f[v] || (f[v] = q.call(c));
						f = m(f)
					}
					Z.apply(c, f),
					y && !r && f.length > 0 && g + t.length > 1 && o.uniqueSort(c)
				}
				return y && (B = E, A = x),
				b
			};
			return i ? r(s) : s
		}
		function y(e, t, n, i) {
			var r,
			a,
			o,
			s,
			l,
			c = u(e);
			if (!i && 1 === c.length) {
				if ((a = c[0] = c[0].slice(0)).length > 2 && "ID" === (o = a[0]).type && 9 === t.nodeType && !k && T.relative[a[1].type]) {
					if (!(t = T.find.ID(o.matches[0].replace(be, ye), t)[0]))
						return n;
					e = e.slice(a.shift().value.length)
				}
				for (r = de.needsContext.test(e) ? 0 : a.length; r-- && (o = a[r], !T.relative[s = o.type]); )
					if ((l = T.find[s]) && (i = l(o.matches[0].replace(be, ye), ue.test(a[0].type) && t.parentNode || t))) {
						if (a.splice(r, 1), !(e = i.length && h(a)))
							return Z.apply(n, J.call(i, 0)), n;
						break
					}
			}
			return C(e, c)(i, t, k, n, ue.test(e)),
			n
		}
		function x() {}
		var w,
		_,
		T,
		E,
		M,
		C,
		S,
		A,
		R,
		P,
		L,
		k,
		O,
		D,
		I,
		F,
		N,
		z = "sizzle" + -new Date,
		H = e.document,
		U = {},
		B = 0,
		j = 0,
		V = i(),
		W = i(),
		G = i(),
		$ = typeof t,
		X = 1 << 31,
		Y = [],
		q = Y.pop,
		Z = Y.push,
		J = Y.slice,
		Q = Y.indexOf || function (e) {
			for (var t = 0, n = this.length; n > t; t++)
				if (this[t] === e)
					return t;
			return -1
		},
		K = "[\\x20\\t\\r\\n\\f]",
		te = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
		ne = te.replace("w", "w#"),
		ie = "\\[" + K + "*(" + te + ")" + K + "*(?:([*^$|!~]?=)" + K + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + ne + ")|)|)" + K + "*\\]",
		re = ":(" + te + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + ie.replace(3, 8) + ")*)|.*)\\)|)",
		ae = RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"),
		oe = RegExp("^" + K + "*," + K + "*"),
		se = RegExp("^" + K + "*([\\x20\\t\\r\\n\\f>+~])" + K + "*"),
		le = RegExp(re),
		ce = RegExp("^" + ne + "$"),
		de = {
			ID: RegExp("^#(" + te + ")"),
			CLASS: RegExp("^\\.(" + te + ")"),
			NAME: RegExp("^\\[name=['\"]?(" + te + ")['\"]?\\]"),
			TAG: RegExp("^(" + te.replace("w", "w*") + ")"),
			ATTR: RegExp("^" + ie),
			PSEUDO: RegExp("^" + re),
			CHILD: RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)", "i"),
			needsContext: RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i")
		},
		ue = /[\x20\t\r\n\f]*[+~]/,
		he = /^[^{]+\{\s*\[native code/,
		pe = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
		fe = /^(?:input|select|textarea|button)$/i,
		me = /^h\d$/i,
		ge = /'|\\/g,
		ve = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
		be = /\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,
		ye = function (e, t) {
			var n = "0x" + t - 65536;
			return n != n ? t : 0 > n ? String.fromCharCode(n + 65536) : String.fromCharCode(55296 | n >> 10, 56320 | 1023 & n)
		};
		try {
			J.call(H.documentElement.childNodes, 0)[0].nodeType
		} catch (e) {
			J = function (e) {
				for (var t, n = []; t = this[e++]; )
					n.push(t);
				return n
			}
		}
		M = o.isXML = function (e) {
			var t = e && (e.ownerDocument || e).documentElement;
			return !!t && "HTML" !== t.nodeName
		},
		R = o.setDocument = function (e) {
			var i = e ? e.ownerDocument || e : H;
			return i !== P && 9 === i.nodeType && i.documentElement ? (P = i, L = i.documentElement, k = M(i), U.tagNameNoComments = a(function (e) {
						return e.appendChild(i.createComment("")),
						!e.getElementsByTagName("*").length
					}), U.attributes = a(function (e) {
						e.innerHTML = "<select></select>";
						var t = typeof e.lastChild.getAttribute("multiple");
						return "boolean" !== t && "string" !== t
					}), U.getByClassName = a(function (e) {
						return e.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>",
						!(!e.getElementsByClassName || !e.getElementsByClassName("e").length) && (e.lastChild.className = "e", 2 === e.getElementsByClassName("e").length)
					}), U.getByName = a(function (e) {
						e.id = z + 0,
						e.innerHTML = "<a name='" + z + "'></a><div name='" + z + "'></div>",
						L.insertBefore(e, L.firstChild);
						var t = i.getElementsByName && i.getElementsByName(z).length === 2 + i.getElementsByName(z + 0).length;
						return U.getIdNotName = !i.getElementById(z),
						L.removeChild(e),
						t
					}), T.attrHandle = a(function (e) {
						return e.innerHTML = "<a href='#'></a>",
						e.firstChild && typeof e.firstChild.getAttribute !== $ && "#" === e.firstChild.getAttribute("href")
					}) ? {}
				 : {
				href: function (e) {
					return e.getAttribute("href", 2)
				},
				type: function (e) {
					return e.getAttribute("type")
				}
			}, U.getIdNotName ? (T.find.ID = function (e, t) {
					if (typeof t.getElementById !== $ && !k) {
						var n = t.getElementById(e);
						return n && n.parentNode ? [n] : []
					}
				}, T.filter.ID = function (e) {
					var t = e.replace(be, ye);
					return function (e) {
						return e.getAttribute("id") === t
					}
				}) : (T.find.ID = function (e, n) {
					if (typeof n.getElementById !== $ && !k) {
						var i = n.getElementById(e);
						return i ? i.id === e || typeof i.getAttributeNode !== $ && i.getAttributeNode("id").value === e ? [i] : t : []
					}
				}, T.filter.ID = function (e) {
					var t = e.replace(be, ye);
					return function (e) {
						var n = typeof e.getAttributeNode !== $ && e.getAttributeNode("id");
						return n && n.value === t
					}
				}), T.find.TAG = U.tagNameNoComments ? function (e, n) {
				return typeof n.getElementsByTagName !== $ ? n.getElementsByTagName(e) : t
			}
				 : function (e, t) {
				var n,
				i = [],
				r = 0,
				a = t.getElementsByTagName(e);
				if ("*" === e) {
					for (; n = a[r++]; )
						1 === n.nodeType && i.push(n);
					return i
				}
				return a
			}, T.find.NAME = U.getByName && function (e, n) {
				return typeof n.getElementsByName !== $ ? n.getElementsByName(name) : t
			}, T.find.CLASS = U.getByClassName && function (e, n) {
				return typeof n.getElementsByClassName === $ || k ? t : n.getElementsByClassName(e)
			}, D = [], O = [":focus"], (U.qsa = n(i.querySelectorAll)) && (a(function (e) {
						e.innerHTML = "<select><option selected=''></option></select>",
						e.querySelectorAll("[selected]").length || O.push("\\[" + K + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),
						e.querySelectorAll(":checked").length || O.push(":checked")
					}), a(function (e) {
						e.innerHTML = "<input type='hidden' i=''/>",
						e.querySelectorAll("[i^='']").length && O.push("[*^$]=" + K + "*(?:\"\"|'')"),
						e.querySelectorAll(":enabled").length || O.push(":enabled", ":disabled"),
						e.querySelectorAll("*,:x"),
						O.push(",.*:")
					})), (U.matchesSelector = n(I = L.matchesSelector || L.mozMatchesSelector || L.webkitMatchesSelector || L.oMatchesSelector || L.msMatchesSelector)) && a(function (e) {
					U.disconnectedMatch = I.call(e, "div"),
					I.call(e, "[s!='']:x"),
					D.push("!=", re)
				}), O = RegExp(O.join("|")), D = RegExp(D.join("|")), F = n(L.contains) || L.compareDocumentPosition ? function (e, t) {
				var n = 9 === e.nodeType ? e.documentElement : e,
				i = t && t.parentNode;
				return e === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i)))
			}
				 : function (e, t) {
				if (t)
					for (; t = t.parentNode; )
						if (t === e)
							return !0;
				return !1
			}, N = L.compareDocumentPosition ? function (e, t) {
				var n;
				return e === t ? (S = !0, 0) : (n = t.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(t)) ? 1 & n || e.parentNode && 11 === e.parentNode.nodeType ? e === i || F(H, e) ? -1 : t === i || F(H, t) ? 1 : 0 : 4 & n ? -1 : 1 : e.compareDocumentPosition ? -1 : 1
			}
				 : function (e, t) {
				var n,
				r = 0,
				a = e.parentNode,
				o = t.parentNode,
				l = [e],
				c = [t];
				if (e === t)
					return S = !0, 0;
				if (!a || !o)
					return e === i ? -1 : t === i ? 1 : a ? -1 : o ? 1 : 0;
				if (a === o)
					return s(e, t);
				for (n = e; n = n.parentNode; )
					l.unshift(n);
				for (n = t; n = n.parentNode; )
					c.unshift(n);
				for (; l[r] === c[r]; )
					r++;
				return r ? s(l[r], c[r]) : l[r] === H ? -1 : c[r] === H ? 1 : 0
			}, S = !1, [0, 0].sort(N), U.detectDuplicates = S, P) : P
		},
		o.matches = function (e, t) {
			return o(e, null, null, t)
		},
		o.matchesSelector = function (e, t) {
			if ((e.ownerDocument || e) !== P && R(e), t = t.replace && t.replace(ve, "='$1']"), !(!U.matchesSelector || k || D && D.test(t) || O.test(t)))
				try {
					var n = I.call(e, t);
					if (n || U.disconnectedMatch || e.document && 11 !== e.document.nodeType)
						return n
				} catch (e) {}
			return o(t, P, null, [e]).length > 0
		},
		o.contains = function (e, t) {
			return (e.ownerDocument || e) !== P && R(e),
			F(e, t)
		},
		o.attr = function (e, t) {
			var n;
			return (e.ownerDocument || e) !== P && R(e),
			k || (t = t.toLowerCase()),
			(n = T.attrHandle[t]) ? n(e) : k || U.attributes ? e.getAttribute(t) : ((n = e.getAttributeNode(t)) || e.getAttribute(t)) && !0 === e[t] ? t : n && n.specified ? n.value : null
		},
		o.error = function (e) {
			throw Error("Syntax error, unrecognized expression: " + e)
		},
		o.uniqueSort = function (e) {
			var t,
			n = [],
			i = 1,
			r = 0;
			if (S = !U.detectDuplicates, e.sort(N), S) {
				for (; t = e[i]; i++)
					t === e[i - 1] && (r = n.push(i));
				for (; r--; )
					e.splice(n[r], 1)
			}
			return e
		},
		E = o.getText = function (e) {
			var t,
			n = "",
			i = 0,
			r = e.nodeType;
			if (r) {
				if (1 === r || 9 === r || 11 === r) {
					if ("string" == typeof e.textContent)
						return e.textContent;
					for (e = e.firstChild; e; e = e.nextSibling)
						n += E(e)
				} else if (3 === r || 4 === r)
					return e.nodeValue
			} else
				for (; t = e[i]; i++)
					n += E(t);
			return n
		},
		T = o.selectors = {
			cacheLength: 50,
			createPseudo: r,
			match: de,
			find: {},
			relative: {
				">": {
					dir: "parentNode",
					first: !0
				},
				" ": {
					dir: "parentNode"
				},
				"+": {
					dir: "previousSibling",
					first: !0
				},
				"~": {
					dir: "previousSibling"
				}
			},
			preFilter: {
				ATTR: function (e) {
					return e[1] = e[1].replace(be, ye),
					e[3] = (e[4] || e[5] || "").replace(be, ye),
					"~=" === e[2] && (e[3] = " " + e[3] + " "),
					e.slice(0, 4)
				},
				CHILD: function (e) {
					return e[1] = e[1].toLowerCase(),
					"nth" === e[1].slice(0, 3) ? (e[3] || o.error(e[0]), e[4] =  + (e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] =  + (e[7] + e[8] || "odd" === e[3])) : e[3] && o.error(e[0]),
					e
				},
				PSEUDO: function (e) {
					var t,
					n = !e[5] && e[2];
					return de.CHILD.test(e[0]) ? null : (e[4] ? e[2] = e[4] : n && le.test(n) && (t = u(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
				}
			},
			filter: {
				TAG: function (e) {
					return "*" === e ? function () {
						return !0
					}
					 : (e = e.replace(be, ye).toLowerCase(), function (t) {
						return t.nodeName && t.nodeName.toLowerCase() === e
					})
				},
				CLASS: function (e) {
					var t = V[e + " "];
					return t || (t = RegExp("(^|" + K + ")" + e + "(" + K + "|$)")) && V(e, function (e) {
						return t.test(e.className || typeof e.getAttribute !== $ && e.getAttribute("class") || "")
					})
				},
				ATTR: function (e, t, n) {
					return function (i) {
						var r = o.attr(i, e);
						return null == r ? "!=" === t : !t || (r += "", "=" === t ? r === n : "!=" === t ? r !== n : "^=" === t ? n && 0 === r.indexOf(n) : "*=" === t ? n && r.indexOf(n) > -1 : "$=" === t ? n && r.slice(-n.length) === n : "~=" === t ? (" " + r + " ").indexOf(n) > -1 : "|=" === t && (r === n || r.slice(0, n.length + 1) === n + "-"))
					}
				},
				CHILD: function (e, t, n, i, r) {
					var a = "nth" !== e.slice(0, 3),
					o = "last" !== e.slice(-4),
					s = "of-type" === t;
					return 1 === i && 0 === r ? function (e) {
						return !!e.parentNode
					}
					 : function (t, n, l) {
						var c,
						d,
						u,
						h,
						p,
						f,
						m = a !== o ? "nextSibling" : "previousSibling",
						g = t.parentNode,
						v = s && t.nodeName.toLowerCase(),
						b = !l && !s;
						if (g) {
							if (a) {
								for (; m; ) {
									for (u = t; u = u[m]; )
										if (s ? u.nodeName.toLowerCase() === v : 1 === u.nodeType)
											return !1;
									f = m = "only" === e && !f && "nextSibling"
								}
								return !0
							}
							if (f = [o ? g.firstChild : g.lastChild], o && b) {
								for (p = (c = (d = g[z] || (g[z] = {}))[e] || [])[0] === B && c[1], h = c[0] === B && c[2], u = p && g.childNodes[p]; u = ++p && u && u[m] || (h = p = 0) || f.pop(); )
									if (1 === u.nodeType && ++h && u === t) {
										d[e] = [B, p, h];
										break
									}
							} else if (b && (c = (t[z] || (t[z] = {}))[e]) && c[0] === B)
								h = c[1];
							else
								for (; (u = ++p && u && u[m] || (h = p = 0) || f.pop()) && ((s ? u.nodeName.toLowerCase() !== v : 1 !== u.nodeType) || !++h || (b && ((u[z] || (u[z] = {}))[e] = [B, h]), u !== t)); );
							return (h -= r) === i || 0 == h % i && h / i >= 0
						}
					}
				},
				PSEUDO: function (e, t) {
					var n,
					i = T.pseudos[e] || T.setFilters[e.toLowerCase()] || o.error("unsupported pseudo: " + e);
					return i[z] ? i(t) : i.length > 1 ? (n = [e, e, "", t], T.setFilters.hasOwnProperty(e.toLowerCase()) ? r(function (e, n) {
							for (var r, a = i(e, t), o = a.length; o--; )
								r = Q.call(e, a[o]), e[r] = !(n[r] = a[o])
						}) : function (e) {
						return i(e, 0, n)
					}) : i
				}
			},
			pseudos: {
				not: r(function (e) {
					var t = [],
					n = [],
					i = C(e.replace(ae, "$1"));
					return i[z] ? r(function (e, t, n, r) {
						for (var a, o = i(e, null, r, []), s = e.length; s--; )
							(a = o[s]) && (e[s] = !(t[s] = a))
					}) : function (e, r, a) {
						return t[0] = e,
						i(t, null, a, n),
						!n.pop()
					}
				}),
				has: r(function (e) {
					return function (t) {
						return o(e, t).length > 0
					}
				}),
				contains: r(function (e) {
					return function (t) {
						return (t.textContent || t.innerText || E(t)).indexOf(e) > -1
					}
				}),
				lang: r(function (e) {
					return ce.test(e || "") || o.error("unsupported lang: " + e),
					e = e.replace(be, ye).toLowerCase(),
					function (t) {
						var n;
						do {
							if (n = k ? t.getAttribute("xml:lang") || t.getAttribute("lang") : t.lang)
								return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-")
						} while ((t = t.parentNode) && 1 === t.nodeType);
						return !1
					}
				}),
				target: function (t) {
					var n = e.location && e.location.hash;
					return n && n.slice(1) === t.id
				},
				root: function (e) {
					return e === L
				},
				focus: function (e) {
					return e === P.activeElement && (!P.hasFocus || P.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
				},
				enabled: function (e) {
					return !1 === e.disabled
				},
				disabled: function (e) {
					return !0 === e.disabled
				},
				checked: function (e) {
					var t = e.nodeName.toLowerCase();
					return "input" === t && !!e.checked || "option" === t && !!e.selected
				},
				selected: function (e) {
					return e.parentNode && e.parentNode.selectedIndex,
					!0 === e.selected
				},
				empty: function (e) {
					for (e = e.firstChild; e; e = e.nextSibling)
						if (e.nodeName > "@" || 3 === e.nodeType || 4 === e.nodeType)
							return !1;
					return !0
				},
				parent: function (e) {
					return !T.pseudos.empty(e)
				},
				header: function (e) {
					return me.test(e.nodeName)
				},
				input: function (e) {
					return fe.test(e.nodeName)
				},
				button: function (e) {
					var t = e.nodeName.toLowerCase();
					return "input" === t && "button" === e.type || "button" === t
				},
				text: function (e) {
					var t;
					return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || t.toLowerCase() === e.type)
				},
				first: d(function () {
					return [0]
				}),
				last: d(function (e, t) {
					return [t - 1]
				}),
				eq: d(function (e, t, n) {
					return [0 > n ? n + t : n]
				}),
				even: d(function (e, t) {
					for (var n = 0; t > n; n += 2)
						e.push(n);
					return e
				}),
				odd: d(function (e, t) {
					for (var n = 1; t > n; n += 2)
						e.push(n);
					return e
				}),
				lt: d(function (e, t, n) {
					for (var i = 0 > n ? n + t : n; --i >= 0; )
						e.push(i);
					return e
				}),
				gt: d(function (e, t, n) {
					for (var i = 0 > n ? n + t : n; t > ++i; )
						e.push(i);
					return e
				})
			}
		};
		for (w in {
			radio: !0,
			checkbox: !0,
			file: !0,
			password: !0,
			image: !0
		})
			T.pseudos[w] = l(w);
		for (w in {
			submit: !0,
			reset: !0
		})
			T.pseudos[w] = c(w);
		C = o.compile = function (e, t) {
			var n,
			i = [],
			r = [],
			a = G[e + " "];
			if (!a) {
				for (t || (t = u(e)), n = t.length; n--; )
					(a = v(t[n]))[z] ? i.push(a) : r.push(a);
				a = G(e, b(r, i))
			}
			return a
		},
		T.pseudos.nth = T.pseudos.eq,
		T.filters = x.prototype = T.pseudos,
		T.setFilters = new x,
		R(),
		o.attr = ee.attr,
		ee.find = o,
		ee.expr = o.selectors,
		ee.expr[":"] = ee.expr.pseudos,
		ee.unique = o.uniqueSort,
		ee.text = o.getText,
		ee.isXMLDoc = o.isXML,
		ee.contains = o.contains
	}
	(e);
	var Oe = /Until$/,
	De = /^(?:parents|prev(?:Until|All))/,
	Ie = /^.[^:#\[\.,]*$/,
	Fe = ee.expr.match.needsContext,
	Ne = {
		children: !0,
		contents: !0,
		next: !0,
		prev: !0
	};
	ee.fn.extend({
		find: function (e) {
			var t,
			n,
			i,
			r = this.length;
			if ("string" != typeof e)
				return i = this, this.pushStack(ee(e).filter(function () {
						for (t = 0; r > t; t++)
							if (ee.contains(i[t], this))
								return !0
					}));
			for (n = [], t = 0; r > t; t++)
				ee.find(e, this[t], n);
			return n = this.pushStack(r > 1 ? ee.unique(n) : n),
			n.selector = (this.selector ? this.selector + " " : "") + e,
			n
		},
		has: function (e) {
			var t,
			n = ee(e, this),
			i = n.length;
			return this.filter(function () {
				for (t = 0; i > t; t++)
					if (ee.contains(this, n[t]))
						return !0
			})
		},
		not: function (e) {
			return this.pushStack(d(this, e, !1))
		},
		filter: function (e) {
			return this.pushStack(d(this, e, !0))
		},
		is: function (e) {
			return !!e && ("string" == typeof e ? Fe.test(e) ? ee(e, this.context).index(this[0]) >= 0 : ee.filter(e, this).length > 0 : this.filter(e).length > 0)
		},
		closest: function (e, t) {
			for (var n, i = 0, r = this.length, a = [], o = Fe.test(e) || "string" != typeof e ? ee(e, t || this.context) : 0; r > i; i++)
				for (n = this[i]; n && n.ownerDocument && n !== t && 11 !== n.nodeType; ) {
					if (o ? o.index(n) > -1 : ee.find.matchesSelector(n, e)) {
						a.push(n);
						break
					}
					n = n.parentNode
				}
			return this.pushStack(a.length > 1 ? ee.unique(a) : a)
		},
		index: function (e) {
			return e ? "string" == typeof e ? ee.inArray(this[0], ee(e)) : ee.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
		},
		add: function (e, t) {
			var n = "string" == typeof e ? ee(e, t) : ee.makeArray(e && e.nodeType ? [e] : e),
			i = ee.merge(this.get(), n);
			return this.pushStack(ee.unique(i))
		},
		addBack: function (e) {
			return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
		}
	}),
	ee.fn.andSelf = ee.fn.addBack,
	ee.each({
		parent: function (e) {
			var t = e.parentNode;
			return t && 11 !== t.nodeType ? t : null
		},
		parents: function (e) {
			return ee.dir(e, "parentNode")
		},
		parentsUntil: function (e, t, n) {
			return ee.dir(e, "parentNode", n)
		},
		next: function (e) {
			return c(e, "nextSibling")
		},
		prev: function (e) {
			return c(e, "previousSibling")
		},
		nextAll: function (e) {
			return ee.dir(e, "nextSibling")
		},
		prevAll: function (e) {
			return ee.dir(e, "previousSibling")
		},
		nextUntil: function (e, t, n) {
			return ee.dir(e, "nextSibling", n)
		},
		prevUntil: function (e, t, n) {
			return ee.dir(e, "previousSibling", n)
		},
		siblings: function (e) {
			return ee.sibling((e.parentNode || {}).firstChild, e)
		},
		children: function (e) {
			return ee.sibling(e.firstChild)
		},
		contents: function (e) {
			return ee.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : ee.merge([], e.childNodes)
		}
	}, function (e, t) {
		ee.fn[e] = function (n, i) {
			var r = ee.map(this, t, n);
			return Oe.test(e) || (i = n),
			i && "string" == typeof i && (r = ee.filter(i, r)),
			r = this.length > 1 && !Ne[e] ? ee.unique(r) : r,
			this.length > 1 && De.test(e) && (r = r.reverse()),
			this.pushStack(r)
		}
	}),
	ee.extend({
		filter: function (e, t, n) {
			return n && (e = ":not(" + e + ")"),
			1 === t.length ? ee.find.matchesSelector(t[0], e) ? [t[0]] : [] : ee.find.matches(e, t)
		},
		dir: function (e, n, i) {
			for (var r = [], a = e[n]; a && 9 !== a.nodeType && (i === t || 1 !== a.nodeType || !ee(a).is(i)); )
				1 === a.nodeType && r.push(a), a = a[n];
			return r
		},
		sibling: function (e, t) {
			for (var n = []; e; e = e.nextSibling)
				1 === e.nodeType && e !== t && n.push(e);
			return n
		}
	});
	var ze = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
	He = / jQuery\d+="(?:null|\d+)"/g,
	Ue = RegExp("<(?:" + ze + ")[\\s/>]", "i"),
	Be = /^\s+/,
	je = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	Ve = /<([\w:]+)/,
	We = /<tbody/i,
	Ge = /<|&#?\w+;/,
	$e = /<(?:script|style|link)/i,
	Xe = /^(?:checkbox|radio)$/i,
	Ye = /checked\s*(?:[^=]|=\s*.checked.)/i,
	qe = /^$|\/(?:java|ecma)script/i,
	Ze = /^true\/(.*)/,
	Je = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
	Qe = {
		option: [1, "<select multiple='multiple'>", "</select>"],
		legend: [1, "<fieldset>", "</fieldset>"],
		area: [1, "<map>", "</map>"],
		param: [1, "<object>", "</object>"],
		thead: [1, "<table>", "</table>"],
		tr: [2, "<table><tbody>", "</tbody></table>"],
		col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
		td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
		_default: ee.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
	},
	Ke = u(U).appendChild(U.createElement("div"));
	Qe.optgroup = Qe.option,
	Qe.tbody = Qe.tfoot = Qe.colgroup = Qe.caption = Qe.thead,
	Qe.th = Qe.td,
	ee.fn.extend({
		text: function (e) {
			return ee.access(this, function (e) {
				return e === t ? ee.text(this) : this.empty().append((this[0] && this[0].ownerDocument || U).createTextNode(e))
			}, null, e, arguments.length)
		},
		wrapAll: function (e) {
			if (ee.isFunction(e))
				return this.each(function (t) {
					ee(this).wrapAll(e.call(this, t))
				});
			if (this[0]) {
				var t = ee(e, this[0].ownerDocument).eq(0).clone(!0);
				this[0].parentNode && t.insertBefore(this[0]),
				t.map(function () {
					for (var e = this; e.firstChild && 1 === e.firstChild.nodeType; )
						e = e.firstChild;
					return e
				}).append(this)
			}
			return this
		},
		wrapInner: function (e) {
			return ee.isFunction(e) ? this.each(function (t) {
				ee(this).wrapInner(e.call(this, t))
			}) : this.each(function () {
				var t = ee(this),
				n = t.contents();
				n.length ? n.wrapAll(e) : t.append(e)
			})
		},
		wrap: function (e) {
			var t = ee.isFunction(e);
			return this.each(function (n) {
				ee(this).wrapAll(t ? e.call(this, n) : e)
			})
		},
		unwrap: function () {
			return this.parent().each(function () {
				ee.nodeName(this, "body") || ee(this).replaceWith(this.childNodes)
			}).end()
		},
		append: function () {
			return this.domManip(arguments, !0, function (e) {
				(1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && this.appendChild(e)
			})
		},
		prepend: function () {
			return this.domManip(arguments, !0, function (e) {
				(1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && this.insertBefore(e, this.firstChild)
			})
		},
		before: function () {
			return this.domManip(arguments, !1, function (e) {
				this.parentNode && this.parentNode.insertBefore(e, this)
			})
		},
		after: function () {
			return this.domManip(arguments, !1, function (e) {
				this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
			})
		},
		remove: function (e, t) {
			for (var n, i = 0; null != (n = this[i]); i++)
				(!e || ee.filter(e, [n]).length > 0) && (t || 1 !== n.nodeType || ee.cleanData(v(n)), n.parentNode && (t && ee.contains(n.ownerDocument, n) && f(v(n, "script")), n.parentNode.removeChild(n)));
			return this
		},
		empty: function () {
			for (var e, t = 0; null != (e = this[t]); t++) {
				for (1 === e.nodeType && ee.cleanData(v(e, !1)); e.firstChild; )
					e.removeChild(e.firstChild);
				e.options && ee.nodeName(e, "select") && (e.options.length = 0)
			}
			return this
		},
		clone: function (e, t) {
			return e = null != e && e,
			t = null == t ? e : t,
			this.map(function () {
				return ee.clone(this, e, t)
			})
		},
		html: function (e) {
			return ee.access(this, function (e) {
				var n = this[0] || {},
				i = 0,
				r = this.length;
				if (e === t)
					return 1 === n.nodeType ? n.innerHTML.replace(He, "") : t;
				if (!("string" != typeof e || $e.test(e) || !ee.support.htmlSerialize && Ue.test(e) || !ee.support.leadingWhitespace && Be.test(e) || Qe[(Ve.exec(e) || ["", ""])[1].toLowerCase()])) {
					e = e.replace(je, "<$1></$2>");
					try {
						for (; r > i; i++)
							1 === (n = this[i] || {}).nodeType && (ee.cleanData(v(n, !1)), n.innerHTML = e);
						n = 0
					} catch (e) {}
				}
				n && this.empty().append(e)
			}, null, e, arguments.length)
		},
		replaceWith: function (e) {
			return ee.isFunction(e) || "string" == typeof e || (e = ee(e).not(this).detach()),
			this.domManip([e], !0, function (e) {
				var t = this.nextSibling,
				n = this.parentNode;
				n && (ee(this).remove(), n.insertBefore(e, t))
			})
		},
		detach: function (e) {
			return this.remove(e, !0)
		},
		domManip: function (e, n, i) {
			e = X.apply([], e);
			var r,
			a,
			o,
			s,
			l,
			c,
			d = 0,
			u = this.length,
			f = this,
			m = u - 1,
			g = e[0],
			b = ee.isFunction(g);
			if (b || !(1 >= u || "string" != typeof g || ee.support.checkClone) && Ye.test(g))
				return this.each(function (r) {
					var a = f.eq(r);
					b && (e[0] = g.call(this, r, n ? a.html() : t)),
					a.domManip(e, n, i)
				});
			if (u && (c = ee.buildFragment(e, this[0].ownerDocument, !1, this), r = c.firstChild, 1 === c.childNodes.length && (c = r), r)) {
				for (n = n && ee.nodeName(r, "tr"), o = (s = ee.map(v(c, "script"), h)).length; u > d; d++)
					a = c, d !== m && (a = ee.clone(a, !0, !0), o && ee.merge(s, v(a, "script"))), i.call(n && ee.nodeName(this[d], "table") ? function (e, t) {
						return e.getElementsByTagName(t)[0] || e.appendChild(e.ownerDocument.createElement(t))
					}
						(this[d], "tbody") : this[d], a, d);
				if (o)
					for (l = s[s.length - 1].ownerDocument, ee.map(s, p), d = 0; o > d; d++)
						a = s[d], qe.test(a.type || "") && !ee._data(a, "globalEval") && ee.contains(l, a) && (a.src ? ee.ajax({
								url: a.src,
								type: "GET",
								dataType: "script",
								async: !1,
								global: !1,
								throws: !0
							}) : ee.globalEval((a.text || a.textContent || a.innerHTML || "").replace(Je, "")));
				c = r = null
			}
			return this
		}
	}),
	ee.each({
		appendTo: "append",
		prependTo: "prepend",
		insertBefore: "before",
		insertAfter: "after",
		replaceAll: "replaceWith"
	}, function (e, t) {
		ee.fn[e] = function (e) {
			for (var n, i = 0, r = [], a = ee(e), o = a.length - 1; o >= i; i++)
				n = i === o ? this : this.clone(!0), ee(a[i])[t](n), Y.apply(r, n.get());
			return this.pushStack(r)
		}
	}),
	ee.extend({
		clone: function (e, t, n) {
			var i,
			r,
			a,
			o,
			s,
			l = ee.contains(e.ownerDocument, e);
			if (ee.support.html5Clone || ee.isXMLDoc(e) || !Ue.test("<" + e.nodeName + ">") ? a = e.cloneNode(!0) : (Ke.innerHTML = e.outerHTML, Ke.removeChild(a = Ke.firstChild)), !(ee.support.noCloneEvent && ee.support.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || ee.isXMLDoc(e)))
				for (i = v(a), s = v(e), o = 0; null != (r = s[o]); ++o)
					i[o] && g(r, i[o]);
			if (t)
				if (n)
					for (s = s || v(e), i = i || v(a), o = 0; null != (r = s[o]); o++)
						m(r, i[o]);
				else
					m(e, a);
			return (i = v(a, "script")).length > 0 && f(i, !l && v(e, "script")),
			i = s = r = null,
			a
		},
		buildFragment: function (e, t, n, i) {
			for (var r, a, o, s, l, c, d, h = e.length, p = u(t), m = [], g = 0; h > g; g++)
				if ((a = e[g]) || 0 === a)
					if ("object" === ee.type(a))
						ee.merge(m, a.nodeType ? [a] : a);
					else if (Ge.test(a)) {
						for (s = s || p.appendChild(t.createElement("div")), l = (Ve.exec(a) || ["", ""])[1].toLowerCase(), d = Qe[l] || Qe._default, s.innerHTML = d[1] + a.replace(je, "<$1></$2>") + d[2], r = d[0]; r--; )
							s = s.lastChild;
						if (!ee.support.leadingWhitespace && Be.test(a) && m.push(t.createTextNode(Be.exec(a)[0])), !ee.support.tbody)
							for (r = (a = "table" !== l || We.test(a) ? "<table>" !== d[1] || We.test(a) ? 0 : s : s.firstChild) && a.childNodes.length; r--; )
								ee.nodeName(c = a.childNodes[r], "tbody") && !c.childNodes.length && a.removeChild(c);
						for (ee.merge(m, s.childNodes), s.textContent = ""; s.firstChild; )
							s.removeChild(s.firstChild);
						s = p.lastChild
					} else
						m.push(t.createTextNode(a));
			for (s && p.removeChild(s), ee.support.appendChecked || ee.grep(v(m, "input"), b), g = 0; a = m[g++]; )
				if ((!i || -1 === ee.inArray(a, i)) && (o = ee.contains(a.ownerDocument, a), s = v(p.appendChild(a), "script"), o && f(s), n))
					for (r = 0; a = s[r++]; )
						qe.test(a.type || "") && n.push(a);
			return s = null,
			p
		},
		cleanData: function (e, t) {
			for (var n, i, r, a, o = 0, s = ee.expando, l = ee.cache, c = ee.support.deleteExpando, d = ee.event.special; null != (n = e[o]); o++)
				if ((t || ee.acceptData(n)) && (r = n[s], a = r && l[r])) {
					if (a.events)
						for (i in a.events)
							d[i] ? ee.event.remove(n, i) : ee.removeEvent(n, i, a.handle);
					l[r] && (delete l[r], c ? delete n[s] : typeof n.removeAttribute !== H ? n.removeAttribute(s) : n[s] = null, G.push(r))
				}
		}
	});
	var et,
	tt,
	nt,
	it = /alpha\([^)]*\)/i,
	rt = /opacity\s*=\s*([^)]*)/,
	at = /^(top|right|bottom|left)$/,
	ot = /^(none|table(?!-c[ea]).+)/,
	st = /^margin/,
	lt = RegExp("^(" + te + ")(.*)$", "i"),
	ct = RegExp("^(" + te + ")(?!px)[a-z%]+$", "i"),
	dt = RegExp("^([+-])=(" + te + ")", "i"),
	ut = {
		BODY: "block"
	},
	ht = {
		position: "absolute",
		visibility: "hidden",
		display: "block"
	},
	pt = {
		letterSpacing: 0,
		fontWeight: 400
	},
	ft = ["Top", "Right", "Bottom", "Left"],
	mt = ["Webkit", "O", "Moz", "ms"];
	ee.fn.extend({
		css: function (e, n) {
			return ee.access(this, function (e, n, i) {
				var r,

				a,
				o = {},
				s = 0;
				if (ee.isArray(n)) {
					for (a = tt(e), r = n.length; r > s; s++)
						o[n[s]] = ee.css(e, n[s], !1, a);
					return o
				}
				return i !== t ? ee.style(e, n, i) : ee.css(e, n)
			}, e, n, arguments.length > 1)
		},
		show: function () {
			return w(this, !0)
		},
		hide: function () {
			return w(this)
		},
		toggle: function (e) {
			var t = "boolean" == typeof e;
			return this.each(function () {
				(t ? e : x(this)) ? ee(this).show() : ee(this).hide()
			})
		}
	}),
	ee.extend({
		cssHooks: {
			opacity: {
				get: function (e, t) {
					if (t) {
						var n = nt(e, "opacity");
						return "" === n ? "1" : n
					}
				}
			}
		},
		cssNumber: {
			columnCount: !0,
			fillOpacity: !0,
			fontWeight: !0,
			lineHeight: !0,
			opacity: !0,
			orphans: !0,
			widows: !0,
			zIndex: !0,
			zoom: !0
		},
		cssProps: {
			float: ee.support.cssFloat ? "cssFloat" : "styleFloat"
		},
		style: function (e, n, i, r) {
			if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
				var a,
				o,
				s,
				l = ee.camelCase(n),
				c = e.style;
				if (n = ee.cssProps[l] || (ee.cssProps[l] = y(c, l)), s = ee.cssHooks[n] || ee.cssHooks[l], i === t)
					return s && "get" in s && (a = s.get(e, !1, r)) !== t ? a : c[n];
				if ("string" === (o = typeof i) && (a = dt.exec(i)) && (i = (a[1] + 1) * a[2] + parseFloat(ee.css(e, n)), o = "number"), !(null == i || "number" === o && isNaN(i) || ("number" !== o || ee.cssNumber[l] || (i += "px"), ee.support.clearCloneStyle || "" !== i || 0 !== n.indexOf("background") || (c[n] = "inherit"), s && "set" in s && (i = s.set(e, i, r)) === t)))
					try {
						c[n] = i
					} catch (e) {}
			}
		},
		css: function (e, n, i, r) {
			var a,
			o,
			s,
			l = ee.camelCase(n);
			return n = ee.cssProps[l] || (ee.cssProps[l] = y(e.style, l)),
			(s = ee.cssHooks[n] || ee.cssHooks[l]) && "get" in s && (o = s.get(e, !0, i)),
			o === t && (o = nt(e, n, r)),
			"normal" === o && n in pt && (o = pt[n]),
			"" === i || i ? (a = parseFloat(o), !0 === i || ee.isNumeric(a) ? a || 0 : o) : o
		},
		swap: function (e, t, n, i) {
			var r,
			a,
			o = {};
			for (a in t)
				o[a] = e.style[a], e.style[a] = t[a];
			r = n.apply(e, i || []);
			for (a in t)
				e.style[a] = o[a];
			return r
		}
	}),
	e.getComputedStyle ? (tt = function (t) {
		return e.getComputedStyle(t, null)
	}, nt = function (e, n, i) {
		var r,
		a,
		o,
		s = i || tt(e),
		l = s ? s.getPropertyValue(n) || s[n] : t,
		c = e.style;
		return s && ("" !== l || ee.contains(e.ownerDocument, e) || (l = ee.style(e, n)), ct.test(l) && st.test(n) && (r = c.width, a = c.minWidth, o = c.maxWidth, c.minWidth = c.maxWidth = c.width = l, l = s.width, c.width = r, c.minWidth = a, c.maxWidth = o)),
		l
	}) : U.documentElement.currentStyle && (tt = function (e) {
		return e.currentStyle
	}, nt = function (e, n, i) {
		var r,
		a,
		o,
		s = i || tt(e),
		l = s ? s[n] : t,
		c = e.style;
		return null == l && c && c[n] && (l = c[n]),
		ct.test(l) && !at.test(n) && (r = c.left, a = e.runtimeStyle, (o = a && a.left) && (a.left = e.currentStyle.left), c.left = "fontSize" === n ? "1em" : l, l = c.pixelLeft + "px", c.left = r, o && (a.left = o)),
		"" === l ? "auto" : l
	}),
	ee.each(["height", "width"], function (e, n) {
		ee.cssHooks[n] = {
			get: function (e, i, r) {
				return i ? 0 === e.offsetWidth && ot.test(ee.css(e, "display")) ? ee.swap(e, ht, function () {
					return E(e, n, r)
				}) : E(e, n, r) : t
			},
			set: function (e, t, i) {
				var r = i && tt(e);
				return _(0, t, i ? T(e, n, i, ee.support.boxSizing && "border-box" === ee.css(e, "boxSizing", !1, r), r) : 0)
			}
		}
	}),
	ee.support.opacity || (ee.cssHooks.opacity = {
			get: function (e, t) {
				return rt.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
			},
			set: function (e, t) {
				var n = e.style,
				i = e.currentStyle,
				r = ee.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : "",
				a = i && i.filter || n.filter || "";
				n.zoom = 1,
				(t >= 1 || "" === t) && "" === ee.trim(a.replace(it, "")) && n.removeAttribute && (n.removeAttribute("filter"), "" === t || i && !i.filter) || (n.filter = it.test(a) ? a.replace(it, r) : a + " " + r)
			}
		}),
	ee(function () {
		ee.support.reliableMarginRight || (ee.cssHooks.marginRight = {
				get: function (e, n) {
					return n ? ee.swap(e, {
						display: "inline-block"
					}, nt, [e, "marginRight"]) : t
				}
			}),
		!ee.support.pixelPosition && ee.fn.position && ee.each(["top", "left"], function (e, n) {
			ee.cssHooks[n] = {
				get: function (e, i) {
					return i ? (i = nt(e, n), ct.test(i) ? ee(e).position()[n] + "px" : i) : t
				}
			}
		})
	}),
	ee.expr && ee.expr.filters && (ee.expr.filters.hidden = function (e) {
		return 0 >= e.offsetWidth && 0 >= e.offsetHeight || !ee.support.reliableHiddenOffsets && "none" === (e.style && e.style.display || ee.css(e, "display"))
	}, ee.expr.filters.visible = function (e) {
		return !ee.expr.filters.hidden(e)
	}),
	ee.each({
		margin: "",
		padding: "",
		border: "Width"
	}, function (e, t) {
		ee.cssHooks[e + t] = {
			expand: function (n) {
				for (var i = 0, r = {}, a = "string" == typeof n ? n.split(" ") : [n]; 4 > i; i++)
					r[e + ft[i] + t] = a[i] || a[i - 2] || a[0];
				return r
			}
		},
		st.test(e) || (ee.cssHooks[e + t].set = _)
	});
	var gt = /%20/g,
	vt = /\[\]$/,
	bt = /\r?\n/g,
	yt = /^(?:submit|button|image|reset|file)$/i,
	xt = /^(?:input|select|textarea|keygen)/i;
	ee.fn.extend({
		serialize: function () {
			return ee.param(this.serializeArray())
		},
		serializeArray: function () {
			return this.map(function () {
				var e = ee.prop(this, "elements");
				return e ? ee.makeArray(e) : this
			}).filter(function () {
				var e = this.type;
				return this.name && !ee(this).is(":disabled") && xt.test(this.nodeName) && !yt.test(e) && (this.checked || !Xe.test(e))
			}).map(function (e, t) {
				var n = ee(this).val();
				return null == n ? null : ee.isArray(n) ? ee.map(n, function (e) {
					return {
						name: t.name,
						value: e.replace(bt, "\r\n")
					}
				}) : {
					name: t.name,
					value: n.replace(bt, "\r\n")
				}
			}).get()
		}
	}),
	ee.param = function (e, n) {
		var i,
		r = [],
		a = function (e, t) {
			t = ee.isFunction(t) ? t() : null == t ? "" : t,
			r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
		};
		if (n === t && (n = ee.ajaxSettings && ee.ajaxSettings.traditional), ee.isArray(e) || e.jquery && !ee.isPlainObject(e))
			ee.each(e, function () {
				a(this.name, this.value)
			});
		else
			for (i in e)
				S(i, e[i], n, a);
		return r.join("&").replace(gt, "+")
	},
	ee.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (e, t) {
		ee.fn[t] = function (e, n) {
			return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
		}
	}),
	ee.fn.hover = function (e, t) {
		return this.mouseenter(e).mouseleave(t || e)
	};
	var wt,
	_t,
	Tt = ee.now(),
	Et = /\?/,
	Mt = /#.*$/,
	Ct = /([?&])_=[^&]*/,
	St = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
	At = /^(?:GET|HEAD)$/,
	Rt = /^\/\//,
	Pt = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
	Lt = ee.fn.load,
	kt = {},
	Ot = {},
	Dt = "*/".concat("*");
	try {
		_t = B.href
	} catch (e) {
		(_t = U.createElement("a")).href = "",
		_t = _t.href
	}
	wt = Pt.exec(_t.toLowerCase()) || [],
	ee.fn.load = function (e, n, i) {
		if ("string" != typeof e && Lt)
			return Lt.apply(this, arguments);
		var r,
		a,
		o,
		s = this,
		l = e.indexOf(" ");
		return l >= 0 && (r = e.slice(l, e.length), e = e.slice(0, l)),
		ee.isFunction(n) ? (i = n, n = t) : n && "object" == typeof n && (o = "POST"),
		s.length > 0 && ee.ajax({
			url: e,
			type: o,
			dataType: "html",
			data: n
		}).done(function (e) {
			a = arguments,
			s.html(r ? ee("<div>").append(ee.parseHTML(e)).find(r) : e)
		}).complete(i && function (e, t) {
			s.each(i, a || [e.responseText, t, e])
		}),
		this
	},
	ee.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (e, t) {
		ee.fn[t] = function (e) {
			return this.on(t, e)
		}
	}),
	ee.each(["get", "post"], function (e, n) {
		ee[n] = function (e, i, r, a) {
			return ee.isFunction(i) && (a = a || r, r = i, i = t),
			ee.ajax({
				url: e,
				type: n,
				dataType: a,
				data: i,
				success: r
			})
		}
	}),
	ee.extend({
		active: 0,
		lastModified: {},
		etag: {},
		ajaxSettings: {
			url: _t,
			type: "GET",
			isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt[1]),
			global: !0,
			processData: !0,
			async: !0,
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			accepts: {
				"*": Dt,
				text: "text/plain",
				html: "text/html",
				xml: "application/xml, text/xml",
				json: "application/json, text/javascript"
			},
			contents: {
				xml: /xml/,
				html: /html/,
				json: /json/
			},
			responseFields: {
				xml: "responseXML",
				text: "responseText"
			},
			converters: {
				"* text": e.String,
				"text html": !0,
				"text json": ee.parseJSON,
				"text xml": ee.parseXML
			},
			flatOptions: {
				url: !0,
				context: !0
			}
		},
		ajaxSetup: function (e, t) {
			return t ? P(P(e, ee.ajaxSettings), t) : P(ee.ajaxSettings, e)
		},
		ajaxPrefilter: A(kt),
		ajaxTransport: A(Ot),
		ajax: function (e, n) {
			function i(e, n, i, r) {
				var a,
				u,
				b,
				y,
				w,
				T = n;
				2 !== x && (x = 2, l && clearTimeout(l), d = t, s = r || "", _.readyState = e > 0 ? 4 : 0, i && (y = function (e, n, i) {
						var r,
						a,
						o,
						s,
						l = e.contents,
						c = e.dataTypes,
						d = e.responseFields;
						for (s in d)
							s in i && (n[d[s]] = i[s]);
						for (; "*" === c[0]; )
							c.shift(), a === t && (a = e.mimeType || n.getResponseHeader("Content-Type"));
						if (a)
							for (s in l)
								if (l[s] && l[s].test(a)) {
									c.unshift(s);
									break
								}
						if (c[0]in i)
							o = c[0];
						else {
							for (s in i) {
								if (!c[0] || e.converters[s + " " + c[0]]) {
									o = s;
									break
								}
								r || (r = s)
							}
							o = o || r
						}
						return o ? (o !== c[0] && c.unshift(o), i[o]) : t
					}
						(h, _, i)), e >= 200 && 300 > e || 304 === e ? (h.ifModified && ((w = _.getResponseHeader("Last-Modified")) && (ee.lastModified[o] = w), (w = _.getResponseHeader("etag")) && (ee.etag[o] = w)), 204 === e ? (a = !0, T = "nocontent") : 304 === e ? (a = !0, T = "notmodified") : (a = function (e, t) {
							var n,
							i,
							r,
							a,
							o = {},
							s = 0,
							l = e.dataTypes.slice(),
							c = l[0];
							if (e.dataFilter && (t = e.dataFilter(t, e.dataType)), l[1])
								for (r in e.converters)
									o[r.toLowerCase()] = e.converters[r];
							for (; i = l[++s]; )
								if ("*" !== i) {
									if ("*" !== c && c !== i) {
										if (!(r = o[c + " " + i] || o["* " + i]))
											for (n in o)
												if ((a = n.split(" "))[1] === i && (r = o[c + " " + a[0]] || o["* " + a[0]])) {
													!0 === r ? r = o[n] : !0 !== o[n] && (i = a[0], l.splice(s--, 0, i));
													break
												}
										if (!0 !== r)
											if (r && e.throws)
												t = r(t);
											else
												try {
													t = r(t)
												} catch (e) {
													return {
														state: "parsererror",
														error: r ? e : "No conversion from " + c + " to " + i
													}
												}
									}
									c = i
								}
							return {
								state: "success",
								data: t
							}
						}
							(h, y), T = a.state, u = a.data, b = a.error, a = !b)) : (b = T, (e || !T) && (T = "error", 0 > e && (e = 0))), _.status = e, _.statusText = (n || T) + "", a ? m.resolveWith(p, [u, T, _]) : m.rejectWith(p, [_, T, b]), _.statusCode(v), v = t, c && f.trigger(a ? "ajaxSuccess" : "ajaxError", [_, h, a ? u : b]), g.fireWith(p, [_, T]), c && (f.trigger("ajaxComplete", [_, h]), --ee.active || ee.event.trigger("ajaxStop")))
			}
			"object" == typeof e && (n = e, e = t),
			n = n || {};
			var r,
			a,
			o,
			s,
			l,
			c,
			d,
			u,
			h = ee.ajaxSetup({}, n),
			p = h.context || h,
			f = h.context && (p.nodeType || p.jquery) ? ee(p) : ee.event,
			m = ee.Deferred(),
			g = ee.Callbacks("once memory"),
			v = h.statusCode || {},
			b = {},
			y = {},
			x = 0,
			w = "canceled",
			_ = {
				readyState: 0,
				getResponseHeader: function (e) {
					var t;
					if (2 === x) {
						if (!u)
							for (u = {}; t = St.exec(s); )
								u[t[1].toLowerCase()] = t[2];
						t = u[e.toLowerCase()]
					}
					return null == t ? null : t
				},
				getAllResponseHeaders: function () {
					return 2 === x ? s : null
				},
				setRequestHeader: function (e, t) {
					var n = e.toLowerCase();
					return x || (e = y[n] = y[n] || e, b[e] = t),
					this
				},
				overrideMimeType: function (e) {
					return x || (h.mimeType = e),
					this
				},
				statusCode: function (e) {
					var t;
					if (e)
						if (2 > x)
							for (t in e)
								v[t] = [v[t], e[t]];
						else
							_.always(e[_.status]);
					return this
				},
				abort: function (e) {
					var t = e || w;
					return d && d.abort(t),
					i(0, t),
					this
				}
			};
			if (m.promise(_).complete = g.add, _.success = _.done, _.error = _.fail, h.url = ((e || h.url || _t) + "").replace(Mt, "").replace(Rt, wt[1] + "//"), h.type = n.method || n.type || h.method || h.type, h.dataTypes = ee.trim(h.dataType || "*").toLowerCase().match(ne) || [""], null == h.crossDomain && (r = Pt.exec(h.url.toLowerCase()), h.crossDomain = !(!r || r[1] === wt[1] && r[2] === wt[2] && (r[3] || ("http:" === r[1] ? 80 : 443)) == (wt[3] || ("http:" === wt[1] ? 80 : 443)))), h.data && h.processData && "string" != typeof h.data && (h.data = ee.param(h.data, h.traditional)), R(kt, h, n, _), 2 === x)
				return _;
			(c = h.global) && 0 == ee.active++ && ee.event.trigger("ajaxStart"),
			h.type = h.type.toUpperCase(),
			h.hasContent = !At.test(h.type),
			o = h.url,
			h.hasContent || (h.data && (o = h.url += (Et.test(o) ? "&" : "?") + h.data, delete h.data), !1 === h.cache && (h.url = Ct.test(o) ? o.replace(Ct, "$1_=" + Tt++) : o + (Et.test(o) ? "&" : "?") + "_=" + Tt++)),
			h.ifModified && (ee.lastModified[o] && _.setRequestHeader("If-Modified-Since", ee.lastModified[o]), ee.etag[o] && _.setRequestHeader("If-None-Match", ee.etag[o])),
			(h.data && h.hasContent && !1 !== h.contentType || n.contentType) && _.setRequestHeader("Content-Type", h.contentType),
			_.setRequestHeader("Accept", h.dataTypes[0] && h.accepts[h.dataTypes[0]] ? h.accepts[h.dataTypes[0]] + ("*" !== h.dataTypes[0] ? ", " + Dt + "; q=0.01" : "") : h.accepts["*"]);
			for (a in h.headers)
				_.setRequestHeader(a, h.headers[a]);
			if (h.beforeSend && (!1 === h.beforeSend.call(p, _, h) || 2 === x))
				return _.abort();
			w = "abort";
			for (a in {
				success: 1,
				error: 1,
				complete: 1
			})
				_[a](h[a]);
			if (d = R(Ot, h, n, _)) {
				_.readyState = 1,
				c && f.trigger("ajaxSend", [_, h]),
				h.async && h.timeout > 0 && (l = setTimeout(function () {
							_.abort("timeout")
						}, h.timeout));
				try {
					x = 1,
					d.send(b, i)
				} catch (e) {
					if (!(2 > x))
						throw e;
					i(-1, e)
				}
			} else
				i(-1, "No Transport");
			return _
		},
		getScript: function (e, n) {
			return ee.get(e, t, n, "script")
		},
		getJSON: function (e, t, n) {
			return ee.get(e, t, n, "json")
		}
	}),
	ee.ajaxSetup({
		accepts: {
			script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
		},
		contents: {
			script: /(?:java|ecma)script/
		},
		converters: {
			"text script": function (e) {
				return ee.globalEval(e),
				e
			}
		}
	}),
	ee.ajaxPrefilter("script", function (e) {
		e.cache === t && (e.cache = !1),
		e.crossDomain && (e.type = "GET", e.global = !1)
	}),
	ee.ajaxTransport("script", function (e) {
		if (e.crossDomain) {
			var n,
			i = U.head || ee("head")[0] || U.documentElement;
			return {
				send: function (t, r) {
					(n = U.createElement("script")).async = !0,
					e.scriptCharset && (n.charset = e.scriptCharset),
					n.src = e.url,
					n.onload = n.onreadystatechange = function (e, t) {
						(t || !n.readyState || /loaded|complete/.test(n.readyState)) && (n.onload = n.onreadystatechange = null, n.parentNode && n.parentNode.removeChild(n), n = null, t || r(200, "success"))
					},
					i.insertBefore(n, i.firstChild)
				},
				abort: function () {
					n && n.onload(t, !0)
				}
			}
		}
	});
	var It = [],
	Ft = /(=)\?(?=&|$)|\?\?/;
	ee.ajaxSetup({
		jsonp: "callback",
		jsonpCallback: function () {
			var e = It.pop() || ee.expando + "_" + Tt++;
			return this[e] = !0,
			e
		}
	}),
	ee.ajaxPrefilter("json jsonp", function (n, i, r) {
		var a,
		o,
		s,
		l = !1 !== n.jsonp && (Ft.test(n.url) ? "url" : "string" == typeof n.data && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Ft.test(n.data) && "data");
		return l || "jsonp" === n.dataTypes[0] ? (a = n.jsonpCallback = ee.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback, l ? n[l] = n[l].replace(Ft, "$1" + a) : !1 !== n.jsonp && (n.url += (Et.test(n.url) ? "&" : "?") + n.jsonp + "=" + a), n.converters["script json"] = function () {
			return s || ee.error(a + " was not called"),
			s[0]
		}, n.dataTypes[0] = "json", o = e[a], e[a] = function () {
			s = arguments
		}, r.always(function () {
				e[a] = o,
				n[a] && (n.jsonpCallback = i.jsonpCallback, It.push(a)),
				s && ee.isFunction(o) && o(s[0]),
				s = o = t
			}), "script") : t
	});
	var Nt,
	zt,
	Ht = 0,
	Ut = e.ActiveXObject && function () {
		var e;
		for (e in Nt)
			Nt[e](t, !0)
	};
	ee.ajaxSettings.xhr = e.ActiveXObject ? function () {
		return !this.isLocal && L() || function () {
			try {
				return new e.ActiveXObject("Microsoft.XMLHTTP")
			} catch (e) {}
		}
		()
	}
	 : L,
	zt = ee.ajaxSettings.xhr(),
	ee.support.cors = !!zt && "withCredentials" in zt,
	(zt = ee.support.ajax = !!zt) && ee.ajaxTransport(function (n) {
		if (!n.crossDomain || ee.support.cors) {
			var i;
			return {
				send: function (r, a) {
					var o,
					s,
					l = n.xhr();
					if (n.username ? l.open(n.type, n.url, n.async, n.username, n.password) : l.open(n.type, n.url, n.async), n.xhrFields)
						for (s in n.xhrFields)
							l[s] = n.xhrFields[s];
					n.mimeType && l.overrideMimeType && l.overrideMimeType(n.mimeType),
					n.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest");
					try {
						for (s in r)
							l.setRequestHeader(s, r[s])
					} catch (e) {}
					l.send(n.hasContent && n.data || null),
					i = function (e, r) {
						var s,
						c,
						d,
						u;
						try {
							if (i && (r || 4 === l.readyState))
								if (i = t, o && (l.onreadystatechange = ee.noop, Ut && delete Nt[o]), r)
									4 !== l.readyState && l.abort();
								else {
									u = {},
									s = l.status,
									c = l.getAllResponseHeaders(),
									"string" == typeof l.responseText && (u.text = l.responseText);
									try {
										d = l.statusText
									} catch (e) {
										d = ""
									}
									s || !n.isLocal || n.crossDomain ? 1223 === s && (s = 204) : s = u.text ? 200 : 404
								}
						} catch (e) {
							r || a(-1, e)
						}
						u && a(s, d, u, c)
					},
					n.async ? 4 === l.readyState ? setTimeout(i) : (o = ++Ht, Ut && (Nt || (Nt = {}, ee(e).unload(Ut)), Nt[o] = i), l.onreadystatechange = i) : i()
				},
				abort: function () {
					i && i(t, !0)
				}
			}
		}
	});
	var Bt,
	jt,
	Vt = /^(?:toggle|show|hide)$/,
	Wt = RegExp("^(?:([+-])=|)(" + te + ")([a-z%]*)$", "i"),
	Gt = /queueHooks$/,
	$t = [function (e, t, n) {
			var i,
			r,
			a,
			o,
			s,
			l,
			c,
			d,
			u,
			h = this,
			p = e.style,
			f = {},
			m = [],
			g = e.nodeType && x(e);
			n.queue || (null == (d = ee._queueHooks(e, "fx")).unqueued && (d.unqueued = 0, u = d.empty.fire, d.empty.fire = function () {
					d.unqueued || u()
				}), d.unqueued++, h.always(function () {
					h.always(function () {
						d.unqueued--,
						ee.queue(e, "fx").length || d.empty.fire()
					})
				})),
			1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [p.overflow, p.overflowX, p.overflowY], "inline" === ee.css(e, "display") && "none" === ee.css(e, "float") && (ee.support.inlineBlockNeedsLayout && "inline" !== M(e.nodeName) ? p.zoom = 1 : p.display = "inline-block")),
			n.overflow && (p.overflow = "hidden", ee.support.shrinkWrapBlocks || h.always(function () {
					p.overflow = n.overflow[0],
					p.overflowX = n.overflow[1],
					p.overflowY = n.overflow[2]
				}));
			for (r in t)
				if (o = t[r], Vt.exec(o)) {
					if (delete t[r], l = l || "toggle" === o, o === (g ? "hide" : "show"))
						continue;
					m.push(r)
				}
			if (a = m.length) {
				"hidden" in(s = ee._data(e, "fxshow") || ee._data(e, "fxshow", {})) && (g = s.hidden),
				l && (s.hidden = !g),
				g ? ee(e).show() : h.done(function () {
					ee(e).hide()
				}),
				h.done(function () {
					var t;
					ee._removeData(e, "fxshow");
					for (t in f)
						ee.style(e, t, f[t])
				});
				for (r = 0; a > r; r++)
					i = m[r], c = h.createTween(i, g ? s[i] : 0), f[i] = s[i] || ee.style(e, i), i in s || (s[i] = c.start, g && (c.end = c.start, c.start = "width" === i || "height" === i ? 1 : 0))
			}
		}
	],
	Xt = {
		"*": [function (e, t) {
				var n,
				i,
				r = this.createTween(e, t),
				a = Wt.exec(t),
				o = r.cur(),
				s = +o || 0,
				l = 1,
				c = 20;
				if (a) {
					if (n = +a[2], "px" !== (i = a[3] || (ee.cssNumber[e] ? "" : "px")) && s) {
						s = ee.css(r.elem, e, !0) || n || 1;
						do {
							l = l || ".5",
							s /= l,
							ee.style(r.elem, e, s + i)
						} while (l !== (l = r.cur() / o) && 1 !== l && --c)
					}
					r.unit = i,
					r.start = s,
					r.end = a[1] ? s + (a[1] + 1) * n : n
				}
				return r
			}
		]
	};
	ee.Animation = ee.extend(O, {
			tweener: function (e, t) {
				ee.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
				for (var n, i = 0, r = e.length; r > i; i++)
					n = e[i], Xt[n] = Xt[n] || [], Xt[n].unshift(t)
			},
			prefilter: function (e, t) {
				t ? $t.unshift(e) : $t.push(e)
			}
		}),
	ee.Tween = D,
	(D.prototype = {
			constructor: D,
			init: function (e, t, n, i, r, a) {
				this.elem = e,
				this.prop = n,
				this.easing = r || "swing",
				this.options = t,
				this.start = this.now = this.cur(),
				this.end = i,
				this.unit = a || (ee.cssNumber[n] ? "" : "px")
			},
			cur: function () {
				var e = D.propHooks[this.prop];
				return e && e.get ? e.get(this) : D.propHooks._default.get(this)
			},
			run: function (e) {
				var t,
				n = D.propHooks[this.prop];
				return this.pos = t = this.options.duration ? ee.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : e,
				this.now = (this.end - this.start) * t + this.start,
				this.options.step && this.options.step.call(this.elem, this.now, this),
				n && n.set ? n.set(this) : D.propHooks._default.set(this),
				this
			}
		}).init.prototype = D.prototype,
	(D.propHooks = {
			_default: {
				get: function (e) {
					var t;
					return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = ee.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0 : e.elem[e.prop]
				},
				set: function (e) {
					ee.fx.step[e.prop] ? ee.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[ee.cssProps[e.prop]] || ee.cssHooks[e.prop]) ? ee.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
				}
			}
		}).scrollTop = D.propHooks.scrollLeft = {
		set: function (e) {
			e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
		}
	},
	ee.each(["toggle", "show", "hide"], function (e, t) {
		var n = ee.fn[t];
		ee.fn[t] = function (e, i, r) {
			return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(I(t, !0), e, i, r)
		}
	}),
	ee.fn.extend({
		fadeTo: function (e, t, n, i) {
			return this.filter(x).css("opacity", 0).show().end().animate({
				opacity: t
			}, e, n, i)
		},
		animate: function (e, t, n, i) {
			var r = ee.isEmptyObject(e),
			a = ee.speed(t, n, i),
			o = function () {
				var t = O(this, ee.extend({}, e), a);
				o.finish = function () {
					t.stop(!0)
				},
				(r || ee._data(this, "finish")) && t.stop(!0)
			};
			return o.finish = o,
			r || !1 === a.queue ? this.each(o) : this.queue(a.queue, o)
		},
		stop: function (e, n, i) {
			var r = function (e) {
				var t = e.stop;
				delete e.stop,
				t(i)
			};
			return "string" != typeof e && (i = n, n = e, e = t),
			n && !1 !== e && this.queue(e || "fx", []),
			this.each(function () {
				var t = !0,
				n = null != e && e + "queueHooks",
				a = ee.timers,
				o = ee._data(this);
				if (n)
					o[n] && o[n].stop && r(o[n]);
				else
					for (n in o)
						o[n] && o[n].stop && Gt.test(n) && r(o[n]);
				for (n = a.length; n--; )
					a[n].elem !== this || null != e && a[n].queue !== e || (a[n].anim.stop(i), t = !1, a.splice(n, 1));
				(t || !i) && ee.dequeue(this, e)
			})
		},
		finish: function (e) {
			return !1 !== e && (e = e || "fx"),
			this.each(function () {
				var t,
				n = ee._data(this),
				i = n[e + "queue"],
				r = n[e + "queueHooks"],
				a = ee.timers,
				o = i ? i.length : 0;
				for (n.finish = !0, ee.queue(this, e, []), r && r.cur && r.cur.finish && r.cur.finish.call(this), t = a.length; t--; )
					a[t].elem === this && a[t].queue === e && (a[t].anim.stop(!0), a.splice(t, 1));
				for (t = 0; o > t; t++)
					i[t] && i[t].finish && i[t].finish.call(this);
				delete n.finish
			})
		}
	}),
	ee.each({
		slideDown: I("show"),
		slideUp: I("hide"),
		slideToggle: I("toggle"),
		fadeIn: {
			opacity: "show"
		},
		fadeOut: {
			opacity: "hide"
		},
		fadeToggle: {
			opacity: "toggle"
		}
	}, function (e, t) {
		ee.fn[e] = function (e, n, i) {
			return this.animate(t, e, n, i)
		}
	}),
	ee.speed = function (e, t, n) {
		var i = e && "object" == typeof e ? ee.extend({}, e) : {
			complete: n || !n && t || ee.isFunction(e) && e,
			duration: e,
			easing: n && t || t && !ee.isFunction(t) && t
		};
		return i.duration = ee.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in ee.fx.speeds ? ee.fx.speeds[i.duration] : ee.fx.speeds._default,
		(null == i.queue || !0 === i.queue) && (i.queue = "fx"),
		i.old = i.complete,
		i.complete = function () {
			ee.isFunction(i.old) && i.old.call(this),
			i.queue && ee.dequeue(this, i.queue)
		},
		i
	},
	ee.easing = {
		linear: function (e) {
			return e
		},
		swing: function (e) {
			return .5 - Math.cos(e * Math.PI) / 2
		}
	},
	ee.timers = [],
	ee.fx = D.prototype.init,
	ee.fx.tick = function () {
		var e,
		n = ee.timers,
		i = 0;
		for (Bt = ee.now(); n.length > i; i++)
			(e = n[i])() || n[i] !== e || n.splice(i--, 1);
		n.length || ee.fx.stop(),
		Bt = t
	},
	ee.fx.timer = function (e) {
		e() && ee.timers.push(e) && ee.fx.start()
	},
	ee.fx.interval = 13,
	ee.fx.start = function () {
		jt || (jt = setInterval(ee.fx.tick, ee.fx.interval))
	},
	ee.fx.stop = function () {
		clearInterval(jt),
		jt = null
	},
	ee.fx.speeds = {
		slow: 600,
		fast: 200,
		_default: 400
	},
	ee.fx.step = {},
	ee.expr && ee.expr.filters && (ee.expr.filters.animated = function (e) {
		return ee.grep(ee.timers, function (t) {
			return e === t.elem
		}).length
	}),
	ee.fn.offset = function (e) {
		if (arguments.length)
			return e === t ? this : this.each(function (t) {
				ee.offset.setOffset(this, e, t)
			});
		var n,
		i,
		r = {
			top: 0,
			left: 0
		},
		a = this[0],
		o = a && a.ownerDocument;
		return o ? (n = o.documentElement, ee.contains(n, a) ? (typeof a.getBoundingClientRect !== H && (r = a.getBoundingClientRect()), i = F(o), {
				top: r.top + (i.pageYOffset || n.scrollTop) - (n.clientTop || 0),
				left: r.left + (i.pageXOffset || n.scrollLeft) - (n.clientLeft || 0)
			}) : r) : void 0
	},
	ee.offset = {
		setOffset: function (e, t, n) {
			var i = ee.css(e, "position");
			"static" === i && (e.style.position = "relative");
			var r,
			a,
			o = ee(e),
			s = o.offset(),
			l = ee.css(e, "top"),
			c = ee.css(e, "left"),
			d = {},
			u = {};
			("absolute" === i || "fixed" === i) && ee.inArray("auto", [l, c]) > -1 ? (u = o.position(), r = u.top, a = u.left) : (r = parseFloat(l) || 0, a = parseFloat(c) || 0),
			ee.isFunction(t) && (t = t.call(e, n, s)),
			null != t.top && (d.top = t.top - s.top + r),
			null != t.left && (d.left = t.left - s.left + a),
			"using" in t ? t.using.call(e, d) : o.css(d)
		}
	},
	ee.fn.extend({
		position: function () {
			if (this[0]) {
				var e,
				t,
				n = {
					top: 0,
					left: 0
				},
				i = this[0];
				return "fixed" === ee.css(i, "position") ? t = i.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), ee.nodeName(e[0], "html") || (n = e.offset()), n.top += ee.css(e[0], "borderTopWidth", !0), n.left += ee.css(e[0], "borderLeftWidth", !0)), {
					top: t.top - n.top - ee.css(i, "marginTop", !0),
					left: t.left - n.left - ee.css(i, "marginLeft", !0)
				}
			}
		},
		offsetParent: function () {
			return this.map(function () {
				for (var e = this.offsetParent || U.documentElement; e && !ee.nodeName(e, "html") && "static" === ee.css(e, "position"); )
					e = e.offsetParent;
				return e || U.documentElement
			})
		}
	}),
	ee.each({
		scrollLeft: "pageXOffset",
		scrollTop: "pageYOffset"
	}, function (e, n) {
		var i = /Y/.test(n);
		ee.fn[e] = function (r) {
			return ee.access(this, function (e, r, a) {
				var o = F(e);
				return a === t ? o ? n in o ? o[n] : o.document.documentElement[r] : e[r] : (o ? o.scrollTo(i ? ee(o).scrollLeft() : a, i ? a : ee(o).scrollTop()) : e[r] = a, t)
			}, e, r, arguments.length, null)
		}
	}),
	ee.each({
		Height: "height",
		Width: "width"
	}, function (e, n) {
		ee.each({
			padding: "inner" + e,
			content: n,
			"": "outer" + e
		}, function (i, r) {
			ee.fn[r] = function (r, a) {
				var o = arguments.length && (i || "boolean" != typeof r),
				s = i || (!0 === r || !0 === a ? "margin" : "border");
				return ee.access(this, function (n, i, r) {
					var a;
					return ee.isWindow(n) ? n.document.documentElement["client" + e] : 9 === n.nodeType ? (a = n.documentElement, Math.max(n.body["scroll" + e], a["scroll" + e], n.body["offset" + e], a["offset" + e], a["client" + e])) : r === t ? ee.css(n, i, s) : ee.style(n, i, r, s)
				}, n, o ? r : t, o, null)
			}
		})
	}),
	e.jQuery = e.$ = ee,
	"function" == typeof define && define.amd && define.amd.jQuery && define("jquery", [], function () {
		return ee
	})
}
(window);
var PanoMetaInfoService = function (e, t, n) {
	var i = "",
	r = 0,
	a = 0;
	n = n || !1,
	e && e.lat && e.lon && (r = e.lat, a = e.lon),
	e && e.panoid && (i = e.panoid);
	var o = function (e) {
		if (!GlobalProperties.panoMetaInfo || GlobalProperties.panoMetaInfo.Location.panoId != e.Location.panoId) {
			var i = skySphere;
			skySphere = moveSphere,
			moveSphere = i,
			GlobalProperties.lastLevel = GlobalProperties.currentLevel,
			GlobalProperties.panoMetaInfo = GlobalProperties.toPanoMetaInfo(e),
			skySphere.setTileLevelVertexArr(),
			skySphere.inViewTileArray = skySphere.tileLevelVertexArr,
			skySphere.loadThumbnail(),
			skySphere.skySphereObj.rotation.x = 0,
			skySphere.skySphereObj.rotation.y = THREE.Math.degToRad(e.Projection.pano_yaw_deg) + Math.PI,
			skySphere.skySphereObj.rotation.z = THREE.Math.degToRad(e.Projection.tilt_pitch_deg),
			t.panoMetaInfoLoadCompleted(),
			g_panoRotation = n
		}
	},
	s = function (e) {
		if ("ok" == e.status) {
			var n = new Object;
			n.panoid = e.panoId,
			n.lat = e.lat,
			n.lon = e.lng;
			new PanoMetaInfoService(n, t).getPanoMetaInfo()
		} else
			t.getPanoField()
	},
	l = function (e) {
		if ("ok" == e.status) {
			var n = new Object;
			n.panoid = e.panoId,
			n.lat = e.lat,
			n.lon = e.lng;
			new PanoMetaInfoService(n, t).getPanoMetaInfo()
		} else
			t.getPanoField()
	},
	c = new Object;
	//debugger
	return c.getPanoMetaInfo = function () {
		
		//var tok = window.tokenJson;
		var e;
		i && r && a && (e = g_serverUrl + "/meta.json?panoid=" + i + "&lon=" + a + "&lat=" + r);
		var t = {
			type: "GET",
			contentType: "application/x-www-form-urlencoded",
			url: e,
			dataType: "json",
			// beforeSend: function(request) {
			// 	request.setRequestHeader('Authorization', tok)
			// },
			error: function (e) {
				g_isMouseWork = !0,
				//alert(""),
				console.log("")
			},
			success: function (e) {
				null != e && o(e)
			}
		};
		jQuery.support.cors = !0,
		$.ajax(t)	
	},
	c.findNearNext = function () {
			//var tok = window.tokenJson;
			var e;
			i && r && a && (e = g_serverUrl + "/findNearNext.json?id=" + i + "&lng=" + a + "&lat=" + r);
			var t = {
				type: "GET",
				contentType: "application/x-www-form-urlencoded",
				url: e,
				dataType: "json",
				// beforeSend: function(request) {
				// 	request.setRequestHeader('Authorization', tok)
				// },
				error: function (e) {
					g_isMouseWork = !0,
					//alert(""),
					console.log("")
				},
				success: function (e) {
					null != e && l(e)
				}
			};
			jQuery.support.cors = !0,
			$.ajax(t)
		
	},
	c.findNear = function () { 
			//var tok = window.tokenJson;
			var e;
			r && a && (e = g_serverUrl + "/findNear.json?lng=" + a + "&lat=" + r);
			var t = {
				type: "GET",
				contentType: "application/x-www-form-urlencoded",
				url: e,
				dataType: "json",
				// beforeSend: function(request) {
				// 	request.setRequestHeader('Authorization', tok)
				// },
				error: function (e) {
					g_isMouseWork = !0,
					//alert(""),
					console.log("")
				},
				success: function (e) {
					null != e && s(e)
				}
			};
			jQuery.support.cors = !0,
			$.ajax(t)
	},
	c
}, HDTile = function (e, t, n, i, r, a, o) {
	this.level = e;
	var s,
	a = a,
	l = l,
	c = [],
	d = Math.ceil(64 / r + 1),
	u = d,
	h = 2e3 - Math.ceil(10 * Math.ceil(Math.log(r) / Math.log(2))),
	p = new Object,
	o = o;
	!function () {
		for (var e = 0; e < u; e++)
			for (var a = Math.floor((e / (u - 1) + t) / i * 4096), o = VERTICAL_MAP[a], s = 0; s < d; s++) {
				var l = Math.floor((s / (d - 1) + n) / r * 8192),
				p = HORIZONTAL_MAP[l],
				f = Math.cos(o) * h,
				m = Math.sin(o) * h,
				g = f * Math.cos(p),
				v = f * Math.sin(p),
				b = new THREE.Vector3(g, m, v);
				c.push(b)
			}
	}
	();
	return p.level = e,
	p.col = n,
	p.row = t,
	p.imageID = l,
	p.tileMesh = s,
	p.loadTile = function () {
		var l = GlobalProperties.panoMetaInfo.Location.panoId;
		if (3 == e)
			var d = GlobalProperties.panoMetaInfo.Location.lng, u = GlobalProperties.panoMetaInfo.Location.lat, p = Math.floor(n / 1), f = Math.floor(t / 1), m = g_serverUrl + "/tile?panoid=" + l + "&x=" + p + "&y=" + f + "&lon=" + d + "&lat=" + u;
		else
			m = 0 == e ? "./images/streetView/thumbnailTile.png" : g_serverUrl + "/GetPanoTile/?TileID=" + l + "-1-" + e + "-" + t + "-" + n;
		(new THREE.TextureLoader).load(m, function (l) {
			s || (l.wrapS = THREE.ClampToEdgeWrapping, l.wrapT = THREE.ClampToEdgeWrapping, l.minFilter = l.magFilter = THREE.LinearFilter, (s = new HDTileMesh(h, e, t, n, i, r, o, c)).texmap(l), a.add(s.mesh), 0 == e && o.thumbnailLoadCompleted())
		}, function (e) {}, function (e) {
			console.log("An error happened with load tile")
		})
	},
	p.dispose = function () {
		s && s.mesh && (a.remove(s.mesh), s.dispose()),
		c = null
	},
	p
}, HDwall = function (e, t, n, i) {
	var r = new Object,
	e = e,
	t = t,
	n = n,
	a = i,
	o = [];
	r.isMouseOn = !1;
	return r.dispose = function () {
		null != r.hdCircleWallMesh ? (r.hdCircleWallMesh.material.dispose(), r.hdCircleWallMesh.geometry.dispose(), r.hdCircleWallMesh = null) : (r.hdWallMesh.material.dispose(), r.hdWallMesh.geometry.dispose(), r.hdWallMesh = null)
	},
	null != a ? ($.each(a.points, function (i, r) {
			o.push(new THREE.Vector3(r.X - e, r.Z - n,  - (r.Y - t)))
		}), r.hdWallMesh = new HDWallMesh(o, 0)) : r.hdCircleWallMesh = new HDWallMesh([], 1),
	r
}, PanoArrow = function (e) {
	var t = new Object;
	t.isMouseOn = !1;
	var n,
	i,
	r = new THREE.Vector3,
	a = !1;
	t.xValue,
	t.zValue;
	return t.dispose = function () {
		$("#" + i).remove(),
		t.hdArrowMesh.material.dispose(),
		t.hdArrowMesh.geometry.dispose(),
		t.hdArrowMesh = null
	},
	t.updateText = function () {
		var e = new THREE.Vector3(9.3 * t.xValue, -2.1, 9.3 * t.zValue),
		n = (new THREE.Vector3(7.3 * t.xValue, -1.8, 6 * t.zValue), e.project(camera));
		window.innerWidth,
		window.innerHeight;
		n.x = (n.x + 1) / 2 * window.innerWidth - 10,
		n.y =  - (n.y - 1) / 2 * window.innerHeight,
		$("#" + i).css("left", n.x),
		$("#" + i).css("top", n.y),
		r.x = n.x,
		r.y = n.y,
		n.z > 1 ? $("#" + i).css("display", "none") : (a = !0, $("#" + i).css("display", "block"))
	},
	t.hdArrowMesh = new HDArrowMesh,
	t.panoArrowText = "",
	t.imageID = e.panoId,
	(n = degree2Rad(Number(e.yawDeg) + 90)) < 0 && (n += 2 * Math.PI),
	t.hdArrowMesh.rotation.y = n,
	t.initVisible = function (e) {
		e && a ? $("#" + i).css("display", "block") : $("#" + i).css("display", "none")
	},
	t
}, PanoArrowManager = function (e) {
	var t = new Object;
	return t.manageObj3D = new THREE.Object3D,
	t.panoArrowArr = [],
	t.addPanoArrow = function (e) {
		objects.length > 0 && (objects = []);
		for (var n = 0; n < e.length; n++) {
			var i = new PanoArrow(e[n]);
			t.manageObj3D.add(i.hdArrowMesh),
			objects.push(i.hdArrowMesh),
			t.panoArrowArr.push(i)
		}
	},
	t.dispose = function () {
		for (var e = 0; e < t.panoArrowArr.length; e++)
			t.manageObj3D.remove(t.panoArrowArr[e].hdArrowMesh), t.panoArrowArr[e].dispose();
		t.panoArrowArr = []
	},
	t.updateDisplay = function () {
		var e = Math.asin(cameraLookAtPoint.y) / Math.PI * 180;
		t.manageObj3D && (t.manageObj3D.position.x = 40 * Math.cos(-Math.atan2(cameraLookAtPoint.z, cameraLookAtPoint.x)), t.manageObj3D.position.z = -40 * Math.sin(-Math.atan2(cameraLookAtPoint.z, cameraLookAtPoint.x)), e <= 10 && e >= -20 && (t.manageObj3D.position.y = -20 + e))
	},
	t
}, PanoWallManager = function () {
	var e = new Object;
	e.manageObj3D = new THREE.Object3D,
	e.panoWallArr = [],
	e.addPanoWall = function (t) {
		t.Location.X,
		t.Location.Y,
		t.Location.Z,
		panoWallObjects.length > 0 && (panoWallObjects = []);
		var n = new HDwall(0, 0, 0, null);
		e.manageObj3D.add(n.hdCircleWallMesh),
		panoWallObjects.push(n.hdCircleWallMesh),
		e.panoWallArr.push(n)
	};
	var t = new THREE.PlaneGeometry(5, 2.5),
	n = new THREE.CircleGeometry(10, 28),
	i = (new THREE.Geometry, new THREE.MeshBasicMaterial({
			color: 16777215,
			transparent: !0,
			opacity: .3,
			depthTest: !1
		}));
	i.needsUpdate = !0,
	e.drawFacade = function (e) {
		var n = new THREE.Mesh(t, i),
		r = e.object.geometry.vertices[0],
		a = e.object.geometry.vertices[1],
		o = e.object.geometry.vertices[2],
		s = new THREE.Vector3(r.x - a.x, r.y - a.y, r.z - a.z),
		l = new THREE.Vector3(o.x - a.x, o.y - a.y, o.z - a.z);
		return s.cross(l),
		n.position.copy(e.point),
		n.lookAt(s.add(e.point)),
		document.body.style.cursor = "pointer",
		n
	},
	e.drawCircleFacade = function (e) {
		var t = new THREE.Vector3(0, 0, 0),
		a = new THREE.Mesh(n, i);
		return t.x = e.x,
		t.y = e.y,
		t.z = e.z,
		a.position.copy(t),
		a.rotateX(3 * Math.PI / 2),
		r(e),
		a
	};
	var r = function (e) {
		var t = calCircleRealPoint(e),
		n = new THREE.Vector3(GlobalProperties.panoMetaInfo.Location.X, GlobalProperties.panoMetaInfo.Location.Y, GlobalProperties.panoMetaInfo.Location.Z),
		i = Math.floor(calDistance(t, n)),
		r = Math.floor(i) + "",
		a = e;
		a.project(camera);
		var o = Math.round(a.x * window.innerWidth / 2 + window.innerWidth / 2),
		s = window.innerHeight - Math.round(a.y * window.innerHeight / 2 + window.innerHeight / 2) - 25;
		$("#showDis").css("left", o),
		$("#showDis").css("top", s),
		$("#showDis").text(""),
		$("#showDis").append(r),
        $("#showDis").show()
	};
	return e.setZoomImg = function (e) {
		var t = new THREE.SpriteMaterial({
				map: GlobalProperties.zoomInPicTexture
			}),
		n = new THREE.Sprite(t),
		i = new THREE.Vector3;
		return n.position.set(2.3, -1, 0),
		n.scale.x = n.scale.y = i.subVectors(n.position, camera.position).length() / 5,
		n
	},
	e.dispose = function () {
		for (var t = 0; t < e.panoWallArr.length; t++)
			e.manageObj3D.remove(e.panoWallArr[t].hdWallMesh), null != e.panoWallArr[t].hdCircleWallMesh && e.manageObj3D.remove(e.panoWallArr[t].hdCircleWallMesh), e.panoWallArr[t].dispose();
		e.panoWallArr = []
	},
	e
}, SkySphere = function (e, t, n, i, r, a) {
	var o = new Object;
	o.number = a;
	o.skySphereObj = new THREE.Object3D,
	o.scene = t;
	var t = t,
	i = i;
	o.tileLevelVertexArr = [],
	o.inViewTileArray = [];
	return o.setTileLevelVertexArr = function () {
		for (var e = 0; e < i.length; e++) {
			for (var t = new Object, n = [], a = [], s = i[e].level, l = i[e].row, c = i[e].col, d = 0; d < l; d++)
				for (var u = 0; u < c; u++) {
					var h = new HDTile(s, d, u, l, c, o.skySphereObj, r);
					n.push(h.vertices),
					a.push(h)
				}
			t.level = s,
			t.rowNum = i[e].row,
			t.colNum = i[e].col,
			t.tileVertexArr = n,
			t.tileArr = a,
			o.tileLevelVertexArr.push(t)
		}
		o.inViewTileArray = o.tileLevelVertexArr
	},
	o.loadThumbnail = function () {
		tile = o.tileLevelVertexArr[0].tileArr[0],
		tile.loadTile(),
		GlobalProperties.currentLevel = 0
	},
	o.loadTile = function (e) {
		o.inViewTileArray[e].level;
		var t = o.inViewTileArray[e].rowNum,
		n = o.inViewTileArray[e].colNum;
		if (o.inViewTileArray)
			for (i = 0; i < t * n; i++)
				o.inViewTileArray[e].tileArr[i].loadTile();
		panoTileObjects.length > 0 && (panoTileObjects = []);
		for (var i = 0; i < o.skySphereObj.children.length; i++)
			panoTileObjects.push(o.skySphereObj.children[i])
	},
	o.dispose = function () {
		t.remove(o.skySphereObj);
		var e;
		if (0 == GlobalProperties.lastLevel ? e = 1 : 3 == GlobalProperties.lastLevel ? e = 2 : 4 == GlobalProperties.lastLevel && (e = 3), o.tileLevelVertexArr.length > 0)
			for (var n = 0; n < e; n++)
				for (var i = 0; i < o.tileLevelVertexArr[n].tileArr.length; i++)
					o.tileLevelVertexArr[n].tileArr[i].dispose();
		o.tileLevelVertexArr = [],
		o.inViewTileArray = []
	},
	o.isMouseWork = !0,
	o
}, facadeInfo = function (e) {
	var t = new Object;
	return t.facadeID = e.FacadeID,
	t.x = e.x,
	t.y = e.y,
	t.z = e.z,
	t.points = e.Points,
	t
}, MouseHandler = function () {
	function e(e) {
		if (g_isMouseWork && e.clientX == d && e.clientY == u) {
			e.preventDefault();
			var t,
			n,
			i,
			r = new THREE.Raycaster,
			o = new THREE.Vector2;
			g_isDblClick = !1;
			var s,
			l,
			h,
			p = [];
			if (o.x = e.clientX / window.innerWidth * 2 - 1, o.y = -e.clientY / window.innerHeight * 2 + 1, r.setFromCamera(o, camera), t = r.intersectObjects(objects), n = r.intersectObjects(panoWallObjects), i = r.intersectObjects(panoTileObjects), loaderObject && loaderObject.children.length > 0)
				for (E = 0; E < loaderObject.children.length; E++) {
					var f = r.intersectObjects(loaderObject.children[E].children);
					f.length > 0 && p.push(f),
					p[0] && p[0].length > 0 && (selectedModels.push(loaderObject.children[E]), p = [])
				}
			if (g_isDisMeasuring) {
				var m,
				g,
				v,
				b,
				y;
				g_isDblClick = !1,
				window.setTimeout(function () {
					if (!g_isDblClick)
						switch (g_disMeasringType) {
						case 0:
							s = n[0].point,
							l = 18 == n[0].object.geometry.faces.length ? calCircleRealPoint(s) : calRealPoint(s),
							m = l.x,
							g = l.y,
							v = l.z,
							b = new THREE.Vector3(m, g, v),
							measurePoints.push(b),
							measurePoints.length > 1 && intersectPoints.push(b),
							clickPoints.push(s);
							for (var e = 1; e < measurePoints.length; e++)
								y = calDistance(measurePoints[e], measurePoints[e - 1]), drawLine(clickPoints[e], clickPoints[e - 1]), scene.add(measureObj);
							null != y && (setMeasureRsTxt(y, s, g_MeasuringType), updateMeasureRsTxt(intersectPoints, g_MeasuringType));
							break;
						case 1:
							c = !0,
							s = i[0].point;
							var t = getViewGestureByPoint(s);
							new DepthMapService(t, c, s, scene).getDepthMap()
						}
				}, 100)
			} else if (selectedModels && selectedModels.length > 0) {
				a = selectedModels[0];
				var x;
				if (void 0 == g_modelUUID || "" == g_modelUUID)
					g_modelUUID = a.uuid;
				else {
					x = g_modelUUID,
					g_modelUUID = a.uuid;
					for (E = 0; E < loaderObject.children.length; E++) {
						var w = loaderObject.children[E];
						if (w.uuid == x)
							for (var _ = 0; _ < w.children.length; _++) {
								(T = w.children[_]).material.color = {
									r: 1,
									g: 1,
									b: 1
								}
							}
					}
				}
				for (E = 0; E < a.children.length; E++) {
					var T = a.children[E];
					T.material.color = {
						b: .1843137254901961,
						r: .6784313725490196,
						g: 1
					}
				}
			} else if (t.length > 0) {
				g_isMouseWork = !1,
				s = t[0].object;
				for (E = 0; E < panoArrowManager.panoArrowArr.length; E++)
					if (panoArrowManager.panoArrowArr[E].hdArrowMesh == s) {
						(A = new Object).panoid = panoArrowManager.panoArrowArr[E].imageID,
						A.lat = GlobalProperties.panoMetaInfo.Location.lat,
						A.lon = GlobalProperties.panoMetaInfo.Location.lng;
						(R = new PanoMetaInfoService(A, hdEvent)).getPanoMetaInfo();
						break
					}
			} else if (n.length > 0) {
				s = n[0].object,
				l = calRealPoint(n[0].point),
				h = calCircleRealPoint(n[0].point),
				rotationPoint = new THREE.Vector3(l.x, l.y, l.z);
				for (var E = 0; E < panoWallManager.panoWallArr.length; E++) {
					if (panoWallManager.panoWallArr[E].hdWallMesh == s && !judgeZoomin(l)) {
						g_isMouseWork = !1;
						(A = new Object).methodType = 1,
						A.type = 1,
						A.x = l.x,
						A.y = l.y,
						A.z = l.z,
						A.viewType = 1,
						A.tolerateXYZ = 100,
						A.tolerateFacade = 100;
						new PanoInfoService(A, hdEvent, !0).getPanoInfo(),
						null != facadePlane && (scene.remove(facadePlane), facadePlane = null);
						break
					}
					if (panoWallManager.panoWallArr[E].hdWallMesh == s && judgeZoomin(l) && (4 != GlobalProperties.currentLevel && camera.fov < 70 && (skySphere.loadTile(2), GlobalProperties.currentLevel = 4), camera.fov > 35 && (camera.fov -= 10, camera.updateProjectionMatrix()), camera.fov < 35 && (camera.fov = 70, camera.updateProjectionMatrix()), camera.fov < 45 && (facadePlane.children[0].material.map = GlobalProperties.zoomOutPicTexture)), null != panoWallManager.panoWallArr[E].hdCircleWallMesh && panoWallManager.panoWallArr[E].hdCircleWallMesh == s) {
						var M = new THREE.Vector3;
						M.x = h.y,
						M.y = h.x,
						M.z = h.z;
						var C = 3 * Math.round(GlobalProperties.panoMetaInfo.Location.lng / 3),
						S = (new CoordTrans).gaussXYToBL(M, C),
						A = new Object;
						A.panoid = GlobalProperties.panoMetaInfo.Location.panoId,
						A.lat = S.y,
						A.lon = S.x;
						var R = new PanoMetaInfoService(A, hdEvent, !0);
						R.findNearNext(),
						null != facadePlane && (scene.remove(facadePlane), facadePlane = null),
						$("#showDis").hide();
						break
					}
				}
			}
		}
	}
	function t(e) {
		if (g_isMouseWork) {
			for (var t = 0; t < panoArrowManager.panoArrowArr.length; t++)
				panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[t].updateText();
			if (g_isAutoRun)
				return panoWallObjects = [], autoRun.stopAutoRun(), void(g_isAutoRun || (panoWallManager.dispose(), panoWallManager.addPanoWall(GlobalProperties.panoInfo), panoWallManager.manageObj3D.visible = !1));
			e.preventDefault(),
			b = !1,
			p = !1;
			var n = new Date;
			n.getSeconds(),
			n.getMilliseconds();
			a = null,
			selectedModels = [],
			document.body.style.cursor = "auto"
		}
	}
	function n(e) {
		if (g_isMouseWork) {
			e.preventDefault();
			var t = e.clientX,
			n = e.clientY;
			if (b && e.which && !p) {
				for (A = 0; A < panoArrowManager.panoArrowArr.length; A++)
					panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[A].updateText();
				updateMeasureRsTxt(intersectPoints, g_MeasuringType),
				lat += .003 * (n - l),
				long = mouseMoveLongNormal(long += .0012 * (t - s)),
				lat = THREE.Math.degToRad(Math.max(-100, Math.min(70, THREE.Math.radToDeg(lat)))),
				cameraLookAtPoint.setX(Math.cos(lat) * Math.sin(long)),
				cameraLookAtPoint.setY(Math.sin(lat)),
				cameraLookAtPoint.setZ(Math.cos(lat) * Math.cos(long));
				var i = Math.atan2(cameraLookAtPoint.z, cameraLookAtPoint.x),
				r = THREE.Math.radToDeg(i);
				interface.onCameraYawChanged(r),
				s = t,
				l = n,
				null != facadePlane && (scene.remove(facadePlane), facadePlane = null),
				$("#showDis").show()
			}
			var o,
			c,
			d,
			u,
			g,
			v = [],
			y = [],
			x = new THREE.Raycaster,
			w = new THREE.Vector2,
			_ = panoWallManager.panoWallArr.length;
			if (w.x = e.clientX / window.innerWidth * 2 - 1, w.y = -e.clientY / window.innerHeight * 2 + 1, x.setFromCamera(w, camera), o = x.intersectObjects(objects), c = x.intersectObjects(panoWallObjects), d = x.intersectObjects(panoTileObjects), loaderObject && loaderObject.children.length > 0)
				for (A = 0; A < loaderObject.children.length; A++) {
					var T = x.intersectObjects(loaderObject.children[A].children);
					T.length > 0 && v.push(T)
				}
			if (b && a) {
				var E = new THREE.Vector3,
				M = convertTo3DCoordinate(e.clientX / window.innerWidth * 2 - 1, -e.clientY / window.innerHeight * 2 + 1);
				selectedModels[0].position.copy(M),
				g_modelScale = selectedModels[0].scale.x = selectedModels[0].scale.y = selectedModels[0].scale.z = E.subVectors(selectedModels[0].position, camera.position).length() / 800
			}
			if (g_isDisMeasuring || p) {
				if (g_isDisMeasuring && !p)
					if (moveObj = new THREE.Object3D, scene.remove(moveLine), null != facadePlane && (scene.remove(facadePlane), facadePlane = null), $("#showDis").hide(), c.length > 0 && 0 == g_disMeasringType) {
						document.body.style.cursor = "crosshair";
						var t = c[0].point.x,
						n = c[0].point.y,
						C = c[0].point.z,
						S = new THREE.Vector3(t, n, C);
						clickPoints.length > 0 && y.push(c[0].point);
						for (var _ = clickPoints.length, A = 0; A < y.length; A++)
							drawMoveLine(y[A], clickPoints[_ - 1], scene), scene.add(moveObj);
						setMeasureTxt(S, 0)
					} else if (d.length > 0 && 1 == g_disMeasringType) {
						document.body.style.cursor = "crosshair";
						var t = d[0].point.x,
						n = d[0].point.y,
						C = d[0].point.z,
						S = new THREE.Vector3(t, n, C);
						clickPoints.length > 0 && y.push(d[0].point);
						for (var _ = clickPoints.length, A = 0; A < y.length; A++)
							drawMoveLine(y[A], clickPoints[_ - 1], scene), scene.add(moveObj);
						setMeasureTxt(S, 0)
					} else
						document.body.style.cursor = "auto", $("#showTip").hide()
			} else {
				if (v && v.length > 0)
					document.body.style.cursor = "auto", p = !1, h = !1, m = !1, f = !1;
				else if (o.length > 0)
					document.body.style.cursor = "pointer", (u = o[0].object).material.map = GlobalProperties.arrowPicOverTexture, h = !0, m = !1, p = !1;
				else if (c.length > 0) {
					if (g = calRealPoint(c[0].point), calCircleRealPoint(c[0].point), document.body.style.cursor = "pointer", h = !1, m = !0, p = !1, u = c[0].object, 18 == c[0].object.geometry.faces.length)
						null != facadePlane && scene.remove(facadePlane), $("#showDis").hide(), facadePlane = panoWallManager.drawCircleFacade(c[0].point, t, n);
					else {
						null != facadePlane && scene.remove(facadePlane),
						$("#showDis").hide(),
						facadePlane = panoWallManager.drawFacade(c[0]);
						for (A = 0; A < panoWallManager.panoWallArr.length; A++)
							if (panoWallManager.panoWallArr[A].hdWallMesh == u && judgeZoomin(g)) {
								var R = panoWallManager.setZoomImg(c[0]);
								facadePlane.add(R),
								camera.fov < 45 && (R.material.map = GlobalProperties.zoomOutPicTexture)
							}
					}
					scene.add(facadePlane)
				} else
					d.length > 0 && (document.body.style.cursor = "auto", f = !0, h = !1, m = !1, p = !1);
				if (!h)
					for (A = 0; A < panoArrowManager.panoArrowArr.length; A++)
						panoArrowManager.panoArrowArr[A].hdArrowMesh.material.map = GlobalProperties.arrowPicTexture;
				m || (document.body.style.cursor = "auto", null != facadePlane && (scene.remove(facadePlane), facadePlane = null), $("#showDis").hide()),
				p || (v = [])
			}
		}
	}
	function i(e) {
		if (g_isMouseWork) {
			e.preventDefault(),
			b = !0,
			c = !1;
			var t = [],
			n = new THREE.Raycaster,
			i = new THREE.Vector2;
			i.x = e.clientX / window.innerWidth * 2 - 1,
			i.y = -e.clientY / window.innerHeight * 2 + 1;
			convertTo3DCoordinate(i.x, i.y);
			if (n.setFromCamera(i, camera), n.intersectObjects(panoTileObjects), loaderObject && loaderObject.children.length > 0)
				for (h = 0; h < loaderObject.children.length; h++) {
					var r = n.intersectObjects(loaderObject.children[h].children);
					r.length > 0 && t.push(r),
					t[0] && t[0].length > 0 && (selectedModels.push(loaderObject.children[h]), t = [])
				}
			if (selectedModels && selectedModels.length > 0) {
				a = selectedModels[0];
				for (var h = 0; h < a.children.length; h++);
				document.body.style.cursor = "move",
				p = !0
			}
			s = e.clientX,
			l = e.clientY,
			d = e.clientX,
			u = e.clientY;
            var f = new Date;
			o = 1e3 * f.getSeconds() + f.getMilliseconds()
		}
	}
	function r(e) {
		if (e.preventDefault(), g_isDisMeasuring) {
			if (1 == g_disMeasringType)
				window.setTimeout(function () {
					g_isDblClick = !0,
					measurePoints = [],
					clickPoints = [],
					moveObj = new THREE.Object3D;
					for (var e = 0; e < moveObjArr.length; e++)
						moveObj.remove(moveObjArr[e]);
					moveObjArr = []
				}, 300);
			else if (0 == g_disMeasringType) {
				g_isDblClick = !0,
				measurePoints = [],
				clickPoints = [],
				moveObj = new THREE.Object3D;
				for (var t = 0; t < moveObjArr.length; t++)
					moveObj.remove(moveObjArr[t]);
				moveObjArr = []
			}
			window.clearTimeout()
		}
	}
	var a,
	o,
	s,
	l,
	c = !1,
	d = 0,
	u = 0,
	h = !1,
	p = !1,
	f = !1,
	m = !1,
	g = 0,
	b = !1;
	canvas.addEventListener("mousemove", n, !1),
	canvas.addEventListener("mousedown", i, !1),
	canvas.addEventListener("mouseup", t, !1),
	canvas.addEventListener("click", e, !1),
	canvas.addEventListener("dblclick", r, !1),
	$("#matrixMeasure").click(function () {
		g_isAreaMeasuring = !0,
		panoArrowManager.dispose(),
		null == measureObj && (measureObj = new THREE.Object3D),
		g_MeasuringType = 1,
		g_areaDrawType = 1,
		null != facadePlane && scene.remove(facadePlane),
		$("#showDis").hide(),
		E()
	}),
	$("#circleMeasure").click(function () {
		g_isAreaMeasuring = !0,
		panoArrowManager.dispose(),
		null == measureObj && (measureObj = new THREE.Object3D),
		g_MeasuringType = 1,
		g_areaDrawType = 0,
		null != facadePlane && scene.remove(facadePlane),
		$("#showDis").hide(),
		E()
	}),
	$("#meshMeasure").click(function () {
		g_isDisMeasuring = !0,
		panoArrowManager.dispose(),
		g_disMeasringType = 0,
		g_MeasuringType = 0,
		measurePoints = [],
		null == measureObj && (measureObj = new THREE.Object3D),
		M()
	}),
	$("#deepMeasure").click(function () {
		g_isDisMeasuring = !0,
		panoArrowManager.dispose(),
		g_disMeasringType = 1,
		g_MeasuringType = 0,
		measurePoints = [],
		null == measureObj && (measureObj = new THREE.Object3D),
		M()
	}),
	$(".measureDistance").click(function () {
		if ($("#tipMeasureDistance").css("display", "none"), g_isShowMeasureContent) {
			$("#measureContent").css("display", "none"),
			g_isShowMeasureContent = !1,
			panoArrowManager.addPanoArrow(GlobalProperties.panoInfo.Links),
			panoWallManager.dispose(),
			panoWallManager.addPanoWall(GlobalProperties.panoInfo),
			g_isDisMeasuring = !1,
			g_isAreaMeasuring = !1;
			for (e = 0; e < measureObjArr.length; e++)
				measureObj.remove(measureObjArr[e]);
			measureObj = null,
			measureObjArr = [],
			intersectPoints = [],
			measurePoints = [],
			clickPoints = [],
			disArray = [],
			g_MeasuringType = -1;
			for (var e = 0; e < projectPoint.length; e++)
				$("#measureDis" + e).remove();
			$("#showTip").hide(),
			facadePlane && (facadePlane.visible = !0),
			M()
		} else
			$("#modelContent").css("display", "none"), g_isShowModelContent = !1, $("#measureContent").css("display", "block"), g_isShowMeasureContent = !0
	}),
	$(document).mouseleave(function () {
		isOnDocument = !1,
		canvas.removeEventListener("mousemove", w, !1),
		measurePoints.length > 1 && g_isAreaMeasuring && _(),
		$("#showTip").hide()
	}),
	$(document).mouseenter(function () {
		isOnDocument = !0
	});
	var y = function (e) {
		e.preventDefault();
		var t,
		n = e.clientX,
		i = e.clientY;
		b && (lat += .003 * (i - l), long = mouseMoveLongNormal(long += .0012 * (n - s)), lat = THREE.Math.degToRad(Math.max(-100, Math.min(70, THREE.Math.radToDeg(lat)))), cameraLookAtPoint.setX(Math.cos(lat) * Math.sin(long)), cameraLookAtPoint.setY(Math.sin(lat)), cameraLookAtPoint.setZ(Math.cos(lat) * Math.cos(long)), s = n, l = i),
		mouse.x = e.clientX / window.innerWidth * 2 - 1,
		mouse.y = -e.clientY / window.innerHeight * 2 + 1,
		raycaster.setFromCamera(mouse, camera),
		(t = raycaster.intersectObjects(panoWallObjects)).length > 0 ? (document.body.style.cursor = "crosshair", setMeasureTxt(t[0].point, 1)) : (document.body.style.cursor = "auto", $("#showTip").hide())
	},
	x = function (e) {
		e.preventDefault();
		var t = raycaster.intersectObjects(panoWallObjects);
		raycaster.setFromCamera(mouse, camera),
		firstDown = t[0],
		v = [],
		measurePoints = [],
		canvas.addEventListener("mousemove", w, !1)
	},
	w = function (e) {
		e.preventDefault();
		var t,
		n = !1;
		raycaster.setFromCamera(mouse, camera);
		var i = raycaster.intersectObjects(panoWallObjects);
		if (i.length > 0) {
			if (helpPoint = i[0].point, 18 == i[0].object.geometry.faces.length) {
				r = panoWallObjects.length;
				panoWallObjects.splice(0, r - 1),
				t = calCircleRealPoint(helpPoint)
			} else {
				var r = panoWallManager.panoWallArr.length;
				panoWallObjects.splice(r - 1, 1);
				var a = $.inArray(firstDown.object, panoWallObjects);
				panoWallObjects.splice(0, a),
				panoWallObjects.splice(1, panoWallObjects.length - 1),
				t = calRealPoint(helpPoint),
				n = !0
			}
			var o = t.x,
			s = t.y,
			l = t.z,
			c = new THREE.Vector3(o, s, l);
			if (measurePoints.push(c), v.push(new THREE.Vector3(helpPoint.x, helpPoint.y, helpPoint.z)), v.length > 2) {
				switch (scene.remove(circleMesh), scene.remove(mesh), g_areaDrawType) {
				case 0:
					drawCircle(v, scene, n, firstDown);
					break;
				case 1:
					drawRect(v, scene, n, firstDown)
				}
				scene.add(measureObj)
			}
		}
		console.log(i.length)
	},
	_ = function (e) {
		e && e.preventDefault(),
		panoWallManager.dispose(),
		panoWallManager.addPanoWall(GlobalProperties.panoInfo),
		firstDown = null,
		measurePoints.length > 1 && intersectPoints.push(measurePoints[measurePoints.length - 1]),
		1 == g_areaDrawType ? (measureObjArr.push(mesh), measureObj.add(mesh), null != rectArea && 0 != rectArea && setMeasureRsTxt(rectArea, v[v.length - 1], g_MeasuringType), updateMeasureRsTxt(intersectPoints, g_MeasuringType)) : 0 == g_areaDrawType && (measureObj.add(circleMesh), measureObjArr.push(circleMesh), null != circleArea && 0 != circleArea && setMeasureRsTxt(circleArea, v[v.length - 1], g_MeasuringType), updateMeasureRsTxt(intersectPoints, g_MeasuringType)),
		rectArea = 0,
		circleArea = 0,
		v = [],
		measurePoints = [],
		canvas.removeEventListener("mousemove", w, !1)
	},
	T = function (e) {
		if (g_isMouseWork) {
			if ((e = e || window.event).wheelDelta) {
				if (++g % 2 != 0)
					return;
				updateMeasureRsTxt(intersectPoints, g_MeasuringType),
				g = 0,
				e.wheelDelta > 0 && camera.fov > 35 && (camera.fov -= 10, camera.updateProjectionMatrix()),
				e.wheelDelta < 0 && camera.fov < 65 && (camera.fov += 10, camera.updateProjectionMatrix());
				for (t = 0; t < panoArrowManager.panoArrowArr.length; t++)
					panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[t].updateText()
			} else if (e.detail) {
				if (++g % 2 != 0)
					return;
				intersectPoints && updateMeasureRsTxt(intersectPoints, g_MeasuringType),
				g = 0,
				e.detail < 0 && (4 != GlobalProperties.currentLevel && camera.fov < 70 && (skySphere.loadTile(2), GlobalProperties.currentLevel = 4), camera.fov > 35 && (camera.fov -= 10, camera.updateProjectionMatrix())),
				e.detail > 0 && camera.fov < 65 && (camera.fov += 10, camera.updateProjectionMatrix());
				for (var t = 0; t < panoArrowManager.panoArrowArr.length; t++)
					panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[t].updateText()
			}
		}
	};
	document.addEventListener && document.addEventListener("DOMMouseScroll", T, !1),
	window.onmousewheel = document.onmousewheel = T;
	var E = function () {
		canvas.removeEventListener("mousemove", n, !1),
		canvas.addEventListener("mousemove", y, !1),
		canvas.removeEventListener("mousedown", i, !1),
		canvas.addEventListener("mousedown", x, !1),
		canvas.removeEventListener("mouseup", t, !1),
		canvas.addEventListener("mouseup", _, !1),
		canvas.removeEventListener("click", e, !1)
	},
	M = function () {
		canvas.addEventListener("mousemove", n, !1),
		canvas.removeEventListener("mousemove", y, !1),
		canvas.addEventListener("mousedown", i, !1),
		canvas.removeEventListener("mousedown", x, !1),
		canvas.addEventListener("mouseup", t, !1),
		canvas.removeEventListener("mouseup", _, !1),
		canvas.addEventListener("click", e, !1)
	}
}, HDArrowMesh = function () {
	var e = [],
	t = new THREE.Vector3(0, 0, 13),
	n = new THREE.Vector3(-6, 0, 8),
	i = new THREE.Vector3(6, 0, 8),
	r = new THREE.Vector3(-3, 0, 8),
	a = new THREE.Vector3(-3, 0, 3),
	o = new THREE.Vector3(3, 0, 3),
	s = new THREE.Vector3(3, 0, 8),
	l = [];
	l.push(new THREE.Face3(0, 1, 2)),
	l.push(new THREE.Face3(3, 4, 6)),
	l.push(new THREE.Face3(4, 5, 6));
	var c = [],
	d = [];
	d.push(new THREE.Vector2(87 / 512, 254 / 512), new THREE.Vector2(295 / 512, 442 / 512), new THREE.Vector2(295 / 512, 69 / 512)),
	c.push(d),
	(d = []).push(new THREE.Vector2(305 / 512, 347 / 512), new THREE.Vector2(420 / 512, 340 / 512), new THREE.Vector2(305 / 512, 163 / 512)),
	c.push(d),
	(d = []).push(new THREE.Vector2(420 / 512, 340 / 512), new THREE.Vector2(420 / 512, .328125), new THREE.Vector2(305 / 512, 163 / 512)),
	c.push(d),
	e.push(t),
	e.push(n),
	e.push(i),
	e.push(r),
	e.push(a),
	e.push(o),
	e.push(s);
	var u = new THREE.Geometry;
	u.vertices = e,
	u.faces = l,
	u.faceVertexUvs[0] = c,
	u.computeFaceNormals();
	new THREE.BoxGeometry(1, 1, 1);
	var h = new THREE.MeshBasicMaterial;
	h.map = GlobalProperties.arrowPicTexture,
	h.transparent = !0,
	h.needsUpdate = !0,
	h.side = THREE.DoubleSide;
	return new THREE.Mesh(u, h)
}, HDCarMesh = function () {
	new THREE.Geometry;
	var e,
	t = new THREE.MeshBasicMaterial({
			map: GlobalProperties.carPicTexture
		});
	t.needsUpdate = !0;
	var n = new THREE.CircleGeometry(10, 64);
	return (e = new THREE.Mesh(n, t)).position.copy(new THREE.Vector3(0, -30, 0)),
	e.rotateX(3 * Math.PI / 2),
	e
}, HDTileMesh = function (e, t, n, i, r, a, o, s) {
	var l,
	c = new Object,
	d = new THREE.MeshBasicMaterial;
	d.needsUpdate = !0;
	var u = 2 * Math.PI / 6.5,
	h = Math.PI / 3.25,
	p = new THREE.SphereGeometry(e, 8, 6, i * u, u, n * h, h);
	p.applyMatrix((new THREE.Matrix4).makeScale(-1, 1, 1)),
	l = new THREE.Mesh(p, d),
	d.visible = !1;
	return c.level = t,
	c.col = i,
	c.row = n,
	c.mesh = l,
	c.texmap = function (e) {
		d.map = e,
		d.visible = !0,
		d.needsUpdate = !0
	},
	c.dispose = function () {
		d.dispose(),
		p.dispose(),
		l = null
	},
	c
}, HDWallMesh = function (e, t) {
	var n,
	e = e,
	t = t,
	i = new THREE.Geometry,
	r = new THREE.MeshBasicMaterial({
			color: 16777200,
			transparent: !0,
			opacity: .6
		});
	if (r.needsUpdate = !0, 0 == e.length && 1 == t) {
		var a = new THREE.CircleGeometry(1e3, 18);
		(n = new THREE.Mesh(a, r)).position.copy(new THREE.Vector3(0, -30, 0)),
		n.rotateX(3 * Math.PI / 2)
	} else
		e.length > 0 && 0 == t && (i.vertices = e, i.faces.push(new THREE.Face3(0, 2, 1)), i.faces.push(new THREE.Face3(0, 3, 2)), n = new THREE.Mesh(i, r));
	return n
}, v = [], firstDown, mouse = new THREE.Vector2, measureObj, moveObj, circleMesh, mesh, raycaster = new THREE.Raycaster, helpPoint = new THREE.Vector3, circleArea, rectArea, line, projectPoint = [], disArray = [], measureObjArr = [], moveObjArr = [], intersectPoints = [], tipTxt, tempPoints = [], moveLine, drawLine = function (e, t) {
	var n = new THREE.Geometry,
	i = new THREE.MeshBasicMaterial({
			color: 16777200,
			transparent: !0,
			opacity: .6
		}),
	r = new THREE.Color(54891);
	n.vertices.push(e),
	n.vertices.push(t),
	n.colors.push(r),
	line = new THREE.Line(n, i, THREE.LineSegments),
	measureObj.add(line),
	measureObjArr.push(line)
}, drawMoveLine = function (e, t, n) {
	moveLine && n.remove(moveLine);
	var i = new THREE.Geometry,
	r = new THREE.MeshBasicMaterial({
			color: 16777200,
			transparent: !0,
			opacity: .6
		}),
	a = new THREE.Color(54891);
	i.vertices.push(e),
	i.vertices.push(t),
	i.colors.push(a),
	moveLine = new THREE.Line(i, r, THREE.LineSegments),
	moveObj.add(moveLine),
	moveObjArr.push(moveLine),
	n.add(moveLine)
}, drawCircle = function (e, t, n, i) {
	var r = Math.sqrt(Math.pow(e[0].x - e[e.length - 1].x, 2) + Math.pow(e[0].y - e[e.length - 1].y, 2) + Math.pow(e[0].z - e[e.length - 1].z, 2)),
	a = Math.sqrt(Math.pow(measurePoints[0].x - measurePoints[e.length - 1].x, 2) + Math.pow(measurePoints[0].y - measurePoints[e.length - 1].y, 2) + Math.pow(measurePoints[0].z - measurePoints[e.length - 1].z, 2)),
	o = new THREE.CircleGeometry(r, 36),
	s = new THREE.MeshBasicMaterial({
			color: 786431,
			transparent: !0,
			opacity: .5
		});
	if (circleMesh = new THREE.Mesh(o, s), n) {
		var l = i.object.geometry.vertices[0],
		c = i.object.geometry.vertices[1],
		d = i.object.geometry.vertices[2],
		u = new THREE.Vector3(l.x - c.x, l.y - c.y, l.z - c.z),
		h = new THREE.Vector3(d.x - c.x, d.y - c.y, d.z - c.z);
		u.cross(h),
		circleMesh.position.copy(e[0]),
		circleMesh.lookAt(u.add(e[0]))
	} else
		circleMesh.position.copy(e[0]), circleMesh.rotateX(3 * Math.PI / 2);
	calCircleArea(a),
	t.add(circleMesh)
}, drawRect = function (e, t, n, i) {
	var r,
	a,
	o,
	s,
	l,
	c,
	d,
	u,
	h,
	p = e[0].x,
	f = e[0].y,
	m = e[0].z,
	g = e[e.length - 1].y,
	v = e[e.length - 1].x,
	b = e[e.length - 1].z,
	y = new THREE.Vector3(p, f, m),
	x = new THREE.Vector3(v, f, b),
	w = new THREE.Vector3(p, g, m),
	_ = new THREE.Vector3(v, g, b),
	T = new THREE.Vector3((p + v) / 2, (f + g) / 2, (m + b) / 2),
	E = new THREE.MeshBasicMaterial({
			color: 786431,
			transparent: !0,
			opacity: .5
		});
	if (n ? (r = calDistance(y, x), a = calDistance(y, w)) : (r = Math.abs(p - v), a = Math.abs(m - b)), h = new THREE.PlaneGeometry(r, a), mesh = new THREE.Mesh(h, E), n) {
		var M = i.object.geometry.vertices[0],
		C = i.object.geometry.vertices[1],
		S = i.object.geometry.vertices[2],
		A = new THREE.Vector3(M.x - C.x, M.y - C.y, M.z - C.z),
		R = new THREE.Vector3(S.x - C.x, S.y - C.y, S.z - C.z);
		A.cross(R),
		mesh.position.copy(T),
		mesh.lookAt(A.add(T)),
		o = calRealPoint(y),
		s = calRealPoint(x),
		l = calRealPoint(w),
		d = calDistance(o, s),
		u = calDistance(o, l)
	} else
		o = calCircleRealPoint(y), c = calCircleRealPoint(_), d = Math.abs(o.x - c.x), u = Math.abs(o.y - c.y), mesh.position.copy(T), mesh.rotateX(3 * Math.PI / 2);
	calRectArea(d, u),
	t.add(mesh)
}, drawPoint = function (e) {}, setMeasureTxt = function (e, t) {
	switch (t) {
	case 0:
		tipTxt = measurePoints.length > 0 ? "" : "";
		break;
	case 1:
		tipTxt = ""
	}
	var n = e.project(camera);
	n.x = (n.x + 1) / 2 * window.innerWidth,
	n.y =  - (n.y - 1) / 2 * window.innerHeight + 25,
	$("#showTip").show(),
	$("#showTip").css("left", n.x),
	$("#showTip").css("top", n.y),
	$("#showTip").text(""),
	$("#showTip").append(tipTxt)
}, setMeasureRsTxt = function (e, t, n) {
	var i;
	switch (n) {
	case 0:
		i = "";
		break;
	case 1:
		i = ""
	}
	var r = e.toFixed(2) + i,
	a = new THREE.Vector3(t.x, t.y, t.z);
	a.project(camera),
	projectPoint.push(a),
	disArray.push(r);
	for (var o = 0; o < projectPoint.length; o++) {
		var s = "measureDis" + o,
		l = (projectPoint[o].x + 1) / 2 * window.innerWidth,
		c =  - (projectPoint[o].y - 1) / 2 * window.innerHeight,
		d = "<div id =" + s + " style='z-index: 9999; position: absolute;font-size: larger; color: #CC2222;pointer-events: none'></div>";
		$("body").append(d),
		projectPoint[o].z > 1 ? $("#" + s).hide() : $("#" + s).show(),
		$("#" + s).css("left", l),
		$("#" + s).css("top", c),
		$("#" + s).text(""),
		$("#" + s).append(disArray[o])
	}
}, updateMeasureRsTxt = function (e, t) {
	switch (t) {
	case 0:
		for (r = 0; r < e.length; r++) {
			a = calScreenPoint(e[r]);
			tempPoints.push(a);
			s = "measureDis" + r;
			(o = new THREE.Vector3(a.x, a.y, a.z)).project(camera);
			var n = Math.round(o.x * window.innerWidth / 2 + window.innerWidth / 2),
			i = window.innerHeight - Math.round(o.y * window.innerHeight / 2 + window.innerHeight / 2) - 25;
			o.z > 1 ? $("#" + s).hide() : $("#" + s).show(),
			$("#" + s).css("left", n),
			$("#" + s).css("top", i)
		}
		break;
	case 1:
		for (var r = 0; r < e.length; r++) {
			var a = calScreenPoint(e[r]),
			o = new THREE.Vector3(a.x, a.y, a.z),
			s = "measureDis" + r;
			o.project(camera);
			var n = Math.round(o.x * window.innerWidth / 2 + window.innerWidth / 2),
			i = window.innerHeight - Math.round(o.y * window.innerHeight / 2 + window.innerHeight / 2) - 25;
			o.z > 1 ? $("#" + s).hide() : $("#" + s).show(),
			$("#" + s).css("left", n),
			$("#" + s).css("top", i)
		}
	}
}, calRectArea = function (e, t) {
	rectArea = e * t
}, calCircleArea = function (e) {
	circleArea = Math.PI * e * e
}, globalProperties = function () {
	var e = new Object;
	e.lastPanoInfo = null,
	e.panoInfo = null;
	e.lastPanoMetaInfo = null,
	e.panoMetaInfo = null;
	return e.currentLevel = 0,
	e.lastLevel = 0,
	e.isFirstLoadImage = !0,
	e.arrowPicTexture,
	e.arrowPicOverTexture,
	e.carPicTexture,
	e.zoomInPicTexture,
	e.zoomOutPicTexture,
	e.toPanoInfo = function (t) {
		return e.lastPanoInfo = e.panoInfo,
		e.panoInfo = t,
		e.panoInfo
	},
	e.toPanoMetaInfo = function (t) {
		if (t && t.Location.lat && t.Location.lng) {
			var n = new THREE.Vector3;
			t.Location.lng = Number(t.Location.lng),
			t.Location.lat = Number(t.Location.lat),
			t.Location.elevation_wgs84_m = t.Location.elevation_wgs84_m ? Number(t.Location.elevation_wgs84_m) : 0,
			n.x = t.Location.lng * Math.PI / 180,
			n.y = t.Location.lat * Math.PI / 180,
			n.z = t.Location.elevation_wgs84_m;
			var i = 3 * Math.round(t.Location.lng / 3),
			r = (new CoordTrans).gaussBLToXY(n, i);
			t.Location.X = r.x,
			t.Location.Y = r.y,
			t.Location.Z = n.z
		}
		return e.lastPanoMetaInfo = e.panoMetaInfo,
		e.panoMetaInfo = t,
		e.panoMetaInfo
	},
	e
};
HDEvent.prototype = {
	thumbnailLoadCompleted: function () {
		var e = {
			type: "thumbnailLoadCompleted",
			object: this.obj
		};
		this.myEvent.fire(e)
	},
	cameraYawChanged: function () {
		this.obj
	},
	panoInfoLoadCompleted: function () {
		var e = {
			type: "panoInfoLoadCompleted",
			object: this.obj
		};
		this.myEvent.fire(e)
	},
	panoMetaInfoLoadCompleted: function () {
		var e = {
			type: "panoMetaInfoLoadCompleted",
			object: this.obj
		};
		this.myEvent.fire(e)
	},
	getPanoField: function () {
		var e = {
			type: "getPanoField",
			object: this.obj
		};
		this.myEvent.fire(e)
	}
};
var calAngle = function (e, t, n, i) {
	var r = 0,
	a = 0,
	o = 0;
	return a = Math.abs(e - n),
	o = Math.abs(t - i),
	r = Math.atan2(a, o),
	e >= n && t >= i ? Math.PI + r : e >= n && t <= i ? 2 * Math.PI - r : e <= n && t >= i ? Math.PI - r : r
}, calDistance = function (e, t) {
	return Math.sqrt((e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y) + (e.z - t.z) * (e.z - t.z))
}, calCircleRealPoint = function (e) {
	var t = new THREE.Vector3(0, 0, 0);
	return t.x = GlobalProperties.panoMetaInfo.Location.X + .083 * e.x,
	t.y = GlobalProperties.panoMetaInfo.Location.Y - .083 * e.z,
	t.z = GlobalProperties.panoMetaInfo.Location.Z + .083 * e.y,
	t
}, calRealPoint = function (e) {
	var t = new THREE.Vector3(0, 0, 0);
	return t.x = GlobalProperties.panoMetaInfo.Location.X + e.x,
	t.y = GlobalProperties.panoMetaInfo.Location.Y - e.z,
	t.z = GlobalProperties.panoMetaInfo.Location.Z + e.y,
	t
}, calScreenPoint = function (e) {
	var t = new THREE.Vector3(0, 0, 0);
	return t.x = e.x - GlobalProperties.panoInfo.ImageInfo.X,
	t.y = e.z - GlobalProperties.panoInfo.ImageInfo.Z,
	t.z = GlobalProperties.panoInfo.ImageInfo.Y - e.y,
	t
}, normalPoint = function (e) {
	var t = Math.sqrt(e.x * e.x + e.y * e.y + e.z * e.z);
	return e.x = e.x / t,
	e.y = e.y / t,
	e.z = e.z / t,
	e
}, rad2Degree = function (e) {
	return e / Math.PI * 180
}, degree2Rad = function (e) {
	return e * Math.PI / 180
};
MyEvent.prototype = {
	addHandler: function (e, t) {
		void 0 === this.handlers[e] && (this.handlers[e] = []),
		this.handlers[e].push(t)
	},
	fire: function (e) {
		if (this.handlers[e.type]instanceof Array)
			for (var t = this.handlers[e.type], n = 0, i = t.length; n < i; n++)
				t[n](e)
	},
	removeHandler: function (e, t) {
		if (this.handlers[e]instanceof Array) {
			for (var n = this.handlers[e], i = 0, r = n.length; i < r && n[i] !== t; i++);
			n.splice(i, 1)
		}
	}
};
var judgeZoomin = function (e) {
	for (var t = !0, n = GlobalProperties.panoMetaInfo.Location, i = GlobalProperties.panoMetaInfo.Links, r = i.length, a = (new THREE.Vector3(0, 0, 0), Math.sqrt(Math.pow(n.X - e.x, 2) + Math.pow(n.Y - e.y, 2))), o = 0; o < r; o++) {
		var s = i[o].X,
		l = i[o].Y,
		c = i[o].Type;
		Math.sqrt(Math.pow(s - e.x, 2) + Math.pow(l - e.y, 2)) < a && c == n.Type && (t = !1)
	}
	return t
}, getViewGestureByPoint = function (e) {
	var t = 0,
	n = 0;
	return t = e.x > 0 && e.z > 0 ? 2 * Math.PI - Math.atan(e.z / e.x) : e.x > 0 && e.z < 0 ? Math.PI / 2 + Math.atan(e.x / e.z) : e.x < 0 && e.z < 0 ? Math.PI - Math.atan(e.z / e.x) : 3 * Math.PI / 2 + Math.atan(e.x / e.z),
	n = Math.atan(e.y / Math.sqrt(Math.pow(e.x, 2) + Math.pow(e.z, 2))),
	t = rad2Degree(t),
	n = rad2Degree(n),
	new PanoViewGesture(t, n, 0)
}, arrowPicLoad = function () {
	(new THREE.TextureLoader).load("./images/streetView/alpha.png", function (e) {
		GlobalProperties.arrowPicTexture = e
	}, function (e) {}, function (e) {
		console.log("An error happened with load tile")
	})
}, arrowPicOverLoad = function () {
	(new THREE.TextureLoader).load("./images/streetView/alpha_over.png", function (e) {
		GlobalProperties.arrowPicOverTexture = e
	}, function (e) {}, function (e) {
		console.log("An error happened with load tile")
	})
}, carPicLoad = function () {
    // (new THREE.TextureLoader).load("./images/streetView/car.png", function (e) {
	(new THREE.TextureLoader).load("./images/streetView/zoomIn.png", function (e) {
		GlobalProperties.carPicTexture = e,
		carMesh && (scene.remove(carMesh), carMesh.material.dispose(), carMesh.geometry.dispose(), carMesh = null),
		carMesh = new HDCarMesh,
		scene.add(carMesh)
	}, function (e) {}, function (e) {
		console.log("An error happened with load tile")
	})
}, convertTo3DCoordinate = function (e, t) {
	var n = new THREE.Vector3(e, t, .5);
	return n.unproject(camera),
	n
}, ZoomInPicLoad = function () {
	(new THREE.TextureLoader).load("./images/streetView/zoomIn.png", function (e) {
		GlobalProperties.zoomInPicTexture = e
	}, function (e) {}, function (e) {
		console.log("An error happened with load tile")
	})
}, ZoomOutPicLoad = function () {
	(new THREE.TextureLoader).load("./images/streetView/zoomOut.png", function (e) {
		GlobalProperties.zoomOutPicTexture = e
	}, function (e) {}, function (e) {
		console.log("An error happened with load tile")
	})
}, PanoViewGesture = function (e, t, n) {
	var i = new Object;
	return i.yaw = e,
	i.pitch = t,
	i.roll = n,
	i
}, getGestureByPoint = function (e) {
	var t = 0,
	n = 0;
	t = e.x > 0 && e.z < 0 ? 2 * Math.PI - Math.atan(e.x / -e.z) : e.x > 0 && e.y > 0 ? Math.PI + Math.atan(e.x / e.z) : e.x < 0 && e.y > 0 ? Math.PI - Math.atan((-e).x / e.z) : Math.atan((-e).x / -e.z),
	n = Math.atan(e.y / Math.sqrt(e.x * e.x + e.z * e.z));
	var i = new Object;
	return i.yaw = t,
	i.pitch = n,
	i
}, getRotationByPoint = function () {}, ConstEnum = function () {
	var e = new Object;
	return e.E_COOR_UNIT_TYPE_UNKNOWN = 0,
	e.E_COOR_UNIT_TYPE_DEGREE = 1,
	e.E_COOR_UNIT_TYPE_RADIAN = 2,
	e.E_COOR_UNIT_TYPE_METER = 3,
	e.E_COOR_UNIT_TYPE_CM = 4,
	e.E_COOR_UNIT_TYPE_MM = 5,
	e.E_COOR_SYSTEM_TYPE_UNKNOWN = 0,
	e.E_COOR_SYSTEM_TYPE_GEO = 1,
	e.E_COOR_SYSTEM_TYPE_PRJ = 2,
	e.ZHD_ProjectionEnum_Guas3 = 0,
	e.ZHD_ProjectionEnum_Guass6 = 1,
	e.ZHD_ProjectionEnum_Guass_Userdefine = 2,
	e.ZHD_ProjectionEnum_Mecator = 3,
	e.ZHD_ProjectionEnum_UTM = 4,
	e.ZHD_ProjectionEnum_TM_South = 5,
	e.ZHD_ProjectionEnum_Lambert_1CCP = 6,
	e.ZHD_ProjectionEnum_Lambert_2CCP = 7,
	e.ZHD_ProjectionEnum_Oblique_Stereo = 8,
	e.ZHD_ProjectionEnum_Mecator_Oblique = 9,
	e.ZHD_ProjectionEnum_Mecator_Hotine_Oblique = 10,
	e.ZHD_ProjectionEnum_Double_Stereographic = 11,
	e.ZHD_ProjectionEnum_CassiniSoldner = 12,
	e.E_CONVERT_TYPE_UNKNOWN = 0,
	e.E_CONVERT_TYPE_4 = 1,
	e.E_CONVERT_TYPE_7 = 2,
	e.E_EARTH_TYPE_UNKNOWN = 0,
	e.E_EARTH_TYPE_Beijing54 = 1,
	e.E_EARTH_TYPE_Krasovsky = 2,
	e.E_EARTH_TYPE_Xian80 = 3,
	e.E_EARTH_TYPE_IUGG1975 = 4,
	e.E_EARTH_TYPE_IUGG1979 = 5,
	e.E_EARTH_TYPE_IUGG1983 = 6,
	e.E_EARTH_TYPE_IUGG1967 = 7,
	e.E_EARTH_TYPE_WGS84 = 8,
	e.E_EARTH_TYPE_GRS80 = 9,
	e.E_EARTH_TYPE_WGS72 = 10,
	e.E_EARTH_TYPE_China2000 = 11,
	e.E_EARTH_TYPE_Australia1965 = 12,
	e.E_PROJECT_TYPE_UNKNOWN = 0,
	e.E_PROJECT_TYPE_UTM = 1,
	e.E_PROJECT_TYPE_Albers_Conical_EQ_Area = 2,
	e.E_PROJECT_TYPE_Lambert_Conformal_Conic = 3,
	e.E_PROJECT_TYPE_Mercator = 4,
	e.E_PROJECT_TYPE_Gauss_Kruger = 5,
	e.E_PROJECT_TYPE_Polyconic = 6,
	e.E_PROJECT_TYPE_EQ_Dist_Conic = 7,
	e.E_PROJECT_TYPE_Transverse_Mecator = 8,
	e.E_PROJECT_TYPE_StereoGraphic = 9,
	e.E_PROJECT_TYPE_Lambert_Azimuthal_EQ_Area = 10,
	e.E_PROJECT_TYPE_Azimuthal_EQ_Dist = 11,
	e.E_PROJECT_TYPE_Gnomonic = 12,
	e.E_PROJECT_TYPE_Orthographic = 13,
	e.E_PROJECT_TYPE_General_VER_NS_Perspective = 14,
	e.E_PROJECT_TYPE_Sinusoidal = 15,
	e.E_PROJECT_TYPE_Equirectangular = 16,
	e.E_PROJECT_TYPE_Miller_Cylindrical = 17,
	e.E_PROJECT_TYPE_V_D_Grinten_I = 18,
	e.E_PROJECT_TYPE_Oblique_Mercator = 19,
	e.E_PROJECT_TYPE_Polar_Srereographic = 20,
	e.EARTH_BJ54_EA = 6378245,
	e.EARTH_BJ54_EF = 298.3,
	e.EARTH_CN80_EA = 6378140,
	e.EARTH_CN80_EF = 298.257,
	e.EARTH_WGS84_EA = 6378137,
	e.EARTH_WGS84_EF = 298.2572236,
	e.EARTH_CN2000_EA = 6378137,
	e.EARTH_CN2000_EF = 298.2572221,
	e.EARTH_WGS72_EA = 6378135,
	e.EARTH_WGS72_EF = 298.26,
	e
}, CoordTrans = function () {
	function e(e) {
		var t = e.y,
		n = e.x,
		i = e.z;
		return function (e, t, n, i, r, a, o, s, l) {
			var c = new THREE.Vector3;
			s || (r = -r);
			l || (a = -a);
			switch (r -= i.fn, a -= i.fe, r /= i.ko, a /= i.ko, e) {
			case x.ZHD_ProjectionEnum_Guas3:
			case x.ZHD_ProjectionEnum_Guass6:
			case x.ZHD_ProjectionEnum_Guass_Userdefine:
				c = function (e, t, n, i, r, a, o) {
					var s = new THREE.Vector3,
					l = 0,
					c = 0,
					d = 0;
					c = 1 - Math.pow(1 - 1 / t, 2),
					d = c / (1 - c);
					var u = 0,
					h = 0,
					p = 0,
					f = 0,
					m = 0,
					g = 0,
					v = 0,
					b = 0;
					l = n * (1 - c * Math.pow(Math.sin(i), 2)) / Math.sqrt(1 - c),
					e += l;
					var y = 0,
					x = 0,
					w = 0,
					_ = 0,
					T = 0;
					x = 1 - c / 4 - 3 * Math.pow(c, 2) / 64 - 5 * Math.pow(c, 3) / 256,
					w = 3 * c / 8 + 3 * Math.pow(c, 2) / 32 + 45 * Math.pow(c, 3) / 1024,
					_ = 15 * Math.pow(c, 2) / 256 + 45 * Math.pow(c, 3) / 1024,
					T = 35 * Math.pow(c, 3) / 3072,
					y = e * (x * i - w * Math.sin(2 * i) + _ * Math.sin(4 * i) - T * Math.sin(6 * i)),
					m = (y + r) / (e * (1 - c / 4 - 3 * Math.pow(c, 2) / 64 - 5 * Math.pow(c, 3) / 256)),
					f = (1 - Math.sqrt(1 - c)) / (1 + Math.sqrt(1 - c)),
					p = m + (3 * f / 2 - 27 * Math.pow(f, 3) / 32) * Math.sin(2 * m),
					p += (21 * Math.pow(f, 2) / 16 - 55 * Math.pow(f, 4) / 32) * Math.sin(4 * m),
					p += 151 * Math.pow(f, 3) / 96 * Math.sin(6 * m),
					p += 1097 * Math.pow(f, 4) / 512 * Math.sin(8 * m),
					h = e * (1 - c) / Math.pow(1 - c * Math.pow(Math.sin(p), 2), 1.5),
					u = e / Math.sqrt(1 - c * Math.pow(Math.sin(p), 2)),
					g = Math.pow(Math.tan(p), 2),
					v = d * Math.pow(Math.cos(p), 2),
					b = a / u;
					var E = Math.pow(b, 2) / 2 - (5 + 3 * g + 10 * v - 4 * Math.pow(v, 2) - 9 * d) * Math.pow(b, 4) / 24 + (61 + 90 * g + 298 * v + 45 * Math.pow(g, 2) - 252 * d - 3 * Math.pow(v, 2)) * Math.pow(b, 6) / 720;
					E = p - u * Math.tan(p) / h * E;
					var M = b - (1 + 2 * g + v) * Math.pow(b, 3) / 6 + (5 - 2 * v + 28 * g - 3 * Math.pow(v, 2) + 8 * d + 24 * Math.pow(g, 2)) * Math.pow(b, 5) / 120;
					return M = o + M / Math.cos(p),
					s.x = 180 * M / Math.PI,
					s.y = 180 * E / Math.PI,
					s
				}
				(t, n, i.ph, i.bc, r, a, i.lo)
			}
			return c.z = o,
			c
		}
		(l, c, d, y, t, n, i, !0, !0)
	}
	function t(e, t, n, i, r, a, o) {
		var s,
		l,
		c,
		d,
		u,
		h,
		p,
		f,
		m,
		g,
		v,
		b,
		y,
		x,
		w = new THREE.Vector3;
		l = (e * e - (s = e * (1 - 1 / t)) * s) / (e * e);
		e += n * (1 - (l = 1 - Math.pow(1 - 1 / t, 2)) * Math.pow(Math.sin(r), 2)) / Math.sqrt(1 - l);
		var _ = 1 - l * Math.sin(r) * Math.sin(r),
		T = e * (1 - l) / Math.sqrt(Math.pow(1 - l * Math.sin(r) * Math.sin(r), 3));
		x = l * Math.sin(r) * Math.cos(r) / (T + n) / _,
		Math.sqrt((1 - l * Math.pow(Math.sin(r), 2)) / (1 - l)),
		p = e / Math.sqrt(1 - l * Math.pow(Math.sin(r), 2)),
		r += x,
		f = 1 + .75 * l + 45 / 64 * Math.pow(l, 2) + 350 / 512 * Math.pow(l, 3) + 11025 / 16384 * Math.pow(l, 4),
		m =  - .5 * (.75 * l + .9375 * Math.pow(l, 2) + 525 / 512 * Math.pow(l, 3) + 17640 / 16384 * Math.pow(l, 4)),
		g = .25 * (15 / 64 * Math.pow(l, 2) + 210 / 512 * Math.pow(l, 3) + 8820 / 16384 * Math.pow(l, 4)),
		v = -1 / 6 * (35 / 512 * Math.pow(l, 3) + 2520 / 16384 * Math.pow(l, 4)),
		b = 39.375 / 16384 * Math.pow(l, 4),
		c = a - o,
		d = Math.tan(r),
		u = c * Math.cos(r),
		h = l / (1 - l) * Math.pow(Math.cos(r), 2);
		var E = (y = e * (1 - l) * (f * r + m * Math.sin(2 * r) + g * Math.sin(4 * r) + v * Math.sin(6 * r) + b * Math.sin(8 * r))) - e * (1 - l) * (f * i + m * Math.sin(2 * i) + g * Math.sin(4 * i) + v * Math.sin(6 * i) + b * Math.sin(8 * i)) + .5 * p * d * Math.pow(u, 2) + 1 / 24 * (5 - Math.pow(d, 2) + 9 * h + 4 * Math.pow(h, 2)) * p * d * Math.pow(u, 4) + 1 / 720 * (61 - 58 * Math.pow(d, 2) + Math.pow(d, 4)) * p * d * Math.pow(u, 6),
		M = p * u + 1 / 6 * (1 - Math.pow(d, 2) + h) * p * Math.pow(u, 3) + 1 / 120 * (5 - 18 * Math.pow(d, 2) + Math.pow(d, 4) + 14 * h - 58 * h * Math.pow(d, 2)) * p * Math.pow(u, 5);
		return w.x = E,
		w.y = M,
		w
	}
	function n(e) {
		null != e && (function (e) {
			switch (e) {
			case x.E_EARTH_TYPE_Beijing54:
				c = x.EARTH_BJ54_EA,
				d = x.EARTH_BJ54_EF;
				break;
			case x.E_EARTH_TYPE_Xian80:
				c = x.EARTH_CN80_EA,
				d = x.EARTH_CN80_EF;
				break;
			case x.E_EARTH_TYPE_China2000:
				c = x.EARTH_CN2000_EA,
				d = x.EARTH_CN2000_EF;
				break;
			case x.E_EARTH_TYPE_WGS84:
				c = x.EARTH_WGS84_EA,
				d = x.EARTH_WGS84_EF;
				break;
			case x.E_EARTH_TYPE_WGS72:
				c = x.EARTH_WGS72_EA,
				d = x.EARTH_WGS72_EF
			}
			srcEarthType = e
		}
			(e.earthType), function (e, t) {
			switch (e) {
			case x.E_COOR_SYSTEM_TYPE_UNKNOWN:
			case x.E_COOR_SYSTEM_TYPE_GEO:
			case x.E_COOR_SYSTEM_TYPE_PRJ:
				break;
			default:
				return
			}
			a = e,
			o = t
		}
			(e.coorSystem, e.coorUnit), function (e) {
			switch (e) {
			case x.E_PROJECT_TYPE_UNKNOWN:
			case x.E_PROJECT_TYPE_Gauss_Kruger:
				l = x.ZHD_ProjectionEnum_Guass_Userdefine;
				break;
			case x.E_PROJECT_TYPE_UTM:
				l = x.ZHD_ProjectionEnum_UTM;
				break;
			case x.E_PROJECT_TYPE_Mercator:
				l = x.ZHD_ProjectionEnum_Mecator;
				break;
			case x.E_PROJECT_TYPE_Lambert_Conformal_Conic:
				l = x.ZHD_ProjectionEnum_Lambert_1CCP;
				break;
			case x.E_PROJECT_TYPE_Oblique_Mercator:
				l = x.ZHD_ProjectionEnum_Mecator_Hotine_Oblique;
				break;
			case x.E_PROJECT_TYPE_StereoGraphic:
				l = x.ZHD_ProjectionEnum_Double_Stereographic;
				break;
			default:
				return void(l = x.ZHD_ProjectionEnum_Guass_Userdefine)
			}
			s = e
		}
			(e.prjType))
	}
	function i(e) {
		null != e && (function (e) {
			switch (e) {
			case x.E_EARTH_TYPE_Beijing54:
				g = x.EARTH_BJ54_EA,
				v = x.EARTH_BJ54_EF;
				break;
			case x.E_EARTH_TYPE_Xian80:
				g = x.EARTH_CN80_EA,
				v = x.EARTH_CN80_EF;
				break;
			case x.E_EARTH_TYPE_China2000:
				g = x.EARTH_CN2000_EA,
				v = x.EARTH_CN2000_EF;
				break;
			case x.E_EARTH_TYPE_WGS84:
				g = x.EARTH_WGS84_EA,
				v = x.EARTH_WGS84_EF;
				break;
			case x.E_EARTH_TYPE_WGS72:
				g = x.EARTH_WGS72_EA,
				v = x.EARTH_WGS72_EF;
				break;
			default:
				return
			}
			u = e
		}
			(e.earthType), function (e, t) {
			switch (e) {
			case x.E_COOR_SYSTEM_TYPE_UNKNOWN:
			case x.E_COOR_SYSTEM_TYPE_GEO:
			case x.E_COOR_SYSTEM_TYPE_PRJ:
				break;
			default:
				return
			}
			h = e,
			p = t
		}
			(e.coorSystem, e.coorUnit), function (e) {
			switch (e) {
			case x.E_PROJECT_TYPE_UNKNOWN:
			case x.E_PROJECT_TYPE_Gauss_Kruger:
				m = x.ZHD_ProjectionEnum_Guass_Userdefine;
				break;
			case x.E_PROJECT_TYPE_UTM:
				m = x.ZHD_ProjectionEnum_UTM;
				break;
			case x.E_PROJECT_TYPE_Mercator:
				m = x.ZHD_ProjectionEnum_Mecator;
				break;
			case x.E_PROJECT_TYPE_Lambert_Conformal_Conic:
				m = x.ZHD_ProjectionEnum_Lambert_1CCP;
				break;
			case x.E_PROJECT_TYPE_Oblique_Mercator:
				m = x.ZHD_ProjectionEnum_Mecator_Hotine_Oblique;
				break;
			case x.E_PROJECT_TYPE_StereoGraphic:
				m = x.ZHD_ProjectionEnum_Double_Stereographic;
				break;
			default:
				return void(m = x.ZHD_ProjectionEnum_Guass_Userdefine)
			}
			f = e
		}
			(e.prjType))
	}
	var r = new Object,
	a = 0,
	o = 0,
	s = 0,
	l = 0,
	c = 0,
	d = 0,
	u = (new ProjPars, 0),
	h = 0,
	p = 0,
	f = 0,
	m = 0,
	g = 0,
	v = 0,
	b = new SpatialRef,
	y = new SpatialRef,
	x = new ConstEnum;
	return r.gaussXYToBL = function (t, r) {
		var a = r;
		y.coorSystem = x.E_COOR_SYSTEM_TYPE_PRJ,
		y.coorUnit = x.E_COOR_UNIT_TYPE_METER,
		y.earthType = x.E_EARTH_TYPE_WGS84,
		y.prjType = x.E_PROJECT_TYPE_Gauss_Kruger,
		y.lo = 3.14159265359 * a / 180,
		y.ko = 1,
		y.fe = 5e5,
		n(y),
		b.coorSystem = x.E_COOR_SYSTEM_TYPE_GEO,
		b.coorUnit = x.E_COOR_UNIT_TYPE_DEGREE,
		b.earthType = x.E_EARTH_TYPE_WGS84,
		i(b);
		return e(t)
	},
	r.gaussBLToXY = function (e, r) {
		var a = r;
		y.coorSystem = x.E_COOR_SYSTEM_TYPE_GEO,
		y.coorUnit = x.E_COOR_UNIT_TYPE_DEGREE,
		y.earthType = x.E_EARTH_TYPE_WGS84,
		y.ko = 1,
		n(y),
		b.coorSystem = x.E_COOR_SYSTEM_TYPE_PRJ,
		b.coorUnit = x.E_COOR_UNIT_TYPE_METER,
		b.earthType = x.E_EARTH_TYPE_WGS84,
		b.prjType = x.E_PROJECT_TYPE_Gauss_Kruger,
		b.ko = 1,
		b.fe = 5e5,
		b.lo = a * Math.PI / 180,
		i(b);
		var o = e.y,
		s = e.x,
		u = e.z;
		return function (e, n, i, r, a, o, s, l, c) {
			var d = new THREE.Vector3;
			if (o > 0) {
				var u = parseInt(o / (2 * Math.PI));
				o -= 2 * u * Math.PI
			} else
				o += 2 * (u = parseInt(o / (-2 * Math.PI))) * Math.PI;
			Math.abs(o - r.lo) > Math.PI && (o > 0 ? o -= 2 * Math.PI : o += 2 * Math.PI);
			var h;
			switch (e) {
			case x.ZHD_ProjectionEnum_Guas3:
				r.add = parseInt(180 * r.lo / Math.PI / 3),
				h = t(n, i, r.ph, r.bc, a, o, r.lo);
				break;
			case x.ZHD_ProjectionEnum_Guass6:
				r.add = parseInt(180 * r.lo / Math.PI + 3) / 6,
				h = t(n, i, r.ph, r.bc, a, o, r.lo);
				break;
			case x.ZHD_ProjectionEnum_Guass_Userdefine:
				h = t(n, i, r.ph, r.bc, a, o, r.lo)
			}
			var p = h.x,
			f = h.y;
			return e != x.ZHD_ProjectionEnum_Mecator_Oblique && e != x.ZHD_ProjectionEnum_Mecator_Hotine_Oblique && e != x.ZHD_ProjectionEnum_Lambert_1CCP && (p *= r.ko, f *= r.ko),
			p += r.fn,
			f += r.fe,
			l || (p = -p),
			c || (f = -f),
			d.x = p,
			d.y = f,
			d.z = s,
			d
		}
		(l, c, d, b, o, s, u, !0, !0)
	},
	r
}, ProjPars = function () {
	var e = new Object;
	return e.rc = 0,
	e.ac = 0,
	e.lo = 0,
	e.bo = 0,
	e.nf = 0,
	e.ef = 0,
	e.ec = 0,
	e.nc = 0,
	e.fe = 0,
	e.fn = 0,
	e.b1 = 0,
	e.b2 = 0,
	e.bf = 0,
	e.lf = 0,
	e.bc = 0,
	e.lc = 0,
	e.bp = 0,
	e.li = 0,
	e.ko = 0,
	e.kc = 0,
	e.kp = 0,
	e.ph = 0,
	e.w = 0,
	e.add = 0,
	e.bAdd = 0,
	e.north = 0,
	e.east = 0,
	e
}, SpatialRef = function () {
	var e = new Object;
	return e.coorSystem = 0,
	e.coorUnit = 0,
	e.earthType = 0,
	e.prjType = 0,
	e.rc = 0,
	e.ac = 0,
	e.lo = 0,
	e.bo = 0,
	e.nf = 0,
	e.ef = 0,
	e.ec = 0,
	e.nc = 0,
	e.fe = 0,
	e.fn = 0,
	e.b1 = 0,
	e.b2 = 0,
	e.bf = 0,
	e.lf = 0,
	e.bc = 0,
	e.lc = 0,
	e.bp = 0,
	e.li = 0,
	e.ko = 0,
	e.kc = 0,
	e.kp = 0,
	e.ph = 0,
	e.w = 0,
	e.add = 0,
	e.bAdd = 0,
	e.north = 0,
	e.east = 0,
	e
}, VERTICAL_MAP, HORIZONTAL_MAP, sphereRotation = new THREE.Vector3(0, 0, 0), initVertices = function () {
	VERTICAL_MAP = new Array(4097),
	HORIZONTAL_MAP = new Array(8193);
	for (var e = 0; e < 4097; e++)
		VERTICAL_MAP[e] = (-180 / 4096 * e + 90) * Math.PI / 180;
	for (e = 0; e < 8193; e++)
		HORIZONTAL_MAP[e] = e / 4096 * Math.PI
}, yrp2A3DRotation = function (e, t, n) {
	var i = Math.cos(e) * Math.cos(t) + Math.sin(e) * Math.sin(n) * Math.sin(t),
	r = (Math.sin(e), Math.cos(n), Math.cos(e), Math.sin(t), Math.sin(e), Math.cos(t), Math.sin(n), Math.cos(e) * Math.sin(n) * Math.sin(t) - Math.sin(e) * Math.cos(t)),
	a = (Math.cos(e), Math.cos(n), Math.sin(e), Math.sin(t), Math.cos(e), Math.cos(t), Math.sin(n), -Math.cos(n) * Math.sin(t)),
	o = Math.sin(n),
	s = Math.cos(n) * Math.cos(t);
	sphereRotation.x = Math.atan(o / s),
	sphereRotation.z = -Math.asin(a),
	sphereRotation.y = Math.atan2(r, i)
}, getDirectionName = function (e) {
	var t = "";
	return (e = 180 * e / Math.PI) < 0 && (e = 360 + e),
	e >= 0 && e <= 22.5 || e >= 337.5 && e <= 360 ? t = "" : e >= 22.5 && e <= 67.5 ? t = "" : e >= 67.5 && e <= 112.5 ? t = "" : e >= 112.5 && e <= 157.5 ? t = "" : e >= 157.5 && e <= 202.5 ? t = "" : e >= 202.5 && e <= 247.5 ? t = "" : e >= 247.5 && e <= 292.5 ? t = "" : e >= 292.5 && e <= 337.5 && (t = ""),
	t
}, mouseMoveLongNormal = function (e) {
	var t = e;
	return t > Math.PI ? t - 2 * Math.PI : t < -Math.PI ? 2 * Math.PI + t : t
}, g_serverUrl = "", g_initLon = 0, g_initLat = 0, g_initID = "", g_minPitch = -150, g_maxPitch = 150, g_gatherAgency = "", g_gatherAgencySite = "", g_symbolTolerate = 0, g_skipTolerateSkipMarker = 0, g_showAllMarker = !1, g_showMarkerAttrWin = !0, g_modelType, g_useInternalRoadName = !0, g_startSwfUrl = "";
$(function () {
	
	var request ={
		QueryString : function(val){
			var uri = window.location.search;
			var re = new RegExp("" +val+ "=([^&?]*)", "ig");
			return ((uri.match(re))?(uri.match(re)[0].substr(val.length+1)):null);
		}
	}
	g_serverUrl = request.QueryString("serverUrl");
	g_initLon = request.QueryString("x");
	g_initLat = request.QueryString("y");
	
	// $.get("../config.xml", function (e) {
	// 	$(e).find("panoView").each(function (e) {
	// 		g_serverUrl = $(this).children("serverurl").text().trim(),
	// 		g_initLon = $(this).children("initLon").text().trim(),
	// 		g_initLat = $(this).children("initLat").text().trim()
	// 	})
	// })

});
var InterfaceManager = function () {
	var e = new Object;
	return e.setPanoByID = function (e) {

		var t = new Object;
		t.methodType = 0,
		t.type = 1,
		t.panoID = e,
		t.viewType = 1,
		t.tolerateFacade = 100;
		new PanoInfoService(t, hdEvent).getPanoInfo()
	},
	e.setPanoByBL = function (e, t) {
		var n = new Object;
		n.lat = e,
		n.lon = t;
		new PanoMetaInfoService(n, hdEvent).findNear()
	},
	e.setPanoByXYZ = function (e, t, n) {
		var i = new Object;
		i.methodType = 1,
		i.type = 1,
		i.x = e,
		i.y = t,
		i.z = n,
		i.viewType = 1,
		i.tolerateFacade = 200;
		new PanoInfoService(i, hdEvent).getPanoInfo()
	},
	e.setCameraYaw = function (t) {
		long = t * Math.PI / 180,
		cameraLookAtPoint.setX(Math.cos(lat) * Math.sin(long)),
		cameraLookAtPoint.setY(Math.sin(lat)),
		cameraLookAtPoint.setZ(Math.cos(lat) * Math.cos(long)),
		e.onCameraYawChanged(t),
		setTimeout(function () {
			g_markerManager.updateMarker();
			for (var e = 0; e < panoArrowManager.panoArrowArr.length; e++)
				panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[e].updateText()
		}, 100)
	},
	e.zoomIn = function () {
		camera.fov > 35 && (camera.fov -= 10, camera.updateProjectionMatrix());
		for (var e = 0; e < panoArrowManager.panoArrowArr.length; e++)
			panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[e].updateText()
	},
	e.zoomOut = function () {
		camera.fov < 65 && (camera.fov += 10, camera.updateProjectionMatrix());
		for (var e = 0; e < panoArrowManager.panoArrowArr.length; e++)
			panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[e].updateText()
	},
	e.onPanoChanged = function (e) {},
	e.onPanoMetaChanged = function (e) {
		InterfaceManager.prototype.onPanoMetaChanged(e)
	},
	e.onGetPanoField = function () {
		InterfaceManager.prototype.onGetPanoField()
	},
	e.onThumbnailCompleted = function () {
		InterfaceManager.prototype.onThumbnailCompleted()
	},
	e.onCameraYawChanged = function (e) {
		InterfaceManager.prototype.onCameraYawChanged(e)
	},
	e
}, g_showWinAfterJump = !1, g_isAutoRun = !1, interface;
$(function () {
	//let parms = {username:streetViewToken.username,password:streetViewToken.password};
    // var request ={
	// 	QueryString : function(val){
	// 		var uri = window.location.search;
	// 		var re = new RegExp("" +val+ "=([^&?]*)", "ig");
	// 		return ((uri.match(re))?(uri.match(re)[0].substr(val.length+1)):null);
	// 	}
	// };
	//var user = request.QueryString("username");
	//var pass = request.QueryString("password");
	//var username = request.QueryString("username");
    //var parms = { username: user, password: pass};
    //var tokenUrl = request.QueryString("token")

	// fetch(tokenUrl,{
	// 	headers: { "Content-Type": "application/json"},
	// 	body: JSON.stringify(parms),
	// 	method:"POST"
	// }).then(function (response) {
	// 	response.json().then((json)=>{
	// 		window.tokenJson = json.token;
	// 	})
	// });
	panoView(),
	interface = new InterfaceManager
}), THREE.DragControls = function (e, t, n) {
	function i() {
		n.addEventListener("mousemove", a, !1),
		n.addEventListener("mousedown", o, !1),
		n.addEventListener("mouseup", s, !1)
	}
	function r() {
		n.removeEventListener("mousemove", a, !1),
		n.removeEventListener("mousedown", o, !1),
		n.removeEventListener("mouseup", s, !1)
	}
	function a(i) {
		if (i.preventDefault(), u.x = i.clientX / n.width * 2 - 1, u.y = -i.clientY / n.height * 2 + 1, d.setFromCamera(u, t), f && g.enabled)
			return d.ray.intersectPlane(c, p) && f.position.copy(p.sub(h)), void g.dispatchEvent({
				type: "drag",
				object: f
			});
		d.setFromCamera(u, t);
		var r = d.intersectObjects(e);
		if (r.length > 0) {
			var a = r[0].object;
			c.setFromNormalAndCoplanarPoint(t.getWorldDirection(c.normal), a.position),
			m !== a && (g.dispatchEvent({
					type: "hoveron",
					object: a
				}), n.style.cursor = "pointer", m = a)
		} else
			null !== m && (g.dispatchEvent({
					type: "hoveroff",
					object: m
				}), n.style.cursor = "auto", m = null)
	}
	function o(i) {
		i.preventDefault(),
		d.setFromCamera(u, t);
		var r = d.intersectObjects(e);
		r.length > 0 && (f = r[0].object, d.ray.intersectPlane(c, p) && h.copy(p).sub(f.position), n.style.cursor = "move", g.dispatchEvent({
				type: "dragstart",
				object: f
			}))
	}
	function s(e) {
		e.preventDefault(),
		f && (g.dispatchEvent({
				type: "dragend",
				object: f
			}), f = null),
		n.style.cursor = "auto"
	}
	if (e instanceof THREE.Camera) {
		console.warn("THREE.DragControls: Constructor now expects ( objects, camera, domElement )");
		var l = e;
		e = t,
		t = l
	}
	var c = new THREE.Plane,
	d = new THREE.Raycaster,
	u = new THREE.Vector2,
	h = new THREE.Vector3,
	p = new THREE.Vector3,
	f = null,
	m = null,
	g = this;
	i(),
	this.enabled = !0,
	this.activate = i,
	this.deactivate = r,
	this.dispose = function () {
		r()
	},
	this.setObjects = function () {
		console.error("THREE.DragControls: setObjects() has been removed.")
	},
	this.on = function (e, t) {
		console.warn("THREE.DragControls: on() has been deprecated. Use addEventListener() instead."),
		g.addEventListener(e, t)
	},
	this.off = function (e, t) {
		console.warn("THREE.DragControls: off() has been deprecated. Use removeEventListener() instead."),
		g.removeEventListener(e, t)
	},
	this.notify = function (e) {
		console.error("THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead."),
		g.dispatchEvent({
			type: e
		})
	}
}, THREE.DragControls.prototype = Object.create(THREE.EventDispatcher.prototype), THREE.DragControls.prototype.constructor = THREE.DragControls, function (e) {
	e.easyui = {
		indexOfArray: function (e, t, n) {
			for (var i = 0, r = e.length; i < r; i++)
				if (void 0 == n) {
					if (e[i] == t)
						return i
				} else if (e[i][t] == n)
					return i;
			return -1
		},
		removeArrayItem: function (e, t, n) {
			if ("string" == typeof t) {
				for (var i = 0, r = e.length; i < r; i++)
					if (e[i][t] == n)
						return void e.splice(i, 1)
			} else {
				var a = this.indexOfArray(e, t);
				-1 != a && e.splice(a, 1)
			}
		},
		addArrayItem: function (e, t, n) {
			var i = this.indexOfArray(e, t, n ? n[t] : void 0);
			-1 == i ? e.push(n || t) : e[i] = n || t
		},
		getArrayItem: function (e, t, n) {
			var i = this.indexOfArray(e, t, n);
			return -1 == i ? null : e[i]
		},
		forEach: function (e, t, n) {
			for (var i = [], r = 0; r < e.length; r++)
				i.push(e[r]);
			for (; i.length; ) {
				var a = i.shift();
				if (0 == n(a))
					return;
				if (t && a.children)
					for (r = a.children.length - 1; r >= 0; r--)
						i.unshift(a.children[r])
			}
		}
	},
	e.parser = {
		auto: !0,
		onComplete: function (e) {},
		plugins: ["draggable", "droppable", "resizable", "pagination", "tooltip", "linkbutton", "menu", "menubutton", "splitbutton", "switchbutton", "progressbar", "tree", "textbox", "passwordbox", "filebox", "combo", "combobox", "combotree", "combogrid", "combotreegrid", "tagbox", "numberbox", "validatebox", "searchbox", "spinner", "numberspinner", "timespinner", "datetimespinner", "calendar", "datebox", "datetimebox", "slider", "layout", "panel", "datagrid", "propertygrid", "treegrid", "datalist", "tabs", "accordion", "window", "dialog", "form"],
		parse: function (t) {
			for (var n = [], i = 0; i < e.parser.plugins.length; i++) {
				var r = e.parser.plugins[i],
				a = e(".easyui-" + r, t);
				a.length && (a[r] ? a.each(function () {
						e(this)[r](e.data(this, "options") || {})
					}) : n.push({
						name: r,
						jq: a
					}))
			}
			if (n.length && window.easyloader) {
				for (var o = [], i = 0; i < n.length; i++)
					o.push(n[i].name);
				easyloader.load(o, function () {
					for (var i = 0; i < n.length; i++) {
						var r = n[i].name;
						n[i].jq.each(function () {
							e(this)[r](e.data(this, "options") || {})
						})
					}
					e.parser.onComplete.call(e.parser, t)
				})
			} else
				e.parser.onComplete.call(e.parser, t)
		},
		parseValue: function (t, n, i, r) {
			r = r || 0;
			var a = e.trim(String(n || ""));
			return "%" == a.substr(a.length - 1, 1) ? (a = parseInt(a.substr(0, a.length - 1)), a = t.toLowerCase().indexOf("width") >= 0 ? Math.floor((i.width() - r) * a / 100) : Math.floor((i.height() - r) * a / 100)) : a = parseInt(a) || void 0,
			a
		},
		parseOptions: function (t, n) {
			var i = e(t),
			r = {},
			a = e.trim(i.attr("data-options"));
			if (a && ("{" != a.substring(0, 1) && (a = "{" + a + "}"), r = new Function("return " + a)()), e.map(["width", "height", "left", "top", "minWidth", "maxWidth", "minHeight", "maxHeight"], function (n) {
					var i = e.trim(t.style[n] || "");
					i && (-1 == i.indexOf("%") && (i = parseInt(i), isNaN(i) && (i = void 0)), r[n] = i)
				}), n) {
				for (var o = {}, s = 0; s < n.length; s++) {
					var l = n[s];
					if ("string" == typeof l)
						o[l] = i.attr(l);
					else
						for (var c in l) {
							var d = l[c];
							"boolean" == d ? o[c] = i.attr(c) ? "true" == i.attr(c) : void 0 : "number" == d && (o[c] = "0" == i.attr(c) ? 0 : parseFloat(i.attr(c)) || void 0)
						}
				}
				e.extend(r, o)
			}
			return r
		}
	},
	e(function () {
		var t = e('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"></div>').appendTo("body");
		e._boxModel = 100 != t.outerWidth(),
		t.remove(),
		t = e('<div style="position:fixed"></div>').appendTo("body"),
		e._positionFixed = "fixed" == t.css("position"),
		t.remove(),
		!window.easyloader && e.parser.auto && e.parser.parse()
	}),
	e.fn._outerWidth = function (e) {
		return void 0 == e ? this[0] == window ? this.width() || document.body.clientWidth : this.outerWidth() || 0 : this._size("width", e)
	},
	e.fn._outerHeight = function (e) {
		return void 0 == e ? this[0] == window ? this.height() || document.body.clientHeight : this.outerHeight() || 0 : this._size("height", e)
	},
	e.fn._scrollLeft = function (t) {
		return void 0 == t ? this.scrollLeft() : this.each(function () {
			e(this).scrollLeft(t)
		})
	},
	e.fn._propAttr = e.fn.prop || e.fn.attr,
	e.fn._size = function (t, n) {
		function i(t, n, i) {
			if (!n.length)
				return !1;
			var r = e(t)[0],
			a = n[0],
			o = a.fcount || 0;
			return i ? (r.fitted || (r.fitted = !0, a.fcount = o + 1, e(a).addClass("panel-noscroll"), "BODY" == a.tagName && e("html").addClass("panel-fit")), {
				width: e(a).width() || 1,
				height: e(a).height() || 1
			}) : (r.fitted && (r.fitted = !1, a.fcount = o - 1, 0 == a.fcount && (e(a).removeClass("panel-noscroll"), "BODY" == a.tagName && e("html").removeClass("panel-fit"))), !1)
		}
		function r(t, n, i, r) {
			var a = e(t),
			o = n,
			s = o.substr(0, 1).toUpperCase() + o.substr(1),
			l = e.parser.parseValue("min" + s, r["min" + s], i),
			c = e.parser.parseValue("max" + s, r["max" + s], i),
			d = e.parser.parseValue(o, r[o], i),
			u = String(r[o] || "").indexOf("%") >= 0;
			if (isNaN(d))
				a._size(o, ""), a._size("min" + s, l), a._size("max" + s, c);
			else {
				var h = Math.min(Math.max(d, l || 0), c || 99999);
				u || (r[o] = h),
				a._size("min" + s, ""),
				a._size("max" + s, ""),
				a._size(o, h)
			}
			return u || r.fit
		}
		function a(t, n, i) {
			function r() {
				return n.toLowerCase().indexOf("width") >= 0 ? a.outerWidth() - a.width() : a.outerHeight() - a.height()
			}
			var a = e(t);
			if (void 0 == i) {
				if (i = parseInt(t.style[n]), isNaN(i))
					return;
				return e._boxModel && (i += r()),
				i
			}
			"" === i ? a.css(n, "") : (e._boxModel && (i -= r()) < 0 && (i = 0), a.css(n, i + "px"))
		}
		return "string" == typeof t ? "clear" == t ? this.each(function () {
			e(this).css({
				width: "",
				minWidth: "",
				maxWidth: "",
				height: "",
				minHeight: "",
				maxHeight: ""
			})
		}) : "fit" == t ? this.each(function () {
			i(this, "BODY" == this.tagName ? e("body") : e(this).parent(), !0)
		}) : "unfit" == t ? this.each(function () {
			i(this, e(this).parent(), !1)
		}) : void 0 == n ? a(this[0], t) : this.each(function () {
			a(this, t, n)
		}) : this.each(function () {
			n = n || e(this).parent(),
			e.extend(t, i(this, n, t.fit) || {});
			var a = r(this, "width", n, t),
			o = r(this, "height", n, t);
			a || o ? e(this).addClass("easyui-fluid") : e(this).removeClass("easyui-fluid")
		})
	}
}
(jQuery), function (e) {
	function t(t, n, i) {
		var r = new e.Event(n);
		r.pageX = t.changedTouches[0].pageX,
		r.pageY = t.changedTouches[0].pageY,
		r.which = i || 1,
		e(t.target).trigger(r)
	}
	var n = null,
	i = !1;
	document.addEventListener && (document.addEventListener("touchstart", function (r) {
			1 == r.touches.length && (i ? (clearTimeout(dblClickTimer), i = !1, t(r, "dblclick")) : (i = !0, dblClickTimer = setTimeout(function () {
							i = !1
						}, 500)), n = setTimeout(function () {
						t(r, "contextmenu", 3)
					}, 1e3), t(r, "mousedown"), (e.fn.draggable.isDragging || e.fn.resizable.isResizing) && r.preventDefault())
		}, !0), document.addEventListener("touchmove", function (i) {
			1 == i.touches.length && (n && clearTimeout(n), t(i, "mousemove"), (e.fn.draggable.isDragging || e.fn.resizable.isResizing) && i.preventDefault())
		}, !0), document.addEventListener("touchend", function (i) {
			n && clearTimeout(n),
			t(i, "mouseup"),
			(e.fn.draggable.isDragging || e.fn.resizable.isResizing) && i.preventDefault()
		}, !0))
}
(jQuery), function (e) {
	function t(t) {
		var n = e.data(t.data.target, "draggable"),
		i = n.options,
		r = n.proxy,
		a = t.data,
		o = a.startLeft + t.pageX - a.startX,
		s = a.startTop + t.pageY - a.startY;
		r && (r.parent()[0] == document.body ? (o = null != i.deltaX && void 0 != i.deltaX ? t.pageX + i.deltaX : t.pageX - t.data.offsetWidth, s = null != i.deltaY && void 0 != i.deltaY ? t.pageY + i.deltaY : t.pageY - t.data.offsetHeight) : (null != i.deltaX && void 0 != i.deltaX && (o += t.data.offsetWidth + i.deltaX), null != i.deltaY && void 0 != i.deltaY && (s += t.data.offsetHeight + i.deltaY))),
		t.data.parent != document.body && (o += e(t.data.parent).scrollLeft(), s += e(t.data.parent).scrollTop()),
		"h" == i.axis ? a.left = o : "v" == i.axis ? a.top = s : (a.left = o, a.top = s)
	}
	function n(t) {
		var n = e.data(t.data.target, "draggable"),
		i = n.options,
		r = n.proxy;
		r || (r = e(t.data.target)),
		r.css({
			left: t.data.left,
			top: t.data.top
		}),
		e("body").css("cursor", i.cursor)
	}
	function i(i) {
		if (!e.fn.draggable.isDragging)
			return !1;
		var r = e.data(i.data.target, "draggable"),
		a = r.options,
		o = e(".droppable:visible").filter(function () {
				return i.data.target != this
			}).filter(function () {
				var t = e.data(this, "droppable").options.accept;
				return !t || e(t).filter(function () {
					return this == i.data.target
				}).length > 0
			});
		r.droppables = o;
		var s = r.proxy;
		return s || (a.proxy ? (s = "clone" == a.proxy ? e(i.data.target).clone().insertAfter(i.data.target) : a.proxy.call(i.data.target, i.data.target), r.proxy = s) : s = e(i.data.target)),
		s.css("position", "absolute"),
		t(i),
		n(i),
		a.onStartDrag.call(i.data.target, i),
		!1
	}
	function r(i) {
		if (!e.fn.draggable.isDragging)
			return !1;
		var r = e.data(i.data.target, "draggable");
		t(i),
		0 != r.options.onDrag.call(i.data.target, i) && n(i);
		var a = i.data.target;
		return r.droppables.each(function () {
			var t = e(this);
			if (!t.droppable("options").disabled) {
				var n = t.offset();
				i.pageX > n.left && i.pageX < n.left + t.outerWidth() && i.pageY > n.top && i.pageY < n.top + t.outerHeight() ? (this.entered || (e(this).trigger("_dragenter", [a]), this.entered = !0), e(this).trigger("_dragover", [a])) : this.entered && (e(this).trigger("_dragleave", [a]), this.entered = !1)
			}
		}),
		!1
	}
	function a(t) {
		function n() {
			s && s.remove(),
			a.proxy = null
		}
		function i() {
			var i = !1;
			return a.droppables.each(function () {
				var r = e(this);
				if (!r.droppable("options").disabled) {
					var a = r.offset();
					return t.pageX > a.left && t.pageX < a.left + r.outerWidth() && t.pageY > a.top && t.pageY < a.top + r.outerHeight() ? (l.revert && e(t.data.target).css({
							position: t.data.startPosition,
							left: t.data.startLeft,
							top: t.data.startTop
						}), e(this).trigger("_drop", [t.data.target]), n(), i = !0, this.entered = !1, !1) : void 0
				}
			}),
			i || l.revert || n(),
			i
		}
		if (!e.fn.draggable.isDragging)
			return o(), !1;
		r(t);
		var a = e.data(t.data.target, "draggable"),
		s = a.proxy,
		l = a.options;
		if (l.revert)
			if (1 == i())
				e(t.data.target).css({
					position: t.data.startPosition,
					left: t.data.startLeft,
					top: t.data.startTop
				});
			else if (s) {
				var c,
				d;
				s.parent()[0] == document.body ? (c = t.data.startX - t.data.offsetWidth, d = t.data.startY - t.data.offsetHeight) : (c = t.data.startLeft, d = t.data.startTop),
				s.animate({
					left: c,
					top: d
				}, function () {
					n()
				})
			} else
				e(t.data.target).animate({
					left: t.data.startLeft,
					top: t.data.startTop
				}, function () {
					e(t.data.target).css("position", t.data.startPosition)
				});
		else
			e(t.data.target).css({
				position: "absolute",
				left: t.data.left,
				top: t.data.top
			}), i();
		return l.onStopDrag.call(t.data.target, t),
		o(),
		!1
	}
	function o() {
		e.fn.draggable.timer && (clearTimeout(e.fn.draggable.timer), e.fn.draggable.timer = void 0),
		e(document).unbind(".draggable"),
		e.fn.draggable.isDragging = !1,
		setTimeout(function () {
			e("body").css("cursor", "")
		}, 100)
	}
	e.fn.draggable = function (t, n) {
		return "string" == typeof t ? e.fn.draggable.methods[t](this, n) : this.each(function () {
			function n(t) {
				var n = e.data(t.data.target, "draggable"),
				i = n.handle,
				r = e(i).offset(),
				a = e(i).outerWidth(),
				o = e(i).outerHeight(),
				s = t.pageY - r.top,
				l = r.left + a - t.pageX,
				c = r.top + o - t.pageY,
				d = t.pageX - r.left;
				return Math.min(s, l, c, d) > n.options.edge
			}
			var o,
			s = e.data(this, "draggable");
			s ? (s.handle.unbind(".draggable"), o = e.extend(s.options, t)) : o = e.extend({}, e.fn.draggable.defaults, e.fn.draggable.parseOptions(this), t || {});
			var l = o.handle ? "string" == typeof o.handle ? e(o.handle, this) : o.handle : e(this);
			e.data(this, "draggable", {
				options: o,
				handle: l
			}),
			o.disabled ? e(this).css("cursor", "") : l.unbind(".draggable").bind("mousemove.draggable", {
				target: this
			}, function (t) {
				if (!e.fn.draggable.isDragging) {
					var i = e.data(t.data.target, "draggable").options;
					n(t) ? e(this).css("cursor", i.cursor) : e(this).css("cursor", "")
				}
			}).bind("mouseleave.draggable", {
				target: this
			}, function (t) {
				e(this).css("cursor", "")
			}).bind("mousedown.draggable", {
				target: this
			}, function (t) {
				if (0 != n(t)) {
					e(this).css("cursor", "");
					var o = e(t.data.target).position(),
					s = e(t.data.target).offset(),
					l = {
						startPosition: e(t.data.target).css("position"),
						startLeft: o.left,
						startTop: o.top,
						left: o.left,
						top: o.top,
						startX: t.pageX,
						startY: t.pageY,
						width: e(t.data.target).outerWidth(),
						height: e(t.data.target).outerHeight(),
						offsetWidth: t.pageX - s.left,
						offsetHeight: t.pageY - s.top,
						target: t.data.target,
						parent: e(t.data.target).parent()[0]
					};
					e.extend(t.data, l);
					var c = e.data(t.data.target, "draggable").options;
					if (0 != c.onBeforeDrag.call(t.data.target, t))
						return e(document).bind("mousedown.draggable", t.data, i), e(document).bind("mousemove.draggable", t.data, r), e(document).bind("mouseup.draggable", t.data, a), e.fn.draggable.timer = setTimeout(function () {
								e.fn.draggable.isDragging = !0,
								i(t)
							}, c.delay), !1
				}
			})
		})
	},
	e.fn.draggable.methods = {
		options: function (t) {
			return e.data(t[0], "draggable").options
		},
		proxy: function (t) {
			return e.data(t[0], "draggable").proxy
		},
		enable: function (t) {
			return t.each(function () {
				e(this).draggable({
					disabled: !1
				})
			})
		},
		disable: function (t) {
			return t.each(function () {
				e(this).draggable({
					disabled: !0
				})
			})
		}
	},
	e.fn.draggable.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.parser.parseOptions(t, ["cursor", "handle", "axis", {
						revert: "boolean",
						deltaX: "number",
						deltaY: "number",
						edge: "number",
						delay: "number"
					}
				]), {
			disabled: !!n.attr("disabled") || void 0
		})
	},
	e.fn.draggable.defaults = {
		proxy: null,
		revert: !1,
		cursor: "move",
		deltaX: null,
		deltaY: null,
		handle: null,
		disabled: !1,
		edge: 0,
		axis: null,
		delay: 100,
		onBeforeDrag: function (e) {},
		onStartDrag: function (e) {},
		onDrag: function (e) {},
		onStopDrag: function (e) {}
	},
	e.fn.draggable.isDragging = !1
}
(jQuery), function (e) {
	e.fn.droppable = function (t, n) {
		return "string" == typeof t ? e.fn.droppable.methods[t](this, n) : (t = t || {}, this.each(function () {
				var n = e.data(this, "droppable");
				n ? e.extend(n.options, t) : (!function (t) {
					e(t).addClass("droppable"),
					e(t).bind("_dragenter", function (n, i) {
						e.data(t, "droppable").options.onDragEnter.apply(t, [n, i])
					}),
					e(t).bind("_dragleave", function (n, i) {
						e.data(t, "droppable").options.onDragLeave.apply(t, [n, i])
					}),
					e(t).bind("_dragover", function (n, i) {
						e.data(t, "droppable").options.onDragOver.apply(t, [n, i])
					}),
					e(t).bind("_drop", function (n, i) {
						e.data(t, "droppable").options.onDrop.apply(t, [n, i])
					})
				}
					(this), e.data(this, "droppable", {
						options: e.extend({}, e.fn.droppable.defaults, e.fn.droppable.parseOptions(this), t)
					}))
			}))
	},
	e.fn.droppable.methods = {
		options: function (t) {
			return e.data(t[0], "droppable").options
		},
		enable: function (t) {
			return t.each(function () {
				e(this).droppable({
					disabled: !1
				})
			})
		},
		disable: function (t) {
			return t.each(function () {
				e(this).droppable({
					disabled: !0
				})
			})
		}
	},
	e.fn.droppable.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.parser.parseOptions(t, ["accept"]), {
			disabled: !!n.attr("disabled") || void 0
		})
	},
	e.fn.droppable.defaults = {
		accept: null,
		disabled: !1,
		onDragEnter: function (e, t) {},
		onDragOver: function (e, t) {},
		onDragLeave: function (e, t) {},
		onDrop: function (e, t) {}
	}
}
(jQuery), function (e) {
	e.fn.resizable = function (t, n) {
		function i(t) {
			var n = t.data,
			i = e.data(n.target, "resizable").options;
			if (-1 != n.dir.indexOf("e")) {
				r = n.startWidth + t.pageX - n.startX;
				r = Math.min(Math.max(r, i.minWidth), i.maxWidth),
				n.width = r
			}
			if (-1 != n.dir.indexOf("s")) {
				a = n.startHeight + t.pageY - n.startY;
				a = Math.min(Math.max(a, i.minHeight), i.maxHeight),
				n.height = a
			}
			if (-1 != n.dir.indexOf("w")) {
				var r = n.startWidth - t.pageX + n.startX;
				r = Math.min(Math.max(r, i.minWidth), i.maxWidth),
				n.width = r,
				n.left = n.startLeft + n.startWidth - n.width
			}
			if (-1 != n.dir.indexOf("n")) {
				var a = n.startHeight - t.pageY + n.startY;
				a = Math.min(Math.max(a, i.minHeight), i.maxHeight),
				n.height = a,
				n.top = n.startTop + n.startHeight - n.height
			}
		}
		function r(t) {
			var n = t.data,
			i = e(n.target);
			i.css({
				left: n.left,
				top: n.top
			}),
			i.outerWidth() != n.width && i._outerWidth(n.width),
			i.outerHeight() != n.height && i._outerHeight(n.height)
		}
		function a(t) {
			return e.fn.resizable.isResizing = !0,
			e.data(t.data.target, "resizable").options.onStartResize.call(t.data.target, t),
			!1
		}
		function o(t) {
			return i(t),
			0 != e.data(t.data.target, "resizable").options.onResize.call(t.data.target, t) && r(t),
			!1
		}
		function s(t) {
			return e.fn.resizable.isResizing = !1,
			i(t),
			r(t),
			e.data(t.data.target, "resizable").options.onStopResize.call(t.data.target, t),
			e(document).unbind(".resizable"),
			e("body").css("cursor", ""),
			!1
		}
		return "string" == typeof t ? e.fn.resizable.methods[t](this, n) : this.each(function () {
			function n(t) {
				var n = e(t.data.target),
				r = "",
				a = n.offset(),
				o = n.outerWidth(),
				s = n.outerHeight(),
				l = i.edge;
				t.pageY > a.top && t.pageY < a.top + l ? r += "n" : t.pageY < a.top + s && t.pageY > a.top + s - l && (r += "s"),
				t.pageX > a.left && t.pageX < a.left + l ? r += "w" : t.pageX < a.left + o && t.pageX > a.left + o - l && (r += "e");
				for (var c = i.handles.split(","), d = 0; d < c.length; d++) {
					var u = c[d].replace(/(^\s*)|(\s*$)/g, "");
					if ("all" == u || u == r)
						return r
				}
				return ""
			}
			var i = null,
			r = e.data(this, "resizable");
			r ? (e(this).unbind(".resizable"), i = e.extend(r.options, t || {})) : (i = e.extend({}, e.fn.resizable.defaults, e.fn.resizable.parseOptions(this), t || {}), e.data(this, "resizable", {
					options: i
				})),
			1 != i.disabled && e(this).bind("mousemove.resizable", {
				target: this
			}, function (t) {
				if (!e.fn.resizable.isResizing) {
					var i = n(t);
					"" == i ? e(t.data.target).css("cursor", "") : e(t.data.target).css("cursor", i + "-resize")
				}
			}).bind("mouseleave.resizable", {
				target: this
			}, function (t) {
				e(t.data.target).css("cursor", "")
			}).bind("mousedown.resizable", {
				target: this
			}, function (t) {
				function i(n) {
					var i = parseInt(e(t.data.target).css(n));
					return isNaN(i) ? 0 : i
				}
				var r = n(t);
				if ("" != r) {
					var l = {
						target: t.data.target,
						dir: r,
						startLeft: i("left"),
						startTop: i("top"),
						left: i("left"),
						top: i("top"),
						startX: t.pageX,
						startY: t.pageY,
						startWidth: e(t.data.target).outerWidth(),
						startHeight: e(t.data.target).outerHeight(),
						width: e(t.data.target).outerWidth(),
						height: e(t.data.target).outerHeight(),
						deltaWidth: e(t.data.target).outerWidth() - e(t.data.target).width(),
						deltaHeight: e(t.data.target).outerHeight() - e(t.data.target).height()
					};
					e(document).bind("mousedown.resizable", l, a),
					e(document).bind("mousemove.resizable", l, o),
					e(document).bind("mouseup.resizable", l, s),
					e("body").css("cursor", r + "-resize")
				}
			})
		})
	},
	e.fn.resizable.methods = {
		options: function (t) {
			return e.data(t[0], "resizable").options
		},
		enable: function (t) {
			return t.each(function () {
				e(this).resizable({
					disabled: !1
				})
			})
		},
		disable: function (t) {
			return t.each(function () {
				e(this).resizable({
					disabled: !0
				})
			})
		}
	},
	e.fn.resizable.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.parser.parseOptions(t, ["handles", {
						minWidth: "number",
						minHeight: "number",
						maxWidth: "number",
						maxHeight: "number",
						edge: "number"
					}
				]), {
			disabled: !!n.attr("disabled") || void 0
		})
	},
	e.fn.resizable.defaults = {
		disabled: !1,
		handles: "n, e, s, w, ne, se, sw, nw, all",
		minWidth: 10,
		minHeight: 10,
		maxWidth: 1e4,
		maxHeight: 1e4,
		edge: 5,
		onStartResize: function (e) {},
		onResize: function (e) {},
		onStopResize: function (e) {}
	},
	e.fn.resizable.isResizing = !1
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "linkbutton").options;
		if (n && e.extend(i, n), i.width || i.height || i.fit) {
			var r = e(t),
			a = r.parent(),
			o = r.is(":visible");
			if (!o) {
				var s = e('<div style="display:none"></div>').insertBefore(t),
				l = {
					position: r.css("position"),
					display: r.css("display"),
					left: r.css("left")
				};
				r.appendTo("body"),
				r.css({
					position: "absolute",
					display: "inline-block",
					left: -2e4
				})
			}
			r._size(i, a);
			var c = r.find(".l-btn-left");
			c.css("margin-top", 0),
			c.css("margin-top", parseInt((r.height() - c.height()) / 2) + "px"),
			o || (r.insertAfter(s), r.css(l), s.remove())
		}
	}
	function n(t, n) {
		var i = e.data(t, "linkbutton").options;
		n ? (i.group && e('a.l-btn[group="' + i.group + '"]').each(function () {
				var t = e(this).linkbutton("options");
				t.toggle && (e(this).removeClass("l-btn-selected l-btn-plain-selected"), t.selected = !1)
			}), e(t).addClass(i.plain ? "l-btn-selected l-btn-plain-selected" : "l-btn-selected"), i.selected = !0) : i.group || (e(t).removeClass("l-btn-selected l-btn-plain-selected"), i.selected = !1)
	}
	function i(t, n) {
		var i = e.data(t, "linkbutton"),
		r = i.options;
		if (e(t).removeClass("l-btn-disabled l-btn-plain-disabled"), n) {
			r.disabled = !0;
			var a = e(t).attr("href");
			a && (i.href = a, e(t).attr("href", "javascript:;")),
			t.onclick && (i.onclick = t.onclick, t.onclick = null),
			r.plain ? e(t).addClass("l-btn-disabled l-btn-plain-disabled") : e(t).addClass("l-btn-disabled")
		} else
			r.disabled = !1, i.href && e(t).attr("href", i.href), i.onclick && (t.onclick = i.onclick)
	}
	e.fn.linkbutton = function (r, a) {
		return "string" == typeof r ? e.fn.linkbutton.methods[r](this, a) : (r = r || {}, this.each(function () {
				var a = e.data(this, "linkbutton");
				a ? e.extend(a.options, r) : (e.data(this, "linkbutton", {
						options: e.extend({}, e.fn.linkbutton.defaults, e.fn.linkbutton.parseOptions(this), r)
					}), e(this).removeAttr("disabled"), e(this).bind("_resize", function (n, i) {
						return (e(this).hasClass("easyui-fluid") || i) && t(this),
						!1
					})),
				function (t) {
					var r = e.data(t, "linkbutton").options,
					a = e(t).empty();
					a.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected l-btn-outline"),
					a.removeClass("l-btn-small l-btn-medium l-btn-large").addClass("l-btn-" + r.size),
					r.plain && a.addClass("l-btn-plain"),
					r.outline && a.addClass("l-btn-outline"),
					r.selected && a.addClass(r.plain ? "l-btn-selected l-btn-plain-selected" : "l-btn-selected"),
					a.attr("group", r.group || ""),
					a.attr("id", r.id || "");
					var o = e('<span class="l-btn-left"></span>').appendTo(a);
					r.text ? e('<span class="l-btn-text"></span>').html(r.text).appendTo(o) : e('<span class="l-btn-text l-btn-empty">&nbsp;</span>').appendTo(o),
					r.iconCls && (e('<span class="l-btn-icon">&nbsp;</span>').addClass(r.iconCls).appendTo(o), o.addClass("l-btn-icon-" + r.iconAlign)),
					a.unbind(".linkbutton").bind("focus.linkbutton", function () {
						r.disabled || e(this).addClass("l-btn-focus")
					}).bind("blur.linkbutton", function () {
						e(this).removeClass("l-btn-focus")
					}).bind("click.linkbutton", function () {
						r.disabled || (r.toggle && (r.selected ? e(this).linkbutton("unselect") : e(this).linkbutton("select")), r.onClick.call(this))
					}),
					n(t, r.selected),
					i(t, r.disabled)
				}
				(this),
				t(this)
			}))
	},
	e.fn.linkbutton.methods = {
		options: function (t) {
			return e.data(t[0], "linkbutton").options
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		enable: function (e) {
			return e.each(function () {
				i(this, !1)
			})
		},
		disable: function (e) {
			return e.each(function () {
				i(this, !0)
			})
		},
		select: function (e) {
			return e.each(function () {
				n(this, !0)
			})
		},
		unselect: function (e) {
			return e.each(function () {
				n(this, !1)
			})
		}
	},
	e.fn.linkbutton.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.parser.parseOptions(t, ["id", "iconCls", "iconAlign", "group", "size", "text", {
						plain: "boolean",
						toggle: "boolean",
						selected: "boolean",
						outline: "boolean"
					}
				]), {
			disabled: !!n.attr("disabled") || void 0,
			text: e.trim(n.html()) || void 0,
			iconCls: n.attr("icon") || n.attr("iconCls")
		})
	},
	e.fn.linkbutton.defaults = {
		id: null,
		disabled: !1,
		toggle: !1,
		selected: !1,
		outline: !1,
		group: null,
		plain: !1,
		text: "",
		iconCls: null,
		iconAlign: "left",
		size: "small",
		onClick: function () {}
	}
}
(jQuery), function ($) {
	function _ab(_ac) {
		function _b3(e) {
			var t = _ae.nav[e],
			n = $('<a href="javascript:;"></a>').appendTo(tr);
			return n.wrap("<td></td>"),
			n.linkbutton({
				iconCls: t.iconCls,
				plain: !0
			}).unbind(".pagination").bind("click.pagination", function () {
				t.handler.call(_ac)
			}),
			n
		}
		function _b0(e, t) {
			var n = $.inArray(t, e);
			return n >= 0 && e.splice(n, 1),
			e
		}
		var _ad = $.data(_ac, "pagination"),
		_ae = _ad.options,
		bb = _ad.bb = {},
		_af = $(_ac).addClass("pagination").html('<table cellspacing="0" cellpadding="0" border="0"><tr></tr></table>'),
		tr = _af.find("tr"),
		aa = $.extend([], _ae.layout);
		_ae.showPageList || _b0(aa, "list"),
		_ae.showRefresh || _b0(aa, "refresh"),
		"sep" == aa[0] && aa.shift(),
		"sep" == aa[aa.length - 1] && aa.pop();
		for (var _b1 = 0; _b1 < aa.length; _b1++) {
			var _b2 = aa[_b1];
			if ("list" == _b2) {
				var ps = $('<select class="pagination-page-list"></select>');
				ps.bind("change", function () {
					_ae.pageSize = parseInt($(this).val()),
					_ae.onChangePageSize.call(_ac, _ae.pageSize),
					_b8(_ac, _ae.pageNumber)
				});
				for (var i = 0; i < _ae.pageList.length; i++)
					$("<option></option>").text(_ae.pageList[i]).appendTo(ps);
				$("<td></td>").append(ps).appendTo(tr)
			} else
				"sep" == _b2 ? $('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr) : "first" == _b2 ? bb.first = _b3("first") : "prev" == _b2 ? bb.prev = _b3("prev") : "next" == _b2 ? bb.next = _b3("next") : "last" == _b2 ? bb.last = _b3("last") : "manual" == _b2 ? ($('<span style="padding-left:6px;"></span>').html(_ae.beforePageText).appendTo(tr).wrap("<td></td>"), bb.num = $('<input class="pagination-num" type="text" value="1" size="2">').appendTo(tr).wrap("<td></td>"), bb.num.unbind(".pagination").bind("keydown.pagination", function (e) {
							if (13 == e.keyCode) {
								var t = parseInt($(this).val()) || 1;
								return _b8(_ac, t),
								!1
							}
						}), bb.after = $('<span style="padding-right:6px;"></span>').appendTo(tr).wrap("<td></td>")) : "refresh" == _b2 ? bb.refresh = _b3("refresh") : "links" == _b2 && $('<td class="pagination-links"></td>').appendTo(tr)
		}
		if (_ae.buttons)
			if ($('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr), $.isArray(_ae.buttons))
				for (var i = 0; i < _ae.buttons.length; i++) {
					var btn = _ae.buttons[i];
					if ("-" == btn)
						$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr);
					else {
						var td = $("<td></td>").appendTo(tr),
						a = $('<a href="javascript:;"></a>').appendTo(td);
						a[0].onclick = eval(btn.handler || function () {}),
						a.linkbutton($.extend({}, btn, {
								plain: !0
							}))
					}
				}
			else {
				var td = $("<td></td>").appendTo(tr);
				$(_ae.buttons).appendTo(td).show()
			}
		$('<div class="pagination-info"></div>').appendTo(_af),
		$('<div style="clear:both;"></div>').appendTo(_af)
	}
	function _b8(e, t) {
		var n = $.data(e, "pagination").options;
		_bc(e, {
			pageNumber: t
		}),
		n.onSelectPage.call(e, n.pageNumber, n.pageSize)
	}
	function _bc(e, t) {
		var n = $.data(e, "pagination"),
		i = n.options,
		r = n.bb;
		$.extend(i, t || {});
		var a = $(e).find("select.pagination-page-list");
		a.length && (a.val(i.pageSize + ""), i.pageSize = parseInt(a.val()));
		var o = Math.ceil(i.total / i.pageSize) || 1;
		i.pageNumber < 1 && (i.pageNumber = 1),
		i.pageNumber > o && (i.pageNumber = o),
		0 == i.total && (i.pageNumber = 0, o = 0),
		r.num && r.num.val(i.pageNumber),
		r.after && r.after.html(i.afterPageText.replace(/{pages}/, o));
		var s = $(e).find("td.pagination-links");
		if (s.length) {
			s.empty();
			var l = i.pageNumber - Math.floor(i.links / 2);
			l < 1 && (l = 1);
			var c = l + i.links - 1;
			c > o && (c = o),
			(l = c - i.links + 1) < 1 && (l = 1);
			for (var d = l; d <= c; d++) {
				var u = $('<a class="pagination-link" href="javascript:;"></a>').appendTo(s);
				u.linkbutton({
					plain: !0,
					text: d
				}),
				d == i.pageNumber ? u.linkbutton("select") : u.unbind(".pagination").bind("click.pagination", {
					pageNumber: d
				}, function (t) {
					_b8(e, t.data.pageNumber)
				})
			}
		}
		var h = i.displayMsg;
		h = (h = (h = h.replace(/{from}/, 0 == i.total ? 0 : i.pageSize * (i.pageNumber - 1) + 1)).replace(/{to}/, Math.min(i.pageSize * i.pageNumber, i.total))).replace(/{total}/, i.total),
		$(e).find("div.pagination-info").html(h),
		r.first && r.first.linkbutton({
			disabled: !i.total || 1 == i.pageNumber
		}),
		r.prev && r.prev.linkbutton({
			disabled: !i.total || 1 == i.pageNumber
		}),
		r.next && r.next.linkbutton({
			disabled: i.pageNumber == o
		}),
		r.last && r.last.linkbutton({
			disabled: i.pageNumber == o
		}),
		_c5(e, i.loading)
	}
	function _c5(e, t) {
		var n = $.data(e, "pagination"),
		i = n.options;
		i.loading = t,
		i.showRefresh && n.bb.refresh && n.bb.refresh.linkbutton({
			iconCls: i.loading ? "pagination-loading" : "pagination-load"
		})
	}
	$.fn.pagination = function (e, t) {
		return "string" == typeof e ? $.fn.pagination.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t,
				n = $.data(this, "pagination");
				n ? t = $.extend(n.options, e) : (t = $.extend({}, $.fn.pagination.defaults, $.fn.pagination.parseOptions(this), e), $.data(this, "pagination", {
							options: t
						})),
				_ab(this),
				_bc(this)
			}))
	},
	$.fn.pagination.methods = {
		options: function (e) {
			return $.data(e[0], "pagination").options
		},
		loading: function (e) {
			return e.each(function () {
				_c5(this, !0)
			})
		},
		loaded: function (e) {
			return e.each(function () {
				_c5(this, !1)
			})
		},
		refresh: function (e, t) {
			return e.each(function () {
				_bc(this, t)
			})
		},
		select: function (e, t) {
			return e.each(function () {
				_b8(this, t)
			})
		}
	},
	$.fn.pagination.parseOptions = function (_d0) {
		var t = $(_d0);
		return $.extend({}, $.parser.parseOptions(_d0, [{
						total: "number",
						pageSize: "number",
						pageNumber: "number",
						links: "number"
					}, {
						loading: "boolean",
						showPageList: "boolean",
						showRefresh: "boolean"
					}
				]), {
			pageList: t.attr("pageList") ? eval(t.attr("pageList")) : void 0
		})
	},
	$.fn.pagination.defaults = {
		total: 1,
		pageSize: 10,
		pageNumber: 1,
		pageList: [10, 20, 30, 50],
		loading: !1,
		buttons: null,
		showPageList: !0,
		showRefresh: !0,
		links: 10,
		layout: ["list", "sep", "first", "prev", "sep", "manual", "sep", "next", "last", "sep", "refresh"],
		onSelectPage: function (e, t) {},
		onBeforeRefresh: function (e, t) {},
		onRefresh: function (e, t) {},
		onChangePageSize: function (e) {},
		beforePageText: "Page",
		afterPageText: "of {pages}",
		displayMsg: "Displaying {from} to {to} of {total} items",
		nav: {
			first: {
				iconCls: "pagination-first",
				handler: function () {
					$(this).pagination("options").pageNumber > 1 && $(this).pagination("select", 1)
				}
			},
			prev: {
				iconCls: "pagination-prev",
				handler: function () {
					var e = $(this).pagination("options");
					e.pageNumber > 1 && $(this).pagination("select", e.pageNumber - 1)
				}
			},
			next: {
				iconCls: "pagination-next",
				handler: function () {
					var e = $(this).pagination("options"),
					t = Math.ceil(e.total / e.pageSize);
					e.pageNumber < t && $(this).pagination("select", e.pageNumber + 1)
				}
			},
			last: {
				iconCls: "pagination-last",
				handler: function () {
					var e = $(this).pagination("options"),
					t = Math.ceil(e.total / e.pageSize);
					e.pageNumber < t && $(this).pagination("select", t)
				}
			},
			refresh: {
				iconCls: "pagination-refresh",
				handler: function () {
					var e = $(this).pagination("options");
					0 != e.onBeforeRefresh.call(this, e.pageNumber, e.pageSize) && ($(this).pagination("select", e.pageNumber), e.onRefresh.call(this, e.pageNumber, e.pageSize))
				}
			}
		}
	}
}
(jQuery), function (e) {
	function t(t) {
		function n(t, n) {
			return e(t).closest("ul.tree").tree(n ? "pop" : "getData", t)
		}
		function i(t, n) {
			e(t).draggable("proxy").find("span.tree-dnd-icon").removeClass("tree-dnd-yes tree-dnd-no").addClass(n ? "tree-dnd-yes" : "tree-dnd-no")
		}
		function r(i, r) {
			function a() {
				var a = n(i, !0);
				e(t).tree("append", {
					parent: r,
					data: [a]
				}),
				s.onDrop.call(t, r, a, "append")
			}
			"closed" == v(t, r).state ? c(t, r, function () {
				a()
			}) : a()
		}
		function a(i, r, a) {
			var o = {};
			"top" == a ? o.before = r : o.after = r;
			var l = n(i, !0);
			o.data = l,
			e(t).tree("insert", o),
			s.onDrop.call(t, r, l, a)
		}
		var o = e.data(t, "tree"),
		s = o.options,
		l = o.tree;
		o.disabledNodes = [],
		s.dnd = !0,
		l.find("div.tree-node").draggable({
			disabled: !1,
			revert: !0,
			cursor: "pointer",
			proxy: function (t) {
				var n = e('<div class="tree-node-proxy"></div>').appendTo("body");
				return n.html('<span class="tree-dnd-icon tree-dnd-no">&nbsp;</span>' + e(t).find(".tree-title").html()),
				n.hide(),
				n
			},
			deltaX: 15,
			deltaY: 15,
			onBeforeDrag: function (n) {
				if (0 == s.onBeforeDrag.call(t, v(t, this)))
					return !1;
				if (e(n.target).hasClass("tree-hit") || e(n.target).hasClass("tree-checkbox"))
					return !1;
				if (1 != n.which)
					return !1;
				var i = e(this).find("span.tree-indent");
				i.length && (n.data.offsetWidth -= i.length * i.width())
			},
			onStartDrag: function (n) {
				e(this).next("ul").find("div.tree-node").each(function () {
					e(this).droppable("disable"),
					o.disabledNodes.push(this)
				}),
				e(this).draggable("proxy").css({
					left: -1e4,
					top: -1e4
				}),
				s.onStartDrag.call(t, v(t, this));
				var i = v(t, this);
				void 0 == i.id && (i.id = "easyui_tree_node_id_temp", p(t, i)),
				o.draggingNodeId = i.id
			},
			onDrag: function (t) {
				var n = t.pageX,
				i = t.pageY,
				r = t.data.startX,
				a = t.data.startY;
				Math.sqrt((n - r) * (n - r) + (i - a) * (i - a)) > 3 && e(this).draggable("proxy").show(),
				this.pageY = t.pageY
			},
			onStopDrag: function () {
				for (var n = 0; n < o.disabledNodes.length; n++)
					e(o.disabledNodes[n]).droppable("enable");
				o.disabledNodes = [];
				var i = b(t, o.draggingNodeId);
				i && "easyui_tree_node_id_temp" == i.id && (i.id = "", p(t, i)),
				s.onStopDrag.call(t, i)
			}
		}).droppable({
			accept: "div.tree-node",
			onDragEnter: function (r, a) {
				0 == s.onDragEnter.call(t, this, n(a)) && (i(a, !1), e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"), e(this).droppable("disable"), o.disabledNodes.push(this))
			},
			onDragOver: function (r, a) {
				if (!e(this).droppable("options").disabled) {
					var l = a.pageY,
					c = e(this).offset().top,
					d = c + e(this).outerHeight();
					i(a, !0),
					e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),
					l > c + (d - c) / 2 ? d - l < 5 ? e(this).addClass("tree-node-bottom") : e(this).addClass("tree-node-append") : l - c < 5 ? e(this).addClass("tree-node-top") : e(this).addClass("tree-node-append"),
					0 == s.onDragOver.call(t, this, n(a)) && (i(a, !1), e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"), e(this).droppable("disable"), o.disabledNodes.push(this))
				}
			},
			onDragLeave: function (r, a) {
				i(a, !1),
				e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),
				s.onDragLeave.call(t, this, n(a))
			},
			onDrop: function (i, o) {
				var l,
				c;
				e(this).hasClass("tree-node-append") ? (l = r, c = "append") : (l = a, c = e(this).hasClass("tree-node-top") ? "top" : "bottom"),
				0 != s.onBeforeDrop.call(t, this, n(o), c) ? (l(o, this, c), e(this).removeClass("tree-node-append tree-node-top tree-node-bottom")) : e(this).removeClass("tree-node-append tree-node-top tree-node-bottom")
			}
		})
	}
	function n(t, n, o, s) {
		var l = e.data(t, "tree").options;
		if (l.checkbox) {
			var c = v(t, n);
			if (c.checkState) {
				var d = e(n).find(".tree-checkbox");
				if (void 0 == o && (d.hasClass("tree-checkbox1") ? o = !1 : d.hasClass("tree-checkbox0") ? o = !0 : (void 0 == c._checked && (c._checked = e(n).find(".tree-checkbox").hasClass("tree-checkbox1")), o = !c._checked)), c._checked = o, o) {
					if (d.hasClass("tree-checkbox1"))
						return
				} else if (d.hasClass("tree-checkbox0"))
					return;
				(s || 0 != l.onBeforeCheck.call(t, c, o)) && (l.cascadeCheck ? (!function (t, n, r) {
						var o = e.data(t, "tree").options,
						s = r ? 1 : 0;
						if (i(t, n, s), o.deepCheck)
							e.easyui.forEach(n.children || [], !0, function (e) {
								i(t, e, s)
							});
						else {
							var l = [];
							n.children && n.children.length && l.push(n),
							e.easyui.forEach(n.children || [], !0, function (e) {
								e.hidden || (i(t, e, s), e.children && e.children.length && l.push(e))
							});
							for (var c = l.length - 1; c >= 0; c--) {
								var d = l[c];
								i(t, d, a(d))
							}
						}
					}
						(t, c, o), r(t, c)) : i(t, c, o ? "1" : "0"), s || l.onCheck.call(t, c, o))
			}
		}
	}
	function i(t, n, i) {
		var r = e.data(t, "tree").options;
		if (n.checkState && void 0 != i && (!n.hidden || r.deepCheck)) {
			var a = e("#" + n.domId).find(".tree-checkbox");
			n.checkState = ["unchecked", "checked", "indeterminate"][i],
			n.checked = "checked" == n.checkState,
			a.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),
			a.addClass("tree-checkbox" + i)
		}
	}
	function r(t, n) {
		var o = g(t, e("#" + n.domId)[0]);
		o && (i(t, o, a(o)), r(t, o))
	}
	function a(t) {
		var n = 0,
		i = 0,
		r = 0;
		if (e.easyui.forEach(t.children || [], !1, function (e) {
				e.checkState && (r++, "checked" == e.checkState ? i++ : "unchecked" == e.checkState && n++)
			}), 0 != r) {
			return n == r ? 0 : i == r ? 1 : 2
		}
	}
	function o(i, r, a, o, l) {
		var c = e.data(i, "tree"),
		d = c.options,
		u = e(r).prevAll("div.tree-node:first");
		a = d.loadFilter.call(i, a, u[0]);
		var h = y(i, "domId", u.attr("id"));
		o ? h ? h.children ? h.children = h.children.concat(a) : h.children = a : c.data = c.data.concat(a) : (h ? h.children = a : c.data = a, e(r).empty()),
		d.view.render.call(d.view, i, r, a),
		d.dnd && t(i),
		h && p(i, h);
		for (var f = 0; f < c.tmpIds.length; f++)
			n(i, e("#" + c.tmpIds[f])[0], !0, !0);
		c.tmpIds = [],
		setTimeout(function () {
			s(i, i)
		}, 0),
		l || d.onLoadSuccess.call(i, h, a)
	}
	function s(t, n, i) {
		if (e.data(t, "tree").options.lines) {
			if (e(t).addClass("tree-lines"), !i) {
				i = !0,
				e(t).find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),
				e(t).find("div.tree-node").removeClass("tree-node-last tree-root-first tree-root-one");
				var r = e(t).tree("getRoots");
				r.length > 1 ? e(r[0].target).addClass("tree-root-first") : 1 == r.length && e(r[0].target).addClass("tree-root-one")
			}
			e(n).children("li").each(function () {
				var n = e(this).children("div.tree-node"),
				r = n.next("ul");
				r.length ? (e(this).next().length && function (t) {
					var n = t.find("span.tree-indent, span.tree-hit").length;
					t.next().find("div.tree-node").each(function () {
						e(this).children("span:eq(" + (n - 1) + ")").addClass("tree-line")
					})
				}
					(n), s(t, r, i)) : function (e, t) {
					e.find("span.tree-icon").prev("span.tree-indent").addClass("tree-join")
				}
				(n)
			});
			e(n).children("li:last").children("div.tree-node").addClass("tree-node-last").children("span.tree-join").removeClass("tree-join").addClass("tree-joinbottom")
		} else
			e(t).removeClass("tree-lines")
	}
	function l(t, n, i, r) {
		var a = e.data(t, "tree").options;
		i = e.extend({}, a.queryParams, i || {});
		var s = null;
		if (t != n) {
			var l = e(n).prev();
			s = v(t, l[0])
		}
		if (0 != a.onBeforeLoad.call(t, s, i)) {
			var c = e(n).prev().children("span.tree-folder");
			c.addClass("tree-loading");
			0 == a.loader.call(t, i, function (e) {
				c.removeClass("tree-loading"),
				o(t, n, e),
				r && r()
			}, function () {
				c.removeClass("tree-loading"),
				a.onLoadError.apply(t, arguments),
				r && r()
			}) && c.removeClass("tree-loading")
		}
	}
	function c(t, n, i) {
		var r = e.data(t, "tree").options,
		a = e(n).children("span.tree-hit");
		if (0 != a.length && !a.hasClass("tree-expanded")) {
			var o = v(t, n);
			if (0 != r.onBeforeExpand.call(t, o)) {
				a.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),
				a.next().addClass("tree-folder-open");
				var s = e(n).next();
				if (s.length)
					r.animate ? s.slideDown("normal", function () {
						o.state = "open",
						r.onExpand.call(t, o),
						i && i()
					}) : (s.css("display", "block"), o.state = "open", r.onExpand.call(t, o), i && i());
				else {
					var c = e('<ul style="display:none"></ul>').insertAfter(n);
					l(t, c[0], {
						id: o.id
					}, function () {
						c.is(":empty") && c.remove(),
						r.animate ? c.slideDown("normal", function () {
							o.state = "open",
							r.onExpand.call(t, o),
							i && i()
						}) : (c.css("display", "block"), o.state = "open", r.onExpand.call(t, o), i && i())
					})
				}
			}
		}
	}
	function d(t, n) {
		var i = e.data(t, "tree").options,
		r = e(n).children("span.tree-hit");
		if (0 != r.length && !r.hasClass("tree-collapsed")) {
			var a = v(t, n);
			if (0 != i.onBeforeCollapse.call(t, a)) {
				r.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),
				r.next().removeClass("tree-folder-open");
				var o = e(n).next();
				i.animate ? o.slideUp("normal", function () {
					a.state = "closed",
					i.onCollapse.call(t, a)
				}) : (o.css("display", "none"), a.state = "closed", i.onCollapse.call(t, a))
			}
		}
	}
	function u(t, n) {
		var i = e(n).children("span.tree-hit");
		0 != i.length && (i.hasClass("tree-expanded") ? d(t, n) : c(t, n))
	}
	function h(t, n) {
		var i = e(n.parent),
		r = n.data;
		if (r && (r = e.isArray(r) ? r : [r]).length) {
			var a;
			if (0 == i.length)
				a = e(t);
			else {
				if (_(t, i[0])) {
					var s = i.find("span.tree-icon");
					s.removeClass("tree-file").addClass("tree-folder tree-folder-open");
					var l = e('<span class="tree-hit tree-expanded"></span>').insertBefore(s);
					l.prev().length && l.prev().remove()
				}
				(a = i.next()).length || (a = e("<ul></ul>").insertAfter(i))
			}
			o(t, a[0], r, !0, !0)
		}
	}
	function p(t, i) {
		var o = e.data(t, "tree").options,
		s = e(i.target),
		l = v(t, i.target);
		l.iconCls && s.find(".tree-icon").removeClass(l.iconCls),
		e.extend(l, i),
		s.find(".tree-title").html(o.formatter.call(t, l)),
		l.iconCls && s.find(".tree-icon").addClass(l.iconCls),
		function (t, i) {
			var o = e.data(t, "tree").options;
			if (o.checkbox) {
				var s = e(i),
				l = s.find(".tree-checkbox"),
				c = v(t, i);
				if (o.view.hasCheckbox(t, c))
					if (l.length || (c.checkState = c.checkState || "unchecked", e('<span class="tree-checkbox"></span>').insertBefore(s.find(".tree-title"))), "checked" == c.checkState)
						n(t, i, !0, !0);
					else if ("unchecked" == c.checkState)
						n(t, i, !1, !0);
					else {
						var d = a(c);
						0 === d ? n(t, i, !1, !0) : 1 === d && n(t, i, !0, !0)
					}
				else
					l.remove(), c.checkState = void 0, c.checked = void 0, r(t, c)
			}
		}
		(t, i.target)
	}
	function f(t) {
		for (var n = e.data(t, "tree").data, i = 0; i < n.length; i++)
			x(n[i]);
		return n
	}
	function m(t, n) {
		var i = [],
		r = v(t, n),
		a = r ? r.children || [] : e.data(t, "tree").data;
		return e.easyui.forEach(a, !0, function (e) {
			i.push(x(e))
		}),
		i
	}
	function g(t, n) {
		return v(t, e(n).closest("ul").prevAll("div.tree-node:first")[0])
	}
	function v(t, n) {
		return y(t, "domId", e(n).attr("id"))
	}
	function b(e, t) {
		return y(e, "id", t)
	}
	function y(t, n, i) {
		var r = e.data(t, "tree").data,
		a = null;
		return e.easyui.forEach(r, !0, function (e) {
			if (e[n] == i)
				return a = x(e), !1
		}),
		a
	}
	function x(t) {
		return t.target = e("#" + t.domId)[0],
		t
	}
	function w(t, n) {
		var i = e.data(t, "tree").options,
		r = v(t, n);
		0 != i.onBeforeSelect.call(t, r) && (e(t).find("div.tree-node-selected").removeClass("tree-node-selected"), e(n).addClass("tree-node-selected"), i.onSelect.call(t, r))
	}
	function _(t, n) {
		return 0 == e(n).children("span.tree-hit").length
	}
	function T(t, n) {
		var i = e.data(t, "tree").options;
		e(n).css("position", "");
		var r = e(n).find("input.tree-editor"),
		a = r.val();
		r.remove();
		var o = v(t, n);
		o.text = a,
		p(t, o),
		i.onAfterEdit.call(t, o)
	}
	function E(t, n) {
		var i = e.data(t, "tree").options;
		e(n).css("position", ""),
		e(n).find("input.tree-editor").remove();
		var r = v(t, n);
		p(t, r),
		i.onCancelEdit.call(t, r)
	}
	e.fn.tree = function (t, i) {
		if ("string" == typeof t)
			return e.fn.tree.methods[t](this, i);
		t = t || {};
		return this.each(function () {
			var i,
			r = e.data(this, "tree");
			if (r)
				i = e.extend(r.options, t), r.options = i;
			else {
				i = e.extend({}, e.fn.tree.defaults, e.fn.tree.parseOptions(this), t),
				e.data(this, "tree", {
					options: i,
					tree: function (t) {
						var n = e(t);
						return n.addClass("tree"),
						n
					}
					(this),
					data: [],
					tmpIds: []
				});
				var a = e.fn.tree.parseData(this);
				a.length && o(this, this, a)
			}
			!function (t) {
				var i = e.data(t, "tree").options;
				e(t).unbind().bind("mouseover", function (t) {
					var n = e(t.target),
					i = n.closest("div.tree-node");
					i.length && (i.addClass("tree-node-hover"), n.hasClass("tree-hit") && (n.hasClass("tree-expanded") ? n.addClass("tree-expanded-hover") : n.addClass("tree-collapsed-hover")), t.stopPropagation())
				}).bind("mouseout", function (t) {
					var n = e(t.target),
					i = n.closest("div.tree-node");
					i.length && (i.removeClass("tree-node-hover"), n.hasClass("tree-hit") && (n.hasClass("tree-expanded") ? n.removeClass("tree-expanded-hover") : n.removeClass("tree-collapsed-hover")), t.stopPropagation())
				}).bind("click", function (r) {
					var a = e(r.target),
					o = a.closest("div.tree-node");
					if (o.length) {
						if (a.hasClass("tree-hit"))
							return u(t, o[0]), !1;
						if (a.hasClass("tree-checkbox"))
							return n(t, o[0]), !1;
						w(t, o[0]),
						i.onClick.call(t, v(t, o[0])),
						r.stopPropagation()
					}
				}).bind("dblclick", function (n) {
					var r = e(n.target).closest("div.tree-node");
					r.length && (w(t, r[0]), i.onDblClick.call(t, v(t, r[0])), n.stopPropagation())
				}).bind("contextmenu", function (n) {
					var r = e(n.target).closest("div.tree-node");
					r.length && (i.onContextMenu.call(t, n, v(t, r[0])), n.stopPropagation())
				})
			}
			(this),
			i.data && o(this, this, e.extend(!0, [], i.data)),
			l(this, this)
		})
	},
	e.fn.tree.methods = {
		options: function (t) {
			return e.data(t[0], "tree").options
		},
		loadData: function (e, t) {
			return e.each(function () {
				o(this, this, t)
			})
		},
		getNode: function (e, t) {
			return v(e[0], t)
		},
		getData: function (t, n) {
			return function (t, n) {
				var i = v(t, n);
				return i && i.children && e.easyui.forEach(i.children, !0, function (e) {
					x(e)
				}),
				i
			}
			(t[0], n)
		},
		reload: function (t, n) {
			return t.each(function () {
				if (n) {
					var t = e(n);
					t.children("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),
					t.next().remove(),
					c(this, n)
				} else
					e(this).empty(), l(this, this)
			})
		},
		getRoot: function (e, t) {
			return function (e, t) {
				if (t) {
					for (var n = g(e, t); n; )
						n = g(e, t = n.target);
					return v(e, t)
				}
				var i = f(e);
				return i.length ? i[0] : null
			}
			(e[0], t)
		},
		getRoots: function (e) {
			return f(e[0])
		},
		getParent: function (e, t) {
			return g(e[0], t)
		},
		getChildren: function (e, t) {
			return m(e[0], t)
		},
		getChecked: function (t, n) {
			return function (t, n) {
				n = n || "checked",
				e.isArray(n) || (n = [n]);
				var i = [];
				return e.easyui.forEach(e.data(t, "tree").data, !0, function (t) {
					t.checkState && -1 != e.easyui.indexOfArray(n, t.checkState) && i.push(x(t))
				}),
				i
			}
			(t[0], n)
		},
		getSelected: function (t) {
			return function (t) {
				var n = e(t).find("div.tree-node-selected");
				return n.length ? v(t, n[0]) : null
			}
			(t[0])
		},
		isLeaf: function (e, t) {
			return _(e[0], t)
		},
		find: function (e, t) {
			return b(e[0], t)
		},
		select: function (e, t) {
			return e.each(function () {
				w(this, t)
			})
		},
		check: function (e, t) {
			return e.each(function () {
				n(this, t, !0)
			})
		},
		uncheck: function (e, t) {
			return e.each(function () {
				n(this, t, !1)
			})
		},
		collapse: function (e, t) {
			return e.each(function () {
				d(this, t)
			})
		},
		expand: function (e, t) {
			return e.each(function () {
				c(this, t)
			})
		},
		collapseAll: function (e, t) {
			return e.each(function () {
				!function (e, t) {
					var n = m(e, t);
					t && n.unshift(v(e, t));
					for (var i = 0; i < n.length; i++)
						d(e, n[i].target)
				}
				(this, t)
			})
		},
		expandAll: function (e, t) {
			return e.each(function () {
				!function (e, t) {
					var n = m(e, t);
					t && n.unshift(v(e, t));
					for (var i = 0; i < n.length; i++)
						c(e, n[i].target)
				}
				(this, t)
			})
		},
		expandTo: function (e, t) {
			return e.each(function () {
				!function (e, t) {
					for (var n = [], i = g(e, t); i; )
						n.unshift(i), i = g(e, i.target);
					for (var r = 0; r < n.length; r++)
						c(e, n[r].target)
				}
				(this, t)
			})
		},
		scrollTo: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					for (var i = e(t).parent(); "BODY" != i[0].tagName && "auto" != i.css("overflow-y"); )
						i = i.parent();
					var r = e(n),
					a = r.offset().top;
					if ("BODY" != i[0].tagName) {
						var o = i.offset().top;
						a < o ? i.scrollTop(i.scrollTop() + a - o) : a + r.outerHeight() > o + i.outerHeight() - 18 && i.scrollTop(i.scrollTop() + a + r.outerHeight() - o - i.outerHeight() + 18)
					} else
						i.scrollTop(a)
				}
				(this, n)
			})
		},
		toggle: function (e, t) {
			return e.each(function () {
				u(this, t)
			})
		},
		append: function (e, t) {
			return e.each(function () {
				h(this, t)
			})
		},
		insert: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = n.before || n.after,
					r = g(t, i),
					a = n.data;
					if (a && (a = e.isArray(a) ? a : [a]).length) {
						h(t, {
							parent: r ? r.target : null,
							data: a
						});
						for (var o = r ? r.children : e(t).tree("getRoots"), s = 0; s < o.length; s++)
							if (o[s].domId == e(i).attr("id")) {
								for (var l = a.length - 1; l >= 0; l--)
									o.splice(n.before ? s : s + 1, 0, a[l]);
								o.splice(o.length - a.length, a.length);
								break
							}
						for (var c = e(), s = 0; s < a.length; s++)
							c = c.add(e("#" + a[s].domId).parent());
						n.before ? c.insertBefore(e(i).parent()) : c.insertAfter(e(i).parent())
					}
				}
				(this, n)
			})
		},
		remove: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = function (n) {
						for (var i = e(n).attr("id"), r = g(t, n), a = r ? r.children : e.data(t, "tree").data, o = 0; o < a.length; o++)
							if (a[o].domId == i) {
								a.splice(o, 1);
								break
							}
						return r
					}
					(n);
					if (e(n).parent().remove(), i) {
						if (!i.children || !i.children.length) {
							var r = e(i.target);
							r.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),
							r.find(".tree-hit").remove(),
							e('<span class="tree-indent"></span>').prependTo(r),
							r.next().remove()
						}
						p(t, i)
					}
					s(t, t)
				}
				(this, n)
			})
		},
		pop: function (e, t) {
			var n = e.tree("getData", t);
			return e.tree("remove", t),
			n
		},
		update: function (t, n) {
			return t.each(function () {
				p(this, e.extend({}, n, {
						checkState: n.checked ? "checked" : !1 === n.checked ? "unchecked" : void 0
					}))
			})
		},
		enableDnd: function (e) {
			return e.each(function () {
				t(this)
			})
		},
		disableDnd: function (t) {
			return t.each(function () {
				!function (t) {
					e.data(t, "tree").options.dnd = !1;
					var n = e(t).find("div.tree-node");
					n.draggable("disable"),
					n.css("cursor", "pointer")
				}
				(this)
			})
		},
		beginEdit: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "tree").options,
					r = v(t, n);
					if (0 != i.onBeforeEdit.call(t, r)) {
						e(n).css("position", "relative");
						var a = e(n).find(".tree-title"),
						o = a.outerWidth();
						a.empty();
						var s = e('<input class="tree-editor">').appendTo(a);
						s.val(r.text).focus(),
						s.width(o + 20),
						s._outerHeight(18),
						s.bind("click", function (e) {
							return !1
						}).bind("mousedown", function (e) {
							e.stopPropagation()
						}).bind("mousemove", function (e) {
							e.stopPropagation()
						}).bind("keydown", function (e) {
							return 13 == e.keyCode ? (T(t, n), !1) : 27 == e.keyCode ? (E(t, n), !1) : void 0
						}).bind("blur", function (e) {
							e.stopPropagation(),
							T(t, n)
						})
					}
				}
				(this, n)
			})
		},
		endEdit: function (e, t) {
			return e.each(function () {
				T(this, t)
			})
		},
		cancelEdit: function (e, t) {
			return e.each(function () {
				E(this, t)
			})
		},
		doFilter: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "tree"),
					r = i.options,
					a = {};
					e.easyui.forEach(i.data, !0, function (i) {
						r.filter.call(t, n, i) ? (e("#" + i.domId).removeClass("tree-node-hidden"), a[i.domId] = 1, i.hidden = !1) : (e("#" + i.domId).addClass("tree-node-hidden"), i.hidden = !0)
					});
					for (var o in a)
						!function (n) {
							for (var i = e(t).tree("getParent", e("#" + n)[0]); i; )
								e(i.target).removeClass("tree-node-hidden"), i.hidden = !1, i = e(t).tree("getParent", i.target)
						}
					(o)
				}
				(this, n)
			})
		}
	},
	e.fn.tree.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.parser.parseOptions(t, ["url", "method", {
						checkbox: "boolean",
						cascadeCheck: "boolean",
						onlyLeafCheck: "boolean"
					}, {
						animate: "boolean",
						lines: "boolean",
						dnd: "boolean"
					}
				]))
	},
	e.fn.tree.parseData = function (t) {
		function n(t, i) {
			i.children("li").each(function () {
				var i = e(this),
				r = e.extend({}, e.parser.parseOptions(this, ["id", "iconCls", "state"]), {
						checked: !!i.attr("checked") || void 0
					});
				r.text = i.children("span").html(),
				r.text || (r.text = i.html());
				var a = i.children("ul");
				a.length && (r.children = [], n(r.children, a)),
				t.push(r)
			})
		}
		var i = [];
		return n(i, e(t)),
		i
	};
	var M = 1,
	C = {
		render: function (t, n, i) {
			function r(n, i) {
				for (var s = [], c = 0; c < i.length; c++) {
					var d = i[c];
					"open" != d.state && "closed" != d.state && (d.state = "open"),
					d.domId = "_easyui_tree_" + M++,
					s.push("<li>"),
					s.push('<div id="' + d.domId + '" class="tree-node">');
					for (var u = 0; u < n; u++)
						s.push('<span class="tree-indent"></span>');
					if ("closed" == d.state ? (s.push('<span class="tree-hit tree-collapsed"></span>'), s.push('<span class="tree-icon tree-folder ' + (d.iconCls ? d.iconCls : "") + '"></span>')) : d.children && d.children.length ? (s.push('<span class="tree-hit tree-expanded"></span>'), s.push('<span class="tree-icon tree-folder tree-folder-open ' + (d.iconCls ? d.iconCls : "") + '"></span>')) : (s.push('<span class="tree-indent"></span>'), s.push('<span class="tree-icon tree-file ' + (d.iconCls ? d.iconCls : "") + '"></span>')), this.hasCheckbox(t, d)) {
						var h = 0;
						l && "checked" == l.checkState && o.cascadeCheck ? (h = 1, d.checked = !0) : d.checked && e.easyui.addArrayItem(a.tmpIds, d.domId),
						d.checkState = h ? "checked" : "unchecked",
						s.push('<span class="tree-checkbox tree-checkbox' + h + '"></span>')
					} else
						d.checkState = void 0, d.checked = void 0;
					if (s.push('<span class="tree-title">' + o.formatter.call(t, d) + "</span>"), s.push("</div>"), d.children && d.children.length) {
						var p = r.call(this, n + 1, d.children);
						s.push('<ul style="display:' + ("closed" == d.state ? "none" : "block") + '">'),
						(s = s.concat(p)).push("</ul>")
					}
					s.push("</li>")
				}
				return s
			}
			var a = e.data(t, "tree"),
			o = a.options,
			s = e(n).prev(".tree-node"),
			l = s.length ? e(t).tree("getNode", s[0]) : null,
			c = s.find("span.tree-indent, span.tree-hit").length,
			d = r.call(this, c, i);
			e(n).append(d.join(""))
		},
		hasCheckbox: function (t, n) {
			var i = e.data(t, "tree").options;
			if (i.checkbox) {
				if (e.isFunction(i.checkbox))
					return !!i.checkbox.call(t, n);
				if (!i.onlyLeafCheck)
					return !0;
				if (!("open" != n.state || n.children && n.children.length))
					return !0
			}
			return !1
		}
	};
	e.fn.tree.defaults = {
		url: null,
		method: "post",
		animate: !1,
		checkbox: !1,
		cascadeCheck: !0,
		onlyLeafCheck: !1,
		lines: !1,
		dnd: !1,
		data: null,
		queryParams: {},
		formatter: function (e) {
			return e.text
		},
		filter: function (t, n) {
			var i = [];
			e.map(e.isArray(t) ? t : [t], function (t) {
				(t = e.trim(t)) && i.push(t)
			});
			for (var r = 0; r < i.length; r++) {
				if (n.text.toLowerCase().indexOf(i[r].toLowerCase()) >= 0)
					return !0
			}
			return !i.length
		},
		loader: function (t, n, i) {
			var r = e(this).tree("options");
			if (!r.url)
				return !1;
			e.ajax({
				type: r.method,
				url: r.url,
				data: t,
				dataType: "json",
				success: function (e) {
					n(e)
				},
				error: function () {
					i.apply(this, arguments)
				}
			})
		},
		loadFilter: function (e, t) {
			return e
		},
		view: C,
		onBeforeLoad: function (e, t) {},
		onLoadSuccess: function (e, t) {},
		onLoadError: function () {},
		onClick: function (e) {},
		onDblClick: function (e) {},
		onBeforeExpand: function (e) {},
		onExpand: function (e) {},
		onBeforeCollapse: function (e) {},
		onCollapse: function (e) {},
		onBeforeCheck: function (e, t) {},
		onCheck: function (e, t) {},
		onBeforeSelect: function (e) {},
		onSelect: function (e) {},
		onContextMenu: function (e, t) {},
		onBeforeDrag: function (e) {},
		onStartDrag: function (e) {},
		onStopDrag: function (e) {},
		onDragEnter: function (e, t) {},
		onDragOver: function (e, t) {},
		onDragLeave: function (e, t) {},
		onBeforeDrop: function (e, t, n) {},
		onDrop: function (e, t, n) {},
		onBeforeEdit: function (e) {},
		onAfterEdit: function (e) {},
		onCancelEdit: function (e) {}
	}
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "progressbar").options,
		r = e.data(t, "progressbar").bar;
		n && (i.width = n),
		r._size(i),
		r.find("div.progressbar-text").css("width", r.width()),
		r.find("div.progressbar-text,div.progressbar-value").css({
			height: r.height() + "px",
			lineHeight: r.height() + "px"
		})
	}
	e.fn.progressbar = function (n, i) {
		if ("string" == typeof n) {
			var r = e.fn.progressbar.methods[n];
			if (r)
				return r(this, i)
		}
		return n = n || {},
		this.each(function () {
			var i = e.data(this, "progressbar");
			i ? e.extend(i.options, n) : i = e.data(this, "progressbar", {
					options: e.extend({}, e.fn.progressbar.defaults, e.fn.progressbar.parseOptions(this), n),
					bar: function (n) {
						return e(n).addClass("progressbar"),
						e(n).html('<div class="progressbar-text"></div><div class="progressbar-value"><div class="progressbar-text"></div></div>'),
						e(n).bind("_resize", function (i, r) {
							return (e(this).hasClass("easyui-fluid") || r) && t(n),
							!1
						}),
						e(n)
					}
					(this)
				}),
			e(this).progressbar("setValue", i.options.value),
			t(this)
		})
	},
	e.fn.progressbar.methods = {
		options: function (t) {
			return e.data(t[0], "progressbar").options
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		getValue: function (t) {
			return e.data(t[0], "progressbar").options.value
		},
		setValue: function (t, n) {
			return n < 0 && (n = 0),
			n > 100 && (n = 100),
			t.each(function () {
				var t = e.data(this, "progressbar").options,
				i = t.text.replace(/{value}/, n),
				r = t.value;
				t.value = n,
				e(this).find("div.progressbar-value").width(n + "%"),
				e(this).find("div.progressbar-text").html(i),
				r != n && t.onChange.call(this, n, r)
			})
		}
	},
	e.fn.progressbar.parseOptions = function (t) {
		return e.extend({}, e.parser.parseOptions(t, ["width", "height", "text", {
						value: "number"
					}
				]))
	},
	e.fn.progressbar.defaults = {
		width: "auto",
		height: 22,
		value: 0,
		text: "{value}%",
		onChange: function (e, t) {}
	}
}
(jQuery), function (e) {
	function t(t) {
		var n = e.data(t, "tooltip");
		n.showTimer && (clearTimeout(n.showTimer), n.showTimer = null),
		n.hideTimer && (clearTimeout(n.hideTimer), n.hideTimer = null)
	}
	function n(t, n) {
		var i = e.data(t, "tooltip"),
		r = i.options;
		if (n && (r.content = n), i.tip) {
			var a = "function" == typeof r.content ? r.content.call(t) : r.content;
			i.tip.children(".tooltip-content").html(a),
			r.onUpdate.call(t, a)
		}
	}
	e.fn.tooltip = function (t, i) {
		return "string" == typeof t ? e.fn.tooltip.methods[t](this, i) : (t = t || {}, this.each(function () {
				var i = e.data(this, "tooltip");
				i ? e.extend(i.options, t) : (e.data(this, "tooltip", {
						options: e.extend({}, e.fn.tooltip.defaults, e.fn.tooltip.parseOptions(this), t)
					}), function (t) {
					e(t).addClass("tooltip-f")
				}
					(this)),
				function (t) {
					var n = e.data(t, "tooltip").options;
					e(t).unbind(".tooltip").bind(n.showEvent + ".tooltip", function (n) {
						e(t).tooltip("show", n)
					}).bind(n.hideEvent + ".tooltip", function (n) {
						e(t).tooltip("hide", n)
					}).bind("mousemove.tooltip", function (i) {
						n.trackMouse && (n.trackMouseX = i.pageX, n.trackMouseY = i.pageY, e(t).tooltip("reposition"))
					})
				}
				(this),
				n(this)
			}))
	},
	e.fn.tooltip.methods = {
		options: function (t) {
			return e.data(t[0], "tooltip").options
		},
		tip: function (t) {
			return e.data(t[0], "tooltip").tip
		},
		arrow: function (e) {
			return e.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")
		},
		show: function (i, r) {
			return i.each(function () {
				!function (i, r) {
					var a = e.data(i, "tooltip"),
					o = a.options,
					s = a.tip;
					s || (s = e('<div tabindex="-1" class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body"), a.tip = s, n(i)),
					t(i),
					a.showTimer = setTimeout(function () {
							e(i).tooltip("reposition"),
							s.show(),
							o.onShow.call(i, r);
							var t = s.children(".tooltip-arrow-outer"),
							n = s.children(".tooltip-arrow"),
							a = "border-" + o.position + "-color";
							t.add(n).css({
								borderTopColor: "",
								borderBottomColor: "",
								borderLeftColor: "",
								borderRightColor: ""
							}),
							t.css(a, s.css(a)),
							n.css(a, s.css("backgroundColor"))
						}, o.showDelay)
				}
				(this, r)
			})
		},
		hide: function (n, i) {
			return n.each(function () {
				!function (n, i) {
					var r = e.data(n, "tooltip");
					r && r.tip && (t(n), r.hideTimer = setTimeout(function () {
								r.tip.hide(),
								r.options.onHide.call(n, i)
							}, r.options.hideDelay))
				}
				(this, i)
			})
		},
		update: function (e, t) {
			return e.each(function () {
				n(this, t)
			})
		},
		reposition: function (t) {
			return t.each(function () {
				!function (t) {
					function n(n) {
						r.position = n || "bottom",
						a.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-" + r.position);
						var i,
						o,
						s = e.isFunction(r.deltaX) ? r.deltaX.call(t, r.position) : r.deltaX,
						l = e.isFunction(r.deltaY) ? r.deltaY.call(t, r.position) : r.deltaY;
						if (r.trackMouse)
							c = e(), i = r.trackMouseX + s, o = r.trackMouseY + l;
						else {
							var c = e(t);
							i = c.offset().left + s,
							o = c.offset().top + l
						}
						switch (r.position) {
						case "right":
							i += c._outerWidth() + 12 + (r.trackMouse ? 12 : 0),
							o -= (a._outerHeight() - c._outerHeight()) / 2;
							break;
						case "left":
							i -= a._outerWidth() + 12 + (r.trackMouse ? 12 : 0),
							o -= (a._outerHeight() - c._outerHeight()) / 2;
							break;
						case "top":
							i -= (a._outerWidth() - c._outerWidth()) / 2,
							o -= a._outerHeight() + 12 + (r.trackMouse ? 12 : 0);
							break;
						case "bottom":
							i -= (a._outerWidth() - c._outerWidth()) / 2,
							o += c._outerHeight() + 12 + (r.trackMouse ? 12 : 0)
						}
						return {
							left: i,
							top: o
						}
					}
					var i = e.data(t, "tooltip");
					if (i && i.tip) {
						var r = i.options,
						a = i.tip,
						o = {
							left: -1e5,
							top: -1e5
						};
						if (e(t).is(":visible"))
							if (o = n(r.position), "top" == r.position && o.top < 0 ? o = n("bottom") : "bottom" == r.position && o.top + a._outerHeight() > e(window)._outerHeight() + e(document).scrollTop() && (o = n("top")), o.left < 0)
								"left" == r.position ? o = n("right") : (e(t).tooltip("arrow").css("left", a._outerWidth() / 2 + o.left), o.left = 0);
							else if (o.left + a._outerWidth() > e(window)._outerWidth() + e(document)._scrollLeft())
								if ("right" == r.position)
									o = n("left");
								else {
									var s = o.left;
									o.left = e(window)._outerWidth() + e(document)._scrollLeft() - a._outerWidth(),
									e(t).tooltip("arrow").css("left", a._outerWidth() / 2 - (o.left - s))
								}
						a.css({
							left: o.left,
							top: o.top,
							zIndex: void 0 != r.zIndex ? r.zIndex : e.fn.window ? e.fn.window.defaults.zIndex++ : ""
						}),
						r.onPosition.call(t, o.left, o.top)
					}
				}
				(this)
			})
		},
		destroy: function (n) {
			return n.each(function () {
				!function (n) {
					var i = e.data(n, "tooltip");
					if (i) {
						t(n);
						var r = i.options;
						i.tip && i.tip.remove(),
						r._title && e(n).attr("title", r._title),
						e.removeData(n, "tooltip"),
						e(n).unbind(".tooltip").removeClass("tooltip-f"),
						r.onDestroy.call(n)
					}
				}
				(this)
			})
		}
	},
	e.fn.tooltip.parseOptions = function (t) {
		var n = e(t),
		i = e.extend({}, e.parser.parseOptions(t, ["position", "showEvent", "hideEvent", "content", {
							trackMouse: "boolean",
							deltaX: "number",
							deltaY: "number",
							showDelay: "number",
							hideDelay: "number"
						}
					]), {
				_title: n.attr("title")
			});
		return n.attr("title", ""),
		i.content || (i.content = i._title),
		i
	},
	e.fn.tooltip.defaults = {
		position: "bottom",
		content: null,
		trackMouse: !1,
		deltaX: 0,
		deltaY: 0,
		showEvent: "mouseenter",
		hideEvent: "mouseleave",
		showDelay: 200,
		hideDelay: 100,
		onShow: function (e) {},
		onHide: function (e) {},
		onUpdate: function (e) {},
		onPosition: function (e, t) {},
		onDestroy: function () {}
	}
}
(jQuery), function ($) {
	function _210(e) {
		e._remove()
	}
	function _211(e, t) {
		var n = $.data(e, "panel"),
		i = n.options,
		r = n.panel,
		a = r.children(".panel-header"),
		o = r.children(".panel-body"),
		s = r.children(".panel-footer");
		if (t && $.extend(i, {
				width: t.width,
				height: t.height,
				minWidth: t.minWidth,
				maxWidth: t.maxWidth,
				minHeight: t.minHeight,
				maxHeight: t.maxHeight,
				left: t.left,
				top: t.top
			}), r._size(i), a.add(o)._outerWidth(r.width()), isNaN(parseInt(i.height))) {
			o.css("height", "");
			var l = $.parser.parseValue("minHeight", i.minHeight, r.parent()),
			c = $.parser.parseValue("maxHeight", i.maxHeight, r.parent()),
			d = a._outerHeight() + s._outerHeight() + r._outerHeight() - r.height();
			o._size("minHeight", l ? l - d : ""),
			o._size("maxHeight", c ? c - d : "")
		} else
			o._outerHeight(r.height() - a._outerHeight() - s._outerHeight());
		r.css({
			height: "",
			minHeight: "",
			maxHeight: "",
			left: i.left,
			top: i.top
		}),
		i.onResize.apply(e, [i.width, i.height]),
		$(e).panel("doLayout")
	}
	function _21a(e, t) {
		var n = $.data(e, "panel"),
		i = n.options,
		r = n.panel;
		t && (null != t.left && (i.left = t.left), null != t.top && (i.top = t.top)),
		r.css({
			left: i.left,
			top: i.top
		}),
		r.find(".tooltip-f").each(function () {
			$(this).tooltip("reposition")
		}),
		i.onMove.apply(e, [i.left, i.top])
	}
	function _21f(e) {
		$(e).addClass("panel-body")._size("clear");
		var t = $('<div class="panel"></div>').insertBefore(e);
		return t[0].appendChild(e),
		t.bind("_resize", function (t, n) {
			return ($(this).hasClass("easyui-fluid") || n) && _211(e),
			!1
		}),
		t
	}
	function _223(_224) {
		function _227() {
			if (opts.noheader || !opts.title && !opts.header)
				_210(_226.children(".panel-header")), _226.children(".panel-body").addClass("panel-body-noheader");
			else {
				if (opts.header)
					$(opts.header).addClass("panel-header").prependTo(_226);
				else {
					var _22b = _226.children(".panel-header");
					_22b.length || (_22b = $('<div class="panel-header"></div>').prependTo(_226)),
					$.isArray(opts.tools) || _22b.find("div.panel-tool .panel-tool-a").appendTo(opts.tools),
					_22b.empty();
					var _22c = $('<div class="panel-title"></div>').html(opts.title).appendTo(_22b);
					opts.iconCls && (_22c.addClass("panel-with-icon"), $('<div class="panel-icon"></div>').addClass(opts.iconCls).appendTo(_22b));
					var tool = $('<div class="panel-tool"></div>').appendTo(_22b);
					tool.bind("click", function (e) {
						e.stopPropagation()
					}),
					opts.tools && ($.isArray(opts.tools) ? $.map(opts.tools, function (t) {
							_22d(tool, t.iconCls, eval(t.handler))
						}) : $(opts.tools).children().each(function () {
							$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(tool)
						})),
					opts.collapsible && _22d(tool, "panel-tool-collapse", function () {
						1 == opts.collapsed ? _24c(_224, !0) : _23e(_224, !0)
					}),
					opts.minimizable && _22d(tool, "panel-tool-min", function () {
						_252(_224)
					}),
					opts.maximizable && _22d(tool, "panel-tool-max", function () {
						1 == opts.maximized ? _255(_224) : _23d(_224)
					}),
					opts.closable && _22d(tool, "panel-tool-close", function () {
						_23f(_224)
					})
				}
				_226.children("div.panel-body").removeClass("panel-body-noheader")
			}
		}
		function _22d(e, t, n) {
			$('<a href="javascript:;"></a>').addClass(t).appendTo(e).bind("click", n)
		}
		function _228() {
			opts.footer ? ($(opts.footer).addClass("panel-footer").appendTo(_226), $(_224).addClass("panel-body-nobottom")) : (_226.children(".panel-footer").remove(), $(_224).removeClass("panel-body-nobottom"))
		}
		var _225 = $.data(_224, "panel"),
		opts = _225.options,
		_226 = _225.panel;
		_226.css(opts.style),
		_226.addClass(opts.cls),
		_227(),
		_228();
		var _229 = $(_224).panel("header"),
		body = $(_224).panel("body"),
		_22a = $(_224).siblings(".panel-footer");
		opts.border ? (_229.removeClass("panel-header-noborder"), body.removeClass("panel-body-noborder"), _22a.removeClass("panel-footer-noborder")) : (_229.addClass("panel-header-noborder"), body.addClass("panel-body-noborder"), _22a.addClass("panel-footer-noborder")),
		_229.addClass(opts.headerCls),
		body.addClass(opts.bodyCls),
		$(_224).attr("id", opts.id || ""),
		opts.content && ($(_224).panel("clear"), $(_224).html(opts.content), $.parser.parse($(_224)))
	}
	function _22f(e, t) {
		var n = $.data(e, "panel"),
		i = n.options;
		if (r && (i.queryParams = t), i.href && (!n.isLoaded || !i.cache)) {
			var r = $.extend({}, i.queryParams);
			if (0 == i.onBeforeLoad.call(e, r))
				return;
			n.isLoaded = !1,
			i.loadingMessage && ($(e).panel("clear"), $(e).html($('<div class="panel-loading"></div>').html(i.loadingMessage))),
			i.loader.call(e, r, function (t) {
				var r = i.extractor.call(e, t);
				$(e).panel("clear"),
				$(e).html(r),
				$.parser.parse($(e)),
				i.onLoad.apply(e, arguments),
				n.isLoaded = !0
			}, function () {
				i.onLoadError.apply(e, arguments)
			})
		}
	}
	function _235(e) {
		var t = $(e);
		t.find(".combo-f").each(function () {
			$(this).combo("destroy")
		}),
		t.find(".m-btn").each(function () {
			$(this).menubutton("destroy")
		}),
		t.find(".s-btn").each(function () {
			$(this).splitbutton("destroy")
		}),
		t.find(".tooltip-f").each(function () {
			$(this).tooltip("destroy")
		}),
		t.children("div").each(function () {
			$(this)._size("unfit")
		}),
		t.empty()
	}
	function _237(e) {
		$(e).panel("doLayout", !0)
	}
	function _239(e, t) {
		function n() {
			i.closed = !1,
			i.minimized = !1;
			r.children(".panel-header").find("a.panel-tool-restore").length && (i.maximized = !0),
			i.onOpen.call(e),
			1 == i.maximized && (i.maximized = !1, _23d(e)),
			1 == i.collapsed && (i.collapsed = !1, _23e(e)),
			i.collapsed || (_22f(e), _237(e))
		}
		var i = $.data(e, "panel").options,
		r = $.data(e, "panel").panel;
		if (1 == t || 0 != i.onBeforeOpen.call(e))
			if (r.stop(!0, !0), $.isFunction(i.openAnimation))
				i.openAnimation.call(e, n);
			else
				switch (i.openAnimation) {
				case "slide":
					r.slideDown(i.openDuration, n);
					break;
				case "fade":
					r.fadeIn(i.openDuration, n);
					break;
				case "show":
					r.show(i.openDuration, n);
					break;
				default:
					r.show(),
					n()
				}
	}
	function _23f(e, t) {
		function n() {
			r.closed = !0,
			r.onClose.call(e)
		}
		var i = $.data(e, "panel"),
		r = i.options,
		a = i.panel;
		if (1 == t || 0 != r.onBeforeClose.call(e))
			if (a.find(".tooltip-f").each(function () {
					$(this).tooltip("hide")
				}), a.stop(!0, !0), a._size("unfit"), $.isFunction(r.closeAnimation))
				r.closeAnimation.call(e, n);
			else
				switch (r.closeAnimation) {
				case "slide":
					a.slideUp(r.closeDuration, n);
					break;
				case "fade":
					a.fadeOut(r.closeDuration, n);
					break;
				case "hide":
					a.hide(r.closeDuration, n);
					break;
				default:
					a.hide(),
					n()
				}
	}
	function _244(e, t) {
		var n = $.data(e, "panel"),
		i = n.options,
		r = n.panel;
		1 != t && 0 == i.onBeforeDestroy.call(e) || ($(e).panel("clear").panel("clear", "footer"), _210(r), i.onDestroy.call(e))
	}
	function _23e(e, t) {
		var n = $.data(e, "panel").options,
		i = $.data(e, "panel").panel,
		r = i.children(".panel-body"),
		a = i.children(".panel-header").find("a.panel-tool-collapse");
		1 != n.collapsed && (r.stop(!0, !0), 0 != n.onBeforeCollapse.call(e) && (a.addClass("panel-tool-expand"), 1 == t ? r.slideUp("normal", function () {
					n.collapsed = !0,
					n.onCollapse.call(e)
				}) : (r.hide(), n.collapsed = !0, n.onCollapse.call(e))))
	}
	function _24c(e, t) {
		var n = $.data(e, "panel").options,
		i = $.data(e, "panel").panel,
		r = i.children(".panel-body"),
		a = i.children(".panel-header").find("a.panel-tool-collapse");
		0 != n.collapsed && (r.stop(!0, !0), 0 != n.onBeforeExpand.call(e) && (a.removeClass("panel-tool-expand"), 1 == t ? r.slideDown("normal", function () {
					n.collapsed = !1,
					n.onExpand.call(e),
					_22f(e),
					_237(e)
				}) : (r.show(), n.collapsed = !1, n.onExpand.call(e), _22f(e), _237(e))))
	}
	function _23d(e) {
		var t = $.data(e, "panel").options,
		n = $.data(e, "panel").panel.children(".panel-header").find("a.panel-tool-max");
		1 != t.maximized && (n.addClass("panel-tool-restore"), $.data(e, "panel").original || ($.data(e, "panel").original = {
					width: t.width,
					height: t.height,
					left: t.left,
					top: t.top,
					fit: t.fit
				}), t.left = 0, t.top = 0, t.fit = !0, _211(e), t.minimized = !1, t.maximized = !0, t.onMaximize.call(e))
	}
	function _252(e) {
		var t = $.data(e, "panel").options,
		n = $.data(e, "panel").panel;
		n._size("unfit"),
		n.hide(),
		t.minimized = !0,
		t.maximized = !1,
		t.onMinimize.call(e)
	}
	function _255(e) {
		var t = $.data(e, "panel").options,
		n = $.data(e, "panel").panel,
		i = n.children(".panel-header").find("a.panel-tool-max");
		0 != t.maximized && (n.show(), i.removeClass("panel-tool-restore"), $.extend(t, $.data(e, "panel").original), _211(e), t.minimized = !1, t.maximized = !1, $.data(e, "panel").original = null, t.onRestore.call(e))
	}
	function _258(e, t) {
		$.data(e, "panel").options.title = t,
		$(e).panel("header").find("div.panel-title").html(t)
	}
	$.fn._remove = function () {
		return this.each(function () {
			$(this).remove();
			try {
				this.outerHTML = ""
			} catch (e) {}
		})
	};
	var _25b = null;
	$(window).unbind(".panel").bind("resize.panel", function () {
		_25b && clearTimeout(_25b),
		_25b = setTimeout(function () {
				var e = $("body.layout");
				e.length ? (e.layout("resize"), $("body").children(".easyui-fluid:visible").each(function () {
						$(this).triggerHandler("_resize")
					})) : $("body").panel("doLayout"),
				_25b = null
			}, 100)
	}),
	$.fn.panel = function (e, t) {
		return "string" == typeof e ? $.fn.panel.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t,
				n = $.data(this, "panel");
				n ? (t = $.extend(n.options, e), n.isLoaded = !1) : (t = $.extend({}, $.fn.panel.defaults, $.fn.panel.parseOptions(this), e), $(this).attr("title", ""), n = $.data(this, "panel", {
							options: t,
							panel: _21f(this),
							isLoaded: !1
						})),
				_223(this),
				$(this).show(),
				1 == t.doSize && (n.panel.css("display", "block"), _211(this)),
				1 == t.closed || 1 == t.minimized ? n.panel.hide() : _239(this)
			}))
	},
	$.fn.panel.methods = {
		options: function (e) {
			return $.data(e[0], "panel").options
		},
		panel: function (e) {
			return $.data(e[0], "panel").panel
		},
		header: function (e) {
			return $.data(e[0], "panel").panel.children(".panel-header")
		},
		footer: function (e) {
			return e.panel("panel").children(".panel-footer")
		},
		body: function (e) {
			return $.data(e[0], "panel").panel.children(".panel-body")
		},
		setTitle: function (e, t) {
			return e.each(function () {
				_258(this, t)
			})
		},
		open: function (e, t) {
			return e.each(function () {
				_239(this, t)
			})
		},
		close: function (e, t) {
			return e.each(function () {
				_23f(this, t)
			})
		},
		destroy: function (e, t) {
			return e.each(function () {
				_244(this, t)
			})
		},
		clear: function (e, t) {
			return e.each(function () {
				_235("footer" == t ? $(this).panel("footer") : this)
			})
		},
		refresh: function (e, t) {
			return e.each(function () {
				var e = $.data(this, "panel");
				e.isLoaded = !1,
				t && ("string" == typeof t ? e.options.href = t : e.options.queryParams = t),
				_22f(this)
			})
		},
		resize: function (e, t) {
			return e.each(function () {
				_211(this, t)
			})
		},
		doLayout: function (e, t) {
			return e.each(function () {
				function e(e, n) {
					if (e) {
						var i = e == $("body")[0];
						$(e).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible,.easyui-fluid:visible").filter(function (t, r) {
							var a = $(r).parents(".panel-" + n + ":first");
							return i ? 0 == a.length : a[0] == e
						}).each(function () {
							$(this).triggerHandler("_resize", [t || !1])
						})
					}
				}
				e(this, "body"),
				e($(this).siblings(".panel-footer")[0], "footer")
			})
		},
		move: function (e, t) {
			return e.each(function () {
				_21a(this, t)
			})
		},
		maximize: function (e) {
			return e.each(function () {
				_23d(this)
			})
		},
		minimize: function (e) {
			return e.each(function () {
				_252(this)
			})
		},
		restore: function (e) {
			return e.each(function () {
				_255(this)
			})
		},
		collapse: function (e, t) {
			return e.each(function () {
				_23e(this, t)
			})
		},
		expand: function (e, t) {
			return e.each(function () {
				_24c(this, t)
			})
		}
	},
	$.fn.panel.parseOptions = function (e) {
		var t = $(e),
		n = t.children(".panel-header,header"),
		i = t.children(".panel-footer,footer");
		return $.extend({}, $.parser.parseOptions(e, ["id", "width", "height", "left", "top", "title", "iconCls", "cls", "headerCls", "bodyCls", "tools", "href", "method", "header", "footer", {
						cache: "boolean",
						fit: "boolean",
						border: "boolean",
						noheader: "boolean"
					}, {
						collapsible: "boolean",
						minimizable: "boolean",
						maximizable: "boolean"
					}, {
						closable: "boolean",
						collapsed: "boolean",
						minimized: "boolean",
						maximized: "boolean",
						closed: "boolean"
					}, "openAnimation", "closeAnimation", {
						openDuration: "number",
						closeDuration: "number"
					}
				]), {
			loadingMessage: void 0 != t.attr("loadingMessage") ? t.attr("loadingMessage") : void 0,
			header: n.length ? n.removeClass("panel-header") : void 0,
			footer: i.length ? i.removeClass("panel-footer") : void 0
		})
	},
	$.fn.panel.defaults = {
		id: null,
		title: null,
		iconCls: null,
		width: "auto",
		height: "auto",
		left: null,
		top: null,
		cls: null,
		headerCls: null,
		bodyCls: null,
		style: {},
		href: null,
		cache: !0,
		fit: !1,
		border: !0,
		doSize: !0,
		noheader: !1,
		content: null,
		collapsible: !1,
		minimizable: !1,
		maximizable: !1,
		closable: !1,
		collapsed: !1,
		minimized: !1,
		maximized: !1,
		closed: !1,
		openAnimation: !1,
		openDuration: 400,
		closeAnimation: !1,
		closeDuration: 400,
		tools: null,
		footer: null,
		header: null,
		queryParams: {},
		method: "get",
		href: null,
		loadingMessage: "Loading...",
		loader: function (e, t, n) {
			var i = $(this).panel("options");
			if (!i.href)
				return !1;
			$.ajax({
				type: i.method,
				url: i.href,
				cache: !1,
				data: e,
				dataType: "html",
				success: function (e) {
					t(e)
				},
				error: function () {
					n.apply(this, arguments)
				}
			})
		},
		extractor: function (e) {
			var t = /<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(e);
			return t ? t[1] : e
		},
		onBeforeLoad: function (e) {},
		onLoad: function () {},
		onLoadError: function () {},
		onBeforeOpen: function () {},
		onOpen: function () {},
		onBeforeClose: function () {},
		onClose: function () {},
		onBeforeDestroy: function () {},
		onDestroy: function () {},
		onResize: function (e, t) {},
		onMove: function (e, t) {},
		onMaximize: function () {},
		onRestore: function () {},
		onMinimize: function () {},
		onBeforeCollapse: function () {},
		onBeforeExpand: function () {},
		onCollapse: function () {},
		onExpand: function () {}
	}
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "window");
		n && (null != n.left && (i.options.left = n.left), null != n.top && (i.options.top = n.top)),
		e(t).panel("move", i.options),
		i.shadow && i.shadow.css({
			left: i.options.left,
			top: i.options.top
		})
	}
	function n(n, i) {
		var r = e.data(n, "window").options,
		a = e(n).window("panel"),
		o = a._outerWidth();
		if (r.inline) {
			var s = a.parent();
			r.left = Math.ceil((s.width() - o) / 2 + s.scrollLeft())
		} else
			r.left = Math.ceil((e(window)._outerWidth() - o) / 2 + e(document).scrollLeft());
		i && t(n)
	}
	function i(n, i) {
		var r = e.data(n, "window").options,
		a = e(n).window("panel"),
		o = a._outerHeight();
		if (r.inline) {
			var s = a.parent();
			r.top = Math.ceil((s.height() - o) / 2 + s.scrollTop())
		} else
			r.top = Math.ceil((e(window)._outerHeight() - o) / 2 + e(document).scrollTop());
		i && t(n)
	}
	function r(t, n, i, r) {
		var a = e.data(this, "window").options;
		if (!a.constrain)
			return {};
		if (e.isFunction(a.constrain))
			return a.constrain.call(this, t, n, i, r);
		var o = e(this).window("window"),
		s = a.inline ? o.parent() : e(window);
		return t < 0 && (t = 0),
		n < s.scrollTop() && (n = s.scrollTop()),
		t + i > s.width() && (i == o.outerWidth() ? t = s.width() - i : i = s.width() - t),
		n - s.scrollTop() + r > s.height() && (r == o.outerHeight() ? n = s.height() - r + s.scrollTop() : r = s.height() - n + s.scrollTop()), {
			left: t,
			top: n,
			width: i,
			height: r
		}
	}
	e(function () {
		e._positionFixed || e(window).resize(function () {
			e("body>div.window-mask:visible").css({
				width: "",
				height: ""
			}),
			setTimeout(function () {
				e("body>div.window-mask:visible").css(e.fn.window.getMaskSize())
			}, 50)
		})
	}),
	e.fn.window = function (a, o) {
		if ("string" == typeof a) {
			var s = e.fn.window.methods[a];
			return s ? s(this, o) : this.panel(a, o)
		}
		return a = a || {},
		this.each(function () {
			var o = e.data(this, "window");
			o ? e.extend(o.options, a) : (o = e.data(this, "window", {
						options: e.extend({}, e.fn.window.defaults, e.fn.window.parseOptions(this), a)
					})).options.inline || document.body.appendChild(this),
			function (r) {
				var a = e.data(r, "window"),
				o = a.options,
				s = e(r).panel(e.extend({}, a.options, {
							border: !1,
							doSize: !0,
							closed: !0,
							cls: "window " + (o.border ? "thin" == o.border ? "window-thinborder " : "" : "window-thinborder window-noborder ") + (o.cls || ""),
							headerCls: "window-header " + (o.headerCls || ""),
							bodyCls: "window-body " + (o.noheader ? "window-body-noheader " : " ") + (o.bodyCls || ""),
							onBeforeDestroy: function () {
								if (0 == o.onBeforeDestroy.call(r))
									return !1;
								a.shadow && a.shadow.remove(),
								a.mask && a.mask.remove()
							},
							onClose: function () {
								a.shadow && a.shadow.hide(),
								a.mask && a.mask.hide(),
								o.onClose.call(r)
							},
							onOpen: function () {
								a.mask && a.mask.css(e.extend({
										display: "block",
										zIndex: e.fn.window.defaults.zIndex++
									}, e.fn.window.getMaskSize(r))),
								a.shadow && a.shadow.css({
									display: "block",
									zIndex: e.fn.window.defaults.zIndex++,
									left: o.left,
									top: o.top,
									width: a.window._outerWidth(),
									height: a.window._outerHeight()
								}),
								a.window.css("z-index", e.fn.window.defaults.zIndex++),
								o.onOpen.call(r)
							},
							onResize: function (t, n) {
								var i = e(this).panel("options");
								e.extend(o, {
									width: i.width,
									height: i.height,
									left: i.left,
									top: i.top
								}),
								a.shadow && a.shadow.css({
									left: o.left,
									top: o.top,
									width: a.window._outerWidth(),
									height: a.window._outerHeight()
								}),
								o.onResize.call(r, t, n)
							},
							onMinimize: function () {
								a.shadow && a.shadow.hide(),
								a.mask && a.mask.hide(),
								a.options.onMinimize.call(r)
							},
							onBeforeCollapse: function () {
								if (0 == o.onBeforeCollapse.call(r))
									return !1;
								a.shadow && a.shadow.hide()
							},
							onExpand: function () {
								a.shadow && a.shadow.show(),
								o.onExpand.call(r)
							}
						}));
				a.window = s.panel("panel"),
				a.mask && a.mask.remove(),
				o.modal && (a.mask = e('<div class="window-mask" style="display:none"></div>').insertAfter(a.window)),
				a.shadow && a.shadow.remove(),
				o.shadow && (a.shadow = e('<div class="window-shadow" style="display:none"></div>').insertAfter(a.window));
				var l = o.closed;
				null == o.left && n(r),
				null == o.top && i(r),
				t(r),
				l || s.window("open")
			}
			(this),
			function (t) {
				function n(t) {
					o.pmask && o.pmask.remove(),
					o.pmask = e('<div class="window-proxy-mask"></div>').insertAfter(o.window),
					o.pmask.css({
						display: "none",
						zIndex: e.fn.window.defaults.zIndex++,
						left: t.data.left,
						top: t.data.top,
						width: o.window._outerWidth(),
						height: o.window._outerHeight()
					}),
					o.proxy && o.proxy.remove(),
					o.proxy = e('<div class="window-proxy"></div>').insertAfter(o.window),
					o.proxy.css({
						display: "none",
						zIndex: e.fn.window.defaults.zIndex++,
						left: t.data.left,
						top: t.data.top
					}),
					o.proxy._outerWidth(t.data.width)._outerHeight(t.data.height),
					o.proxy.hide(),
					setTimeout(function () {
						o.pmask && o.pmask.show(),
						o.proxy && o.proxy.show()
					}, 500)
				}
				function i(n) {
					e.extend(n.data, r.call(t, n.data.left, n.data.top, n.data.width, n.data.height)),
					o.pmask.show(),
					o.proxy.css({
						display: "block",
						left: n.data.left,
						top: n.data.top
					}),
					o.proxy._outerWidth(n.data.width),
					o.proxy._outerHeight(n.data.height)
				}
				function a(n, i) {
					e.extend(n.data, r.call(t, n.data.left, n.data.top, n.data.width + .1, n.data.height + .1)),
					e(t).window(i, n.data),
					o.pmask.remove(),
					o.pmask = null,
					o.proxy.remove(),
					o.proxy = null
				}
				var o = e.data(t, "window");
				o.window.draggable({
					handle: ">div.panel-header>div.panel-title",
					disabled: 0 == o.options.draggable,
					onBeforeDrag: function (t) {
						o.mask && o.mask.css("z-index", e.fn.window.defaults.zIndex++),
						o.shadow && o.shadow.css("z-index", e.fn.window.defaults.zIndex++),
						o.window.css("z-index", e.fn.window.defaults.zIndex++)
					},
					onStartDrag: function (e) {
						n(e)
					},
					onDrag: function (e) {
						return i(e),
						!1
					},
					onStopDrag: function (e) {
						a(e, "move")
					}
				}),
				o.window.resizable({
					disabled: 0 == o.options.resizable,
					onStartResize: function (e) {
						n(e)
					},
					onResize: function (e) {
						return i(e),
						!1
					},
					onStopResize: function (e) {
						a(e, "resize")
					}
				})
			}
			(this)
		})
	},
	e.fn.window.methods = {
		options: function (t) {
			var n = t.panel("options"),
			i = e.data(t[0], "window").options;
			return e.extend(i, {
				closed: n.closed,
				collapsed: n.collapsed,
				minimized: n.minimized,
				maximized: n.maximized
			})
		},
		window: function (t) {
			return e.data(t[0], "window").window
		},
		move: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		hcenter: function (e) {
			return e.each(function () {
				n(this, !0)
			})
		},
		vcenter: function (e) {
			return e.each(function () {
				i(this, !0)
			})
		},
		center: function (e) {
			return e.each(function () {
				n(this),
				i(this),
				t(this)
			})
		}
	},
	e.fn.window.getMaskSize = function (t) {
		var n = e(t).data("window");
		return n && n.options.inline ? {}
		 : e._positionFixed ? {
			position: "fixed"
		}
		 : {
			width: e(document).width(),
			height: e(document).height()
		}
	},
	e.fn.window.parseOptions = function (t) {
		return e.extend({}, e.fn.panel.parseOptions(t), e.parser.parseOptions(t, [{
						draggable: "boolean",
						resizable: "boolean",
						shadow: "boolean",
						modal: "boolean",
						inline: "boolean"
					}
				]))
	},
	e.fn.window.defaults = e.extend({}, e.fn.panel.defaults, {
			zIndex: 9e3,
			draggable: !0,
			resizable: !0,
			shadow: !0,
			modal: !1,
			border: !0,
			inline: !1,
			title: "New Window",
			collapsible: !0,
			minimizable: !0,
			maximizable: !0,
			closable: !0,
			closed: !1,
			constrain: !1
		})
}
(jQuery), function ($) {
	function _2a2(_2a3) {
		var opts = $.data(_2a3, "dialog").options;
		opts.inited = !1,
		$(_2a3).window($.extend({}, opts, {
				onResize: function (e, t) {
					opts.inited && (_2a8(this), opts.onResize.call(this, e, t))
				}
			}));
		var win = $(_2a3).window("window");
		if (opts.toolbar)
			if ($.isArray(opts.toolbar)) {
				$(_2a3).siblings("div.dialog-toolbar").remove();
				for (var _2a4 = $('<div class="dialog-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').appendTo(win), tr = _2a4.find("tr"), i = 0; i < opts.toolbar.length; i++) {
					var btn = opts.toolbar[i];
					if ("-" == btn)
						$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr);
					else {
						var td = $("<td></td>").appendTo(tr),
						tool = $('<a href="javascript:;"></a>').appendTo(td);
						tool[0].onclick = eval(btn.handler || function () {}),
						tool.linkbutton($.extend({}, btn, {
								plain: !0
							}))
					}
				}
			} else
				$(opts.toolbar).addClass("dialog-toolbar").appendTo(win), $(opts.toolbar).show();
		else
			$(_2a3).siblings("div.dialog-toolbar").remove();
		if (opts.buttons)
			if ($.isArray(opts.buttons)) {
				$(_2a3).siblings("div.dialog-button").remove();
				for (var _2a5 = $('<div class="dialog-button"></div>').appendTo(win), i = 0; i < opts.buttons.length; i++) {
					var p = opts.buttons[i],
					_2a6 = $('<a href="javascript:;"></a>').appendTo(_2a5);
					p.handler && (_2a6[0].onclick = p.handler),
					_2a6.linkbutton(p)
				}
			} else
				$(opts.buttons).addClass("dialog-button").appendTo(win), $(opts.buttons).show();
		else
			$(_2a3).siblings("div.dialog-button").remove();
		opts.inited = !0;
		var _2a7 = opts.closed;
		win.show(),
		$(_2a3).window("resize"),
		_2a7 && win.hide()
	}
	function _2a8(e, t) {
		var n = $(e),
		i = n.dialog("options"),
		r = i.noheader,
		a = n.siblings(".dialog-toolbar"),
		o = n.siblings(".dialog-button");
		a.insertBefore(e).css({
			borderTopWidth: r ? 1 : 0,
			top: r ? a.length : 0
		}),
		o.insertAfter(e),
		a.add(o)._outerWidth(n._outerWidth()).find(".easyui-fluid:visible").each(function () {
			$(this).triggerHandler("_resize")
		});
		var s = a._outerHeight() + o._outerHeight();
		if (isNaN(parseInt(i.height))) {
			var l = n._size("min-height");
			l && n._size("min-height", l - s);
			var c = n._size("max-height");
			c && n._size("max-height", c - s)
		} else
			n._outerHeight(n._outerHeight() - s);
		var d = $.data(e, "window").shadow;
		if (d) {
			var u = n.panel("panel");
			d.css({
				width: u._outerWidth(),
				height: u._outerHeight()
			})
		}
	}
	$.fn.dialog = function (e, t) {
		if ("string" == typeof e) {
			var n = $.fn.dialog.methods[e];
			return n ? n(this, t) : this.window(e, t)
		}
		return e = e || {},
		this.each(function () {
			var t = $.data(this, "dialog");
			t ? $.extend(t.options, e) : $.data(this, "dialog", {
				options: $.extend({}, $.fn.dialog.defaults, $.fn.dialog.parseOptions(this), e)
			}),
			_2a2(this)
		})
	},
	$.fn.dialog.methods = {
		options: function (e) {
			var t = $.data(e[0], "dialog").options,
			n = e.panel("options");
			return $.extend(t, {
				width: n.width,
				height: n.height,
				left: n.left,
				top: n.top,
				closed: n.closed,
				collapsed: n.collapsed,
				minimized: n.minimized,
				maximized: n.maximized
			}),
			t
		},
		dialog: function (e) {
			return e.window("window")
		}
	},
	$.fn.dialog.parseOptions = function (e) {
		var t = $(e);
		return $.extend({}, $.fn.window.parseOptions(e), $.parser.parseOptions(e, ["toolbar", "buttons"]), {
			toolbar: t.children(".dialog-toolbar").length ? t.children(".dialog-toolbar").removeClass("dialog-toolbar") : void 0,
			buttons: t.children(".dialog-button").length ? t.children(".dialog-button").removeClass("dialog-button") : void 0
		})
	},
	$.fn.dialog.defaults = $.extend({}, $.fn.window.defaults, {
			title: "New Dialog",
			collapsible: !1,
			minimizable: !1,
			maximizable: !1,
			resizable: !1,
			toolbar: null,
			buttons: null
		})
}
(jQuery), function (e) {
	function t(t) {
		e(document).unbind(".messager").bind("keydown.messager", function (t) {
			if (27 == t.keyCode)
				e("body").children("div.messager-window").children("div.messager-body").each(function () {
					e(this).dialog("close")
				});
			else if (9 == t.keyCode) {
				var i = e("body").children("div.messager-window");
				if (!i.length)
					return;
				for (var r = i.find(".messager-input,.messager-button .l-btn"), a = 0; a < r.length; a++)
					if (e(r[a]).is(":focus"))
						return e(r[a >= r.length - 1 ? 0 : a + 1]).focus(), !1
			} else if (13 == t.keyCode) {
				var o = e(t.target).closest("input.messager-input");
				o.length && n(o.closest(".messager-body"), o.val())
			}
		});
		var i = e('<div class="messager-body"></div>').appendTo("body");
		i.dialog(e.extend({}, t, {
				noheader: !t.title,
				onClose: function () {
					e(document).unbind(".messager"),
					t.onClose && t.onClose.call(this),
					setTimeout(function () {
						i.dialog("destroy")
					}, 100)
				}
			}));
		return i.dialog("dialog").addClass("messager-window").find(".dialog-button").addClass("messager-button").find("a:first").focus(),
		i
	}
	function n(e, t) {
		e.dialog("close"),
		e.dialog("options").fn(t)
	}
	e.messager = {
		show: function (t) {
			return function (t) {
				var n = e.extend({}, e.messager.defaults, {
						modal: !1,
						shadow: !1,
						draggable: !1,
						resizable: !1,
						closed: !0,
						style: {
							left: "",
							top: "",
							right: 0,
							zIndex: e.fn.window.defaults.zIndex++,
							bottom: -document.body.scrollTop - document.documentElement.scrollTop
						},
						title: "",
						width: 250,
						height: 100,
						minHeight: 0,
						showType: "slide",
						showSpeed: 600,
						content: t.msg,
						timeout: 4e3
					}, t),
				i = e('<div class="messager-body"></div>').appendTo("body");
				return i.dialog(e.extend({}, n, {
						noheader: !n.title,
						openAnimation: n.showType,
						closeAnimation: "show" == n.showType ? "hide" : n.showType,
						openDuration: n.showSpeed,
						closeDuration: n.showSpeed,
						onOpen: function () {
							function e() {
								n.timeout > 0 && (n.timer = setTimeout(function () {
											i.length && i.data("dialog") && i.dialog("close")
										}, n.timeout))
							}
							i.dialog("dialog").hover(function () {
								n.timer && clearTimeout(n.timer)
							}, function () {
								e()
							}),
							e(),
							t.onOpen ? t.onOpen.call(this) : n.onOpen.call(this)
						},
						onClose: function () {
							n.timer && clearTimeout(n.timer),
							t.onClose ? t.onClose.call(this) : n.onClose.call(this),
							i.dialog("destroy")
						}
					})),
				i.dialog("dialog").css(n.style),
				i.dialog("open"),
				i
			}
			(t)
		},
		alert: function (i, r, a, o) {
			var s = "object" == typeof i ? i : {
				title: i,
				msg: r,
				icon: a,
				fn: o
			},
			l = s.icon ? "messager-icon messager-" + s.icon : "";
			(s = e.extend({}, e.messager.defaults, {
						content: '<div class="' + l + '"></div><div>' + s.msg + '</div><div style="clear:both;"/>'
					}, s)).buttons || (s.buttons = [{
						text: s.ok,
						onClick: function () {
							n(c)
						}
					}
				]);
			var c = t(s);
			return c
		},
		confirm: function (i, r, a) {
			var o = "object" == typeof i ? i : {
				title: i,
				msg: r,
				fn: a
			};
			(o = e.extend({}, e.messager.defaults, {
						content: '<div class="messager-icon messager-question"></div><div>' + o.msg + '</div><div style="clear:both;"/>'
					}, o)).buttons || (o.buttons = [{
						text: o.ok,
						onClick: function () {
							n(s, !0)
						}
					}, {
						text: o.cancel,
						onClick: function () {
							n(s, !1)
						}
					}
				]);
			var s = t(o);
			return s
		},
		prompt: function (i, r, a) {
			var o = "object" == typeof i ? i : {
				title: i,
				msg: r,
				fn: a
			};
			(o = e.extend({}, e.messager.defaults, {
						content: '<div class="messager-icon messager-question"></div><div>' + o.msg + '</div><br/><div style="clear:both;"/><div><input class="messager-input" type="text"/></div>'
					}, o)).buttons || (o.buttons = [{
						text: o.ok,
						onClick: function () {
							n(s, s.find(".messager-input").val())
						}
					}, {
						text: o.cancel,
						onClick: function () {
							n(s)
						}
					}
				]);
			var s = t(o);
			return s.find(".messager-input").focus(),
			s
		},
		progress: function (n) {
			if ("string" == typeof n) {
				return (0, {
					bar: function () {
						return e("body>div.messager-window").find("div.messager-p-bar")
					},
					close: function () {
						var t = e("body>div.messager-window>div.messager-body:has(div.messager-progress)");
						t.length && t.dialog("close")
					}
				}
					[n])()
			}
			n = n || {};
			var i = e.extend({}, {
					title: "",
					minHeight: 0,
					content: void 0,
					msg: "",
					text: void 0,
					interval: 300
				}, n),
			r = t(e.extend({}, e.messager.defaults, {
						content: '<div class="messager-progress"><div class="messager-p-msg">' + i.msg + '</div><div class="messager-p-bar"></div></div>',
						closable: !1,
						doSize: !1
					}, i, {
						onClose: function () {
							this.timer && clearInterval(this.timer),
							n.onClose ? n.onClose.call(this) : e.messager.defaults.onClose.call(this)
						}
					})),
			a = r.find("div.messager-p-bar");
			return a.progressbar({
				text: i.text
			}),
			r.dialog("resize"),
			i.interval && (r[0].timer = setInterval(function () {
						var e = a.progressbar("getValue");
						(e += 10) > 100 && (e = 0),
						a.progressbar("setValue", e)
					}, i.interval)),
			r
		}
	},
	e.messager.defaults = e.extend({}, e.fn.dialog.defaults, {
			ok: "Ok",
			cancel: "Cancel",
			width: 300,
			height: "auto",
			minHeight: 150,
			modal: !0,
			collapsible: !1,
			minimizable: !1,
			maximizable: !1,
			resizable: !1,
			fn: function () {}
		})
}
(jQuery), function (e) {
	function t(t, n) {
		function i(e, t) {
			for (var n = 0, i = 0; i < o.length; i++) {
				var r = o[i],
				a = r.panel("header")._outerHeight(l);
				if (r.panel("options").collapsible == e) {
					var c = isNaN(t) ? void 0 : t + l * a.length;
					r.panel("resize", {
						width: s.width(),
						height: e ? c : void 0
					}),
					n += r.panel("panel").outerHeight() - l * a.length
				}
			}
			return n
		}
		var r = e.data(t, "accordion"),
		a = r.options,
		o = r.panels,
		s = e(t);
		n && e.extend(a, {
			width: n.width,
			height: n.height
		}),
		s._size(a);
		var l = 0,
		c = "auto",
		d = s.find(">.panel>.accordion-header");
		d.length && (l = e(d[0]).css("height", "")._outerHeight()),
		isNaN(parseInt(a.height)) || (c = s.height() - l * d.length),
		i(!0, c - i(!1) + 1)
	}
	function n(t, n, i, r) {
		for (var a = e.data(t, "accordion").panels, o = [], s = 0; s < a.length; s++) {
			var l = a[s];
			if (n)
				l.panel("options")[n] == i && o.push(l);
			else if (l[0] == e(i)[0])
				return s
		}
		return n ? r ? o : o.length ? o[0] : null : -1
	}
	function i(e) {
		return n(e, "collapsed", !1, !0)
	}
	function r(e) {
		var t = i(e);
		return t.length ? t[0] : null
	}
	function a(e, t) {
		return n(e, null, t)
	}
	function o(t, i) {
		var r = e.data(t, "accordion").panels;
		return "number" == typeof i ? i < 0 || i >= r.length ? null : r[i] : n(t, "title", i)
	}
	function s(t, n, r) {
		function o(e) {
			var n = e.panel("options");
			if (n.collapsible) {
				var i = a(t, e);
				n.collapsed ? l(t, i) : c(t, i)
			}
		}
		var s = e.data(t, "accordion").options;
		n.panel(e.extend({}, {
				collapsible: !0,
				minimizable: !1,
				maximizable: !1,
				closable: !1,
				doSize: !1,
				collapsed: !0,
				headerCls: "accordion-header",
				bodyCls: "accordion-body"
			}, r, {
				onBeforeExpand: function () {
					if (r.onBeforeExpand && 0 == r.onBeforeExpand.call(this))
						return !1;
					if (!s.multiple)
						for (var n = e.grep(i(t), function (e) {
									return e.panel("options").collapsible
								}), o = 0; o < n.length; o++)
							c(t, a(t, n[o]));
					var l = e(this).panel("header");
					l.addClass("accordion-header-selected"),
					l.find(".accordion-collapse").removeClass("accordion-expand")
				},
				onExpand: function () {
					r.onExpand && r.onExpand.call(this),
					s.onSelect.call(t, e(this).panel("options").title, a(t, this))
				},
				onBeforeCollapse: function () {
					if (r.onBeforeCollapse && 0 == r.onBeforeCollapse.call(this))
						return !1;
					var t = e(this).panel("header");
					t.removeClass("accordion-header-selected"),
					t.find(".accordion-collapse").addClass("accordion-expand")
				},
				onCollapse: function () {
					r.onCollapse && r.onCollapse.call(this),
					s.onUnselect.call(t, e(this).panel("options").title, a(t, this))
				}
			}));
		var d = n.panel("header"),
		u = d.children("div.panel-tool");
		u.children("a.panel-tool-collapse").hide();
		var h = e('<a href="javascript:;"></a>').addClass("accordion-collapse accordion-expand").appendTo(u);
		h.bind("click", function () {
			return o(n),
			!1
		}),
		n.panel("options").collapsible ? h.show() : h.hide(),
		d.click(function () {
			return o(n),
			!1
		})
	}
	function l(t, n) {
		var i = o(t, n);
		if (i) {
			d(t);
			var r = e.data(t, "accordion").options;
			i.panel("expand", r.animate)
		}
	}
	function c(t, n) {
		var i = o(t, n);
		if (i) {
			d(t);
			var r = e.data(t, "accordion").options;
			i.panel("collapse", r.animate)
		}
	}
	function d(t) {
		for (var n = e.data(t, "accordion").panels, i = 0; i < n.length; i++)
			n[i].stop(!0, !0)
	}
	e.fn.accordion = function (i, r) {
		return "string" == typeof i ? e.fn.accordion.methods[i](this, r) : (i = i || {}, this.each(function () {
				var r = e.data(this, "accordion");
				r ? e.extend(r.options, i) : (e.data(this, "accordion", {
						options: e.extend({}, e.fn.accordion.defaults, e.fn.accordion.parseOptions(this), i),
						accordion: e(this).addClass("accordion"),
						panels: []
					}), function (n) {
					var i = e.data(n, "accordion"),
					r = e(n);
					r.addClass("accordion"),
					i.panels = [],
					r.children("div").each(function () {
						var t = e.extend({}, e.parser.parseOptions(this), {
								selected: !!e(this).attr("selected") || void 0
							}),
						r = e(this);
						i.panels.push(r),
						s(n, r, t)
					}),
					r.bind("_resize", function (i, r) {
						return (e(this).hasClass("easyui-fluid") || r) && t(n),
						!1
					})
				}
					(this)),
				function (t) {
					var n = e.data(t, "accordion").options,
					i = e(t);
					n.border ? i.removeClass("accordion-noborder") : i.addClass("accordion-noborder")
				}
				(this),
				t(this),
				function (t) {
					function i(e) {
						var n = r.animate;
						r.animate = !1,
						l(t, e),
						r.animate = n
					}
					var r = e.data(t, "accordion").options,
					o = n(t, "selected", !0);
					i(o ? a(t, o) : r.selected)
				}
				(this)
			}))
	},
	e.fn.accordion.methods = {
		options: function (t) {
			return e.data(t[0], "accordion").options
		},
		panels: function (t) {
			return e.data(t[0], "accordion").panels
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		getSelections: function (e) {
			return i(e[0])
		},
		getSelected: function (e) {
			return r(e[0])
		},
		getPanel: function (e, t) {
			return o(e[0], t)
		},
		getPanelIndex: function (e, t) {
			return a(e[0], t)
		},
		select: function (e, t) {
			return e.each(function () {
				l(this, t)
			})
		},
		unselect: function (e, t) {
			return e.each(function () {
				c(this, t)
			})
		},
		add: function (n, i) {
			return n.each(function () {
				!function (n, i) {
					var r = e.data(n, "accordion"),
					a = r.options,
					o = r.panels;
					void 0 == i.selected && (i.selected = !0),
					d(n);
					var c = e("<div></div>").appendTo(n);
					o.push(c),
					s(n, c, i),
					t(n),
					a.onAdd.call(n, i.title, o.length - 1),
					i.selected && l(n, o.length - 1)
				}
				(this, i)
			})
		},
		remove: function (n, i) {
			return n.each(function () {
				!function (n, i) {
					var s = e.data(n, "accordion"),
					c = s.options,
					u = s.panels;
					d(n);
					var h = o(n, i),
					p = h.panel("options").title,
					f = a(n, h);
					h && 0 != c.onBeforeRemove.call(n, p, f) && (u.splice(f, 1), h.panel("destroy"), u.length && (t(n), r(n) || l(n, 0)), c.onRemove.call(n, p, f))
				}
				(this, i)
			})
		}
	},
	e.fn.accordion.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.parser.parseOptions(t, ["width", "height", {
						fit: "boolean",
						border: "boolean",
						animate: "boolean",
						multiple: "boolean",
						selected: "number"
					}
				]))
	},
	e.fn.accordion.defaults = {
		width: "auto",
		height: "auto",
		fit: !1,
		border: !0,
		animate: !0,
		multiple: !1,
		selected: 0,
		onSelect: function (e, t) {},
		onUnselect: function (e, t) {},
		onAdd: function (e, t) {},
		onBeforeRemove: function (e, t) {},
		onRemove: function (e, t) {}
	}
}
(jQuery), function ($) {
	function _323(e) {
		var t = 0;
		return $(e).children().each(function () {
			t += $(this).outerWidth(!0)
		}),
		t
	}
	function _324(e) {
		var t = $.data(e, "tabs").options;
		if ("left" != t.tabPosition && "right" != t.tabPosition && t.showHeader) {
			var n = $(e).children("div.tabs-header"),
			i = n.children("div.tabs-tool:not(.tabs-tool-hidden)"),
			r = n.children("div.tabs-scroller-left"),
			a = n.children("div.tabs-scroller-right"),
			o = n.children("div.tabs-wrap"),
			s = n.outerHeight();
			t.plain && (s -= s - n.height()),
			i._outerHeight(s);
			var l = _323(n.find("ul.tabs")),
			c = n.width() - i._outerWidth();
			l > c ? (r.add(a).show()._outerHeight(s), "left" == t.toolPosition ? (i.css({
						left: r.outerWidth(),
						right: ""
					}), o.css({
						marginLeft: r.outerWidth() + i._outerWidth(),
						marginRight: a._outerWidth(),
						width: c - r.outerWidth() - a.outerWidth()
					})) : (i.css({
						left: "",
						right: a.outerWidth()
					}), o.css({
						marginLeft: r.outerWidth(),
						marginRight: a.outerWidth() + i._outerWidth(),
						width: c - r.outerWidth() - a.outerWidth()
					}))) : (r.add(a).hide(), "left" == t.toolPosition ? (i.css({
						left: 0,
						right: ""
					}), o.css({
						marginLeft: i._outerWidth(),
						marginRight: 0,
						width: c
					})) : (i.css({
						left: "",
						right: 0
					}), o.css({
						marginLeft: 0,
						marginRight: i._outerWidth(),
						width: c
					})))
		}
	}
	function _32c(_32d) {
		var opts = $.data(_32d, "tabs").options,
		_32e = $(_32d).children("div.tabs-header");
		if (opts.tools)
			if ("string" == typeof opts.tools)
				$(opts.tools).addClass("tabs-tool").appendTo(_32e), $(opts.tools).show();
			else {
				_32e.children("div.tabs-tool").remove();
				for (var _32f = $('<div class="tabs-tool"><table cellspacing="0" cellpadding="0" style="height:100%"><tr></tr></table></div>').appendTo(_32e), tr = _32f.find("tr"), i = 0; i < opts.tools.length; i++) {
					var td = $("<td></td>").appendTo(tr),
					tool = $('<a href="javascript:;"></a>').appendTo(td);
					tool[0].onclick = eval(opts.tools[i].handler || function () {}),
					tool.linkbutton($.extend({}, opts.tools[i], {
							plain: !0
						}))
				}
			}
		else
			_32e.children("div.tabs-tool").remove()
	}
	function _330(e, t) {
		function n(e, t) {
			var n = e.panel("options"),
			i = n.tab.find("a.tabs-inner");
			(t = t || parseInt(n.tabWidth || r.tabWidth || void 0)) ? i._outerWidth(t) : i.css("width", ""),
			i._outerHeight(r.tabHeight),
			i.css("lineHeight", i.height() + "px"),
			i.find(".easyui-fluid:visible").triggerHandler("_resize")
		}
		var i = $.data(e, "tabs"),
		r = i.options,
		a = $(e);
		if (r.doSize) {
			t && $.extend(r, {
				width: t.width,
				height: t.height
			}),
			a._size(r);
			var o = a.children("div.tabs-header"),
			s = a.children("div.tabs-panels"),
			l = o.find("div.tabs-wrap"),
			c = l.find(".tabs");
			if (c.children("li").removeClass("tabs-first tabs-last"), c.children("li:first").addClass("tabs-first"), c.children("li:last").addClass("tabs-last"), "left" == r.tabPosition || "right" == r.tabPosition ? (o._outerWidth(r.showHeader ? r.headerWidth : 0), s._outerWidth(a.width() - o.outerWidth()), o.add(s)._size("height", isNaN(parseInt(r.height)) ? "" : a.height()), l._outerWidth(o.width()), c._outerWidth(l.width()).css("height", "")) : (o.children("div.tabs-scroller-left,div.tabs-scroller-right,div.tabs-tool:not(.tabs-tool-hidden)").css("display", r.showHeader ? "block" : "none"), o._outerWidth(a.width()).css("height", ""), r.showHeader ? (o.css("background-color", ""), l.css("height", "")) : (o.css("background-color", "transparent"), o._outerHeight(0), l._outerHeight(0)), c._outerHeight(r.tabHeight).css("width", ""), c._outerHeight(c.outerHeight() - c.height() - 1 + r.tabHeight).css("width", ""), s._size("height", isNaN(parseInt(r.height)) ? "" : a.height() - o.outerHeight()), s._size("width", a.width())), i.tabs.length) {
				var d = c.outerWidth(!0) - c.width(),
				u = c.children("li:first"),
				h = u.outerWidth(!0) - u.width(),
				p = o.width() - o.children(".tabs-tool:not(.tabs-tool-hidden)")._outerWidth(),
				f = Math.floor((p - d - h * i.tabs.length) / i.tabs.length);
				if ($.map(i.tabs, function (e) {
						n(e, r.justified && $.inArray(r.tabPosition, ["top", "bottom"]) >= 0 ? f : void 0)
					}), r.justified && $.inArray(r.tabPosition, ["top", "bottom"]) >= 0) {
					var m = p - d - _323(c);
					n(i.tabs[i.tabs.length - 1], f + m)
				}
			}
			_324(e)
		}
	}
	function _33c(e) {
		var t = $.data(e, "tabs").options,
		n = _33e(e);
		if (n) {
			var i = $(e).children("div.tabs-panels"),
			r = "auto" == t.width ? "auto" : i.width(),
			a = "auto" == t.height ? "auto" : i.height();
			n.panel("resize", {
				width: r,
				height: a
			})
		}
	}
	function _342(e) {
		$.data(e, "tabs").tabs;
		var t = $(e).addClass("tabs-container"),
		n = $('<div class="tabs-panels"></div>').insertBefore(t);
		t.children("div").each(function () {
			n[0].appendChild(this)
		}),
		t[0].appendChild(n[0]),
		$('<div class="tabs-header"><div class="tabs-scroller-left"></div><div class="tabs-scroller-right"></div><div class="tabs-wrap"><ul class="tabs"></ul></div></div>').prependTo(e),
		t.children("div.tabs-panels").children("div").each(function (t) {
			var n = $.extend({}, $.parser.parseOptions(this), {
					disabled: !!$(this).attr("disabled") || void 0,
					selected: !!$(this).attr("selected") || void 0
				});
			_351(e, n, $(this))
		}),
		t.children("div.tabs-header").find(".tabs-scroller-left, .tabs-scroller-right").hover(function () {
			$(this).addClass("tabs-scroller-over")
		}, function () {
			$(this).removeClass("tabs-scroller-over")
		}),
		t.bind("_resize", function (t, n) {
			return ($(this).hasClass("easyui-fluid") || n) && (_330(e), _33c(e)),
			!1
		})
	}
	function _346(e) {
		function t(e) {
			var t = 0;
			return e.parent().children("li").each(function (n) {
				if (e[0] == this)
					return t = n, !1
			}),
			t
		}
		var n = $.data(e, "tabs"),
		i = n.options;
		$(e).children("div.tabs-header").unbind().bind("click", function (r) {
			if ($(r.target).hasClass("tabs-scroller-left"))
				$(e).tabs("scrollBy", -i.scrollIncrement);
			else {
				if (!$(r.target).hasClass("tabs-scroller-right")) {
					var a = $(r.target).closest("li");
					if (a.hasClass("tabs-disabled"))
						return !1;
					if ($(r.target).closest("a.tabs-close").length)
						_36a(e, t(a));
					else if (a.length) {
						var o = t(a),
						s = n.tabs[o].panel("options");
						s.collapsible ? s.closed ? _361(e, o) : _37e(e, o) : _361(e, o)
					}
					return !1
				}
				$(e).tabs("scrollBy", i.scrollIncrement)
			}
		}).bind("contextmenu", function (n) {
			var r = $(n.target).closest("li");
			r.hasClass("tabs-disabled") || r.length && i.onContextMenu.call(e, n, r.find("span.tabs-title").html(), t(r))
		})
	}
	function _34d(e) {
		var t = $.data(e, "tabs").options,
		n = $(e).children("div.tabs-header"),
		i = $(e).children("div.tabs-panels");
		n.removeClass("tabs-header-top tabs-header-bottom tabs-header-left tabs-header-right"),
		i.removeClass("tabs-panels-top tabs-panels-bottom tabs-panels-left tabs-panels-right"),
		"top" == t.tabPosition ? n.insertBefore(i) : "bottom" == t.tabPosition ? (n.insertAfter(i), n.addClass("tabs-header-bottom"), i.addClass("tabs-panels-top")) : "left" == t.tabPosition ? (n.addClass("tabs-header-left"), i.addClass("tabs-panels-right")) : "right" == t.tabPosition && (n.addClass("tabs-header-right"), i.addClass("tabs-panels-left")),
		1 == t.plain ? n.addClass("tabs-header-plain") : n.removeClass("tabs-header-plain"),
		n.removeClass("tabs-header-narrow").addClass(t.narrow ? "tabs-header-narrow" : "");
		var r = n.find(".tabs");
		r.removeClass("tabs-pill").addClass(t.pill ? "tabs-pill" : ""),
		r.removeClass("tabs-narrow").addClass(t.narrow ? "tabs-narrow" : ""),
		r.removeClass("tabs-justified").addClass(t.justified ? "tabs-justified" : ""),
		1 == t.border ? (n.removeClass("tabs-header-noborder"), i.removeClass("tabs-panels-noborder")) : (n.addClass("tabs-header-noborder"), i.addClass("tabs-panels-noborder")),
		t.doSize = !0
	}
	function _351(e, t, n) {
		t = t || {};
		var i = $.data(e, "tabs"),
		r = i.tabs;
		(void 0 == t.index || t.index > r.length) && (t.index = r.length),
		t.index < 0 && (t.index = 0);
		var a = $(e).children("div.tabs-header").find("ul.tabs"),
		o = $(e).children("div.tabs-panels"),
		s = $('<li><a href="javascript:;" class="tabs-inner"><span class="tabs-title"></span><span class="tabs-icon"></span></a></li>');
		n || (n = $("<div></div>")),
		t.index >= r.length ? (s.appendTo(a), n.appendTo(o), r.push(n)) : (s.insertBefore(a.children("li:eq(" + t.index + ")")), n.insertBefore(o.children("div.panel:eq(" + t.index + ")")), r.splice(t.index, 0, n)),
		n.panel($.extend({}, t, {
				tab: s,
				border: !1,
				noheader: !0,
				closed: !0,
				doSize: !1,
				iconCls: t.icon ? t.icon : void 0,
				onLoad: function () {
					t.onLoad && t.onLoad.call(this, arguments),
					i.options.onLoad.call(e, $(this))
				},
				onBeforeOpen: function () {
					if (t.onBeforeOpen && 0 == t.onBeforeOpen.call(this))
						return !1;
					var n = $(e).tabs("getSelected");
					if (n) {
						if (n[0] == this)
							return _33c(e), !1;
						if ($(e).tabs("unselect", _35c(e, n)), n = $(e).tabs("getSelected"))
							return !1
					}
					var i = $(this).panel("options");
					i.tab.addClass("tabs-selected");
					var r = $(e).find(">div.tabs-header>div.tabs-wrap"),
					a = i.tab.position().left,
					o = a + i.tab.outerWidth();
					if (a < 0 || o > r.width()) {
						var s = a - (r.width() - i.tab.width()) / 2;
						$(e).tabs("scrollBy", s)
					} else
						$(e).tabs("scrollBy", 0);
					var l = $(this).panel("panel");
					l.css("display", "block"),
					_33c(e),
					l.css("display", "none")
				},
				onOpen: function () {
					t.onOpen && t.onOpen.call(this);
					var n = $(this).panel("options");
					i.selectHis.push(n.title),
					i.options.onSelect.call(e, n.title, _35c(e, this))
				},
				onBeforeClose: function () {
					if (t.onBeforeClose && 0 == t.onBeforeClose.call(this))
						return !1;
					$(this).panel("options").tab.removeClass("tabs-selected")
				},
				onClose: function () {
					t.onClose && t.onClose.call(this);
					var n = $(this).panel("options");
					i.options.onUnselect.call(e, n.title, _35c(e, this))
				}
			})),
		$(e).tabs("update", {
			tab: n,
			options: n.panel("options"),
			type: "header"
		})
	}
	function _35d(e, t) {
		var n = $.data(e, "tabs").options;
		void 0 == t.selected && (t.selected = !0),
		_351(e, t),
		n.onAdd.call(e, t.title, t.index),
		t.selected && _361(e, t.index)
	}
	function _362(e, t) {
		t.type = t.type || "all";
		var n = $.data(e, "tabs").selectHis,
		i = t.tab,
		r = i.panel("options"),
		a = r.title;
		if ($.extend(r, t.options, {
				iconCls: t.options.icon ? t.options.icon : void 0
			}), "all" != t.type && "body" != t.type || i.panel(), "all" == t.type || "header" == t.type) {
			var o = r.tab;
			if (r.header)
				o.find(".tabs-inner").html($(r.header));
			else {
				var s = o.find("span.tabs-title"),
				l = o.find("span.tabs-icon");
				if (s.html(r.title), l.attr("class", "tabs-icon"), o.find("a.tabs-close").remove(), r.closable ? (s.addClass("tabs-closable"), $('<a href="javascript:;" class="tabs-close"></a>').appendTo(o)) : s.removeClass("tabs-closable"), r.iconCls ? (s.addClass("tabs-with-icon"), l.addClass(r.iconCls)) : s.removeClass("tabs-with-icon"), r.tools) {
					if (!(c = o.find("span.tabs-p-tool")).length)
						var c = $('<span class="tabs-p-tool"></span>').insertAfter(o.find("a.tabs-inner"));
					if ($.isArray(r.tools)) {
						c.empty();
						for (h = 0; h < r.tools.length; h++) {
							var d = $('<a href="javascript:;"></a>').appendTo(c);
							d.addClass(r.tools[h].iconCls),
							r.tools[h].handler && d.bind("click", {
								handler: r.tools[h].handler
							}, function (e) {
								$(this).parents("li").hasClass("tabs-disabled") || e.data.handler.call(this)
							})
						}
					} else
						$(r.tools).children().appendTo(c);
					var u = 12 * c.children().length;
					r.closable ? (u += 8, c.css("right", "")) : (u -= 3, c.css("right", "5px")),
					s.css("padding-right", u + "px")
				} else
					o.find("span.tabs-p-tool").remove(), s.css("padding-right", "")
			}
			if (a != r.title)
				for (var h = 0; h < n.length; h++)
					n[h] == a && (n[h] = r.title)
		}
		r.disabled ? r.tab.addClass("tabs-disabled") : r.tab.removeClass("tabs-disabled"),
		_330(e),
		$.data(e, "tabs").options.onUpdate.call(e, r.title, _35c(e, i))
	}
	function _36a(e, t) {
		var n = $.data(e, "tabs").options,
		i = $.data(e, "tabs").tabs,
		r = $.data(e, "tabs").selectHis;
		if (_36e(e, t)) {
			var a = _36f(e, t),
			o = a.panel("options").title,
			s = _35c(e, a);
			if (0 != n.onBeforeClose.call(e, o, s)) {
				(a = _36f(e, t, !0)).panel("options").tab.remove(),
				a.panel("destroy"),
				n.onClose.call(e, o, s),
				_330(e);
				for (var l = 0; l < r.length; l++)
					r[l] == o && (r.splice(l, 1), l--);
				var c = r.pop();
				c ? _361(e, c) : i.length && _361(e, 0)
			}
		}
	}
	function _36f(e, t, n) {
		var i = $.data(e, "tabs").tabs,
		r = null;
		if ("number" == typeof t)
			t >= 0 && t < i.length && (r = i[t], n && i.splice(t, 1));
		else {
			for (var a = $("<span></span>"), o = 0; o < i.length; o++) {
				var s = i[o];
				if (a.html(s.panel("options").title), a.text() == t) {
					r = s,
					n && i.splice(o, 1);
					break
				}
			}
			a.remove()
		}
		return r
	}
	function _35c(e, t) {
		for (var n = $.data(e, "tabs").tabs, i = 0; i < n.length; i++)
			if (n[i][0] == $(t)[0])
				return i;
		return -1
	}
	function _33e(e) {
		for (var t = $.data(e, "tabs").tabs, n = 0; n < t.length; n++) {
			var i = t[n];
			if (i.panel("options").tab.hasClass("tabs-selected"))
				return i
		}
		return null
	}
	function _378(e) {
		for (var t = $.data(e, "tabs"), n = t.tabs, i = 0; i < n.length; i++) {
			var r = n[i].panel("options");
			if (r.selected && !r.disabled)
				return void _361(e, i)
		}
		_361(e, t.options.selected)
	}
	function _361(e, t) {
		var n = _36f(e, t);
		n && !n.is(":visible") && (_37d(e), n.panel("options").disabled || n.panel("open"))
	}
	function _37e(e, t) {
		var n = _36f(e, t);
		n && n.is(":visible") && (_37d(e), n.panel("close"))
	}
	function _37d(e) {
		$(e).children("div.tabs-panels").each(function () {
			$(this).stop(!0, !0)
		})
	}
	function _36e(e, t) {
		return null != _36f(e, t)
	}
	function _384(e, t) {
		$.data(e, "tabs").options.showHeader = t,
		$(e).tabs("resize")
	}
	function _387(e, t) {
		var n = $(e).find(">.tabs-header>.tabs-tool");
		t ? n.removeClass("tabs-tool-hidden").show() : n.addClass("tabs-tool-hidden").hide(),
		$(e).tabs("resize").tabs("scrollBy", 0)
	}
	$.fn.tabs = function (e, t) {
		return "string" == typeof e ? $.fn.tabs.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t = $.data(this, "tabs");
				t ? $.extend(t.options, e) : ($.data(this, "tabs", {
						options: $.extend({}, $.fn.tabs.defaults, $.fn.tabs.parseOptions(this), e),
						tabs: [],
						selectHis: []
					}), _342(this)),
				_32c(this),
				_34d(this),
				_330(this),
				_346(this),
				_378(this)
			}))
	},
	$.fn.tabs.methods = {
		options: function (e) {
			var t = e[0],
			n = $.data(t, "tabs").options,
			i = _33e(t);
			return n.selected = i ? _35c(t, i) : -1,
			n
		},
		tabs: function (e) {
			return $.data(e[0], "tabs").tabs
		},
		resize: function (e, t) {
			return e.each(function () {
				_330(this, t),
				_33c(this)
			})
		},
		add: function (e, t) {
			return e.each(function () {
				_35d(this, t)
			})
		},
		close: function (e, t) {
			return e.each(function () {
				_36a(this, t)
			})
		},
		getTab: function (e, t) {
			return _36f(e[0], t)
		},
		getTabIndex: function (e, t) {
			return _35c(e[0], t)
		},
		getSelected: function (e) {
			return _33e(e[0])
		},
		select: function (e, t) {
			return e.each(function () {
				_361(this, t)
			})
		},
		unselect: function (e, t) {
			return e.each(function () {
				_37e(this, t)
			})
		},
		exists: function (e, t) {
			return _36e(e[0], t)
		},
		update: function (e, t) {
			return e.each(function () {
				_362(this, t)
			})
		},
		enableTab: function (e, t) {
			return e.each(function () {
				var e = $(this).tabs("getTab", t).panel("options");
				e.tab.removeClass("tabs-disabled"),
				e.disabled = !1
			})
		},
		disableTab: function (e, t) {
			return e.each(function () {
				var e = $(this).tabs("getTab", t).panel("options");
				e.tab.addClass("tabs-disabled"),
				e.disabled = !0
			})
		},
		showHeader: function (e) {
			return e.each(function () {
				_384(this, !0)
			})
		},
		hideHeader: function (e) {
			return e.each(function () {
				_384(this, !1)
			})
		},
		showTool: function (e) {
			return e.each(function () {
				_387(this, !0)
			})
		},
		hideTool: function (e) {
			return e.each(function () {
				_387(this, !1)
			})
		},
		scrollBy: function (e, t) {
			return e.each(function () {
				var e = $(this).tabs("options"),
				n = $(this).find(">div.tabs-header>div.tabs-wrap"),
				i = Math.min(n._scrollLeft() + t, function () {
						var e = 0,
						t = n.children("ul");
						return t.children("li").each(function () {
							e += $(this).outerWidth(!0)
						}),
						e - n.width() + (t.outerWidth() - t.width())
					}
						());
				n.animate({
					scrollLeft: i
				}, e.scrollDuration)
			})
		}
	},
	$.fn.tabs.parseOptions = function (e) {
		return $.extend({}, $.parser.parseOptions(e, ["tools", "toolPosition", "tabPosition", {
						fit: "boolean",
						border: "boolean",
						plain: "boolean"
					}, {
						headerWidth: "number",
						tabWidth: "number",
						tabHeight: "number",
						selected: "number"
					}, {
						showHeader: "boolean",
						justified: "boolean",
						narrow: "boolean",
						pill: "boolean"
					}
				]))
	},
	$.fn.tabs.defaults = {
		width: "auto",
		height: "auto",
		headerWidth: 150,
		tabWidth: "auto",
		tabHeight: 27,
		selected: 0,
		showHeader: !0,
		plain: !1,
		fit: !1,
		border: !0,
		justified: !1,
		narrow: !1,
		pill: !1,
		tools: null,
		toolPosition: "right",
		tabPosition: "top",
		scrollIncrement: 100,
		scrollDuration: 400,
		onLoad: function (e) {},
		onSelect: function (e, t) {},
		onUnselect: function (e, t) {},
		onBeforeClose: function (e, t) {},
		onClose: function (e, t) {},
		onAdd: function (e, t) {},
		onUpdate: function (e, t) {},
		onContextMenu: function (e, t, n) {}
	}
}
(jQuery), function (e) {
	function t(t, n) {
		function i(e, t) {
			if (e.length && o(e)) {
				var n = e.panel("options");
				e.panel("resize", {
					width: c.width(),
					height: n.height
				});
				var i = e.panel("panel").outerHeight();
				e.panel("move", {
					left: 0,
					top: "n" == t ? 0 : c.height() - i
				}),
				d.height -= i,
				"n" == t && (d.top += i, !n.split && n.border && d.top--),
				!n.split && n.border && d.height++
			}
		}
		function r(e, t) {
			if (e.length && o(e)) {
				var n = e.panel("options");
				e.panel("resize", {
					width: n.width,
					height: d.height
				});
				var i = e.panel("panel").outerWidth();
				e.panel("move", {
					left: "e" == t ? c.width() - i : 0,
					top: d.top
				}),
				d.width -= i,
				"w" == t && (d.left += i, !n.split && n.border && d.left--),
				!n.split && n.border && d.width++
			}
		}
		var a = e.data(t, "layout"),
		s = a.options,
		l = a.panels,
		c = e(t);
		n && e.extend(s, {
			width: n.width,
			height: n.height
		}),
		"body" == t.tagName.toLowerCase() ? c._size("fit") : c._size(s);
		var d = {
			top: 0,
			left: 0,
			width: c.width(),
			height: c.height()
		};
		i(o(l.expandNorth) ? l.expandNorth : l.north, "n"),
		i(o(l.expandSouth) ? l.expandSouth : l.south, "s"),
		r(o(l.expandEast) ? l.expandEast : l.east, "e"),
		r(o(l.expandWest) ? l.expandWest : l.west, "w"),
		l.center.panel("resize", d)
	}
	function n(n) {
		var r = e(n);
		r.addClass("layout");
		var a = r.layout("options"),
		o = a.onAdd;
		a.onAdd = function () {},
		r.find(">div,>form>div").each(function () {
			!function (t) {
				var r = e.fn.layout.parsePanelOptions(t);
				"north,south,east,west,center".indexOf(r.region) >= 0 && i(n, r, t)
			}
			(this)
		}),
		a.onAdd = o,
		r.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>'),
		r.bind("_resize", function (i, r) {
			return (e(this).hasClass("easyui-fluid") || r) && t(n),
			!1
		})
	}
	function i(n, i, a) {
		i.region = i.region || "center";
		var o = e.data(n, "layout").panels,
		s = e(n),
		c = i.region;
		if (!o[c].length) {
			var d = e(a);
			d.length || (d = e("<div></div>").appendTo(s));
			var u = e.extend({}, e.fn.layout.paneldefaults, {
					width: d.length ? parseInt(d[0].style.width) || d.outerWidth() : "auto",
					height: d.length ? parseInt(d[0].style.height) || d.outerHeight() : "auto",
					doSize: !1,
					collapsible: !0,
					onOpen: function () {
						var t = e(this).panel("header").children("div.panel-tool");
						t.children("a.panel-tool-collapse").hide();
						var i = {
							north: "up",
							south: "down",
							east: "right",
							west: "left"
						};
						if (i[c]) {
							var a = "layout-button-" + i[c],
							o = t.children("a." + a);
							o.length || (o = e('<a href="javascript:;"></a>').addClass(a).appendTo(t)).bind("click", {
								dir: c
							}, function (e) {
								return r(n, e.data.dir),
								!1
							}),
							e(this).panel("options").collapsible ? o.show() : o.hide()
						}
					}
				}, i, {
					cls: (i.cls || "") + " layout-panel layout-panel-" + c,
					bodyCls: (i.bodyCls || "") + " layout-body"
				});
			d.panel(u),
			o[c] = d;
			var h = d.panel("panel");
			d.panel("options").split && h.addClass("layout-split-" + c),
			h.resizable(e.extend({}, {
					handles: {
						north: "s",
						south: "n",
						east: "w",
						west: "e"
					}
					[c] || "",
					disabled: !d.panel("options").split,
					onStartResize: function (t) {
						if (l = !0, "north" == c || "south" == c)
							i = e(">div.layout-split-proxy-v", n);
						else
							var i = e(">div.layout-split-proxy-h", n);
						var r = {
							display: "block"
						};
						"north" == c ? (r.top = parseInt(h.css("top")) + h.outerHeight() - i.height(), r.left = parseInt(h.css("left")), r.width = h.outerWidth(), r.height = i.height()) : "south" == c ? (r.top = parseInt(h.css("top")), r.left = parseInt(h.css("left")), r.width = h.outerWidth(), r.height = i.height()) : "east" == c ? (r.top = parseInt(h.css("top")) || 0, r.left = parseInt(h.css("left")) || 0, r.width = i.width(), r.height = h.outerHeight()) : "west" == c && (r.top = parseInt(h.css("top")) || 0, r.left = h.outerWidth() - i.width(), r.width = i.width(), r.height = h.outerHeight()),
						i.css(r),
						e('<div class="layout-mask"></div>').css({
							left: 0,
							top: 0,
							width: s.width(),
							height: s.height()
						}).appendTo(s)
					},
					onResize: function (t) {
						if ("north" == c || "south" == c) {
							(i = e(">div.layout-split-proxy-v", n)).css("top", t.pageY - e(n).offset().top - i.height() / 2)
						} else {
							var i = e(">div.layout-split-proxy-h", n);
							i.css("left", t.pageX - e(n).offset().left - i.width() / 2)
						}
						return !1
					},
					onStopResize: function (e) {
						s.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide(),
						d.panel("resize", e.data),
						t(n),
						l = !1,
						s.find(">div.layout-mask").remove()
					}
				}, i)),
			s.layout("options").onAdd.call(n, c)
		}
	}
	function r(t, n, i) {
		function s() {
			var i = e(t),
			r = c.center.panel("options"),
			a = u.collapsedSize;
			if ("east" == n) {
				var s = d.panel("panel")._outerWidth(),
				l = r.width + s - a;
				return !u.split && u.border || l++, {
					resizeC: {
						width: l
					},
					expand: {
						left: i.width() - s
					},
					expandP: {
						top: r.top,
						left: i.width() - a,
						width: a,
						height: r.height
					},
					collapse: {
						left: i.width(),
						top: r.top,
						height: r.height
					}
				}
			}
			if ("west" == n) {
				var s = d.panel("panel")._outerWidth(),
				l = r.width + s - a;
				return !u.split && u.border || l++, {
					resizeC: {
						width: l,
						left: a - 1
					},
					expand: {
						left: 0
					},
					expandP: {
						left: 0,
						top: r.top,
						width: a,
						height: r.height
					},
					collapse: {
						left: -s,
						top: r.top,
						height: r.height
					}
				}
			}
			if ("north" == n) {
				var h = d.panel("panel")._outerHeight(),
				p = r.height;
				return o(c.expandNorth) || (p += h - a + (u.split || !u.border ? 1 : 0)),
				c.east.add(c.west).add(c.expandEast).add(c.expandWest).panel("resize", {
					top: a - 1,
					height: p
				}), {
					resizeC: {
						top: a - 1,
						height: p
					},
					expand: {
						top: 0
					},
					expandP: {
						top: 0,
						left: 0,
						width: i.width(),
						height: a
					},
					collapse: {
						top: -h,
						width: i.width()
					}
				}
			}
			if ("south" == n) {
				var h = d.panel("panel")._outerHeight(),
				p = r.height;
				return o(c.expandSouth) || (p += h - a + (u.split || !u.border ? 1 : 0)),
				c.east.add(c.west).add(c.expandEast).add(c.expandWest).panel("resize", {
					height: p
				}), {
					resizeC: {
						height: p
					},
					expand: {
						top: i.height() - h
					},
					expandP: {
						top: i.height() - a,
						left: 0,
						width: i.width(),
						height: a
					},
					collapse: {
						top: i.height(),
						width: i.width()
					}
				}
			}
		}
		void 0 == i && (i = "normal");
		var c = e.data(t, "layout").panels,
		d = c[n],
		u = d.panel("options");
		if (0 != u.onBeforeCollapse.call(d)) {
			var h = "expand" + n.substring(0, 1).toUpperCase() + n.substring(1);
			if (!c[h]) {
				c[h] = function (i) {
					var r = "north" == u.region || "south" == u.region,
					o = "layout-button-" + {
						east: "left",
						west: "right",
						north: "down",
						south: "up"
					}
					[i],
					s = e("<div></div>").appendTo(t);
					if (s.panel(e.extend({}, e.fn.layout.paneldefaults, {
								cls: "layout-expand layout-expand-" + i,
								title: "&nbsp;",
								iconCls: u.hideCollapsedContent ? null : u.iconCls,
								closed: !0,
								minWidth: 0,
								minHeight: 0,
								doSize: !1,
								region: u.region,
								collapsedSize: u.collapsedSize,
								noheader: !r && u.hideExpandTool,
								tools: r && u.hideExpandTool ? null : [{
										iconCls: o,
										handler: function () {
											return a(t, n),
											!1
										}
									}
								]
							})), !u.hideCollapsedContent) {
						var l = "function" == typeof u.collapsedContent ? u.collapsedContent.call(s[0], u.title) : u.collapsedContent;
						r ? s.panel("setTitle", l) : s.html(l)
					}
					return s.panel("panel").hover(function () {
						e(this).addClass("layout-expand-over")
					}, function () {
						e(this).removeClass("layout-expand-over")
					}),
					s
				}
				(n);
				var p = c[h].panel("panel");
				u.expandMode ? p.bind("click", function () {
					if ("dock" == u.expandMode)
						a(t, n);
					else {
						d.panel("expand", !1).panel("open");
						var i = s();
						d.panel("resize", i.collapse),
						d.panel("panel").animate(i.expand, function () {
							e(this).unbind(".layout").bind("mouseleave.layout", {
								region: n
							}, function (n) {
								1 != l && (e("body>div.combo-p>div.combo-panel:visible").length || r(t, n.data.region))
							}),
							e(t).layout("options").onExpand.call(t, n)
						})
					}
					return !1
				}) : p.css("cursor", "default")
			}
			var f = s();
			o(c[h]) || c.center.panel("resize", f.resizeC),
			d.panel("panel").animate(f.collapse, i, function () {
				d.panel("collapse", !1).panel("close"),
				c[h].panel("open").panel("resize", f.expandP),
				e(this).unbind(".layout"),
				e(t).layout("options").onCollapse.call(t, n)
			})
		}
	}
	function a(n, i) {
		var r = e.data(n, "layout").panels,
		a = r[i];
		if (0 != a.panel("options").onBeforeExpand.call(a)) {
			var o = "expand" + i.substring(0, 1).toUpperCase() + i.substring(1);
			if (r[o]) {
				r[o].panel("close"),
				a.panel("panel").stop(!0, !0),
				a.panel("expand", !1).panel("open");
				var s = function () {
					var t = e(n),
					o = r.center.panel("options");
					return "east" == i && r.expandEast ? {
						collapse: {
							left: t.width(),
							top: o.top,
							height: o.height
						},
						expand: {
							left: t.width() - a.panel("panel")._outerWidth()
						}
					}
					 : "west" == i && r.expandWest ? {
						collapse: {
							left: -a.panel("panel")._outerWidth(),
							top: o.top,
							height: o.height
						},
						expand: {
							left: 0
						}
					}
					 : "north" == i && r.expandNorth ? {
						collapse: {
							top: -a.panel("panel")._outerHeight(),
							width: t.width()
						},
						expand: {
							top: 0
						}
					}
					 : "south" == i && r.expandSouth ? {
						collapse: {
							top: t.height(),
							width: t.width()
						},
						expand: {
							top: t.height() - a.panel("panel")._outerHeight()
						}
					}
					 : void 0
				}
				();
				a.panel("resize", s.collapse),
				a.panel("panel").animate(s.expand, function () {
					t(n),
					e(n).layout("options").onExpand.call(n, i)
				})
			}
		}
	}
	function o(e) {
		return !!e && (!!e.length && e.panel("panel").is(":visible"))
	}
	function s(n, i, r) {
		var a = e(n).layout("panel", i);
		a.panel("options").split = r;
		var o = "layout-split-" + i,
		s = a.panel("panel").removeClass(o);
		r && s.addClass(o),
		s.resizable({
			disabled: !r
		}),
		t(n)
	}
	var l = !1;
	e.fn.layout = function (i, a) {
		return "string" == typeof i ? e.fn.layout.methods[i](this, a) : (i = i || {}, this.each(function () {
				var a = e.data(this, "layout");
				if (a)
					e.extend(a.options, i);
				else {
					var o = e.extend({}, e.fn.layout.defaults, e.fn.layout.parseOptions(this), i);
					e.data(this, "layout", {
						options: o,
						panels: {
							center: e(),
							north: e(),
							south: e(),
							east: e(),
							west: e()
						}
					}),
					n(this)
				}
				t(this),
				function (t) {
					function n(e) {
						var n = o[e];
						n.length && n.panel("options").collapsed && r(t, e, 0)
					}
					var i = e.data(t, "layout"),
					a = i.options,
					o = i.panels,
					s = a.onCollapse;
					a.onCollapse = function () {},
					n("east"),
					n("west"),
					n("north"),
					n("south"),
					a.onCollapse = s
				}
				(this)
			}))
	},
	e.fn.layout.methods = {
		options: function (t) {
			return e.data(t[0], "layout").options
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		panel: function (t, n) {
			return e.data(t[0], "layout").panels[n]
		},
		collapse: function (e, t) {
			return e.each(function () {
				r(this, t)
			})
		},
		expand: function (e, t) {
			return e.each(function () {
				a(this, t)
			})
		},
		add: function (n, a) {
			return n.each(function () {
				i(this, a),
				t(this),
				e(this).layout("panel", a.region).panel("options").collapsed && r(this, a.region, 0)
			})
		},
		remove: function (n, i) {
			return n.each(function () {
				!function (t, n) {
					var i = e.data(t, "layout").panels;
					if (i[n].length) {
						i[n].panel("destroy"),
						i[n] = e();
						var r = "expand" + n.substring(0, 1).toUpperCase() + n.substring(1);
						i[r] && (i[r].panel("destroy"), i[r] = void 0),
						e(t).layout("options").onRemove.call(t, n)
					}
				}
				(this, i),
				t(this)
			})
		},
		split: function (e, t) {
			return e.each(function () {
				s(this, t, !0)
			})
		},
		unsplit: function (e, t) {
			return e.each(function () {
				s(this, t, !1)
			})
		}
	},
	e.fn.layout.parseOptions = function (t) {
		return e.extend({}, e.parser.parseOptions(t, [{
						fit: "boolean"
					}
				]))
	},
	e.fn.layout.defaults = {
		fit: !1,
		onExpand: function (e) {},
		onCollapse: function (e) {},
		onAdd: function (e) {},
		onRemove: function (e) {}
	},
	e.fn.layout.parsePanelOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.panel.parseOptions(t), e.parser.parseOptions(t, ["region", {
						split: "boolean",
						collpasedSize: "number",
						minWidth: "number",
						minHeight: "number",
						maxWidth: "number",
						maxHeight: "number"
					}
				]))
	},
	e.fn.layout.paneldefaults = e.extend({}, e.fn.panel.defaults, {
			region: null,
			split: !1,
			collapsedSize: 28,
			expandMode: "float",
			hideExpandTool: !1,
			hideCollapsedContent: !0,
			collapsedContent: function (t) {
				var n = e(this).panel("options");
				if ("north" == n.region || "south" == n.region)
					return t;
				var i = n.collapsedSize - 2,
				r = (i - 16) / 2;
				r = i - r;
				var a = [];
				return n.iconCls && a.push('<div class="panel-icon ' + n.iconCls + '"></div>'),
				a.push('<div class="panel-title layout-expand-title'),
				a.push(n.iconCls ? " layout-expand-with-icon" : ""),
				a.push('" style="left:' + r + 'px">'),
				a.push(t),
				a.push("</div>"),
				a.join("")
			},
			minWidth: 10,
			minHeight: 10,
			maxWidth: 1e4,
			maxHeight: 1e4
		})
}
(jQuery), function ($) {
	function init(e) {
		function t(e) {
			var n = [];
			return e.addClass("menu"),
			n.push(e),
			e.hasClass("menu-content") || e.children("div").each(function () {
				var e = $(this).children("div");
				if (e.length) {
					e.appendTo("body"),
					this.submenu = e;
					var i = t(e);
					n = n.concat(i)
				}
			}),
			n
		}
		var n = $.data(e, "menu").options;
		$(e).addClass("menu-top"),
		n.inline ? $(e).addClass("menu-inline") : $(e).appendTo("body"),
		$(e).bind("_resize", function (t, n) {
			return ($(this).hasClass("easyui-fluid") || n) && $(e).menu("resize", e),
			!1
		});
		for (var i = t($(e)), r = 0; r < i.length; r++)
			_40b(e, i[r])
	}
	function _40b(e, t) {
		var n = $(t).addClass("menu");
		n.data("menu") || n.data("menu", {
			options: $.parser.parseOptions(n[0], ["width", "height"])
		}),
		n.hasClass("menu-content") || (n.children("div").each(function () {
				_40d(e, this)
			}), $('<div class="menu-line"></div>').prependTo(n)),
		_40e(e, n),
		n.hasClass("menu-inline") || n.hide(),
		_40f(e, n)
	}
	function _40d(_410, div, _411) {
		var item = $(div),
		_412 = $.extend({}, $.parser.parseOptions(item[0], ["id", "name", "iconCls", "href", {
							separator: "boolean"
						}
					]), {
				disabled: !!item.attr("disabled") || void 0,
				text: $.trim(item.html()),
				onclick: item[0].onclick
			}, _411 || {});
		_412.onclick = _412.onclick || _412.handler || null,
		item.data("menuitem", {
			options: _412
		}),
		_412.separator && item.addClass("menu-sep"),
		item.hasClass("menu-sep") || (item.addClass("menu-item"), item.empty().append($('<div class="menu-text"></div>').html(_412.text)), _412.iconCls && $('<div class="menu-icon"></div>').addClass(_412.iconCls).appendTo(item), _412.id && item.attr("id", _412.id), _412.onclick && ("string" == typeof _412.onclick ? item.attr("onclick", _412.onclick) : item[0].onclick = eval(_412.onclick)), _412.disabled && _413(_410, item[0], !0), item[0].submenu && $('<div class="menu-rightarrow"></div>').appendTo(item))
	}
	function _40e(e, t) {
		var n = $.data(e, "menu").options,
		i = t.attr("style") || "",
		r = t.is(":visible");
		t.css({
			display: "block",
			left: -1e4,
			height: "auto",
			overflow: "hidden"
		}),
		t.find(".menu-item").each(function () {
			$(this)._outerHeight(n.itemHeight),
			$(this).find(".menu-text").css({
				height: n.itemHeight - 2 + "px",
				lineHeight: n.itemHeight - 2 + "px"
			})
		}),
		t.removeClass("menu-noline").addClass(n.noline ? "menu-noline" : "");
		var a = t.data("menu").options,
		o = a.width,
		s = a.height;
		isNaN(parseInt(o)) && (o = 0, t.find("div.menu-text").each(function () {
				o < $(this).outerWidth() && (o = $(this).outerWidth())
			}), o = o ? o + 40 : "");
		var l = t.outerHeight();
		if (isNaN(parseInt(s)))
			if (s = l, t.hasClass("menu-top") && n.alignTo) {
				var c = $(n.alignTo),
				d = c.offset().top - $(document).scrollTop(),
				u = $(window)._outerHeight() + $(document).scrollTop() - c.offset().top - c._outerHeight();
				s = Math.min(s, Math.max(d, u))
			} else
				s > $(window)._outerHeight() && (s = $(window).height());
		t.attr("style", i),
		t.show(),
		t._size($.extend({}, a, {
				width: o,
				height: s,
				minWidth: a.minWidth || n.minWidth,
				maxWidth: a.maxWidth || n.maxWidth
			})),
		t.find(".easyui-fluid").triggerHandler("_resize", [!0]),
		t.css("overflow", t.outerHeight() < l ? "auto" : "hidden"),
		t.children("div.menu-line")._outerHeight(l - 2),
		r || t.hide()
	}
	function _40f(e, t) {
		var n = $.data(e, "menu").options;
		t.unbind(".menu");
		for (var i in n.events)
			t.bind(i + ".menu", {
				target: e
			}, n.events[i])
	}
	function _41e(e) {
		var t = e.data.target,
		n = $.data(t, "menu");
		n.timer && (clearTimeout(n.timer), n.timer = null)
	}
	function _421(e) {
		var t = e.data.target,
		n = $.data(t, "menu");
		n.options.hideOnUnhover && (n.timer = setTimeout(function () {
					_424(t, $(t).hasClass("menu-inline"))
				}, n.options.duration))
	}
	function _425(e) {
		var t = e.data.target,
		n = $(e.target).closest(".menu-item");
		if (n.length) {
			if (n.siblings().each(function () {
					this.submenu && _404(this.submenu),
					$(this).removeClass("menu-active")
				}), n.addClass("menu-active"), n.hasClass("menu-item-disabled"))
				return void n.addClass("menu-active-disabled");
			var i = n[0].submenu;
			i && $(t).menu("show", {
				menu: i,
				parent: n
			})
		}
	}
	function _428(e) {
		var t = $(e.target).closest(".menu-item");
		if (t.length) {
			t.removeClass("menu-active menu-active-disabled");
			var n = t[0].submenu;
			n ? e.pageX >= parseInt(n.css("left")) ? t.addClass("menu-active") : _404(n) : t.removeClass("menu-active")
		}
	}
	function _42a(e) {
		var t = e.data.target,
		n = $(e.target).closest(".menu-item");
		if (n.length) {
			var i = $(t).data("menu").options,
			r = n.data("menuitem").options;
			if (r.disabled)
				return;
			n[0].submenu || (_424(t, i.inline), r.href && (location.href = r.href)),
			n.trigger("mouseenter"),
			i.onClick.call(t, $(t).menu("getItem", n[0]))
		}
	}
	function _424(e, t) {
		var n = $.data(e, "menu");
		return n && $(e).is(":visible") && (_404($(e)), t ? $(e).show() : n.options.onHide.call(e)),
		!1
	}
	function _430(e, t) {
		function n(e, t) {
			return e + o.outerHeight() > $(window)._outerHeight() + $(document).scrollTop() && (e = t ? $(t).offset().top - o._outerHeight() : $(window)._outerHeight() + $(document).scrollTop() - o.outerHeight()),
			e < 0 && (e = 0),
			e
		}
		t = t || {};
		var i,
		r,
		a = $.data(e, "menu").options,
		o = $(t.menu || e);
		if ($(e).menu("resize", o[0]), o.hasClass("menu-top")) {
			if ($.extend(a, t), i = a.left, r = a.top, a.alignTo) {
				var s = $(a.alignTo);
				i = s.offset().left,
				r = s.offset().top + s._outerHeight(),
				"right" == a.align && (i += s.outerWidth() - o.outerWidth())
			}
			i + o.outerWidth() > $(window)._outerWidth() + $(document)._scrollLeft() && (i = $(window)._outerWidth() + $(document).scrollLeft() - o.outerWidth() - 5),
			i < 0 && (i = 0),
			r = n(r, a.alignTo)
		} else {
			var l = t.parent;
			(i = l.offset().left + l.outerWidth() - 2) + o.outerWidth() + 5 > $(window)._outerWidth() + $(document).scrollLeft() && (i = l.offset().left - o.outerWidth() + 2),
			r = n(l.offset().top - 3)
		}
		o.css(a.position.call(e, o[0], i, r)),
		o.show(0, function () {
			o[0].shadow || (o[0].shadow = $('<div class="menu-shadow"></div>').insertAfter(o)),
			o[0].shadow.css({
				display: o.hasClass("menu-inline") ? "none" : "block",
				zIndex: $.fn.menu.defaults.zIndex++,
				left: o.css("left"),
				top: o.css("top"),
				width: o.outerWidth(),
				height: o.outerHeight()
			}),
			o.css("z-index", $.fn.menu.defaults.zIndex++),
			o.hasClass("menu-top") && a.onShow.call(e)
		})
	}
	function _404(e) {
		e && e.length && (!function (e) {
			e.stop(!0, !0),
			e[0].shadow && e[0].shadow.hide(),
			e.hide()
		}
			(e), e.find("div.menu-item").each(function () {
				this.submenu && _404(this.submenu),
				$(this).removeClass("menu-active")
			}))
	}
	function _437(e, t) {
		function n(a) {
			a.children("div.menu-item").each(function () {
				var a = $(e).menu("getItem", this),
				o = r.empty().html(a.text).text();
				t == $.trim(o) ? i = a : this.submenu && !i && n(this.submenu)
			})
		}
		var i = null,
		r = $("<div></div>");
		return n($(e)),
		r.remove(),
		i
	}
	function _413(e, t, n) {
		var i = $(t);
		if (i.hasClass("menu-item")) {
			var r = i.data("menuitem").options;
			r.disabled = n,
			n ? (i.addClass("menu-item-disabled"), i[0].onclick = null) : (i.removeClass("menu-item-disabled"), i[0].onclick = r.onclick)
		}
	}
	function _43d(e, t) {
		$.data(e, "menu").options;
		var n = $(e);
		if (t.parent) {
			if (!t.parent.submenu) {
				var i = $("<div></div>").appendTo("body");
				t.parent.submenu = i,
				$('<div class="menu-rightarrow"></div>').appendTo(t.parent),
				_40b(e, i)
			}
			n = t.parent.submenu
		}
		_40d(e, $("<div></div>").appendTo(n), t)
	}
	function _441(e, t) {
		function n(e) {
			if (e.submenu) {
				e.submenu.children("div.menu-item").each(function () {
					n(this)
				});
				var t = e.submenu[0].shadow;
				t && t.remove(),
				e.submenu.remove()
			}
			$(e).remove()
		}
		n(t)
	}
	function _446(e, t, n) {
		var i = $(t).parent();
		n ? $(t).show() : $(t).hide(),
		_40e(e, i)
	}
	function _44a(e) {
		$(e).children("div.menu-item").each(function () {
			_441(0, this)
		}),
		e.shadow && e.shadow.remove(),
		$(e).remove()
	}
	$(function () {
		$(document).unbind(".menu").bind("mousedown.menu", function (e) {
			$(e.target).closest("div.menu,div.combo-p").length || ($("body>div.menu-top:visible").not(".menu-inline").menu("hide"), _404($("body>div.menu:visible").not(".menu-inline")))
		})
	}),
	$.fn.menu = function (e, t) {
		return "string" == typeof e ? $.fn.menu.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t = $.data(this, "menu");
				t ? $.extend(t.options, e) : (t = $.data(this, "menu", {
							options: $.extend({}, $.fn.menu.defaults, $.fn.menu.parseOptions(this), e)
						}), init(this)),
				$(this).css({
					left: t.options.left,
					top: t.options.top
				})
			}))
	},
	$.fn.menu.methods = {
		options: function (e) {
			return $.data(e[0], "menu").options
		},
		show: function (e, t) {
			return e.each(function () {
				_430(this, t)
			})
		},
		hide: function (e) {
			return e.each(function () {
				_424(this)
			})
		},
		destroy: function (e) {
			return e.each(function () {
				_44a(this)
			})
		},
		setText: function (e, t) {
			return e.each(function () {
				$(t.target).data("menuitem").options.text = t.text,
				$(t.target).children("div.menu-text").html(t.text)
			})
		},
		setIcon: function (e, t) {
			return e.each(function () {
				$(t.target).data("menuitem").options.iconCls = t.iconCls,
				$(t.target).children("div.menu-icon").remove(),
				t.iconCls && $('<div class="menu-icon"></div>').addClass(t.iconCls).appendTo(t.target)
			})
		},
		getItem: function (e, t) {
			var n = $(t).data("menuitem").options;
			return $.extend({}, n, {
				target: $(t)[0]
			})
		},
		findItem: function (e, t) {
			return _437(e[0], t)
		},
		appendItem: function (e, t) {
			return e.each(function () {
				_43d(this, t)
			})
		},
		removeItem: function (e, t) {
			return e.each(function () {
				_441(0, t)
			})
		},
		enableItem: function (e, t) {
			return e.each(function () {
				_413(0, t, !1)
			})
		},
		disableItem: function (e, t) {
			return e.each(function () {
				_413(0, t, !0)
			})
		},
		showItem: function (e, t) {
			return e.each(function () {
				_446(this, t, !0)
			})
		},
		hideItem: function (e, t) {
			return e.each(function () {
				_446(this, t, !1)
			})
		},
		resize: function (e, t) {
			return e.each(function () {
				_40e(this, $(t ? t : this))
			})
		}
	},
	$.fn.menu.parseOptions = function (e) {
		return $.extend({}, $.parser.parseOptions(e, [{
						minWidth: "number",
						itemHeight: "number",
						duration: "number",
						hideOnUnhover: "boolean"
					}, {
						fit: "boolean",
						inline: "boolean",
						noline: "boolean"
					}
				]))
	},
	$.fn.menu.defaults = {
		zIndex: 11e4,
		left: 0,
		top: 0,
		alignTo: null,
		align: "left",
		minWidth: 120,
		itemHeight: 22,
		duration: 100,
		hideOnUnhover: !0,
		inline: !1,
		fit: !1,
		noline: !1,
		events: {
			mouseenter: _41e,
			mouseleave: _421,
			mouseover: _425,
			mouseout: _428,
			click: _42a
		},
		position: function (e, t, n) {
			return {
				left: t,
				top: n
			}
		},
		onShow: function () {},
		onHide: function () {},
		onClick: function (e) {}
	}
}
(jQuery), function (e) {
	function t(t) {
		var n = e(t).menubutton("options");
		if (!n.disabled && n.menu) {
			e("body>div.menu-top").menu("hide");
			var i = e(t),
			r = e(n.menu);
			r.length && (r.menu("options").alignTo = i, r.menu("show", {
					alignTo: i,
					align: n.menuAlign
				})),
			i.blur()
		}
	}
	e.fn.menubutton = function (n, i) {
		if ("string" == typeof n) {
			var r = e.fn.menubutton.methods[n];
			return r ? r(this, i) : this.linkbutton(n, i)
		}
		return n = n || {},
		this.each(function () {
			var i = e.data(this, "menubutton");
			i ? e.extend(i.options, n) : (e.data(this, "menubutton", {
					options: e.extend({}, e.fn.menubutton.defaults, e.fn.menubutton.parseOptions(this), n)
				}), e(this).removeAttr("disabled")),
			function (t) {
				var n = e.data(t, "menubutton").options,
				i = e(t);
				if (i.linkbutton(n), n.hasDownArrow) {
					i.removeClass(n.cls.btn1 + " " + n.cls.btn2).addClass("m-btn"),
					i.removeClass("m-btn-small m-btn-medium m-btn-large").addClass("m-btn-" + n.size);
					var r = i.find(".l-btn-left");
					e("<span></span>").addClass(n.cls.arrow).appendTo(r),
					e("<span></span>").addClass("m-btn-line").appendTo(r)
				}
				if (e(t).menubutton("resize"), n.menu) {
					e(n.menu).menu({
						duration: n.duration
					});
					var a = e(n.menu).menu("options"),
					o = a.onShow,
					s = a.onHide;
					e.extend(a, {
						onShow: function () {
							var t = e(this).menu("options"),
							n = e(t.alignTo),
							i = n.menubutton("options");
							n.addClass(1 == i.plain ? i.cls.btn2 : i.cls.btn1),
							o.call(this)
						},
						onHide: function () {
							var t = e(this).menu("options"),
							n = e(t.alignTo),
							i = n.menubutton("options");
							n.removeClass(1 == i.plain ? i.cls.btn2 : i.cls.btn1),
							s.call(this)
						}
					})
				}
			}
			(this),
			function (n) {
				function i() {
					return e(n).linkbutton("options").disabled
				}
				var r = e.data(n, "menubutton").options,
				a = e(n),
				o = a.find("." + r.cls.trigger);
				o.length || (o = a),
				o.unbind(".menubutton");
				var s = null;
				o.bind("click.menubutton", function () {
					if (!i())
						return t(n), !1
				}).bind("mouseenter.menubutton", function () {
					if (!i())
						return s = setTimeout(function () {
								t(n)
							}, r.duration), !1
				}).bind("mouseleave.menubutton", function () {
					s && clearTimeout(s),
					e(r.menu).triggerHandler("mouseleave")
				})
			}
			(this)
		})
	},
	e.fn.menubutton.methods = {
		options: function (t) {
			var n = t.linkbutton("options");
			return e.extend(e.data(t[0], "menubutton").options, {
				toggle: n.toggle,
				selected: n.selected,
				disabled: n.disabled
			})
		},
		destroy: function (t) {
			return t.each(function () {
				var t = e(this).menubutton("options");
				t.menu && e(t.menu).menu("destroy"),
				e(this).remove()
			})
		}
	},
	e.fn.menubutton.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.linkbutton.parseOptions(t), e.parser.parseOptions(t, ["menu", {
						plain: "boolean",
						hasDownArrow: "boolean",
						duration: "number"
					}
				]))
	},
	e.fn.menubutton.defaults = e.extend({}, e.fn.linkbutton.defaults, {
			plain: !0,
			hasDownArrow: !0,
			menu: null,
			menuAlign: "left",
			duration: 100,
			cls: {
				btn1: "m-btn-active",
				btn2: "m-btn-plain-active",
				arrow: "m-btn-downarrow",
				trigger: "m-btn"
			}
		})
}
(jQuery), function (e) {
	e.fn.splitbutton = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.splitbutton.methods[t];
			return i ? i(this, n) : this.menubutton(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "splitbutton");
			n ? e.extend(n.options, t) : (e.data(this, "splitbutton", {
					options: e.extend({}, e.fn.splitbutton.defaults, e.fn.splitbutton.parseOptions(this), t)
				}), e(this).removeAttr("disabled")),
			function (t) {
				var n = e.data(t, "splitbutton").options;
				e(t).menubutton(n),
				e(t).addClass("s-btn")
			}
			(this)
		})
	},
	e.fn.splitbutton.methods = {
		options: function (t) {
			var n = t.menubutton("options"),
			i = e.data(t[0], "splitbutton").options;
			return e.extend(i, {
				disabled: n.disabled,
				toggle: n.toggle,
				selected: n.selected
			}),
			i
		}
	},
	e.fn.splitbutton.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.linkbutton.parseOptions(t), e.parser.parseOptions(t, ["menu", {
						plain: "boolean",
						duration: "number"
					}
				]))
	},
	e.fn.splitbutton.defaults = e.extend({}, e.fn.linkbutton.defaults, {
			plain: !0,
			menu: null,
			duration: 100,
			cls: {
				btn1: "m-btn-active s-btn-active",
				btn2: "m-btn-plain-active s-btn-plain-active",
				arrow: "m-btn-downarrow",
				trigger: "m-btn-line"
			}
		})
}
(jQuery), function (e) {
	function t(t, i) {
		var r = e.data(t, "switchbutton"),
		a = r.options,
		o = r.switchbutton;
		i && e.extend(a, i);
		var s = o.is(":visible");
		s || o.appendTo("body"),
		o._size(a);
		var l = o.width(),
		c = o.height(),
		l = o.outerWidth(),
		c = o.outerHeight(),
		d = parseInt(a.handleWidth) || o.height(),
		u = 2 * l - d;
		o.find(".switchbutton-inner").css({
			width: u + "px",
			height: c + "px",
			lineHeight: c + "px"
		}),
		o.find(".switchbutton-handle")._outerWidth(d)._outerHeight(c).css({
			marginLeft: -d / 2 + "px"
		}),
		o.find(".switchbutton-on").css({
			width: l - d / 2 + "px",
			textIndent: (a.reversed ? "" : "-") + d / 2 + "px"
		}),
		o.find(".switchbutton-off").css({
			width: l - d / 2 + "px",
			textIndent: (a.reversed ? "-" : "") + d / 2 + "px"
		}),
		a.marginWidth = l - d,
		n(t, a.checked, !1),
		s || o.insertAfter(t)
	}
	function n(t, n, i) {
		var r = e.data(t, "switchbutton"),
		a = r.options;
		a.checked = n;
		var o = r.switchbutton.find(".switchbutton-inner"),
		s = o.find(".switchbutton-on"),
		l = a.reversed ? a.checked ? a.marginWidth : 0 : a.checked ? 0 : a.marginWidth,
		c = {};
		c["margin-" + s.css("float").toLowerCase()] = -l + "px",
		i ? o.animate(c, 200) : o.css(c);
		var d = o.find(".switchbutton-value"),
		u = d.is(":checked");
		e(t).add(d)._propAttr("checked", a.checked),
		u != a.checked && a.onChange.call(t, a.checked)
	}
	function i(t, n) {
		var i = e.data(t, "switchbutton"),
		r = i.options,
		a = i.switchbutton,
		o = a.find(".switchbutton-value");
		n ? (r.disabled = !0, e(t).add(o).attr("disabled", "disabled"), a.addClass("switchbutton-disabled")) : (r.disabled = !1, e(t).add(o).removeAttr("disabled"), a.removeClass("switchbutton-disabled"))
	}
	function r(t, n) {
		var i = e.data(t, "switchbutton"),
		r = i.options;
		r.readonly = void 0 == n || n,
		i.switchbutton.removeClass("switchbutton-readonly").addClass(r.readonly ? "switchbutton-readonly" : "")
	}
	e.fn.switchbutton = function (i, a) {
		return "string" == typeof i ? e.fn.switchbutton.methods[i](this, a) : (i = i || {}, this.each(function () {
				var a = e.data(this, "switchbutton");
				a ? e.extend(a.options, i) : a = e.data(this, "switchbutton", {
						options: e.extend({}, e.fn.switchbutton.defaults, e.fn.switchbutton.parseOptions(this), i),
						switchbutton: function (n) {
							var i = e('<span class="switchbutton"><span class="switchbutton-inner"><span class="switchbutton-on"></span><span class="switchbutton-handle"></span><span class="switchbutton-off"></span><input class="switchbutton-value" type="checkbox"></span></span>').insertAfter(n),
							r = e(n);
							r.addClass("switchbutton-f").hide();
							var a = r.attr("name");
							return a && (r.removeAttr("name").attr("switchbuttonName", a), i.find(".switchbutton-value").attr("name", a)),
							i.bind("_resize", function (i, r) {
								return (e(this).hasClass("easyui-fluid") || r) && t(n),
								!1
							}),
							i
						}
						(this)
					}),
				a.options.originalChecked = a.options.checked,
				function (t) {
					var i = e.data(t, "switchbutton"),
					a = i.options,
					o = i.switchbutton,
					s = o.find(".switchbutton-inner"),
					l = s.find(".switchbutton-on").html(a.onText),
					c = s.find(".switchbutton-off").html(a.offText),
					d = s.find(".switchbutton-handle").html(a.handleText);
					a.reversed ? (c.prependTo(s), l.insertAfter(d)) : (l.prependTo(s), c.insertAfter(d)),
					o.find(".switchbutton-value")._propAttr("checked", a.checked),
					o.removeClass("switchbutton-disabled").addClass(a.disabled ? "switchbutton-disabled" : ""),
					o.removeClass("switchbutton-reversed").addClass(a.reversed ? "switchbutton-reversed" : ""),
					n(t, a.checked),
					r(t, a.readonly),
					e(t).switchbutton("setValue", a.value)
				}
				(this),
				t(this),
				function (t) {
					var i = e.data(t, "switchbutton"),
					r = i.options;
					i.switchbutton.unbind(".switchbutton").bind("click.switchbutton", function () {
						r.disabled || r.readonly || n(t, !r.checked, !0)
					})
				}
				(this)
			}))
	},
	e.fn.switchbutton.methods = {
		options: function (t) {
			var n = t.data("switchbutton");
			return e.extend(n.options, {
				value: n.switchbutton.find(".switchbutton-value").val()
			})
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		enable: function (e) {
			return e.each(function () {
				i(this, !1)
			})
		},
		disable: function (e) {
			return e.each(function () {
				i(this, !0)
			})
		},
		readonly: function (e, t) {
			return e.each(function () {
				r(this, t)
			})
		},
		check: function (e) {
			return e.each(function () {
				n(this, !0)
			})
		},
		uncheck: function (e) {
			return e.each(function () {
				n(this, !1)
			})
		},
		clear: function (e) {
			return e.each(function () {
				n(this, !1)
			})
		},
		reset: function (t) {
			return t.each(function () {
				n(this, e(this).switchbutton("options").originalChecked)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				e(this).val(n),
				e.data(this, "switchbutton").switchbutton.find(".switchbutton-value").val(n)
			})
		}
	},
	e.fn.switchbutton.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.parser.parseOptions(t, ["onText", "offText", "handleText", {
						handleWidth: "number",
						reversed: "boolean"
					}
				]), {
			value: n.val() || void 0,
			checked: !!n.attr("checked") || void 0,
			disabled: !!n.attr("disabled") || void 0,
			readonly: !!n.attr("readonly") || void 0
		})
	},
	e.fn.switchbutton.defaults = {
		handleWidth: "auto",
		width: 60,
		height: 26,
		checked: !1,
		disabled: !1,
		readonly: !1,
		reversed: !1,
		onText: "ON",
		offText: "OFF",
		handleText: "",
		value: "on",
		onChange: function (e) {}
	}
}
(jQuery), function ($) {
	function init(e) {
		$(e).addClass("validatebox-text")
	}
	function _4a5(e) {
		var t = $.data(e, "validatebox");
		t.validating = !1,
		t.timer && clearTimeout(t.timer),
		$(e).tooltip("destroy"),
		$(e).unbind(),
		$(e).remove()
	}
	function _4a8(e) {
		var t = $.data(e, "validatebox").options;
		if ($(e).unbind(".validatebox"), !t.novalidate && !t.disabled)
			for (var n in t.events)
				$(e).bind(n + ".validatebox", {
					target: e
				}, t.events[n])
	}
	function _4ab(e) {
		var t = e.data.target,
		n = $.data(t, "validatebox"),
		i = n.options;
		$(t).attr("readonly") || (n.validating = !0, n.value = i.val(t), function () {
			if ($(t).is(":visible") || (n.validating = !1), n.validating) {
				var e = i.val(t);
				n.value != e ? (n.value = e, n.timer && clearTimeout(n.timer), n.timer = setTimeout(function () {
							$(t).validatebox("validate")
						}, i.delay)) : n.message && i.err(t, n.message),
				setTimeout(arguments.callee, i.interval)
			}
		}
			())
	}
	function _4af(e) {
		var t = e.data.target,
		n = $.data(t, "validatebox"),
		i = n.options;
		n.validating = !1,
		n.timer && (clearTimeout(n.timer), n.timer = void 0),
		i.validateOnBlur && $(t).validatebox("validate"),
		i.err(t, n.message, "hide")
	}
	function _4b2(e) {
		var t = e.data.target,
		n = $.data(t, "validatebox");
		n.options.err(t, n.message, "show")
	}
	function _4b5(e) {
		var t = e.data.target,
		n = $.data(t, "validatebox");
		n.validating || n.options.err(t, n.message, "hide")
	}
	function _4b8(e, t, n) {
		var i = $.data(e, "validatebox"),
		r = i.options,
		a = $(e);
		"hide" != n && t ? (a.is(":focus") && i.validating || "show" == n) && a.tooltip($.extend({}, r.tipOptions, {
				content: t,
				position: r.tipPosition,
				deltaX: r.deltaX,
				deltaY: r.deltaY
			})).tooltip("show") : a.tooltip("hide")
	}
	function _4bd(_4be) {
		function _4c2(e) {
			_4bf.message = e
		}
		function _4c3(_4c4, _4c5) {
			var _4c6 = opts.val(_4be),
			_4c7 = /([a-zA-Z_]+)(.*)/.exec(_4c4),
			rule = opts.rules[_4c7[1]];
			if (rule && _4c6) {
				var _4c8 = _4c5 || opts.validParams || eval(_4c7[2]);
				if (!rule.validator.call(_4be, _4c6, _4c8)) {
					var _4c9 = rule.message;
					if (_4c8)
						for (var i = 0; i < _4c8.length; i++)
							_4c9 = _4c9.replace(new RegExp("\\{" + i + "\\}", "g"), _4c8[i]);
					return _4c2(opts.invalidMessage || _4c9),
					!1
				}
			}
			return !0
		}
		function _4c1() {
			if (_4c2(""), !opts._validateOnCreate)
				return setTimeout(function () {
					opts._validateOnCreate = !0
				}, 0), !0;
			if (opts.novalidate || opts.disabled)
				return !0;
			if (opts.required && "" == opts.val(_4be))
				return _4c2(opts.missingMessage), !1;
			if (opts.validType)
				if ($.isArray(opts.validType)) {
					for (var e = 0; e < opts.validType.length; e++)
						if (!_4c3(opts.validType[e]))
							return !1
				} else if ("string" == typeof opts.validType) {
					if (!_4c3(opts.validType))
						return !1
				} else
					for (var t in opts.validType) {
						if (!_4c3(t, opts.validType[t]))
							return !1
					}
			return !0
		}
		var _4bf = $.data(_4be, "validatebox"),
		opts = _4bf.options,
		box = $(_4be);
		opts.onBeforeValidate.call(_4be);
		var _4c0 = _4c1();
		return _4c0 ? box.removeClass("validatebox-invalid") : box.addClass("validatebox-invalid"),
		opts.err(_4be, _4bf.message),
		opts.onValidate.call(_4be, _4c0),
		_4c0
	}
	function _4cc(e, t) {
		var n = $.data(e, "validatebox").options;
		void 0 != t && (n.disabled = t),
		n.disabled ? $(e).addClass("validatebox-disabled").attr("disabled", "disabled") : $(e).removeClass("validatebox-disabled").removeAttr("disabled")
	}
	function _4cf(e, t) {
		var n = $.data(e, "validatebox").options;
		n.readonly = void 0 == t || t,
		n.readonly || !n.editable ? ($(e).triggerHandler("blur.validatebox"), $(e).addClass("validatebox-readonly").attr("readonly", "readonly")) : $(e).removeClass("validatebox-readonly").removeAttr("readonly")
	}
	$.fn.validatebox = function (e, t) {
		return "string" == typeof e ? $.fn.validatebox.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t = $.data(this, "validatebox");
				t ? $.extend(t.options, e) : (init(this), t = $.data(this, "validatebox", {
							options: $.extend({}, $.fn.validatebox.defaults, $.fn.validatebox.parseOptions(this), e)
						})),
				t.options._validateOnCreate = t.options.validateOnCreate,
				_4cc(this, t.options.disabled),
				_4cf(this, t.options.readonly),
				_4a8(this),
				_4bd(this)
			}))
	},
	$.fn.validatebox.methods = {
		options: function (e) {
			return $.data(e[0], "validatebox").options
		},
		destroy: function (e) {
			return e.each(function () {
				_4a5(this)
			})
		},
		validate: function (e) {
			return e.each(function () {
				_4bd(this)
			})
		},
		isValid: function (e) {
			return _4bd(e[0])
		},
		enableValidation: function (e) {
			return e.each(function () {
				$(this).validatebox("options").novalidate = !1,
				_4a8(this),
				_4bd(this)
			})
		},
		disableValidation: function (e) {
			return e.each(function () {
				$(this).validatebox("options").novalidate = !0,
				_4a8(this),
				_4bd(this)
			})
		},
		resetValidation: function (e) {
			return e.each(function () {
				var e = $(this).validatebox("options");
				e._validateOnCreate = e.validateOnCreate,
				_4bd(this)
			})
		},
		enable: function (e) {
			return e.each(function () {
				_4cc(this, !1),
				_4a8(this),
				_4bd(this)
			})
		},
		disable: function (e) {
			return e.each(function () {
				_4cc(this, !0),
				_4a8(this),
				_4bd(this)
			})
		},
		readonly: function (e, t) {
			return e.each(function () {
				_4cf(this, t),
				_4a8(this),
				_4bd(this)
			})
		}
	},
	$.fn.validatebox.parseOptions = function (e) {
		var t = $(e);
		return $.extend({}, $.parser.parseOptions(e, ["validType", "missingMessage", "invalidMessage", "tipPosition", {
						delay: "number",
						interval: "number",
						deltaX: "number"
					}, {
						editable: "boolean",
						validateOnCreate: "boolean",
						validateOnBlur: "boolean"
					}
				]), {
			required: !!t.attr("required") || void 0,
			disabled: !!t.attr("disabled") || void 0,
			readonly: !!t.attr("readonly") || void 0,
			novalidate: void 0 != t.attr("novalidate") || void 0
		})
	},
	$.fn.validatebox.defaults = {
		required: !1,
		validType: null,
		validParams: null,
		delay: 200,
		interval: 200,
		missingMessage: "This field is required.",
		invalidMessage: null,
		tipPosition: "right",
		deltaX: 0,
		deltaY: 0,
		novalidate: !1,
		editable: !0,
		disabled: !1,
		readonly: !1,
		validateOnCreate: !0,
		validateOnBlur: !1,
		events: {
			focus: _4ab,
			blur: _4af,
			mouseenter: _4b2,
			mouseleave: _4b5,
			click: function (e) {
				var t = $(e.data.target);
				"checkbox" != t.attr("type") && "radio" != t.attr("type") || t.focus().validatebox("validate")
			}
		},
		val: function (e) {
			return $(e).val()
		},
		err: function (e, t, n) {
			_4b8(e, t, n)
		},
		tipOptions: {
			showEvent: "none",
			hideEvent: "none",
			showDelay: 0,
			hideDelay: 0,
			zIndex: "",
			onShow: function () {
				$(this).tooltip("tip").css({
					color: "#000",
					borderColor: "#CC9933",
					backgroundColor: "#FFFFCC"
				})
			},
			onHide: function () {
				$(this).tooltip("destroy")
			}
		},
		rules: {
			email: {
				validator: function (e) {
					return /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)
				},
				message: "Please enter a valid email address."
			},
			url: {
				validator: function (e) {
					return /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)
				},
				message: "Please enter a valid URL."
			},
			length: {
				validator: function (e, t) {
					var n = $.trim(e).length;
					return n >= t[0] && n <= t[1]
				},
				message: "Please enter a value between {0} and {1}."
			},
			remote: {
				validator: function (e, t) {
					var n = {};
					n[t[1]] = e;
					return "true" == $.ajax({
						url: t[0],
						dataType: "json",
						data: n,
						async: !1,
						cache: !1,

						type: "post"
					}).responseText
				},
				message: "Please fix this field."
			}
		},
		onBeforeValidate: function () {},
		onValidate: function (e) {}
	}
}
(jQuery), function (e) {
	function t(t, n) {
		function i(e) {
			return (o.iconAlign == e ? p._outerWidth() : 0) + r(e)
		}
		function r(t) {
			var n = 0;
			return h.filter(".textbox-button-" + t).each(function () {
				n += "left" == t || "right" == t ? e(this).outerWidth() : e(this).outerHeight()
			}),
			n
		}
		var a = e.data(t, "textbox"),
		o = a.options,
		s = a.textbox,
		l = s.parent();
		if (n && ("object" == typeof n ? e.extend(o, n) : o.width = n), isNaN(parseInt(o.width))) {
			var c = e(t).clone();
			c.css("visibility", "hidden"),
			c.insertAfter(t),
			o.width = c.outerWidth(),
			c.remove()
		}
		var d = s.is(":visible");
		d || s.appendTo("body");
		var u = s.find(".textbox-text"),
		h = s.find(".textbox-button"),
		p = s.find(".textbox-addon"),
		f = p.find(".textbox-icon");
		"auto" == o.height && u.css({
			margin: "",
			paddingTop: "",
			paddingBottom: "",
			height: "",
			lineHeight: ""
		}),
		s._size(o, l),
		o.label && o.labelPosition && ("top" == o.labelPosition ? (a.label._size({
					width: "auto" == o.labelWidth ? s.outerWidth() : o.labelWidth
				}, s), "auto" != o.height && s._size("height", s.outerHeight() - a.label.outerHeight())) : (a.label._size({
					width: o.labelWidth,
					height: s.outerHeight()
				}, s), o.multiline || a.label.css("lineHeight", a.label.height() + "px"), s._size("width", s.outerWidth() - a.label.outerWidth()))),
		"left" == o.buttonAlign || "right" == o.buttonAlign ? h.linkbutton("resize", {
			height: s.height()
		}) : h.linkbutton("resize", {
			width: "100%"
		});
		var m = s.width() - f.length * o.iconWidth - r("left") - r("right"),
		g = "auto" == o.height ? u.outerHeight() : s.height() - r("top") - r("bottom");
		p.css(o.iconAlign, r(o.iconAlign) + "px"),
		p.css("top", r("top") + "px"),
		f.css({
			width: o.iconWidth + "px",
			height: g + "px"
		}),
		u.css({
			paddingLeft: t.style.paddingLeft || "",
			paddingRight: t.style.paddingRight || "",
			marginLeft: i("left"),
			marginRight: i("right"),
			marginTop: r("top"),
			marginBottom: r("bottom")
		}),
		o.multiline ? (u.css({
				paddingTop: t.style.paddingTop || "",
				paddingBottom: t.style.paddingBottom || ""
			}), u._outerHeight(g)) : u.css({
			paddingTop: 0,
			paddingBottom: 0,
			height: g + "px",
			lineHeight: g + "px"
		}),
		u._outerWidth(m),
		o.onResizing.call(t, o.width, o.height),
		d || s.insertAfter(t),
		o.onResize.call(t, o.width, o.height)
	}
	function n(t) {
		var n = e(t).textbox("options");
		e(t).textbox("textbox").validatebox(e.extend({}, n, {
				deltaX: function (n) {
					return e(t).textbox("getTipX", n)
				},
				deltaY: function (n) {
					return e(t).textbox("getTipY", n)
				},
				onBeforeValidate: function () {
					n.onBeforeValidate.call(t);
					var i = e(this);
					i.is(":focus") || i.val() !== n.value && (n.oldInputValue = i.val(), i.val(n.value))
				},
				onValidate: function (i) {
					var r = e(this);
					void 0 != n.oldInputValue && (r.val(n.oldInputValue), n.oldInputValue = void 0);
					var a = r.parent();
					i ? a.removeClass("textbox-invalid") : a.addClass("textbox-invalid"),
					n.onValidate.call(t, i)
				}
			}))
	}
	function i(n) {
		var i = e.data(n, "textbox"),
		r = i.options,
		a = i.textbox,
		o = a.find(".textbox-text");
		if (o.attr("placeholder", r.prompt), o.unbind(".textbox"), e(i.label).unbind(".textbox"), !r.disabled && !r.readonly) {
			i.label && e(i.label).bind("click.textbox", function (t) {
				r.hasFocusMe || (o.focus(), e(n).textbox("setSelectionRange", {
						start: 0,
						end: o.val().length
					}))
			}),
			o.bind("blur.textbox", function (t) {
				a.hasClass("textbox-focused") && (r.value = e(this).val(), "" == r.value ? e(this).val(r.prompt).addClass("textbox-prompt") : e(this).removeClass("textbox-prompt"), a.removeClass("textbox-focused"))
			}).bind("focus.textbox", function (t) {
				r.hasFocusMe = !0,
				a.hasClass("textbox-focused") || (e(this).val() != r.value && e(this).val(r.value), e(this).removeClass("textbox-prompt"), a.addClass("textbox-focused"))
			});
			for (var s in r.inputEvents)
				o.bind(s + ".textbox", {
					target: n
				}, r.inputEvents[s])
		}
		var l = a.find(".textbox-addon");
		l.unbind().bind("click", {
			target: n
		}, function (t) {
			var i = e(t.target).closest("a.textbox-icon:not(.textbox-icon-disabled)");
			if (i.length) {
				var a = parseInt(i.attr("icon-index")),
				o = r.icons[a];
				o && o.handler && o.handler.call(i[0], t),
				r.onClickIcon.call(n, a)
			}
		}),
		l.find(".textbox-icon").each(function (t) {
			var n = r.icons[t],
			i = e(this);
			!n || n.disabled || r.disabled || r.readonly ? i.addClass("textbox-icon-disabled") : i.removeClass("textbox-icon-disabled")
		});
		a.find(".textbox-button").linkbutton(r.disabled || r.readonly ? "disable" : "enable"),
		a.unbind(".textbox").bind("_resize.textbox", function (i, r) {
			return (e(this).hasClass("easyui-fluid") || r) && t(n),
			!1
		})
	}
	function r(t, n) {
		var i = e.data(t, "textbox"),
		r = i.options,
		a = i.textbox,
		o = a.find(".textbox-text"),
		s = e(t).add(a.find(".textbox-value"));
		r.disabled = n,
		r.disabled ? (o.blur(), o.validatebox("disable"), a.addClass("textbox-disabled"), s.attr("disabled", "disabled"), e(i.label).addClass("textbox-label-disabled")) : (o.validatebox("enable"), a.removeClass("textbox-disabled"), s.removeAttr("disabled"), e(i.label).removeClass("textbox-label-disabled"))
	}
	function a(t, n) {
		var i = e.data(t, "textbox"),
		r = i.options,
		a = i.textbox,
		o = a.find(".textbox-text");
		r.readonly = void 0 == n || n,
		r.readonly && o.triggerHandler("blur.textbox"),
		o.validatebox("readonly", r.readonly),
		a.removeClass("textbox-readonly").addClass(r.readonly ? "textbox-readonly" : "")
	}
	var o = 0;
	e.fn.textbox = function (s, l) {
		if ("string" == typeof s) {
			var c = e.fn.textbox.methods[s];
			return c ? c(this, l) : this.each(function () {
				e(this).textbox("textbox").validatebox(s, l)
			})
		}
		return s = s || {},
		this.each(function () {
			var l = e.data(this, "textbox");
			l ? (e.extend(l.options, s), void 0 != s.value && (l.options.originalValue = s.value)) : (l = e.data(this, "textbox", {
						options: e.extend({}, e.fn.textbox.defaults, e.fn.textbox.parseOptions(this), s),
						textbox: function (t) {
							e(t).addClass("textbox-f").hide();
							var n = e('<span class="textbox"><input class="textbox-text" autocomplete="off"><input type="hidden" class="textbox-value"></span>').insertAfter(t),
							i = e(t).attr("name");
							return i && (n.find("input.textbox-value").attr("name", i), e(t).removeAttr("name").attr("textboxName", i)),
							n
						}
						(this)
					})).options.originalValue = l.options.value,
			function (t) {
				var i = e.data(t, "textbox"),
				s = i.options,
				l = i.textbox,
				c = "_easyui_textbox_input" + ++o;
				l.addClass(s.cls),
				l.find(".textbox-text").remove(),
				s.multiline ? e('<textarea id="' + c + '" class="textbox-text" autocomplete="off"></textarea>').prependTo(l) : e('<input id="' + c + '" type="' + s.type + '" class="textbox-text" autocomplete="off">').prependTo(l),
				e("#" + c).attr("tabindex", e(t).attr("tabindex") || "").css("text-align", t.style.textAlign || ""),
				l.find(".textbox-addon").remove();
				var d = s.icons ? e.extend(!0, [], s.icons) : [];
				if (s.iconCls && d.push({
						iconCls: s.iconCls,
						disabled: !0
					}), d.length) {
					var u = e('<span class="textbox-addon"></span>').prependTo(l);
					u.addClass("textbox-addon-" + s.iconAlign);
					for (var h = 0; h < d.length; h++)
						u.append('<a href="javascript:;" class="textbox-icon ' + d[h].iconCls + '" icon-index="' + h + '" tabindex="-1"></a>')
				}
				l.find(".textbox-button").remove(),
				(s.buttonText || s.buttonIcon) && e('<a href="javascript:;" class="textbox-button"></a>').prependTo(l).addClass("textbox-button-" + s.buttonAlign).linkbutton({
					text: s.buttonText,
					iconCls: s.buttonIcon,
					onClick: function () {
						var t = e(this).parent().prev();
						t.textbox("options").onClickButton.call(t[0])
					}
				});
				s.label ? "object" == typeof s.label ? (i.label = e(s.label), i.label.attr("for", c)) : (e(i.label).remove(), i.label = e('<label class="textbox-label"></label>').html(s.label), i.label.css("textAlign", s.labelAlign).attr("for", c), "after" == s.labelPosition ? i.label.insertAfter(l) : i.label.insertBefore(t), i.label.removeClass("textbox-label-left textbox-label-right textbox-label-top"), i.label.addClass("textbox-label-" + s.labelPosition)) : e(i.label).remove(),
				n(t),
				r(t, s.disabled),
				a(t, s.readonly)
			}
			(this),
			i(this),
			l.options.doSize && t(this);
			var c = l.options.value;
			l.options.value = "",
			e(this).textbox("initValue", c)
		})
	},
	e.fn.textbox.methods = {
		options: function (t) {
			return e.data(t[0], "textbox").options
		},
		cloneFrom: function (t, r) {
			return t.each(function () {
				var t = e(this);
				if (!t.data("textbox")) {
					e(r).data("textbox") || e(r).textbox();
					var a = e.extend(!0, {}, e(r).textbox("options")),
					s = t.attr("name") || "";
					t.addClass("textbox-f").hide(),
					t.removeAttr("name").attr("textboxName", s);
					var l = e(r).next().clone().insertAfter(t),
					c = "_easyui_textbox_input" + ++o;
					l.find(".textbox-value").attr("name", s),
					l.find(".textbox-text").attr("id", c);
					var d = e(e(r).textbox("label")).clone();
					d.length && (d.attr("for", c), "after" == a.labelPosition ? d.insertAfter(t.next()) : d.insertBefore(t)),
					e.data(this, "textbox", {
						options: a,
						textbox: l,
						label: d.length ? d : void 0
					});
					var u = e(r).textbox("button");
					u.length && t.textbox("button").linkbutton(e.extend(!0, {}, u.linkbutton("options"))),
					i(this),
					n(this)
				}
			})
		},
		textbox: function (t) {
			return e.data(t[0], "textbox").textbox.find(".textbox-text")
		},
		button: function (t) {
			return e.data(t[0], "textbox").textbox.find(".textbox-button")
		},
		label: function (t) {
			return e.data(t[0], "textbox").label
		},
		destroy: function (t) {
			return t.each(function () {
				!function (t) {
					var n = e.data(t, "textbox").textbox;
					n.find(".textbox-text").validatebox("destroy"),
					n.remove(),
					e(t).remove()
				}
				(this)
			})
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		disable: function (e) {
			return e.each(function () {
				r(this, !0),
				i(this)
			})
		},
		enable: function (e) {
			return e.each(function () {
				r(this, !1),
				i(this)
			})
		},
		readonly: function (e, t) {
			return e.each(function () {
				a(this, t),
				i(this)
			})
		},
		isValid: function (e) {
			return e.textbox("textbox").validatebox("isValid")
		},
		clear: function (t) {
			return t.each(function () {
				e(this).textbox("setValue", "")
			})
		},
		setText: function (t, n) {
			return t.each(function () {
				var t = e(this).textbox("options"),
				i = e(this).textbox("textbox");
				n = void 0 == n ? "" : String(n),
				e(this).textbox("getText") != n && i.val(n),
				t.value = n,
				i.is(":focus") || (n ? i.removeClass("textbox-prompt") : i.val(t.prompt).addClass("textbox-prompt")),
				e(this).textbox("validate")
			})
		},
		initValue: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "textbox");
				e(this).textbox("setText", n),
				t.textbox.find(".textbox-value").val(n),
				e(this).val(n)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "textbox").options,
				i = e(this).textbox("getValue");
				e(this).textbox("initValue", n),
				i != n && (t.onChange.call(this, n, i), e(this).closest("form").trigger("_change", [this]))
			})
		},
		getText: function (e) {
			var t = e.textbox("textbox");
			return t.is(":focus") ? t.val() : e.textbox("options").value
		},
		getValue: function (e) {
			return e.data("textbox").textbox.find(".textbox-value").val()
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).textbox("options");
				e(this).textbox("setValue", t.originalValue)
			})
		},
		getIcon: function (e, t) {
			return e.data("textbox").textbox.find(".textbox-icon:eq(" + t + ")")
		},
		getTipX: function (e, t) {
			var n = e.data("textbox"),
			i = n.options,
			r = n.textbox,
			a = r.find(".textbox-text"),
			t = t || i.tipPosition,
			o = r.offset(),
			s = a.offset(),
			l = r.outerWidth(),
			c = a.outerWidth();
			return "right" == t ? l - c - s.left + o.left : "left" == t ? o.left - s.left : (l - c - s.left + o.left) / 2 - (s.left - o.left) / 2
		},
		getTipY: function (e, t) {
			var n = e.data("textbox"),
			i = n.options,
			r = n.textbox,
			a = r.find(".textbox-text"),
			t = t || i.tipPosition,
			o = r.offset(),
			s = a.offset(),
			l = r.outerHeight(),
			c = a.outerHeight();
			return "left" == t || "right" == t ? (l - c - s.top + o.top) / 2 - (s.top - o.top) / 2 : "bottom" == t ? l - c - s.top + o.top : o.top - s.top
		},
		getSelectionStart: function (e) {
			return e.textbox("getSelectionRange").start
		},
		getSelectionRange: function (e) {
			var t = e.textbox("textbox")[0],
			n = 0,
			i = 0;
			if ("number" == typeof t.selectionStart)
				n = t.selectionStart, i = t.selectionEnd;
			else if (t.createTextRange) {
				var r = document.selection.createRange(),
				a = t.createTextRange();
				a.setEndPoint("EndToStart", r),
				i = (n = a.text.length) + r.text.length
			}
			return {
				start: n,
				end: i
			}
		},
		setSelectionRange: function (t, n) {
			return t.each(function () {
				var t = e(this).textbox("textbox")[0],
				i = n.start,
				r = n.end;
				if (t.setSelectionRange)
					t.setSelectionRange(i, r);
				else if (t.createTextRange) {
					var a = t.createTextRange();
					a.collapse(),
					a.moveEnd("character", r),
					a.moveStart("character", i),
					a.select()
				}
			})
		}
	},
	e.fn.textbox.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.fn.validatebox.parseOptions(t), e.parser.parseOptions(t, ["prompt", "iconCls", "iconAlign", "buttonText", "buttonIcon", "buttonAlign", "label", "labelPosition", "labelAlign", {
						multiline: "boolean",
						iconWidth: "number",
						labelWidth: "number"
					}
				]), {
			value: n.val() || void 0,
			type: n.attr("type") ? n.attr("type") : void 0
		})
	},
	e.fn.textbox.defaults = e.extend({}, e.fn.validatebox.defaults, {
			doSize: !0,
			width: "auto",
			height: "auto",
			cls: null,
			prompt: "",
			value: "",
			type: "text",
			multiline: !1,
			icons: [],
			iconCls: null,
			iconAlign: "right",
			iconWidth: 18,
			buttonText: "",
			buttonIcon: null,
			buttonAlign: "right",
			label: null,
			labelWidth: "auto",
			labelPosition: "before",
			labelAlign: "left",
			inputEvents: {
				blur: function (t) {
					var n = e(t.data.target),
					i = n.textbox("options");
					n.textbox("getValue") != i.value && n.textbox("setValue", i.value)
				},
				keydown: function (t) {
					if (13 == t.keyCode) {
						var n = e(t.data.target);
						n.textbox("setValue", n.textbox("getText"))
					}
				}
			},
			onChange: function (e, t) {},
			onResizing: function (e, t) {},
			onResize: function (e, t) {},
			onClickButton: function () {},
			onClickIcon: function (e) {}
		})
}
(jQuery), function (e) {
	function t(t, n, i) {
		var r = e(t),
		a = r.passwordbox("options");
		if (a.revealed)
			r.textbox("setValue", n);
		else {
			for (var o = unescape(a.passwordChar), s = n.split(""), l = r.passwordbox("getValue").split(""), c = 0; c < s.length; c++) {
				var d = s[c];
				d != l[c] && d != o && l.splice(c, 0, d)
			}
			var u = r.passwordbox("getSelectionStart");
			s.length < l.length && l.splice(u, l.length - s.length, "");
			for (c = 0; c < s.length; c++)
				(i || c != u - 1) && (s[c] = o);
			r.textbox("setValue", l.join("")),
			r.textbox("setText", s.join("")),
			r.textbox("setSelectionRange", {
				start: u,
				end: u
			})
		}
	}
	function n(t, n) {
		var i = e(t),
		r = i.passwordbox("options"),
		a = i.next().find(".passwordbox-open"),
		o = unescape(r.passwordChar);
		n = void 0 == n ? i.textbox("getValue") : n,
		i.textbox("setValue", n),
		i.textbox("setText", r.revealed ? n : n.replace(/./gi, o)),
		r.revealed ? a.addClass("passwordbox-close") : a.removeClass("passwordbox-close")
	}
	e.fn.passwordbox = function (t, i) {
		if ("string" == typeof t) {
			var r = e.fn.passwordbox.methods[t];
			return r ? r(this, i) : this.textbox(t, i)
		}
		return t = t || {},
		this.each(function () {
			var i = e.data(this, "passwordbox");
			i ? e.extend(i.options, t) : i = e.data(this, "passwordbox", {
					options: e.extend({}, e.fn.passwordbox.defaults, e.fn.passwordbox.parseOptions(this), t)
				}),
			function (t) {
				var i = e.data(t, "passwordbox").options,
				r = e.extend(!0, [], i.icons);
				i.showEye && r.push({
					iconCls: "passwordbox-open",
					handler: function (e) {
						i.revealed = !i.revealed,
						n(t)
					}
				}),
				e(t).addClass("passwordbox-f").textbox(e.extend({}, i, {
						icons: r
					})),
				n(t)
			}
			(this)
		})
	},
	e.fn.passwordbox.methods = {
		options: function (t) {
			return e.data(t[0], "passwordbox").options
		},
		setValue: function (e, t) {
			return e.each(function () {
				n(this, t)
			})
		},
		clear: function (e) {
			return e.each(function () {
				n(this, "")
			})
		},
		reset: function (t) {
			return t.each(function () {
				e(this).textbox("reset"),
				n(this)
			})
		},
		showPassword: function (t) {
			return t.each(function () {
				e(this).passwordbox("options").revealed = !0,
				n(this)
			})
		},
		hidePassword: function (t) {
			return t.each(function () {
				e(this).passwordbox("options").revealed = !1,
				n(this)
			})
		}
	},
	e.fn.passwordbox.parseOptions = function (t) {
		return e.extend({}, e.fn.textbox.parseOptions(t), e.parser.parseOptions(t, ["passwordChar", {
						checkInterval: "number",
						lastDelay: "number",
						revealed: "boolean",
						showEye: "boolean"
					}
				]))
	},
	e.fn.passwordbox.defaults = e.extend({}, e.fn.textbox.defaults, {
			passwordChar: "%u25CF",
			checkInterval: 200,
			lastDelay: 500,
			revealed: !1,
			showEye: !0,
			inputEvents: {
				focus: function (n) {
					var i = n.data.target,
					r = e(n.data.target),
					a = r.data("passwordbox"),
					o = r.data("passwordbox").options;
					a.checking = !0,
					a.value = r.passwordbox("getText"),
					function () {
						if (a.checking) {
							var e = r.passwordbox("getText");
							a.value != e && (a.value = e, a.lastTimer && (clearTimeout(a.lastTimer), a.lastTimer = void 0), t(i, e), a.lastTimer = setTimeout(function () {
										t(i, r.passwordbox("getText"), !0),
										a.lastTimer = void 0
									}, o.lastDelay)),
							setTimeout(arguments.callee, o.checkInterval)
						}
					}
					()
				},
				blur: function (t) {
					var i = t.data.target,
					r = e(i).data("passwordbox");
					r.checking = !1,
					r.lastTimer && (clearTimeout(r.lastTimer), r.lastTimer = void 0),
					n(i)
				}
			},
			val: function (t) {
				return e(t).parent().prev().passwordbox("getValue")
			}
		})
}
(jQuery), function (e) {
	function t(t) {
		var n = e.data(t, "filebox"),
		i = n.options;
		n.filebox.find(".textbox-value").remove(),
		i.oldValue = "";
		var r = e('<input type="file" class="textbox-value">').appendTo(n.filebox);
		return r.attr("id", i.fileboxId).attr("name", e(t).attr("textboxName") || ""),
		r.attr("accept", i.accept),
		i.multiple && r.attr("multiple", "multiple"),
		r.change(function () {
			var n = this.value;
			this.files && (n = e.map(this.files, function (e) {
						return e.name
					}).join(i.separator)),
			e(t).filebox("setText", n),
			i.onChange.call(t, n, i.oldValue),
			i.oldValue = n
		}),
		r
	}
	var n = 0;
	e.fn.filebox = function (i, r) {
		if ("string" == typeof i) {
			var a = e.fn.filebox.methods[i];
			return a ? a(this, r) : this.textbox(i, r)
		}
		return i = i || {},
		this.each(function () {
			var r = e.data(this, "filebox");
			r ? e.extend(r.options, i) : e.data(this, "filebox", {
				options: e.extend({}, e.fn.filebox.defaults, e.fn.filebox.parseOptions(this), i)
			}),
			function (i) {
				var r = e.data(i, "filebox"),
				a = r.options;
				a.fileboxId = "filebox_file_id_" + ++n,
				e(i).addClass("filebox-f").textbox(a),
				e(i).textbox("textbox").attr("readonly", "readonly"),
				r.filebox = e(i).next().addClass("filebox");
				var o = t(i),
				s = e(i).filebox("button");
				s.length && (e('<label class="filebox-label" for="' + a.fileboxId + '"></label>').appendTo(s), s.linkbutton("options").disabled ? o.attr("disabled", "disabled") : o.removeAttr("disabled"))
			}
			(this)
		})
	},
	e.fn.filebox.methods = {
		options: function (t) {
			var n = t.textbox("options");
			return e.extend(e.data(t[0], "filebox").options, {
				width: n.width,
				value: n.value,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		clear: function (n) {
			return n.each(function () {
				e(this).textbox("clear"),
				t(this)
			})
		},
		reset: function (t) {
			return t.each(function () {
				e(this).filebox("clear")
			})
		},
		setValue: function (e) {
			return e
		},
		setValues: function (e) {
			return e
		}
	},
	e.fn.filebox.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.fn.textbox.parseOptions(t), e.parser.parseOptions(t, ["accept", "separator"]), {
			multiple: !!n.attr("multiple") || void 0
		})
	},
	e.fn.filebox.defaults = e.extend({}, e.fn.textbox.defaults, {
			buttonIcon: null,
			buttonText: "Choose File",
			buttonAlign: "right",
			inputEvents: {},
			accept: "",
			separator: ",",
			multiple: !1
		})
}
(jQuery), function ($) {
	function _55e(e) {
		function t(t) {
			t && ($(e).textbox("button").menubutton({
					text: t.text,
					iconCls: t.iconCls || null,
					menu: n.menu,
					menuAlign: i.buttonAlign,
					plain: !1
				}), n.searchbox.find("input.textbox-value").attr("name", t.name || t.text), $(e).searchbox("resize"))
		}
		var n = $.data(e, "searchbox"),
		i = n.options,
		r = $.extend(!0, [], i.icons);
		r.push({
			iconCls: "searchbox-button",
			handler: function (e) {
				var t = $(e.data.target);
				t.searchbox("options").searcher.call(e.data.target, t.searchbox("getValue"), t.searchbox("getName"))
			}
		}),
		function () {
			if (i.menu) {
				n.menu = $(i.menu).menu();
				var e = n.menu.menu("options"),
				r = e.onClick;
				e.onClick = function (e) {
					t(e),
					r.call(this, e)
				}
			} else
				n.menu && n.menu.menu("destroy"), n.menu = null
		}
		();
		var a = function () {
			if (n.menu) {
				var e = n.menu.children("div.menu-item:first");
				return n.menu.children("div.menu-item").each(function () {
					if ($.extend({}, $.parser.parseOptions(this), {
							selected: !!$(this).attr("selected") || void 0
						}).selected)
						return e = $(this), !1
				}),
				n.menu.menu("getItem", e[0])
			}
			return null
		}
		();
		$(e).addClass("searchbox-f").textbox($.extend({}, i, {
				icons: r,
				buttonText: a ? a.text : ""
			})),
		$(e).attr("searchboxName", $(e).attr("textboxName")),
		n.searchbox = $(e).next(),
		n.searchbox.addClass("searchbox"),
		t(a)
	}
	$.fn.searchbox = function (e, t) {
		if ("string" == typeof e) {
			var n = $.fn.searchbox.methods[e];
			return n ? n(this, t) : this.textbox(e, t)
		}
		return e = e || {},
		this.each(function () {
			var t = $.data(this, "searchbox");
			t ? $.extend(t.options, e) : $.data(this, "searchbox", {
				options: $.extend({}, $.fn.searchbox.defaults, $.fn.searchbox.parseOptions(this), e)
			}),
			_55e(this)
		})
	},
	$.fn.searchbox.methods = {
		options: function (e) {
			var t = e.textbox("options");
			return $.extend($.data(e[0], "searchbox").options, {
				width: t.width,
				value: t.value,
				originalValue: t.originalValue,
				disabled: t.disabled,
				readonly: t.readonly
			})
		},
		menu: function (e) {
			return $.data(e[0], "searchbox").menu
		},
		getName: function (e) {
			return $.data(e[0], "searchbox").searchbox.find("input.textbox-value").attr("name")
		},
		selectName: function (e, t) {
			return e.each(function () {
				var e = $.data(this, "searchbox").menu;
				e && e.children("div.menu-item").each(function () {
					if (e.menu("getItem", this).name == t)
						return $(this).triggerHandler("click"), !1
				})
			})
		},
		destroy: function (e) {
			return e.each(function () {
				var e = $(this).searchbox("menu");
				e && e.menu("destroy"),
				$(this).textbox("destroy")
			})
		}
	},
	$.fn.searchbox.parseOptions = function (_56d) {
		var t = $(_56d);
		return $.extend({}, $.fn.textbox.parseOptions(_56d), $.parser.parseOptions(_56d, ["menu"]), {
			searcher: t.attr("searcher") ? eval(t.attr("searcher")) : void 0
		})
	},
	$.fn.searchbox.defaults = $.extend({}, $.fn.textbox.defaults, {
			inputEvents: $.extend({}, $.fn.textbox.defaults.inputEvents, {
				keydown: function (e) {
					if (13 == e.keyCode) {
						e.preventDefault();
						var t = $(e.data.target),
						n = t.searchbox("options");
						return t.searchbox("setValue", $(this).val()),
						n.searcher.call(e.data.target, t.searchbox("getValue"), t.searchbox("getName")),
						!1
					}
				}
			}),
			buttonAlign: "left",
			menu: null,
			searcher: function (e, t) {}
		})
}
(jQuery), function (e) {
	function t(t, i) {
		var r = e.data(t, "form").options;
		e.extend(r, i || {});
		var a = e.extend({}, r.queryParams);
		if (0 != r.onSubmit.call(t, a)) {
			var o = e(t).find(".textbox-text:focus");
			o.triggerHandler("blur"),
			o.focus();
			var s = null;
			if (r.dirty) {
				var l = [];
				e.map(r.dirtyFields, function (t) {
					e(t).hasClass("textbox-f") ? e(t).next().find(".textbox-value").each(function () {
						l.push(this)
					}) : l.push(t)
				}),
				(s = e(t).find("input[name]:enabled,textarea[name]:enabled,select[name]:enabled").filter(function () {
							return -1 == e.inArray(this, l)
						})).attr("disabled", "disabled")
			}
			r.ajax ? r.iframe ? n(t, a) : void 0 !== window.FormData ? function (t, n) {
				var i = e.data(t, "form").options,
				r = new FormData(e(t)[0]);
				for (var a in n)
					r.append(a, n[a]);
				e.ajax({
					url: i.url,
					type: "post",
					xhr: function () {
						var n = e.ajaxSettings.xhr();
						return n.upload && n.upload.addEventListener("progress", function (e) {
							if (e.lengthComputable) {
								var n = e.total,
								r = e.loaded || e.position,
								a = Math.ceil(100 * r / n);
								i.onProgress.call(t, a)
							}
						}, !1),
						n
					},
					data: r,
					dataType: "html",
					cache: !1,
					contentType: !1,
					processData: !1,
					complete: function (e) {
						i.success.call(t, e.responseText)
					}
				})
			}
			(t, a) : n(t, a) : e(t).submit(),
			r.dirty && s.removeAttr("disabled")
		}
	}
	function n(t, n) {
		function i() {
			var t = e("#" + o);
			if (t.length)
				try {
					var n = t.contents()[0].readyState;
					n && "uninitialized" == n.toLowerCase() && setTimeout(i, 100)
				} catch (e) {
					r()
				}
		}
		function r() {
			var n = e("#" + o);
			if (n.length) {
				n.unbind();
				var i = "";
				try {
					var s = n.contents().find("body");
					if ("" == (i = s.html()) && --l)
						return void setTimeout(r, 100);
					var c = s.find(">textarea");
					if (c.length)
						i = c.val();
					else {
						var d = s.find(">pre");
						d.length && (i = d.html())
					}
				} catch (e) {}
				a.success.call(t, i),
				setTimeout(function () {
					n.unbind(),
					n.remove()
				}, 100)
			}
		}
		var a = e.data(t, "form").options,
		o = "easyui_frame_" + (new Date).getTime(),
		s = e("<iframe id=" + o + " name=" + o + "></iframe>").appendTo("body");
		s.attr("src", window.ActiveXObject ? "javascript:false" : "about:blank"),
		s.css({
			position: "absolute",
			top: -1e3,
			left: -1e3
		}),
		s.bind("load", r),
		function (n) {
			var r = e(t);
			a.url && r.attr("action", a.url);
			var s = r.attr("target"),
			l = r.attr("action");
			r.attr("target", o);
			var c = e();
			try {
				for (var d in n) {
					var u = e('<input type="hidden" name="' + d + '">').val(n[d]).appendTo(r);
					c = c.add(u)
				}
				i(),
				r[0].submit()
			}
			finally {
				r.attr("action", l),
				s ? r.attr("target", s) : r.removeAttr("target"),
				c.remove()
			}
		}
		(n);
		var l = 10
	}
	function i(t, n) {
		function i(n) {
			var i = e(t);
			for (var o in n) {
				var s = n[o];
				(function (n, i) {
					var a = e(t).find('[switchbuttonName="' + n + '"]');
					if (a.length)
						return a.switchbutton("uncheck"), a.each(function () {
							r(e(this).switchbutton("options").value, i) && e(this).switchbutton("check")
						}), !0;
					if ((a = e(t).find('input[name="' + n + '"][type=radio], input[name="' + n + '"][type=checkbox]')).length)
						return a._propAttr("checked", !1), a.each(function () {
							r(e(this).val(), i) && e(this)._propAttr("checked", !0)
						}), !0;
					return !1
				})(o, s) || function (n, i) {
					var r = e(t).find('[textboxName="' + n + '"],[sliderName="' + n + '"]');
					if (r.length)
						for (var o = 0; o < a.fieldTypes.length; o++) {
							var s = a.fieldTypes[o],
							l = r.data(s);
							if (l)
								return l.options.multiple || l.options.range ? r[s]("setValues", i) : r[s]("setValue", i), !0
						}
					return !1
				}
				(o, s) || (i.find('input[name="' + o + '"]').val(s), i.find('textarea[name="' + o + '"]').val(s), i.find('select[name="' + o + '"]').val(s))
			}
			a.onLoadSuccess.call(t, n),
			i.form("validate")
		}
		function r(t, n) {
			return t == String(n) || e.inArray(t, e.isArray(n) ? n : [n]) >= 0
		}
		var a = e.data(t, "form").options;
		if ("string" == typeof n) {
			var o = {};
			if (0 == a.onBeforeLoad.call(t, o))
				return;
			e.ajax({
				url: n,
				data: o,
				dataType: "json",
				success: function (e) {
					i(e)
				},
				error: function () {
					a.onLoadError.apply(t, arguments)
				}
			})
		} else
			i(n)
	}
	function r(t, n) {
		n = n || {};
		var i = e.data(t, "form");
		i ? e.extend(i.options, n) : e.data(t, "form", {
			options: e.extend({}, e.fn.form.defaults, e.fn.form.parseOptions(t), n)
		})
	}
	function a(t, n) {
		e.data(t, "form").options.novalidate = n,
		e(t).find(".validatebox-text:not(:disabled)").validatebox(n ? "disableValidation" : "enableValidation")
	}
	e.fn.form = function (n, i) {
		return "string" == typeof n ? (this.each(function () {
				r(this)
			}), e.fn.form.methods[n](this, i)) : this.each(function () {
			r(this, n),
			function (n) {
				var i = e.data(n, "form").options;
				e(n).unbind(".form"),
				i.ajax && e(n).bind("submit.form", function () {
					return setTimeout(function () {
						t(n, i)
					}, 0),
					!1
				}),
				e(n).bind("_change.form", function (t, n) {
					-1 == e.inArray(n, i.dirtyFields) && i.dirtyFields.push(n),
					i.onChange.call(this, n)
				}).bind("change.form", function (t) {
					var n = t.target;
					e(n).hasClass("textbox-text") || (-1 == e.inArray(n, i.dirtyFields) && i.dirtyFields.push(n), i.onChange.call(this, n))
				}),
				a(n, i.novalidate)
			}
			(this)
		})
	},
	e.fn.form.methods = {
		options: function (t) {
			return e.data(t[0], "form").options
		},
		submit: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		load: function (e, t) {
			return e.each(function () {
				i(this, t)
			})
		},
		clear: function (t) {
			return t.each(function () {
				!function (t) {
					e("input,select,textarea", t).each(function () {
						if (!e(this).hasClass("textbox-value")) {
							var t = this.type,
							n = this.tagName.toLowerCase();
							if ("text" == t || "hidden" == t || "password" == t || "textarea" == n)
								this.value = "";
							else if ("file" == t) {
								var i = e(this);
								if (!i.hasClass("textbox-value")) {
									var r = i.clone().val("");
									r.insertAfter(i),
									i.data("validatebox") ? (i.validatebox("destroy"), r.validatebox()) : i.remove()
								}
							} else
								"checkbox" == t || "radio" == t ? this.checked = !1 : "select" == n && (this.selectedIndex = -1)
						}
					});
					for (var n = e(), i = e(t), r = e.data(t, "form").options, a = 0; a < r.fieldTypes.length; a++) {
						var o = r.fieldTypes[a],
						s = i.find("." + o + "-f").not(n);
						s.length && s[o] && (s[o]("clear"), n = n.add(s))
					}
					i.form("validate")
				}
				(this)
			})
		},
		reset: function (t) {
			return t.each(function () {
				!function (t) {
					t.reset();
					for (var n = e(t), i = e.data(t, "form").options, r = i.fieldTypes.length - 1; r >= 0; r--) {
						var a = i.fieldTypes[r],
						o = n.find("." + a + "-f");
						o.length && o[a] && o[a]("reset")
					}
					n.form("validate")
				}
				(this)
			})
		},
		validate: function (t) {
			return function (t) {
				if (e.fn.validatebox) {
					var n = e(t);
					n.find(".validatebox-text:not(:disabled)").validatebox("validate");
					var i = n.find(".validatebox-invalid");
					return i.filter(":not(:disabled):first").focus(),
					0 == i.length
				}
				return !0
			}
			(t[0])
		},
		disableValidation: function (e) {
			return e.each(function () {
				a(this, !0)
			})
		},
		enableValidation: function (e) {
			return e.each(function () {
				a(this, !1)
			})
		},
		resetValidation: function (t) {
			return t.each(function () {
				e(this).find(".validatebox-text:not(:disabled)").validatebox("resetValidation")
			})
		},
		resetDirty: function (t) {
			return t.each(function () {
				e(this).form("options").dirtyFields = []
			})
		}
	},
	e.fn.form.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.parser.parseOptions(t, [{
						ajax: "boolean",
						dirty: "boolean"
					}
				]), {
			url: n.attr("action") ? n.attr("action") : void 0
		})
	},
	e.fn.form.defaults = {
		fieldTypes: ["combobox", "combotree", "combogrid", "combotreegrid", "datetimebox", "datebox", "combo", "datetimespinner", "timespinner", "numberspinner", "spinner", "slider", "searchbox", "numberbox", "passwordbox", "filebox", "textbox", "switchbutton"],
		novalidate: !1,
		ajax: !0,
		iframe: !0,
		dirty: !1,
		dirtyFields: [],
		url: null,
		queryParams: {},
		onSubmit: function (t) {
			return e(this).form("validate")
		},
		onProgress: function (e) {},
		success: function (e) {},
		onBeforeLoad: function (e) {},
		onLoadSuccess: function (e) {},
		onLoadError: function () {},
		onChange: function (e) {}
	}
}
(jQuery), function (e) {
	e.fn.numberbox = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.numberbox.methods[t];
			return i ? i(this, n) : this.textbox(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "numberbox");
			n ? e.extend(n.options, t) : n = e.data(this, "numberbox", {
					options: e.extend({}, e.fn.numberbox.defaults, e.fn.numberbox.parseOptions(this), t)
				}),
			function (t) {
				var n = e.data(t, "numberbox"),
				i = n.options;
				e(t).addClass("numberbox-f").textbox(i),
				e(t).textbox("textbox").css({
					imeMode: "disabled"
				}),
				e(t).attr("numberboxName", e(t).attr("textboxName")),
				n.numberbox = e(t).next(),
				n.numberbox.addClass("numberbox");
				var r = i.parser.call(t, i.value),
				a = i.formatter.call(t, r);
				e(t).numberbox("initValue", r).numberbox("setText", a)
			}
			(this)
		})
	},
	e.fn.numberbox.methods = {
		options: function (t) {
			var n = t.data("textbox") ? t.textbox("options") : {};
			return e.extend(e.data(t[0], "numberbox").options, {
				width: n.width,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		fix: function (t) {
			return t.each(function () {
				var t = e(this).numberbox("options");
				t.value = null;
				var n = t.parser.call(this, e(this).numberbox("getText"));
				e(this).numberbox("setValue", n)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "numberbox").options;
					i.value = parseFloat(n);
					var n = i.parser.call(t, n),
					r = i.formatter.call(t, n);
					i.value = n,
					e(t).textbox("setText", r).textbox("setValue", n),
					r = i.formatter.call(t, e(t).textbox("getValue")),
					e(t).textbox("setText", r)
				}
				(this, n)
			})
		},
		clear: function (t) {
			return t.each(function () {
				e(this).textbox("clear"),
				e(this).numberbox("options").value = ""
			})
		},
		reset: function (t) {
			return t.each(function () {
				e(this).textbox("reset"),
				e(this).numberbox("setValue", e(this).numberbox("getValue"))
			})
		}
	},
	e.fn.numberbox.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.fn.textbox.parseOptions(t), e.parser.parseOptions(t, ["decimalSeparator", "groupSeparator", "suffix", {
						min: "number",
						max: "number",
						precision: "number"
					}
				]), {
			prefix: n.attr("prefix") ? n.attr("prefix") : void 0
		})
	},
	e.fn.numberbox.defaults = e.extend({}, e.fn.textbox.defaults, {
			inputEvents: {
				keypress: function (t) {
					var n = t.data.target;
					return e(n).numberbox("options").filter.call(n, t)
				},
				blur: function (t) {
					e(t.data.target).numberbox("fix")
				},
				keydown: function (t) {
					13 == t.keyCode && e(t.data.target).numberbox("fix")
				}
			},
			min: null,
			max: null,
			precision: 0,
			decimalSeparator: ".",
			groupSeparator: "",
			prefix: "",
			suffix: "",
			filter: function (t) {
				var n = e(this).numberbox("options"),
				i = e(this).numberbox("getText");
				if (t.metaKey || t.ctrlKey)
					return !0;
				if (e.inArray(String(t.which), ["46", "8", "13", "0"]) >= 0)
					return !0;
				var r = e("<span></span>");
				r.html(String.fromCharCode(t.which));
				var a = r.text();
				return r.remove(),
				!a || ("-" == a || a == n.decimalSeparator ? -1 == i.indexOf(a) : a == n.groupSeparator || "0123456789".indexOf(a) >= 0)
			},
			formatter: function (t) {
				if (!t)
					return t;
				t += "";
				var n = e(this).numberbox("options"),
				i = t,
				r = "",
				a = t.indexOf(".");
				if (a >= 0 && (i = t.substring(0, a), r = t.substring(a + 1, t.length)), n.groupSeparator)
					for (var o = /(\d+)(\d{3})/; o.test(i); )
						i = i.replace(o, "$1" + n.groupSeparator + "$2");
				return r ? n.prefix + i + n.decimalSeparator + r + n.suffix : n.prefix + i + n.suffix
			},
			parser: function (t) {
				t += "";
				var n = e(this).numberbox("options");
				n.prefix && (t = e.trim(t.replace(new RegExp("\\" + e.trim(n.prefix), "g"), ""))),
				n.suffix && (t = e.trim(t.replace(new RegExp("\\" + e.trim(n.suffix), "g"), ""))),
				parseFloat(t) != n.value && (n.groupSeparator && (t = e.trim(t.replace(new RegExp("\\" + n.groupSeparator, "g"), ""))), n.decimalSeparator && (t = e.trim(t.replace(new RegExp("\\" + n.decimalSeparator, "g"), "."))), t = t.replace(/\s/g, ""));
				var i = parseFloat(t).toFixed(n.precision);
				return isNaN(i) ? i = "" : "number" == typeof n.min && i < n.min ? i = n.min.toFixed(n.precision) : "number" == typeof n.max && i > n.max && (i = n.max.toFixed(n.precision)),
				i
			}
		})
}
(jQuery), function (e) {
	function t(t, i) {
		var r = e.data(t, "calendar").options,
		a = e(t);
		i && e.extend(r, {
			width: i.width,
			height: i.height
		}),
		a._size(r, a.parent()),
		a.find(".calendar-body")._outerHeight(a.height() - a.find(".calendar-header")._outerHeight()),
		a.find(".calendar-menu").is(":visible") && n(t)
	}
	function n(t) {
		var n = e.data(t, "calendar").options;
		if (e(t).find(".calendar-menu").show(), e(t).find(".calendar-menu-month-inner").is(":empty")) {
			e(t).find(".calendar-menu-month-inner").empty();
			for (var i = e('<table class="calendar-mtable"></table>').appendTo(e(t).find(".calendar-menu-month-inner")), r = 0, a = 0; a < 3; a++)
				for (var o = e("<tr></tr>").appendTo(i), s = 0; s < 4; s++)
					e('<td class="calendar-nav calendar-menu-month"></td>').html(n.months[r++]).attr("abbr", r).appendTo(o)
		}
		var l = e(t).find(".calendar-body"),
		c = e(t).find(".calendar-menu"),
		d = c.find(".calendar-menu-year-inner"),
		u = c.find(".calendar-menu-month-inner");
		d.find("input").val(n.year).focus(),
		u.find("td.calendar-selected").removeClass("calendar-selected"),
		u.find("td:eq(" + (n.month - 1) + ")").addClass("calendar-selected"),
		c._outerWidth(l._outerWidth()),
		c._outerHeight(l._outerHeight()),
		u._outerHeight(c.height() - d._outerHeight())
	}
	function i(t) {
		var n = e.data(t, "calendar").options;
		n.current && !n.validator.call(t, n.current) && (n.current = null);
		var i = new Date,
		r = i.getFullYear() + "," + (i.getMonth() + 1) + "," + i.getDate(),
		a = n.current ? n.current.getFullYear() + "," + (n.current.getMonth() + 1) + "," + n.current.getDate() : "",
		o = 6 - n.firstDay,
		s = o + 1;
		o >= 7 && (o -= 7),
		s >= 7 && (s -= 7),
		e(t).find(".calendar-title span").html(n.months[n.month - 1] + " " + n.year);
		var l = e(t).find("div.calendar-body");
		l.children("table").remove();
		var c = ['<table class="calendar-dtable" cellspacing="0" cellpadding="0" border="0">'];
		c.push("<thead><tr>"),
		n.showWeek && c.push('<th class="calendar-week">' + n.weekNumberHeader + "</th>");
		for (u = n.firstDay; u < n.weeks.length; u++)
			c.push("<th>" + n.weeks[u] + "</th>");
		for (u = 0; u < n.firstDay; u++)
			c.push("<th>" + n.weeks[u] + "</th>");
		c.push("</tr></thead>"),
		c.push("<tbody>");
		for (var d = function (t, n, i) {
			for (var r = e.data(t, "calendar").options, a = [], o = new Date(n, i, 0).getDate(), s = 1; s <= o; s++)
				a.push([n, i, s]);
				for (var l = [], c = [], d = -1; a.length > 0; ) {
					f = a.shift(),
					c.push(f);
					var u = new Date(f[0], f[1] - 1, f[2]).getDay();
					d == u ? u = 0 : u == (0 == r.firstDay ? 7 : r.firstDay) - 1 && (l.push(c), c = []),
					d = u
				}
				c.length && l.push(c);
				var h = l[0];
				if (h.length < 7)
					for (; h.length < 7; ) {
						var p = h[0],
						f = new Date(p[0], p[1] - 1, p[2] - 1);
						h.unshift([f.getFullYear(), f.getMonth() + 1, f.getDate()])
					}
				else {
					for (var p = h[0], c = [], s = 1; s <= 7; s++)
						f = new Date(p[0], p[1] - 1, p[2] - s), c.unshift([f.getFullYear(), f.getMonth() + 1, f.getDate()]);
					l.unshift(c)
				}
				for (var m = l[l.length - 1]; m.length < 7; ) {
					var g = m[m.length - 1],
					f = new Date(g[0], g[1] - 1, g[2] + 1);
					m.push([f.getFullYear(), f.getMonth() + 1, f.getDate()])
				}
				if (l.length < 6) {
					for (var g = m[m.length - 1], c = [], s = 1; s <= 7; s++)
						f = new Date(g[0], g[1] - 1, g[2] + s), c.push([f.getFullYear(), f.getMonth() + 1, f.getDate()]);
					l.push(c)
				}
				return l
			}
				(t, n.year, n.month), u = 0; u < d.length; u++) {
				var h = d[u],
				p = "";
				if (0 == u ? p = "calendar-first" : u == d.length - 1 && (p = "calendar-last"), c.push('<tr class="' + p + '">'), n.showWeek) {
					var f = n.getWeekNumber(new Date(h[0][0], parseInt(h[0][1]) - 1, h[0][2]));
					c.push('<td class="calendar-week">' + f + "</td>")
				}
				for (var m = 0; m < h.length; m++) {
					var g = h[m],
					v = g[0] + "," + g[1] + "," + g[2],
					b = new Date(g[0], parseInt(g[1]) - 1, g[2]),
					y = n.formatter.call(t, b),
					x = n.styler.call(t, b),
					w = "",
					_ = "";
					"string" == typeof x ? _ = x : x && (w = x.class || "", _ = x.style || "");
					p = "calendar-day";
					n.year == g[0] && n.month == g[1] || (p += " calendar-other-month"),
					v == r && (p += " calendar-today"),
					v == a && (p += " calendar-selected"),
					m == o ? p += " calendar-saturday" : m == s && (p += " calendar-sunday"),
					0 == m ? p += " calendar-first" : m == h.length - 1 && (p += " calendar-last"),
					p += " " + w,
					n.validator.call(t, b) || (p += " calendar-disabled"),
					c.push('<td class="' + p + '" abbr="' + v + '" style="' + _ + '">' + y + "</td>")
				}
				c.push("</tr>")
			}
		c.push("</tbody>"),
		c.push("</table>"),
		l.append(c.join("")),
		l.children("table.calendar-dtable").prependTo(l),
		n.onNavigate.call(t, n.year, n.month)
	}
	e.fn.calendar = function (r, a) {
		return "string" == typeof r ? e.fn.calendar.methods[r](this, a) : (r = r || {}, this.each(function () {
				var a = e.data(this, "calendar");
				a ? e.extend(a.options, r) : (a = e.data(this, "calendar", {
							options: e.extend({}, e.fn.calendar.defaults, e.fn.calendar.parseOptions(this), r)
						}), function (n) {
					e(n).addClass("calendar").html('<div class="calendar-header"><div class="calendar-nav calendar-prevmonth"></div><div class="calendar-nav calendar-nextmonth"></div><div class="calendar-nav calendar-prevyear"></div><div class="calendar-nav calendar-nextyear"></div><div class="calendar-title"><span class="calendar-text"></span></div></div><div class="calendar-body"><div class="calendar-menu"><div class="calendar-menu-year-inner"><span class="calendar-nav calendar-menu-prev"></span><span><input class="calendar-menu-year" type="text"></input></span><span class="calendar-nav calendar-menu-next"></span></div><div class="calendar-menu-month-inner"></div></div></div>'),
					e(n).bind("_resize", function (i, r) {
						return (e(this).hasClass("easyui-fluid") || r) && t(n),
						!1
					})
				}
					(this)),
				0 == a.options.border && e(this).addClass("calendar-noborder"),
				t(this),
				function (t) {
					function r(t) {
						var n = e(t).closest(".calendar-day");
						return n.length ? n : e(t)
					}
					function a(n) {
						var r = e(t).find(".calendar-menu"),
						a = r.find(".calendar-menu-year").val(),
						o = r.find(".calendar-selected").attr("abbr");
						isNaN(a) || (l.year = parseInt(a), l.month = parseInt(o), i(t)),
						n && r.hide()
					}
					function o(e) {
						l.year += e,
						i(t),
						c.find(".calendar-menu-year").val(l.year)
					}
					function s(e) {
						l.month += e,
						l.month > 12 ? (l.year++, l.month = 1) : l.month < 1 && (l.year--, l.month = 12),
						i(t),
						c.find("td.calendar-selected").removeClass("calendar-selected"),
						c.find("td:eq(" + (l.month - 1) + ")").addClass("calendar-selected")
					}
					var l = e.data(t, "calendar").options,
					c = e(t).find(".calendar-menu");
					c.find(".calendar-menu-year").unbind(".calendar").bind("keypress.calendar", function (e) {
						13 == e.keyCode && a(!0)
					}),
					e(t).unbind(".calendar").bind("mouseover.calendar", function (e) {
						var t = r(e.target);
						(t.hasClass("calendar-nav") || t.hasClass("calendar-text") || t.hasClass("calendar-day") && !t.hasClass("calendar-disabled")) && t.addClass("calendar-nav-hover")
					}).bind("mouseout.calendar", function (e) {
						var t = r(e.target);
						(t.hasClass("calendar-nav") || t.hasClass("calendar-text") || t.hasClass("calendar-day") && !t.hasClass("calendar-disabled")) && t.removeClass("calendar-nav-hover")
					}).bind("click.calendar", function (e) {
						var d = r(e.target);
						if (d.hasClass("calendar-menu-next") || d.hasClass("calendar-nextyear"))
							o(1);
						else if (d.hasClass("calendar-menu-prev") || d.hasClass("calendar-prevyear"))
							o(-1);
						else if (d.hasClass("calendar-menu-month"))
							c.find(".calendar-selected").removeClass("calendar-selected"), d.addClass("calendar-selected"), a(!0);
						else if (d.hasClass("calendar-prevmonth"))
							s(-1);
						else if (d.hasClass("calendar-nextmonth"))
							s(1);
						else if (d.hasClass("calendar-text"))
							c.is(":visible") ? c.hide() : n(t);
						else if (d.hasClass("calendar-day")) {
							if (d.hasClass("calendar-disabled"))
								return;
							var u = l.current;
							d.closest("div.calendar-body").find(".calendar-selected").removeClass("calendar-selected"),
							d.addClass("calendar-selected");
							var h = d.attr("abbr").split(","),
							p = parseInt(h[0]),
							f = parseInt(h[1]),
							m = parseInt(h[2]);
							l.current = new Date(p, f - 1, m),
							l.onSelect.call(t, l.current),
							u && u.getTime() == l.current.getTime() || l.onChange.call(t, l.current, u),
							l.year == p && l.month == f || (l.year = p, l.month = f, i(t))
						}
					})
				}
				(this),
				i(this),
				e(this).find("div.calendar-menu").hide()
			}))
	},
	e.fn.calendar.methods = {
		options: function (t) {
			return e.data(t[0], "calendar").options
		},
		resize: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		moveTo: function (t, n) {
			return t.each(function () {
				if (n) {
					var t = e(this).calendar("options");
					if (t.validator.call(this, n)) {
						var i = t.current;
						e(this).calendar({
							year: n.getFullYear(),
							month: n.getMonth() + 1,
							current: n
						}),
						i && i.getTime() == n.getTime() || t.onChange.call(this, t.current, i)
					}
				} else {
					var r = new Date;
					e(this).calendar({
						year: r.getFullYear(),
						month: r.getMonth() + 1,
						current: n
					})
				}
			})
		}
	},
	e.fn.calendar.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.parser.parseOptions(t, ["weekNumberHeader", {
						firstDay: "number",
						fit: "boolean",
						border: "boolean",
						showWeek: "boolean"
					}
				]))
	},
	e.fn.calendar.defaults = {
		width: 180,
		height: 180,
		fit: !1,
		border: !0,
		showWeek: !1,
		firstDay: 0,
		weeks: ["S", "M", "T", "W", "T", "F", "S"],
		months: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
		year: (new Date).getFullYear(),
		month: (new Date).getMonth() + 1,
		current: function () {
			var e = new Date;
			return new Date(e.getFullYear(), e.getMonth(), e.getDate())
		}
		(),
		weekNumberHeader: "",
		getWeekNumber: function (e) {
			var t = new Date(e.getTime());
			t.setDate(t.getDate() + 4 - (t.getDay() || 7));
			var n = t.getTime();
			return t.setMonth(0),
			t.setDate(1),
			Math.floor(Math.round((n - t) / 864e5) / 7) + 1
		},
		formatter: function (e) {
			return e.getDate()
		},
		styler: function (e) {
			return ""
		},
		validator: function (e) {
			return !0
		},
		onSelect: function (e) {},
		onChange: function (e, t) {},
		onNavigate: function (e, t) {}
	}
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e(t).spinner("options");
		i.spin.call(t, n),
		i[n ? "onSpinDown" : "onSpinUp"].call(t),
		e(t).spinner("validate")
	}
	e.fn.spinner = function (n, i) {
		if ("string" == typeof n) {
			var r = e.fn.spinner.methods[n];
			return r ? r(this, i) : this.textbox(n, i)
		}
		return n = n || {},
		this.each(function () {
			var i = e.data(this, "spinner");
			i ? e.extend(i.options, n) : i = e.data(this, "spinner", {
					options: e.extend({}, e.fn.spinner.defaults, e.fn.spinner.parseOptions(this), n)
				}),
			function (n) {
				var i = e.data(n, "spinner"),
				r = i.options,
				a = e.extend(!0, [], r.icons);
				if ("left" == r.spinAlign || "right" == r.spinAlign) {
					r.spinArrow = !0,
					r.iconAlign = r.spinAlign;
					var o = {
						iconCls: "spinner-arrow",
						handler: function (n) {
							var i = e(n.target).closest(".spinner-arrow-up,.spinner-arrow-down");
							t(n.data.target, i.hasClass("spinner-arrow-down"))
						}
					};
					"left" == r.spinAlign ? a.unshift(o) : a.push(o)
				} else
					r.spinArrow = !1, "vertical" == r.spinAlign ? ("top" != r.buttonAlign && (r.buttonAlign = "bottom"), r.clsLeft = "textbox-button-bottom", r.clsRight = "textbox-button-top") : (r.clsLeft = "textbox-button-left", r.clsRight = "textbox-button-right");
				if (e(n).addClass("spinner-f").textbox(e.extend({}, r, {
							icons: a,
							doSize: !1,
							onResize: function (t, n) {
								if (!r.spinArrow) {
									var i = e(this).next(),
									a = i.find(".textbox-button:not(.spinner-button)");
									if (a.length) {
										var o = a.outerWidth(),
										s = a.outerHeight(),
										l = i.find(".spinner-button." + r.clsLeft),
										c = i.find(".spinner-button." + r.clsRight);
										"right" == r.buttonAlign ? c.css("marginRight", o + "px") : "left" == r.buttonAlign ? l.css("marginLeft", o + "px") : "top" == r.buttonAlign ? c.css("marginTop", s + "px") : l.css("marginBottom", s + "px")
									}
								}
								r.onResize.call(this, t, n)
							}
						})), e(n).attr("spinnerName", e(n).attr("textboxName")), i.spinner = e(n).next(), i.spinner.addClass("spinner"), r.spinArrow) {
					var s = i.spinner.find(".spinner-arrow");
					s.append('<a href="javascript:;" class="spinner-arrow-up" tabindex="-1"></a>'),
					s.append('<a href="javascript:;" class="spinner-arrow-down" tabindex="-1"></a>')
				} else {
					var l = e('<a href="javascript:;" class="textbox-button spinner-button"></a>').addClass(r.clsLeft).appendTo(i.spinner),
					c = e('<a href="javascript:;" class="textbox-button spinner-button"></a>').addClass(r.clsRight).appendTo(i.spinner);
					l.linkbutton({
						iconCls: r.reversed ? "spinner-button-up" : "spinner-button-down",
						onClick: function () {
							t(n, !r.reversed)
						}
					}),
					c.linkbutton({
						iconCls: r.reversed ? "spinner-button-down" : "spinner-button-up",
						onClick: function () {
							t(n, r.reversed)
						}
					}),
					r.disabled && e(n).spinner("disable"),
					r.readonly && e(n).spinner("readonly")
				}
				e(n).spinner("resize")
			}
			(this)
		})
	},
	e.fn.spinner.methods = {
		options: function (t) {
			var n = t.textbox("options");
			return e.extend(e.data(t[0], "spinner").options, {
				width: n.width,
				value: n.value,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		}
	},
	e.fn.spinner.parseOptions = function (t) {
		return e.extend({}, e.fn.textbox.parseOptions(t), e.parser.parseOptions(t, ["min", "max", "spinAlign", {
						increment: "number",
						reversed: "boolean"
					}
				]))
	},
	e.fn.spinner.defaults = e.extend({}, e.fn.textbox.defaults, {
			min: null,
			max: null,
			increment: 1,
			spinAlign: "right",
			reversed: !1,
			spin: function (e) {},
			onSpinUp: function () {},
			onSpinDown: function () {}
		})
}
(jQuery), function (e) {
	e.fn.numberspinner = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.numberspinner.methods[t];
			return i ? i(this, n) : this.numberbox(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "numberspinner");
			n ? e.extend(n.options, t) : e.data(this, "numberspinner", {
				options: e.extend({}, e.fn.numberspinner.defaults, e.fn.numberspinner.parseOptions(this), t)
			}),
			function (t) {
				e(t).addClass("numberspinner-f");
				var n = e.data(t, "numberspinner").options;
				e(t).numberbox(e.extend({}, n, {
						doSize: !1
					})).spinner(n),
				e(t).numberbox("setValue", n.value)
			}
			(this)
		})
	},
	e.fn.numberspinner.methods = {
		options: function (t) {
			var n = t.numberbox("options");
			return e.extend(e.data(t[0], "numberspinner").options, {
				width: n.width,
				value: n.value,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		}
	},
	e.fn.numberspinner.parseOptions = function (t) {
		return e.extend({}, e.fn.spinner.parseOptions(t), e.fn.numberbox.parseOptions(t), {})
	},
	e.fn.numberspinner.defaults = e.extend({}, e.fn.spinner.defaults, e.fn.numberbox.defaults, {
			spin: function (t) {
				!function (t, n) {
					var i = e.data(t, "numberspinner").options,
					r = parseFloat(e(t).numberbox("getValue") || i.value) || 0;
					n ? r -= i.increment : r += i.increment,
					e(t).numberbox("setValue", r)
				}
				(this, t)
			}
		})
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "timespinner").options;
		void 0 != n && (i.highlight = n);
		var r = i.selections[i.highlight];
		if (r) {
			var a = e(t).timespinner("textbox");
			e(t).timespinner("setSelectionRange", {
				start: r[0],
				end: r[1]
			}),
			a.focus()
		}
	}
	e.fn.timespinner = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.timespinner.methods[t];
			return i ? i(this, n) : this.spinner(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "timespinner");
			n ? e.extend(n.options, t) : e.data(this, "timespinner", {
				options: e.extend({}, e.fn.timespinner.defaults, e.fn.timespinner.parseOptions(this), t)
			}),
			function (t) {
				var n = e.data(t, "timespinner").options;
				e(t).addClass("timespinner-f").spinner(n);
				var i = n.formatter.call(t, n.parser.call(t, n.value));
				e(t).timespinner("initValue", i)
			}
			(this)
		})
	},
	e.fn.timespinner.methods = {
		options: function (t) {
			var n = t.data("spinner") ? t.spinner("options") : {};
			return e.extend(e.data(t[0], "timespinner").options, {
				width: n.width,
				value: n.value,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "timespinner").options,
					n = i.parser.call(t, n),
					r = i.formatter.call(t, n);
					e(t).spinner("setValue", r)
				}
				(this, n)
			})
		},
		getHours: function (t) {
			var n = e.data(t[0], "timespinner").options,
			i = t.timespinner("getValue").split(n.separator);
			return parseInt(i[0], 10)
		},
		getMinutes: function (t) {
			var n = e.data(t[0], "timespinner").options,
			i = t.timespinner("getValue").split(n.separator);
			return parseInt(i[1], 10)
		},
		getSeconds: function (t) {
			var n = e.data(t[0], "timespinner").options,
			i = t.timespinner("getValue").split(n.separator);
			return parseInt(i[2], 10) || 0
		}
	},
	e.fn.timespinner.parseOptions = function (t) {
		return e.extend({}, e.fn.spinner.parseOptions(t), e.parser.parseOptions(t, ["separator", {
						showSeconds: "boolean",
						highlight: "number"
					}
				]))
	},
	e.fn.timespinner.defaults = e.extend({}, e.fn.spinner.defaults, {
			inputEvents: e.extend({}, e.fn.spinner.defaults.inputEvents, {
				click: function (n) {
					(function (n) {
						for (var i = n.data.target, r = e.data(i, "timespinner").options, a = e(i).timespinner("getSelectionStart"), o = 0; o < r.selections.length; o++) {
							var s = r.selections[o];
							if (a >= s[0] && a <= s[1])
								return void t(i, o)
						}
					}).call(this, n)
				},
				blur: function (t) {
					var n = e(t.data.target);
					n.timespinner("setValue", n.timespinner("getText"))
				},
				keydown: function (t) {
					if (13 == t.keyCode) {
						var n = e(t.data.target);
						n.timespinner("setValue", n.timespinner("getText"))
					}
				}
			}),
			formatter: function (t) {
				function n(e) {
					return (e < 10 ? "0" : "") + e
				}
				if (!t)
					return "";
				var i = e(this).timespinner("options"),
				r = [n(t.getHours()), n(t.getMinutes())];
				return i.showSeconds && r.push(n(t.getSeconds())),
				r.join(i.separator)
			},
			parser: function (t) {
				function n(e) {
					if (!e)
						return null;
					var t = e.split(i.separator);
					return new Date(1900, 0, 0, parseInt(t[0], 10) || 0, parseInt(t[1], 10) || 0, parseInt(t[2], 10) || 0)
				}
				var i = e(this).timespinner("options"),
				r = n(t);
				if (r) {
					var a = n(i.min),
					o = n(i.max);
					a && a > r && (r = a),
					o && o < r && (r = o)
				}
				return r
			},
			selections: [[0, 2], [3, 5], [6, 8]],
			separator: ":",
			showSeconds: !1,
			highlight: 0,
			spin: function (n) {
				!function (n, i) {
					var r = e.data(n, "timespinner").options,
					a = e(n).timespinner("getValue"),
					o = r.selections[r.highlight],
					s = a.substring(0, o[0]),
					l = a.substring(o[0], o[1]),
					c = a.substring(o[1]),
					d = s + ((parseInt(l, 10) || 0) + r.increment * (i ? -1 : 1)) + c;
					e(n).timespinner("setValue", d),
					t(n)
				}
				(this, n)
			}
		})
}
(jQuery), function (e) {
	e.fn.datetimespinner = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.datetimespinner.methods[t];
			return i ? i(this, n) : this.timespinner(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "datetimespinner");
			n ? e.extend(n.options, t) : e.data(this, "datetimespinner", {
				options: e.extend({}, e.fn.datetimespinner.defaults, e.fn.datetimespinner.parseOptions(this), t)
			}),
			function (t) {
				var n = e.data(t, "datetimespinner").options;
				e(t).addClass("datetimespinner-f").timespinner(n)
			}
			(this)
		})
	},
	e.fn.datetimespinner.methods = {
		options: function (t) {
			var n = t.timespinner("options");
			return e.extend(e.data(t[0], "datetimespinner").options, {
				width: n.width,
				value: n.value,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		}
	},
	e.fn.datetimespinner.parseOptions = function (t) {
		return e.extend({}, e.fn.timespinner.parseOptions(t), e.parser.parseOptions(t, []))
	},
	e.fn.datetimespinner.defaults = e.extend({}, e.fn.timespinner.defaults, {
			formatter: function (t) {
				return t ? e.fn.datebox.defaults.formatter.call(this, t) + " " + e.fn.timespinner.defaults.formatter.call(this, t) : ""
			},
			parser: function (t) {
				if (!(t = e.trim(t)))
					return null;
				var n = t.split(" "),
				i = e.fn.datebox.defaults.parser.call(this, n[0]);
				if (n.length < 2)
					return i;
				var r = e.fn.timespinner.defaults.parser.call(this, n[1]);
				return new Date(i.getFullYear(), i.getMonth(), i.getDate(), r.getHours(), r.getMinutes(), r.getSeconds())
			},
			selections: [[0, 2], [3, 5], [6, 10], [11, 13], [14, 16], [17, 19]]
		})
}
(jQuery), function ($) {
	function _633(e, t) {
		return $.easyui.indexOfArray(e, t)
	}
	function _634(e, t, n) {
		$.easyui.removeArrayItem(e, t, n)
	}
	function _635(e, t, n) {
		$.easyui.addArrayItem(e, t, n)
	}
	function _636(e, t) {
		return $.data(e, "treegrid") ? t.slice(1) : t
	}
	function _638(e) {
		var t = $.data(e, "datagrid"),
		n = t.options,
		i = t.panel,
		r = t.dc,
		a = null;
		n.sharedStyleSheet ? a = "boolean" == typeof n.sharedStyleSheet ? "head" : n.sharedStyleSheet : (a = i.closest("div.datagrid-view")).length || (a = r.view);
		var o = $(a),
		s = $.data(o[0], "ss");
		return s || (s = $.data(o[0], "ss", {
					cache: {},
					dirty: []
				})), {
			add: function (e) {
				for (var t = ['<style type="text/css" easyui="true">'], n = 0; n < e.length; n++)
					s.cache[e[n][0]] = {
						width: e[n][1]
					};
				var i = 0;
				for (var r in s.cache) {
					var a = s.cache[r];
					a.index = i++,
					t.push(r + "{width:" + a.width + "}")
				}
				t.push("</style>"),
				$(t.join("\n")).appendTo(o),
				o.children("style[easyui]:not(:last)").remove()
			},
			getRule: function (e) {
				var t = o.children("style[easyui]:last")[0],
				n = t.styleSheet ? t.styleSheet : t.sheet || document.styleSheets[document.styleSheets.length - 1];
				return (n.cssRules || n.rules)[e]
			},
			set: function (e, t) {
				var n = s.cache[e];
				if (n) {
					n.width = t;
					var i = this.getRule(n.index);
					i && (i.style.width = t)
				}
			},
			remove: function (e) {
				var t = [];
				for (var n in s.cache)
					 - 1 == n.indexOf(e) && t.push([n, s.cache[n].width]);
				s.cache = {},
				this.add(t)
			},
			dirty: function (e) {
				e && s.dirty.push(e)
			},
			clean: function () {
				for (var e = 0; e < s.dirty.length; e++)
					this.remove(s.dirty[e]);
				s.dirty = []
			}
		}
	}
	function _647(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = n.panel;
		if (t && $.extend(i, t), 1 == i.fit) {
			var a = r.panel("panel").parent();
			i.width = a.width(),
			i.height = a.height()
		}
		r.panel("resize", i)
	}
	function _64c(e) {
		var t = $.data(e, "datagrid"),
		n = t.options,
		i = t.dc,
		r = t.panel,
		a = r.width(),
		o = r.height(),
		s = i.view,
		l = i.view1,
		c = i.view2,
		d = l.children("div.datagrid-header"),
		u = c.children("div.datagrid-header"),
		h = d.find("table"),
		p = u.find("table");
		s.width(a);
		var f = d.children("div.datagrid-header-inner").show();
		l.width(f.find("table").width()),
		n.showHeader || f.hide(),
		c.width(a - l._outerWidth()),
		l.children()._outerWidth(l.width()),
		c.children()._outerWidth(c.width());
		var m = d.add(u).add(h).add(p);
		m.css("height", "");
		var g = Math.max(h.height(), p.height());
		m._outerHeight(g),
		s.children(".datagrid-empty").css("top", g + "px"),
		i.body1.add(i.body2).children("table.datagrid-btable-frozen").css({
			position: "absolute",
			top: i.header2._outerHeight()
		});
		var v = i.body2.children("table.datagrid-btable-frozen")._outerHeight(),
		b = v + u._outerHeight() + c.children(".datagrid-footer")._outerHeight();
		r.children(":not(.datagrid-view,.datagrid-mask,.datagrid-mask-msg)").each(function () {
			b += $(this)._outerHeight()
		});
		var y = r.outerHeight() - r.height(),
		x = r._size("minHeight") || "",
		w = r._size("maxHeight") || "";
		l.add(c).children("div.datagrid-body").css({
			marginTop: v,
			height: isNaN(parseInt(n.height)) ? "" : o - b,
			minHeight: x ? x - y - b : "",
			maxHeight: w ? w - y - b : ""
		}),
		s.height(c.height())
	}
	function _65d(e, t, n) {
		function i(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = $(e[n]),
				r = $(t[n]);
				i.css("height", ""),
				r.css("height", "");
				var a = Math.max(i.height(), r.height());
				i.css("height", a),
				r.css("height", a)
			}
		}
		$.data(e, "datagrid").data.rows;
		var r = $.data(e, "datagrid").options,
		a = $.data(e, "datagrid").dc;
		if (!a.body1.is(":empty") && (!r.nowrap || r.autoRowHeight || n))
			if (void 0 != t) {
				i(o = r.finder.getTr(e, t, "body", 1), s = r.finder.getTr(e, t, "body", 2))
			} else {
				var o = r.finder.getTr(e, 0, "allbody", 1),
				s = r.finder.getTr(e, 0, "allbody", 2);
				if (i(o, s), r.showFooter) {
					i(o = r.finder.getTr(e, 0, "allfooter", 1), s = r.finder.getTr(e, 0, "allfooter", 2))
				}
			}
		if (_64c(e), "auto" == r.height) {
			var l = a.body1.parent(),
			c = a.body2,
			d = function (e) {
				var t = 0,
				n = 0;
				return $(e).children().each(function () {
					var e = $(this);
					e.is(":visible") && (n += e._outerHeight(), t < e._outerWidth() && (t = e._outerWidth()))
				}), {
					width: t,
					height: n
				}
			}
			(c),
			u = d.height;
			d.width > c.width() && (u += 18),
			u -= parseInt(c.css("marginTop")) || 0,
			l.height(u),
			c.height(u),
			a.view.height(a.view2.height())
		}
		a.body2.triggerHandler("scroll")
	}
	function _66a(e, t) {
		function n(n) {
			var i = n ? 1 : 2,
			o = r.finder.getTr(e, t, "body", i);
			(n ? a.body1 : a.body2).children("table.datagrid-btable-frozen").append(o)
		}
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = i.dc;
		a.body2.children("table.datagrid-btable-frozen").length || a.body1.add(a.body2).prepend('<table class="datagrid-btable datagrid-btable-frozen" cellspacing="0" cellpadding="0"></table>'),
		n(!0),
		n(!1),
		_64c(e)
	}
	function _671(_672, _673) {
		function _674() {
			var _675 = [],
			_676 = [];
			return $(_672).children("thead").each(function () {
				var opt = $.parser.parseOptions(this, [{
								frozen: "boolean"
							}
						]);
				$(this).find("tr").each(function () {
					var cols = [];
					$(this).find("th").each(function () {
						var th = $(this),
						col = $.extend({}, $.parser.parseOptions(this, ["id", "field", "align", "halign", "order", "width", {
											sortable: "boolean",
											checkbox: "boolean",
											resizable: "boolean",
											fixed: "boolean"
										}, {
											rowspan: "number",
											colspan: "number"
										}
									]), {
								title: th.html() || void 0,
								hidden: !!th.attr("hidden") || void 0,
								formatter: th.attr("formatter") ? eval(th.attr("formatter")) : void 0,
								styler: th.attr("styler") ? eval(th.attr("styler")) : void 0,
								sorter: th.attr("sorter") ? eval(th.attr("sorter")) : void 0
							});
						if (col.width && -1 == String(col.width).indexOf("%") && (col.width = parseInt(col.width)), th.attr("editor")) {
							var s = $.trim(th.attr("editor"));
							"{" == s.substr(0, 1) ? col.editor = eval("(" + s + ")") : col.editor = s
						}
						cols.push(col)
					}),
					opt.frozen ? _675.push(cols) : _676.push(cols)
				})
			}),
			[_675, _676]
		}
		var _677 = $('<div class="datagrid-wrap"><div class="datagrid-view"><div class="datagrid-view1"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"><div class="datagrid-body-inner"></div></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div><div class="datagrid-view2"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div></div></div>').insertAfter(_672);
		_677.panel({
			doSize: !1,
			cls: "datagrid"
		}),
		$(_672).addClass("datagrid-f").hide().appendTo(_677.children("div.datagrid-view"));
		var cc = _674(),
		view = _677.children("div.datagrid-view"),
		_678 = view.children("div.datagrid-view1"),
		_679 = view.children("div.datagrid-view2");
		return {
			panel: _677,
			frozenColumns: cc[0],
			columns: cc[1],
			dc: {
				view: view,
				view1: _678,
				view2: _679,
				header1: _678.children("div.datagrid-header").children("div.datagrid-header-inner"),
				header2: _679.children("div.datagrid-header").children("div.datagrid-header-inner"),
				body1: _678.children("div.datagrid-body").children("div.datagrid-body-inner"),
				body2: _679.children("div.datagrid-body"),
				footer1: _678.children("div.datagrid-footer").children("div.datagrid-footer-inner"),
				footer2: _679.children("div.datagrid-footer").children("div.datagrid-footer-inner")
			}
		}
	}
	function _67a(_67b) {
		function _680(e, t, n) {
			if (t) {
				$(e).show(),
				$(e).empty();
				var i = $('<div class="datagrid-cell" style="position:absolute;left:-99999px"></div>').appendTo("body");
				i._outerWidth(99);
				var r = 100 - parseInt(i[0].style.width);
				i.remove();
				var a = [],
				o = [],
				s = [];
				opts.sortName && (a = opts.sortName.split(","), o = opts.sortOrder.split(","));
				for (var l = $('<table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0"><tbody></tbody></table>').appendTo(e), c = 0; c < t.length; c++)
					for (var d = $('<tr class="datagrid-header-row"></tr>').appendTo($("tbody", l)), u = t[c], h = 0; h < u.length; h++) {
						var p = u[h],
						f = "";
						p.rowspan && (f += 'rowspan="' + p.rowspan + '" '),
						p.colspan && (f += 'colspan="' + p.colspan + '" ', p.id || (p.id = ["datagrid-td-group" + _632, c, h].join("-"))),
						p.id && (f += 'id="' + p.id + '"');
						b = $("<td " + f + "></td>").appendTo(d);
						if (p.checkbox)
							b.attr("field", p.field), $('<div class="datagrid-header-check"></div>').html('<input type="checkbox"/>').appendTo(b);
						else if (p.field) {
							b.attr("field", p.field),
							b.append('<div class="datagrid-cell"><span></span><span class="datagrid-sort-icon"></span></div>'),
							b.find("span:first").html(p.title);
							var m = b.find("div.datagrid-cell"),
							g = _633(a, p.field);
							if (g >= 0 && m.addClass("datagrid-sort-" + o[g]), p.sortable && m.addClass("datagrid-sort"), 0 == p.resizable && m.attr("resizable", "false"), p.width) {
								var v = $.parser.parseValue("width", p.width, dc.view, opts.scrollbarSize + (opts.rownumbers ? opts.rownumberWidth : 0));
								p.deltaWidth = r,
								p.boxWidth = v - r
							} else
								p.auto = !0;
							m.css("text-align", p.halign || p.align || ""),
							p.cellClass = _67c.cellClassPrefix + "-" + p.field.replace(/[\.|\s]/g, "-"),
							m.addClass(p.cellClass)
						} else
							$('<div class="datagrid-cell-group"></div>').html(p.title).appendTo(b);
						p.hidden && (b.hide(), s.push(p.field))
					}
				if (n && opts.rownumbers) {
					var b = $('<td rowspan="' + opts.frozenColumns.length + '"><div class="datagrid-header-rownumber"></div></td>');
					0 == $("tr", l).length ? b.wrap('<tr class="datagrid-header-row"></tr>').parent().appendTo($("tbody", l)) : b.prependTo($("tr:first", l))
				}
				for (c = 0; c < s.length; c++)
					_6ce(_67b, s[c], -1)
			}
		}
		function _681() {
			for (var e = [[".datagrid-header-rownumber", opts.rownumberWidth - 1 + "px"], [".datagrid-cell-rownumber", opts.rownumberWidth - 1 + "px"]], t = _68f(_67b, !0).concat(_68f(_67b)), n = 0; n < t.length; n++) {
				var i = _690(_67b, t[n]);
				i && !i.checkbox && e.push(["." + i.cellClass, i.boxWidth ? i.boxWidth + "px" : "auto"])
			}
			_67c.ss.add(e),
			_67c.ss.dirty(_67c.cellSelectorPrefix),
			_67c.cellSelectorPrefix = "." + _67c.cellClassPrefix
		}
		var _67c = $.data(_67b, "datagrid"),
		opts = _67c.options,
		dc = _67c.dc,
		_67d = _67c.panel;
		if (_67c.ss = $(_67b).datagrid("createStyleSheet"), _67d.panel($.extend({}, opts, {
					id: null,
					doSize: !1,
					onResize: function (e, t) {
						$.data(_67b, "datagrid") && (_64c(_67b), $(_67b).datagrid("fitColumns"), opts.onResize.call(_67d, e, t))
					},
					onExpand: function () {
						$.data(_67b, "datagrid") && ($(_67b).datagrid("fixRowHeight").datagrid("fitColumns"), opts.onExpand.call(_67d))
					}
				})), _67c.rowIdPrefix = "datagrid-row-r" + ++_632, _67c.cellClassPrefix = "datagrid-cell-c" + _632, _680(dc.header1, opts.frozenColumns, !0), _680(dc.header2, opts.columns, !1), _681(), dc.header1.add(dc.header2).css("display", opts.showHeader ? "block" : "none"), dc.footer1.add(dc.footer2).css("display", opts.showFooter ? "block" : "none"), opts.toolbar)
			if ($.isArray(opts.toolbar)) {
				$("div.datagrid-toolbar", _67d).remove();
				for (var tb = $('<div class="datagrid-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(_67d), tr = tb.find("tr"), i = 0; i < opts.toolbar.length; i++) {
					var btn = opts.toolbar[i];
					if ("-" == btn)
						$('<td><div class="datagrid-btn-separator"></div></td>').appendTo(tr);
					else {
						var td = $("<td></td>").appendTo(tr),
						tool = $('<a href="javascript:;"></a>').appendTo(td);
						tool[0].onclick = eval(btn.handler || function () {}),
						tool.linkbutton($.extend({}, btn, {
								plain: !0
							}))
					}
				}
			} else
				$(opts.toolbar).addClass("datagrid-toolbar").prependTo(_67d), $(opts.toolbar).show();
		else
			$("div.datagrid-toolbar", _67d).remove();
		if ($("div.datagrid-pager", _67d).remove(), opts.pagination) {
			var _682 = $('<div class="datagrid-pager"></div>');
			if ("bottom" == opts.pagePosition)
				_682.appendTo(_67d);
			else if ("top" == opts.pagePosition)
				_682.addClass("datagrid-pager-top").prependTo(_67d);
			else {
				var ptop = $('<div class="datagrid-pager datagrid-pager-top"></div>').prependTo(_67d);
				_682.appendTo(_67d),
				_682 = _682.add(ptop)
			}
			_682.pagination({
				total: 0,
				pageNumber: opts.pageNumber,
				pageSize: opts.pageSize,
				pageList: opts.pageList,
				onSelectPage: function (e, t) {
					opts.pageNumber = e || 1,
					opts.pageSize = t,
					_682.pagination("refresh", {
						pageNumber: e,
						pageSize: t
					}),
					_6cc(_67b)
				}
			}),
			opts.pageSize = _682.pagination("options").pageSize
		}
	}
	function _691(e) {
		var t = $.data(e, "datagrid"),
		n = t.panel,
		i = t.options,
		r = t.dc,
		a = r.header1.add(r.header2);
		a.unbind(".datagrid");
		for (var o in i.headerEvents)
			a.bind(o + ".datagrid", i.headerEvents[o]);
		var s = a.find("div.datagrid-cell"),
		l = "right" == i.resizeHandle ? "e" : "left" == i.resizeHandle ? "w" : "e,w";
		s.each(function () {
			$(this).resizable({
				handles: l,
				disabled: !!$(this).attr("resizable") && "false" == $(this).attr("resizable"),
				minWidth: 25,
				onStartResize: function (e) {
					t.resizing = !0,
					a.css("cursor", $("body").css("cursor")),
					t.proxy || (t.proxy = $('<div class="datagrid-resize-proxy"></div>').appendTo(r.view)),
					t.proxy.css({
						left: e.pageX - $(n).offset().left - 1,
						display: "none"
					}),
					setTimeout(function () {
						t.proxy && t.proxy.show()
					}, 500)
				},
				onResize: function (e) {
					return t.proxy.css({
						left: e.pageX - $(n).offset().left - 1,
						display: "block"
					}),
					!1
				},
				onStopResize: function (n) {
					a.css("cursor", ""),
					$(this).css("height", "");
					var r = $(this).parent().attr("field"),
					o = _690(e, r);
					o.width = $(this)._outerWidth(),
					o.boxWidth = o.width - o.deltaWidth,
					o.auto = void 0,
					$(this).css("width", ""),
					$(e).datagrid("fixColumnSize", r),
					t.proxy.remove(),
					t.proxy = null,
					$(this).parents("div:first.datagrid-header").parent().hasClass("datagrid-view1") && _64c(e),
					$(e).datagrid("fitColumns"),
					i.onResizeColumn.call(e, r, o.width),
					setTimeout(function () {
						t.resizing = !1
					}, 0)
				}
			})
		});
		var c = r.body1.add(r.body2);
		c.unbind();
		for (var o in i.rowEvents)
			c.bind(o, i.rowEvents[o]);
		r.body1.bind("mousewheel DOMMouseScroll", function (e) {
			e.preventDefault();
			var t = e.originalEvent || window.event,
			n = t.wheelDelta || -1 * t.detail;
			"deltaY" in t && (n = -1 * t.deltaY);
			var i = $(e.target).closest("div.datagrid-view").children(".datagrid-f").data("datagrid").dc;
			i.body2.scrollTop(i.body2.scrollTop() - n)
		}),
		r.body2.bind("scroll", function () {
			var e = r.view1.children("div.datagrid-body");
			e.scrollTop($(this).scrollTop());
			var t = r.body1.children(":first"),
			n = r.body2.children(":first");
			if (t.length && n.length) {
				var i = t.offset().top,
				a = n.offset().top;
				i != a && e.scrollTop(e.scrollTop() + i - a)
			}
			r.view2.children("div.datagrid-header,div.datagrid-footer")._scrollLeft($(this)._scrollLeft()),
			r.body2.children("table.datagrid-btable-frozen").css("left", -$(this)._scrollLeft())
		})
	}
	function _69b(e) {
		return function (t) {
			var n = $(t.target).closest("td[field]");
			if (n.length) {
				var i = _69e(n);
				!$(i).data("datagrid").resizing && e ? n.addClass("datagrid-header-over") : n.removeClass("datagrid-header-over")
			}
		}
	}
	function _69f(e) {
		var t = _69e(e.target),
		n = $(t).datagrid("options"),
		i = $(e.target).closest("input[type=checkbox]");
		if (i.length) {
			if (n.singleSelect && n.selectOnCheck)
				return !1;
			i.is(":checked") ? _6a1(t) : _6a2(t),
			e.stopPropagation()
		} else {
			var r = $(e.target).closest(".datagrid-cell");
			if (r.length) {
				var a = r.offset().left + 5,
				o = r.offset().left + r._outerWidth() - 5;
				e.pageX < o && e.pageX > a && _6a3(t, r.parent().attr("field"))
			}
		}
	}
	function _6a4(e) {
		var t = _69e(e.target),
		n = $(t).datagrid("options"),
		i = $(e.target).closest(".datagrid-cell");
		if (i.length) {
			var r = i.offset().left + 5,
			a = i.offset().left + i._outerWidth() - 5;
			if ("right" == n.resizeHandle ? e.pageX > a : "left" == n.resizeHandle ? e.pageX < r : e.pageX < r || e.pageX > a) {
				var o = i.parent().attr("field"),
				s = _690(t, o);
				if (0 == s.resizable)
					return;
				$(t).datagrid("autoSizeColumn", o),
				s.auto = !1
			}
		}
	}
	function _6a7(e) {
		var t = _69e(e.target),
		n = $(t).datagrid("options"),
		i = $(e.target).closest("td[field]");
		n.onHeaderContextMenu.call(t, e, i.attr("field"))
	}
	function _6a9(e) {
		return function (t) {
			var n = _6ab(t.target);
			if (n) {
				var i = _69e(n);
				if (!$.data(i, "datagrid").resizing) {
					var r = _6ae(n);
					if (e)
						_6af(i, r);
					else {
						$.data(i, "datagrid").options.finder.getTr(i, r).removeClass("datagrid-row-over")
					}
				}
			}
		}
	}
	function _6b0(e) {
		var t = _6ab(e.target);
		if (t) {
			var n = _69e(t),
			i = $.data(n, "datagrid").options,
			r = _6ae(t),
			a = $(e.target);
			if (a.parent().hasClass("datagrid-cell-check"))
				i.singleSelect && i.selectOnCheck ? (a._propAttr("checked", !a.is(":checked")), _6b3(n, r)) : a.is(":checked") ? (a._propAttr("checked", !1), _6b3(n, r)) : (a._propAttr("checked", !0), _6b4(n, r));
			else {
				var o = i.finder.getRow(n, r),
				s = a.closest("td[field]", t);
				if (s.length) {
					var l = s.attr("field");
					i.onClickCell.call(n, r, l, o[l])
				}
				if (1 == i.singleSelect)
					_6b6(n, r);
				else if (i.ctrlSelect)
					if (e.ctrlKey)
						t.hasClass("datagrid-row-selected") ? _6b7(n, r) : _6b6(n, r);
					else if (e.shiftKey) {
						$(n).datagrid("clearSelections");
						for (var c = Math.min(i.lastSelectedIndex || 0, r), d = Math.max(i.lastSelectedIndex || 0, r), u = c; u <= d; u++)
							_6b6(n, u)
					} else
						$(n).datagrid("clearSelections"), _6b6(n, r), i.lastSelectedIndex = r;
				else
					t.hasClass("datagrid-row-selected") ? _6b7(n, r) : _6b6(n, r);
				i.onClickRow.apply(n, _636(n, [r, o]))
			}
		}
	}
	function _6ba(e) {
		var t = _6ab(e.target);
		if (t) {
			var n = _69e(t),
			i = $.data(n, "datagrid").options,
			r = _6ae(t),
			a = i.finder.getRow(n, r),
			o = $(e.target).closest("td[field]", t);
			if (o.length) {
				var s = o.attr("field");
				i.onDblClickCell.call(n, r, s, a[s])
			}
			i.onDblClickRow.apply(n, _636(n, [r, a]))
		}
	}
	function _6be(e) {
		var t = _6ab(e.target);
		if (t) {
			var n = _69e(t),
			i = $.data(n, "datagrid").options,
			r = _6ae(t),
			a = i.finder.getRow(n, r);
			i.onRowContextMenu.call(n, e, r, a)
		} else {
			var o = _6ab(e.target, ".datagrid-body");
			if (o) {
				n = _69e(o);
				(i = $.data(n, "datagrid").options).onRowContextMenu.call(n, e, -1, null)
			}
		}
	}
	function _69e(e) {
		return $(e).closest("div.datagrid-view").children(".datagrid-f")[0]
	}
	function _6ab(e, t) {
		var n = $(e).closest(t || "tr.datagrid-row");
		return n.length && n.parent().length ? n : void 0
	}
	function _6ae(e) {
		return e.attr("datagrid-row-index") ? parseInt(e.attr("datagrid-row-index")) : e.attr("node-id")
	}
	function _6a3(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options;
		t = t || {};
		var r = {
			sortName: i.sortName,
			sortOrder: i.sortOrder
		};
		"object" == typeof t && $.extend(r, t);
		var a = [],
		o = [];
		if (r.sortName && (a = r.sortName.split(","), o = r.sortOrder.split(",")), "string" == typeof t) {
			var s = t;
			if (!(f = _690(e, s)).sortable || n.resizing)
				return;
			var l = f.order || "asc",
			c = _633(a, s);
			if (c >= 0) {
				var d = "asc" == o[c] ? "desc" : "asc";
				i.multiSort && d == l ? (a.splice(c, 1), o.splice(c, 1)) : o[c] = d
			} else
				i.multiSort ? (a.push(s), o.push(l)) : (a = [s], o = [l]);
			r.sortName = a.join(","),
			r.sortOrder = o.join(",")
		}
		if (0 != i.onBeforeSortColumn.call(e, r.sortName, r.sortOrder)) {
			$.extend(i, r);
			var u = n.dc,
			h = u.header1.add(u.header2);
			h.find("div.datagrid-cell").removeClass("datagrid-sort-asc datagrid-sort-desc");
			for (var p = 0; p < a.length; p++) {
				var f = _690(e, a[p]);
				h.find("div." + f.cellClass).addClass("datagrid-sort-" + o[p])
			}
			i.remoteSort ? _6cc(e) : _6cd(e, $(e).datagrid("getData")),
			i.onSortColumn.call(e, i.sortName, i.sortOrder)
		}
	}
	function _6ce(e, t, n) {
		function i(i) {
			var r = _6d4(e, i);
			if (r.length) {
				var a = _633(r[r.length - 1], t);
				if (a >= 0)
					for (var o = 0; o < r.length - 1; o++) {
						var s = $("#" + r[o][a]),
						l = parseInt(s.attr("colspan") || 1) + (n || 0);
						s.attr("colspan", l),
						l ? s.show() : s.hide()
					}
			}
		}
		i(!0),
		i(!1)
	}
	function _6d9(e) {
		function t() {
			if (r.fitColumns) {
				i.leftWidth || (i.leftWidth = 0);
				for (var t = 0, n = [], a = _68f(e, !1), s = 0; s < a.length; s++) {
					var l = _690(e, a[s]);
					(function (e) {
						if (String(e.width || "").indexOf("%") >= 0)
							return !1;
						if (!(e.hidden || e.checkbox || e.auto || e.fixed))
							return !0
					})(l) && (t += l.width, n.push({
							field: l.field,
							col: l,
							addingWidth: 0
						}))
				}
				if (t) {
					n[n.length - 1].addingWidth -= i.leftWidth;
					var c = o.children("div.datagrid-header-inner").show(),
					d = o.width() - o.find("table").width() - r.scrollbarSize + i.leftWidth,
					u = d / t;
					r.showHeader || c.hide();
					for (s = 0; s < n.length; s++) {
						var h = n[s],
						p = parseInt(h.col.width * u);
						h.addingWidth += p,
						d -= p
					}
					n[n.length - 1].addingWidth += d;
					for (s = 0; s < n.length; s++) {
						(h = n[s]).col.boxWidth + h.addingWidth > 0 && (h.col.boxWidth += h.addingWidth, h.col.width += h.addingWidth)
					}
					i.leftWidth = d,
					$(e).datagrid("fixColumnSize")
				}
			}
		}
		function n(t) {
			var n = a.header1.add(a.header2).find(".datagrid-cell-group");
			n.length && (n.each(function () {
					$(this)._outerWidth(t ? $(this).parent().width() : 10)
				}), t && _64c(e))
		}
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = i.dc,
		o = a.view2.children("div.datagrid-header");
		a.body2.css("overflow-x", ""),
		n(),
		function () {
			var t = !1,
			n = _68f(e, !0).concat(_68f(e, !1));
			$.map(n, function (n) {
				var i = _690(e, n);
				if (String(i.width || "").indexOf("%") >= 0) {
					var o = $.parser.parseValue("width", i.width, a.view, r.scrollbarSize + (r.rownumbers ? r.rownumberWidth : 0)) - i.deltaWidth;
					o > 0 && (i.boxWidth = o, t = !0)
				}
			}),
			t && $(e).datagrid("fixColumnSize")
		}
		(),
		t(),
		n(!0),
		o.width() >= o.find("table").width() && a.body2.css("overflow-x", "hidden")
	}
	function _6eb(e, t) {
		function n(t) {
			function n(n) {
				function a(e) {
					return e.is(":visible") ? e._outerWidth() : o.html(e.html())._outerWidth()
				}
				var s = 0;
				return "header" == n ? s = a(i) : r.finder.getTr(e, 0, n).find('td[field="' + t + '"] div.datagrid-cell').each(function () {
						var e = a($(this));
						s < e && (s = e)
					}),
				s
			}
			var i = a.view.find('div.datagrid-header td[field="' + t + '"] div.datagrid-cell');
			i.css("width", "");
			var s = $(e).datagrid("getColumnOption", t);
			s.width = void 0,
			s.boxWidth = void 0,
			s.auto = !0,
			$(e).datagrid("fixColumnSize", t);
			var l = Math.max(n("header"), n("allbody"), n("allfooter")) + 1;
			i._outerWidth(l - 1),
			s.width = l,
			s.boxWidth = parseInt(i[0].style.width),
			s.deltaWidth = l - s.boxWidth,
			i.css("width", ""),
			$(e).datagrid("fixColumnSize", t),
			r.onResizeColumn.call(e, t, s.width)
		}
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = i.dc,
		o = $('<div class="datagrid-cell" style="position:absolute;left:-9999px"></div>').appendTo("body");
		if (t)
			n(t), $(e).datagrid("fitColumns");
		else {
			for (var s = !1, l = _68f(e, !0).concat(_68f(e, !1)), c = 0; c < l.length; c++) {
				t = l[c];
				_690(e, t).auto && (n(t), s = !0)
			}
			s && $(e).datagrid("fitColumns")
		}
		o.remove()
	}
	function _6f7(e, t) {
		function n(t) {
			var n = _690(e, t);
			n.cellClass && i.ss.set("." + n.cellClass, n.boxWidth ? n.boxWidth + "px" : "auto")
		}
		var i = $.data(e, "datagrid"),
		r = (i.options, i.dc.view.find("table.datagrid-btable,table.datagrid-ftable"));
		if (r.css("table-layout", "fixed"), t)
			n(t);
		else
			for (var a = _68f(e, !0).concat(_68f(e, !1)), o = 0; o < a.length; o++)
				n(a[o]);
		r.css("table-layout", ""),
		_6fc(e),
		_65d(e),
		_6fd(e)
	}
	function _6fc(e, t) {
		var n = $.data(e, "datagrid").dc;
		(t = t || n.view.find("td.datagrid-td-merged")).each(function () {
			var t = $(this),
			n = t.attr("colspan") || 1;
			if (n > 1) {
				for (var i = _690(e, t.attr("field")), r = i.boxWidth + i.deltaWidth - 1, a = 1; a < n; a++)
					t = t.next(), r += (i = _690(e, t.attr("field"))).boxWidth + i.deltaWidth;
				$(this).children("div.datagrid-cell")._outerWidth(r)
			}
		})
	}
	function _6fd(e) {
		$.data(e, "datagrid").dc.view.find("div.datagrid-editable").each(function () {
			var t = $(this),
			n = t.parent().attr("field"),
			i = $(e).datagrid("getColumnOption", n);
			t._outerWidth(i.boxWidth + i.deltaWidth - 1);
			var r = $.data(this, "datagrid.editor");
			r.actions.resize && r.actions.resize(r.target, t.width())
		})
	}
	function _690(e, t) {
		function n(e) {
			if (e)
				for (var n = 0; n < e.length; n++)
					for (var i = e[n], r = 0; r < i.length; r++) {
						var a = i[r];
						if (a.field == t)
							return a
					}
			return null
		}
		var i = $.data(e, "datagrid").options,
		r = n(i.columns);
		return r || (r = n(i.frozenColumns)),
		r
	}
	function _6d4(e, t) {
		for (var n = $.data(e, "datagrid").options, i = t ? n.frozenColumns : n.columns, r = [], a = function () {
			var e = 0;
			return $.map(i[0] || [], function (t) {
				e += t.colspan || 1
			}),
			e
		}
			(), o = 0; o < i.length; o++)
			r[o] = new Array(a);
		for (var s = 0; s < i.length; s++)
			$.map(i[s], function (e) {
				var t = function (e) {
					for (var t = 0; t < e.length; t++)
						if (void 0 == e[t])
							return t;
					return -1
				}
				(r[s]);
				if (t >= 0)
					for (var n = e.field || e.id || "", i = 0; i < (e.colspan || 1); i++) {
						for (var a = 0; a < (e.rowspan || 1); a++)
							r[s + a][t] = n;
						t++
					}
			});
		return r
	}
	function _68f(e, t) {
		var n = _6d4(e, t);
		return n.length ? n[n.length - 1] : n
	}
	function _6cd(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = n.dc;
		if (t = i.loadFilter.call(e, t), $.isArray(t) && (t = {
					total: t.length,
					rows: t
				}), t.total = parseInt(t.total), n.data = t, t.footer && (n.footer = t.footer), !i.remoteSort && i.sortName) {
			var a = i.sortName.split(","),
			o = i.sortOrder.split(",");
			t.rows.sort(function (t, n) {
				for (var i = 0, r = 0; r < a.length; r++) {
					var s = a[r],
					l = o[r];
					if (0 != (i = (_690(e, s).sorter || function (e, t) {
								return e == t ? 0 : e > t ? 1 : -1
							})(t[s], n[s]) * ("asc" == l ? 1 : -1)))
						return i
				}
				return i
			})
		}
		i.view.onBeforeRender && i.view.onBeforeRender.call(i.view, e, t.rows),
		i.view.render.call(i.view, e, r.body2, !1),
		i.view.render.call(i.view, e, r.body1, !0),
		i.showFooter && (i.view.renderFooter.call(i.view, e, r.footer2, !1), i.view.renderFooter.call(i.view, e, r.footer1, !0)),
		i.view.onAfterRender && i.view.onAfterRender.call(i.view, e),
		n.ss.clean();
		var s = $(e).datagrid("getPager");
		if (s.length) {
			var l = s.pagination("options");
			l.total != t.total && (s.pagination("refresh", {
					total: t.total
				}), i.pageNumber != l.pageNumber && l.pageNumber > 0 && (i.pageNumber = l.pageNumber, _6cc(e)))
		}
		_65d(e),
		r.body2.triggerHandler("scroll"),
		$(e).datagrid("setSelectionState"),
		$(e).datagrid("autoSizeColumn"),
		i.onLoadSuccess.call(e, t)
	}
	function _71a(e) {
		function t(e, t) {
			for (var n = 0; n < e.length; n++)
				if (e[n][i.idField] == t[i.idField])
					return e[n] = t, !0;
			return !1
		}
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = n.dc;
		if (r.header1.add(r.header2).find("input[type=checkbox]")._propAttr("checked", !1), i.idField) {
			var a = !!$.data(e, "treegrid"),
			o = i.onSelect,
			s = i.onCheck;
			i.onSelect = i.onCheck = function () {};
			for (var l = i.finder.getRows(e), c = 0; c < l.length; c++) {
				var d = l[c],
				u = a ? d[i.idField] : c;
				t(n.selectedRows, d) && _6b6(e, u, !0),
				t(n.checkedRows, d) && _6b3(e, u, !0)
			}
			i.onSelect = o,
			i.onCheck = s
		}
	}
	function _722(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = n.data.rows;
		if ("object" == typeof t)
			return _633(r, t);
		for (var a = 0; a < r.length; a++)
			if (r[a][i.idField] == t)
				return a;
		return -1
	}
	function _725(e) {
		var t = $.data(e, "datagrid"),
		n = t.options;
		t.data;
		if (n.idField)
			return t.selectedRows;
		var i = [];
		return n.finder.getTr(e, "", "selected", 2).each(function () {
			i.push(n.finder.getRow(e, $(this)))
		}),
		i
	}
	function _728(e) {
		var t = $.data(e, "datagrid"),
		n = t.options;
		if (n.idField)
			return t.checkedRows;
		var i = [];
		return n.finder.getTr(e, "", "checked", 2).each(function () {
			i.push(n.finder.getRow(e, $(this)))
		}),
		i
	}
	function _72b(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.dc,
		r = n.options.finder.getTr(e, t);
		if (r.length) {
			if (r.closest("table").hasClass("datagrid-btable-frozen"))
				return;
			var a = i.view2.children("div.datagrid-header")._outerHeight(),
			o = i.body2,
			s = o.outerHeight(!0) - o.outerHeight(),
			l = r.position().top - a - s;
			l < 0 ? o.scrollTop(o.scrollTop() + l) : l + r._outerHeight() > o.height() - 18 && o.scrollTop(o.scrollTop() + l + r._outerHeight() - o.height() + 18)
		}
	}
	function _6af(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options;
		i.finder.getTr(e, n.highlightIndex).removeClass("datagrid-row-over"),
		i.finder.getTr(e, t).addClass("datagrid-row-over"),
		n.highlightIndex = t
	}
	function _6b6(e, t, n) {
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = r.finder.getRow(e, t);
		0 != r.onBeforeSelect.apply(e, _636(e, [t, a])) && (r.singleSelect && (_739(e, !0), i.selectedRows = []), !n && r.checkOnSelect && _6b3(e, t, !0), r.idField && _635(i.selectedRows, r.idField, a), r.finder.getTr(e, t).addClass("datagrid-row-selected"), r.onSelect.apply(e, _636(e, [t, a])), _72b(e, t))
	}
	function _6b7(e, t, n) {
		var i = $.data(e, "datagrid"),
		r = (i.dc, i.options),
		a = r.finder.getRow(e, t);
		0 != r.onBeforeUnselect.apply(e, _636(e, [t, a])) && (!n && r.checkOnSelect && _6b4(e, t, !0), r.finder.getTr(e, t).removeClass("datagrid-row-selected"), r.idField && _634(i.selectedRows, r.idField, a[r.idField]), r.onUnselect.apply(e, _636(e, [t, a])))
	}
	function _73e(e, t) {
		var n = $.data(e, "datagrid").options,
		i = n.finder.getRows(e),
		r = $.data(e, "datagrid").selectedRows;
		if (!t && n.checkOnSelect && _6a1(e, !0), n.finder.getTr(e, "", "allbody").addClass("datagrid-row-selected"), n.idField)
			for (var a = 0; a < i.length; a++)
				_635(r, n.idField, i[a]);
		n.onSelectAll.call(e, i)
	}
	function _739(e, t) {
		var n = $.data(e, "datagrid").options,
		i = n.finder.getRows(e),
		r = $.data(e, "datagrid").selectedRows;
		if (!t && n.checkOnSelect && _6a2(e, !0), n.finder.getTr(e, "", "selected").removeClass("datagrid-row-selected"), n.idField)
			for (var a = 0; a < i.length; a++)
				_634(r, n.idField, i[a][n.idField]);
		n.onUnselectAll.call(e, i)
	}
	function _6b3(e, t, n) {
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = r.finder.getRow(e, t);
		if (0 != r.onBeforeCheck.apply(e, _636(e, [t, a]))) {
			r.singleSelect && r.selectOnCheck && (_6a2(e, !0), i.checkedRows = []),
			!n && r.selectOnCheck && _6b6(e, t, !0);
			var o = r.finder.getTr(e, t).addClass("datagrid-row-checked");
			if (o.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked", !0), (o = r.finder.getTr(e, "", "checked", 2)).length == r.finder.getRows(e).length) {
				var s = i.dc;
				s.header1.add(s.header2).find("input[type=checkbox]")._propAttr("checked", !0)
			}
			r.idField && _635(i.checkedRows, r.idField, a),
			r.onCheck.apply(e, _636(e, [t, a]))
		}
	}
	function _6b4(e, t, n) {
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = r.finder.getRow(e, t);
		if (0 != r.onBeforeUncheck.apply(e, _636(e, [t, a]))) {
			!n && r.selectOnCheck && _6b7(e, t, !0);
			r.finder.getTr(e, t).removeClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked", !1);
			var o = i.dc;
			o.header1.add(o.header2).find("input[type=checkbox]")._propAttr("checked", !1),
			r.idField && _634(i.checkedRows, r.idField, a[r.idField]),
			r.onUncheck.apply(e, _636(e, [t, a]))
		}
	}
	function _6a1(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = i.finder.getRows(e);
		!t && i.selectOnCheck && _73e(e, !0);
		var a = n.dc,
		o = a.header1.add(a.header2).find("input[type=checkbox]"),
		s = i.finder.getTr(e, "", "allbody").addClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]");
		if (o.add(s)._propAttr("checked", !0), i.idField)
			for (var l = 0; l < r.length; l++)
				_635(n.checkedRows, i.idField, r[l]);
		i.onCheckAll.call(e, r)
	}
	function _6a2(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = i.finder.getRows(e);
		!t && i.selectOnCheck && _739(e, !0);
		var a = n.dc,
		o = a.header1.add(a.header2).find("input[type=checkbox]"),
		s = i.finder.getTr(e, "", "checked").removeClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]");
		if (o.add(s)._propAttr("checked", !1), i.idField)
			for (var l = 0; l < r.length; l++)
				_634(n.checkedRows, i.idField, r[l][i.idField]);
		i.onUncheckAll.call(e, r)
	}
	function _758(e, t) {
		var n = $.data(e, "datagrid").options,
		i = n.finder.getTr(e, t),
		r = n.finder.getRow(e, t);
		i.hasClass("datagrid-row-editing") || 0 != n.onBeforeEdit.apply(e, _636(e, [t, r])) && (i.addClass("datagrid-row-editing"), _75b(e, t), _6fd(e), i.find("div.datagrid-editable").each(function () {
				var e = $(this).parent().attr("field"),
				t = $.data(this, "datagrid.editor");
				t.actions.setValue(t.target, r[e])
			}), _75d(e, t), n.onBeginEdit.apply(e, _636(e, [t, r])))
	}
	function _75e(e, t, n) {
		var i = $.data(e, "datagrid"),
		r = i.options,
		a = i.updatedRows,
		o = i.insertedRows,
		s = r.finder.getTr(e, t),
		l = r.finder.getRow(e, t);
		if (s.hasClass("datagrid-row-editing")) {
			if (!n) {
				if (!_75d(e, t))
					return;
				var c = !1,
				d = {};
				s.find("div.datagrid-editable").each(function () {
					var e = $(this).parent().attr("field"),
					t = $.data(this, "datagrid.editor"),
					n = $(t.target),
					i = n.data("textbox") ? n.textbox("textbox") : n;
					i.is(":focus") && i.triggerHandler("blur");
					var r = t.actions.getValue(t.target);
					l[e] !== r && (l[e] = r, c = !0, d[e] = r)
				}),
				c && -1 == _633(o, l) && -1 == _633(a, l) && a.push(l),
				r.onEndEdit.apply(e, _636(e, [t, l, d]))
			}
			s.removeClass("datagrid-row-editing"),
			_76a(e, t),
			$(e).datagrid("refreshRow", t),
			n ? r.onCancelEdit.apply(e, _636(e, [t, l])) : r.onAfterEdit.apply(e, _636(e, [t, l, d]))
		}
	}
	function _76b(e, t) {
		var n = [];
		return $.data(e, "datagrid").options.finder.getTr(e, t).children("td").each(function () {
			var e = $(this).find("div.datagrid-editable");
			if (e.length) {
				var t = $.data(e[0], "datagrid.editor");
				n.push(t)
			}
		}),
		n
	}
	function _76f(e, t) {
		for (var n = _76b(e, void 0 != t.index ? t.index : t.id), i = 0; i < n.length; i++)
			if (n[i].field == t.field)
				return n[i];
		return null
	}
	function _75b(e, t) {
		var n = $.data(e, "datagrid").options;
		n.finder.getTr(e, t).children("td").each(function () {
			var t = $(this).find("div.datagrid-cell"),
			i = $(this).attr("field"),
			r = _690(e, i);
			if (r && r.editor) {
				var a,
				o;
				"string" == typeof r.editor ? a = r.editor : (a = r.editor.type, o = r.editor.options);
				var s = n.editors[a];
				if (s) {
					var l = t.html(),
					c = t._outerWidth();
					t.addClass("datagrid-editable"),
					t._outerWidth(c),
					t.html('<table border="0" cellspacing="0" cellpadding="1"><tr><td></td></tr></table>'),
					t.children("table").bind("click dblclick contextmenu", function (e) {
						e.stopPropagation()
					}),
					$.data(t[0], "datagrid.editor", {
						actions: s,
						target: s.init(t.find("td"), $.extend({
								height: n.editorHeight
							}, o)),
						field: i,
						type: a,
						oldHtml: l
					})
				}
			}
		}),
		_65d(e, t, !0)
	}
	function _76a(e, t) {
		$.data(e, "datagrid").options.finder.getTr(e, t).children("td").each(function () {
			var e = $(this).find("div.datagrid-editable");
			if (e.length) {
				var t = $.data(e[0], "datagrid.editor");
				t.actions.destroy && t.actions.destroy(t.target),
				e.html(t.oldHtml),
				$.removeData(e[0], "datagrid.editor"),
				e.removeClass("datagrid-editable"),
				e.css("width", "")
			}
		})
	}
	function _75d(e, t) {
		var n = $.data(e, "datagrid").options.finder.getTr(e, t);
		if (!n.hasClass("datagrid-row-editing"))
			return !0;
		var i = n.find(".validatebox-text");
		i.validatebox("validate"),
		i.trigger("mouseleave");
		return 0 == n.find(".validatebox-invalid").length
	}
	function _780(e, t) {
		var n = $.data(e, "datagrid").insertedRows,
		i = $.data(e, "datagrid").deletedRows,
		r = $.data(e, "datagrid").updatedRows;
		if (!t) {
			var a = [];
			return a = a.concat(n),
			a = a.concat(i),
			a = a.concat(r)
		}
		return "inserted" == t ? n : "deleted" == t ? i : "updated" == t ? r : []
	}
	function _786(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = n.data,
		a = n.insertedRows,
		o = n.deletedRows;
		$(e).datagrid("cancelEdit", t);
		var s = i.finder.getRow(e, t);
		_633(a, s) >= 0 ? _634(a, s) : o.push(s),
		_634(n.selectedRows, i.idField, s[i.idField]),
		_634(n.checkedRows, i.idField, s[i.idField]),
		i.view.deleteRow.call(i.view, e, t),
		"auto" == i.height && _65d(e),
		$(e).datagrid("getPager").pagination("refresh", {
			total: r.total
		})
	}
	function _78c(e, t) {
		var n = $.data(e, "datagrid").data,
		i = $.data(e, "datagrid").options.view,
		r = $.data(e, "datagrid").insertedRows;
		i.insertRow.call(i, e, t.index, t.row),
		r.push(t.row),
		$(e).datagrid("getPager").pagination("refresh", {
			total: n.total
		})
	}
	function _790(e, t) {
		var n = $.data(e, "datagrid").data,
		i = $.data(e, "datagrid").options.view,
		r = $.data(e, "datagrid").insertedRows;
		i.insertRow.call(i, e, null, t),
		r.push(t),
		$(e).datagrid("getPager").pagination("refresh", {
			total: n.total
		})
	}
	function _793(e, t) {
		var n = $.data(e, "datagrid"),
		i = n.options,
		r = i.finder.getRow(e, t.index),
		a = !1;
		t.row = t.row || {};
		for (var o in t.row)
			if (r[o] !== t.row[o]) {
				a = !0;
				break
			}
		a && (-1 == _633(n.insertedRows, r) && -1 == _633(n.updatedRows, r) && n.updatedRows.push(r), i.view.updateRow.call(i.view, e, t.index, t.row))
	}
	function _799(e) {
		for (var t = $.data(e, "datagrid"), n = t.data.rows, i = [], r = 0; r < n.length; r++)
			i.push($.extend({}, n[r]));
		t.originalRows = i,
		t.updatedRows = [],
		t.insertedRows = [],
		t.deletedRows = []
	}
	function _79d(e) {
		for (var t = !0, n = 0, i = $.data(e, "datagrid").data.rows.length; n < i; n++)
			_75d(e, n) ? $(e).datagrid("endEdit", n) : t = !1;
		t && _799(e)
	}
	function _79f(e) {
		function t(e) {
			for (var t = [], n = 0; n < e.length; n++)
				t.push(e[n][r.idField]);
			return t
		}
		function n(t, n) {
			for (var i = 0; i < t.length; i++) {
				var r = _722(e, t[i]);
				r >= 0 && ("s" == n ? _6b6 : _6b3)(e, r, !0)
			}
		}
		for (var i = $.data(e, "datagrid"), r = i.options, a = i.originalRows, o = i.insertedRows, s = i.deletedRows, l = i.selectedRows, c = i.checkedRows, d = i.data, u = 0; u < d.rows.length; u++)
			$(e).datagrid("cancelEdit", u);
		var h = t(l),
		p = t(c);
		l.splice(0, l.length),
		c.splice(0, c.length),
		d.total += s.length - o.length,
		d.rows = a,
		_6cd(e, d),
		n(h, "s"),
		n(p, "c"),
		_799(e)
	}
	function _6cc(e, t, n) {
		var i = $.data(e, "datagrid").options;
		t && (i.queryParams = t);
		var r = $.extend({}, i.queryParams);
		if (i.pagination && $.extend(r, {
				page: i.pageNumber || 1,
				rows: i.pageSize
			}), i.sortName && $.extend(r, {
				sort: i.sortName,
				order: i.sortOrder
			}), 0 != i.onBeforeLoad.call(e, r)) {
			$(e).datagrid("loading");
			0 == i.loader.call(e, r, function (t) {
				$(e).datagrid("loaded"),
				$(e).datagrid("loadData", t),
				n && n()
			}, function () {
				$(e).datagrid("loaded"),
				i.onLoadError.apply(e, arguments)
			}) && $(e).datagrid("loaded")
		}
	}
	function _7b1(e, t) {
		function n(e, t) {
			for (var n = 0; n < t; n++)
				e.hide(), e = e.next()
		}
		var i = $.data(e, "datagrid").options;
		if (t.type = t.type || "body", t.rowspan = t.rowspan || 1, t.colspan = t.colspan || 1, 1 != t.rowspan || 1 != t.colspan) {
			var r = i.finder.getTr(e, void 0 != t.index ? t.index : t.id, t.type);
			if (r.length) {
				var a = r.find('td[field="' + t.field + '"]');
				a.attr("rowspan", t.rowspan).attr("colspan", t.colspan),
				a.addClass("datagrid-td-merged"),
				n(a.next(), t.colspan - 1);
				for (var o = 1; o < t.rowspan && (r = r.next()).length; o++)
					n(r.find('td[field="' + t.field + '"]'), t.colspan);
				_6fc(e, a)
			}
		}
	}
	function _7ba(e) {
		var t = {};
		return $.map(e, function (e) {
			t[e] = function (e) {
				function t(t) {
					return void 0 != $.data($(t)[0], e)
				}
				return {
					init: function (t, n) {
						var i = $('<input type="text" class="datagrid-editable-input">').appendTo(t);
						return i[e] && "text" != e ? i[e](n) : i
					},
					destroy: function (n) {
						t(n) && $(n)[e]("destroy")
					},
					getValue: function (n) {
						if (t(n)) {
							var i = $(n)[e]("options");
							return i.multiple ? $(n)[e]("getValues").join(i.separator) : $(n)[e]("getValue")
						}
						return $(n).val()
					},
					setValue: function (n, i) {
						if (t(n)) {
							var r = $(n)[e]("options");
							r.multiple ? i ? $(n)[e]("setValues", i.split(r.separator)) : $(n)[e]("clear") : $(n)[e]("setValue", i)
						} else
							$(n).val(i)
					},
					resize: function (n, i) {
						t(n) ? $(n)[e]("resize", i) : $(n)._size({
							width: i,
							height: $.fn.datagrid.defaults.editorHeight
						})
					}
				}
			}
			(e)
		}),
		t
	}
	var _632 = 0;
	$.fn.datagrid = function (e, t) {
		return "string" == typeof e ? $.fn.datagrid.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t,
				n = $.data(this, "datagrid");
				if (n)
					t = $.extend(n.options, e), n.options = t;
				else {
					t = $.extend({}, $.extend({}, $.fn.datagrid.defaults, {
								queryParams: {}
							}), $.fn.datagrid.parseOptions(this), e),
					$(this).css("width", "").css("height", "");
					var i = _671(this, t.rownumbers);
					t.columns || (t.columns = i.columns),
					t.frozenColumns || (t.frozenColumns = i.frozenColumns),
					t.columns = $.extend(!0, [], t.columns),
					t.frozenColumns = $.extend(!0, [], t.frozenColumns),
					t.view = $.extend({}, t.view),
					$.data(this, "datagrid", {
						options: t,
						panel: i.panel,
						dc: i.dc,
						ss: null,
						selectedRows: [],
						checkedRows: [],
						data: {
							total: 0,
							rows: []
						},
						originalRows: [],
						updatedRows: [],
						insertedRows: [],
						deletedRows: []
					})
				}
				if (_67a(this), _691(this), _647(this), t.data)
					$(this).datagrid("loadData", t.data);
				else {
					var r = $.fn.datagrid.parseData(this);
					r.total > 0 ? $(this).datagrid("loadData", r) : (t.view.setEmptyMsg(this), $(this).datagrid("autoSizeColumn"))
				}
				_6cc(this)
			}))
	};
	var _7c8 = $.extend({}, _7ba(["text", "textbox", "passwordbox", "filebox", "numberbox", "numberspinner", "combobox", "combotree", "combogrid", "combotreegrid", "datebox", "datetimebox", "timespinner", "datetimespinner"]), {
			textarea: {
				init: function (e, t) {
					var n = $('<textarea class="datagrid-editable-input"></textarea>').appendTo(e);
					return n.css("vertical-align", "middle")._outerHeight(t.height),
					n
				},
				getValue: function (e) {
					return $(e).val()
				},
				setValue: function (e, t) {
					$(e).val(t)
				},
				resize: function (e, t) {
					$(e)._outerWidth(t)
				}
			},
			checkbox: {
				init: function (e, t) {
					var n = $('<input type="checkbox">').appendTo(e);
					return n.val(t.on),
					n.attr("offval", t.off),
					n
				},
				getValue: function (e) {
					return $(e).is(":checked") ? $(e).val() : $(e).attr("offval")
				},
				setValue: function (e, t) {
					var n = !1;
					$(e).val() == t && (n = !0),
					$(e)._propAttr("checked", n)
				}
			},
			validatebox: {
				init: function (e, t) {
					var n = $('<input type="text" class="datagrid-editable-input">').appendTo(e);
					return n.validatebox(t),
					n
				},
				destroy: function (e) {
					$(e).validatebox("destroy")
				},
				getValue: function (e) {
					return $(e).val()
				},
				setValue: function (e, t) {
					$(e).val(t)
				},
				resize: function (e, t) {
					$(e)._outerWidth(t)._outerHeight($.fn.datagrid.defaults.editorHeight)
				}
			}
		});
	$.fn.datagrid.methods = {
		options: function (e) {
			var t = $.data(e[0], "datagrid").options,
			n = $.data(e[0], "datagrid").panel.panel("options");
			return $.extend(t, {
				width: n.width,
				height: n.height,
				closed: n.closed,
				collapsed: n.collapsed,
				minimized: n.minimized,
				maximized: n.maximized
			})
		},
		setSelectionState: function (e) {
			return e.each(function () {
				_71a(this)
			})
		},
		createStyleSheet: function (e) {
			return _638(e[0])
		},
		getPanel: function (e) {
			return $.data(e[0], "datagrid").panel
		},
		getPager: function (e) {
			return $.data(e[0], "datagrid").panel.children("div.datagrid-pager")
		},
		getColumnFields: function (e, t) {
			return _68f(e[0], t)
		},
		getColumnOption: function (e, t) {
			return _690(e[0], t)
		},
		resize: function (e, t) {
			return e.each(function () {
				_647(this, t)
			})
		},
		load: function (e, t) {
			return e.each(function () {
				var e = $(this).datagrid("options");
				"string" == typeof t && (e.url = t, t = null),
				e.pageNumber = 1;
				$(this).datagrid("getPager").pagination("refresh", {
					pageNumber: 1
				}),
				_6cc(this, t)
			})
		},
		reload: function (e, t) {
			return e.each(function () {
				var e = $(this).datagrid("options");
				"string" == typeof t && (e.url = t, t = null),
				_6cc(this, t)
			})
		},
		reloadFooter: function (e, t) {
			return e.each(function () {
				var e = $.data(this, "datagrid").options,
				n = $.data(this, "datagrid").dc;
				t && ($.data(this, "datagrid").footer = t),
				e.showFooter && (e.view.renderFooter.call(e.view, this, n.footer2, !1), e.view.renderFooter.call(e.view, this, n.footer1, !0), e.view.onAfterRender && e.view.onAfterRender.call(e.view, this), $(this).datagrid("fixRowHeight"))
			})
		},
		loading: function (e) {
			return e.each(function () {
				var e = $.data(this, "datagrid").options;
				if ($(this).datagrid("getPager").pagination("loading"), e.loadMsg) {
					var t = $(this).datagrid("getPanel");
					if (!t.children("div.datagrid-mask").length) {
						$('<div class="datagrid-mask" style="display:block"></div>').appendTo(t);
						var n = $('<div class="datagrid-mask-msg" style="display:block;left:50%"></div>').html(e.loadMsg).appendTo(t);
						n._outerHeight(40),
						n.css({
							marginLeft: -n.outerWidth() / 2,
							lineHeight: n.height() + "px"
						})
					}
				}
			})
		},
		loaded: function (e) {
			return e.each(function () {
				$(this).datagrid("getPager").pagination("loaded");
				var e = $(this).datagrid("getPanel");
				e.children("div.datagrid-mask-msg").remove(),
				e.children("div.datagrid-mask").remove()
			})
		},
		fitColumns: function (e) {
			return e.each(function () {
				_6d9(this)
			})
		},
		fixColumnSize: function (e, t) {
			return e.each(function () {
				_6f7(this, t)
			})
		},
		fixRowHeight: function (e, t) {
			return e.each(function () {
				_65d(this, t)
			})
		},
		freezeRow: function (e, t) {
			return e.each(function () {
				_66a(this, t)
			})
		},
		autoSizeColumn: function (e, t) {
			return e.each(function () {
				_6eb(this, t)
			})
		},
		loadData: function (e, t) {
			return e.each(function () {
				_6cd(this, t),
				_799(this)
			})
		},
		getData: function (e) {
			return $.data(e[0], "datagrid").data
		},
		getRows: function (e) {
			return $.data(e[0], "datagrid").data.rows
		},
		getFooterRows: function (e) {
			return $.data(e[0], "datagrid").footer
		},
		getRowIndex: function (e, t) {
			return _722(e[0], t)
		},
		getChecked: function (e) {
			return _728(e[0])
		},
		getSelected: function (e) {
			var t = _725(e[0]);
			return t.length > 0 ? t[0] : null
		},
		getSelections: function (e) {
			return _725(e[0])
		},
		clearSelections: function (e) {
			return e.each(function () {
				var e = $.data(this, "datagrid"),
				t = e.selectedRows,
				n = e.checkedRows;
				t.splice(0, t.length),
				_739(this),
				e.options.checkOnSelect && n.splice(0, n.length)
			})
		},
		clearChecked: function (e) {
			return e.each(function () {
				var e = $.data(this, "datagrid"),
				t = e.selectedRows,
				n = e.checkedRows;
				n.splice(0, n.length),
				_6a2(this),
				e.options.selectOnCheck && t.splice(0, t.length)
			})
		},
		scrollTo: function (e, t) {
			return e.each(function () {
				_72b(this, t)
			})
		},
		highlightRow: function (e, t) {
			return e.each(function () {
				_6af(this, t),
				_72b(this, t)
			})
		},
		selectAll: function (e) {
			return e.each(function () {
				_73e(this)
			})
		},
		unselectAll: function (e) {
			return e.each(function () {
				_739(this)
			})
		},
		selectRow: function (e, t) {
			return e.each(function () {
				_6b6(this, t)
			})
		},
		selectRecord: function (e, t) {
			return e.each(function () {
				if ($.data(this, "datagrid").options.idField) {
					var e = _722(this, t);
					e >= 0 && $(this).datagrid("selectRow", e)
				}
			})
		},
		unselectRow: function (e, t) {
			return e.each(function () {
				_6b7(this, t)
			})
		},
		checkRow: function (e, t) {
			return e.each(function () {
				_6b3(this, t)
			})
		},
		uncheckRow: function (e, t) {
			return e.each(function () {
				_6b4(this, t)
			})
		},
		checkAll: function (e) {
			return e.each(function () {
				_6a1(this)
			})
		},
		uncheckAll: function (e) {
			return e.each(function () {
				_6a2(this)
			})
		},
		beginEdit: function (e, t) {
			return e.each(function () {
				_758(this, t)
			})
		},
		endEdit: function (e, t) {
			return e.each(function () {
				_75e(this, t, !1)
			})
		},
		cancelEdit: function (e, t) {
			return e.each(function () {
				_75e(this, t, !0)
			})
		},
		getEditors: function (e, t) {
			return _76b(e[0], t)
		},
		getEditor: function (e, t) {
			return _76f(e[0], t)
		},
		refreshRow: function (e, t) {
			return e.each(function () {
				var e = $.data(this, "datagrid").options;
				e.view.refreshRow.call(e.view, this, t)
			})
		},
		validateRow: function (e, t) {
			return _75d(e[0], t)
		},
		updateRow: function (e, t) {
			return e.each(function () {
				_793(this, t)
			})
		},
		appendRow: function (e, t) {
			return e.each(function () {
				_790(this, t)
			})
		},
		insertRow: function (e, t) {
			return e.each(function () {
				_78c(this, t)
			})
		},
		deleteRow: function (e, t) {
			return e.each(function () {
				_786(this, t)
			})
		},
		getChanges: function (e, t) {
			return _780(e[0], t)
		},
		acceptChanges: function (e) {
			return e.each(function () {
				_79d(this)
			})
		},
		rejectChanges: function (e) {
			return e.each(function () {

				_79f(this)
			})
		},
		mergeCells: function (e, t) {
			return e.each(function () {
				_7b1(this, t)
			})
		},
		showColumn: function (e, t) {
			return e.each(function () {
				var e = $(this).datagrid("getColumnOption", t);
				e.hidden && (e.hidden = !1, $(this).datagrid("getPanel").find('td[field="' + t + '"]').show(), _6ce(this, t, 1), $(this).datagrid("fitColumns"))
			})
		},
		hideColumn: function (e, t) {
			return e.each(function () {
				var e = $(this).datagrid("getColumnOption", t);
				e.hidden || (e.hidden = !0, $(this).datagrid("getPanel").find('td[field="' + t + '"]').hide(), _6ce(this, t, -1), $(this).datagrid("fitColumns"))
			})
		},
		sort: function (e, t) {
			return e.each(function () {
				_6a3(this, t)
			})
		},
		gotoPage: function (e, t) {
			return e.each(function () {
				var e,
				n,
				i = this;
				"object" == typeof t ? (e = t.page, n = t.callback) : e = t,
				$(i).datagrid("options").pageNumber = e,
				$(i).datagrid("getPager").pagination("refresh", {
					pageNumber: e
				}),
				_6cc(i, null, function () {
					n && n.call(i, e)
				})
			})
		}
	},
	$.fn.datagrid.parseOptions = function (_80e) {
		var t = $(_80e);
		return $.extend({}, $.fn.panel.parseOptions(_80e), $.parser.parseOptions(_80e, ["url", "toolbar", "idField", "sortName", "sortOrder", "pagePosition", "resizeHandle", {
						sharedStyleSheet: "boolean",
						fitColumns: "boolean",
						autoRowHeight: "boolean",
						striped: "boolean",
						nowrap: "boolean"
					}, {
						rownumbers: "boolean",
						singleSelect: "boolean",
						ctrlSelect: "boolean",
						checkOnSelect: "boolean",
						selectOnCheck: "boolean"
					}, {
						pagination: "boolean",
						pageSize: "number",
						pageNumber: "number"
					}, {
						multiSort: "boolean",
						remoteSort: "boolean",
						showHeader: "boolean",
						showFooter: "boolean"
					}, {
						scrollbarSize: "number"
					}
				]), {
			pageList: t.attr("pageList") ? eval(t.attr("pageList")) : void 0,
			loadMsg: void 0 != t.attr("loadMsg") ? t.attr("loadMsg") : void 0,
			rowStyler: t.attr("rowStyler") ? eval(t.attr("rowStyler")) : void 0
		})
	},
	$.fn.datagrid.parseData = function (e) {
		var t = $(e),
		n = {
			total: 0,
			rows: []
		},
		i = t.datagrid("getColumnFields", !0).concat(t.datagrid("getColumnFields", !1));
		return t.find("tbody tr").each(function () {
			n.total++;
			var e = {};
			$.extend(e, $.parser.parseOptions(this, ["iconCls", "state"]));
			for (var t = 0; t < i.length; t++)
				e[i[t]] = $(this).find("td:eq(" + t + ")").html();
			n.rows.push(e)
		}),
		n
	};
	var _811 = {
		render: function (e, t, n) {
			var i = $(e).datagrid("getRows");
			$(t).html(this.renderTable(e, 0, i, n))
		},
		renderFooter: function (e, t, n) {
			$.data(e, "datagrid").options;
			for (var i = $.data(e, "datagrid").footer || [], r = $(e).datagrid("getColumnFields", n), a = ['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'], o = 0; o < i.length; o++)
				a.push('<tr class="datagrid-row" datagrid-row-index="' + o + '">'), a.push(this.renderRow.call(this, e, r, n, o, i[o])), a.push("</tr>");
			a.push("</tbody></table>"),
			$(t).html(a.join(""))
		},
		renderTable: function (e, t, n, i) {
			var r = $.data(e, "datagrid"),
			a = r.options;
			if (i && !(a.rownumbers || a.frozenColumns && a.frozenColumns.length))
				return "";
			for (var o = $(e).datagrid("getColumnFields", i), s = ['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'], l = 0; l < n.length; l++) {
				var c = n[l],
				d = a.rowStyler ? a.rowStyler.call(e, t, c) : "",
				u = this.getStyleValue(d),
				h = 'class="datagrid-row ' + (t % 2 && a.striped ? "datagrid-row-alt " : " ") + u.c + '"',
				p = u.s ? 'style="' + u.s + '"' : "",
				f = r.rowIdPrefix + "-" + (i ? 1 : 2) + "-" + t;
				s.push('<tr id="' + f + '" datagrid-row-index="' + t + '" ' + h + " " + p + ">"),
				s.push(this.renderRow.call(this, e, o, i, t, c)),
				s.push("</tr>"),
				t++
			}
			return s.push("</tbody></table>"),
			s.join("")
		},
		renderRow: function (e, t, n, i, r) {
			var a = $.data(e, "datagrid").options,
			o = [];
			if (n && a.rownumbers) {
				var s = i + 1;
				a.pagination && (s += (a.pageNumber - 1) * a.pageSize),
				o.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">' + s + "</div></td>")
			}
			for (var l = 0; l < t.length; l++) {
				var c = t[l],
				d = $(e).datagrid("getColumnOption", c);
				if (d) {
					var u = r[c],
					h = d.styler ? d.styler(u, r, i) || "" : "",
					p = this.getStyleValue(h),
					f = p.c ? 'class="' + p.c + '"' : "",
					m = d.hidden ? 'style="display:none;' + p.s + '"' : p.s ? 'style="' + p.s + '"' : "";
					o.push('<td field="' + c + '" ' + f + " " + m + ">");
					m = "";
					d.checkbox || (d.align && (m += "text-align:" + d.align + ";"), a.nowrap ? a.autoRowHeight && (m += "height:auto;") : m += "white-space:normal;height:auto;"),
					o.push('<div style="' + m + '" '),
					o.push(d.checkbox ? 'class="datagrid-cell-check"' : 'class="datagrid-cell ' + d.cellClass + '"'),
					o.push(">"),
					d.checkbox ? (o.push('<input type="checkbox" ' + (r.checked ? 'checked="checked"' : "")), o.push(' name="' + c + '" value="' + (void 0 != u ? u : "") + '">')) : d.formatter ? o.push(d.formatter(u, r, i)) : o.push(u),
					o.push("</div>"),
					o.push("</td>")
				}
			}
			return o.join("")
		},
		getStyleValue: function (e) {
			var t = "",
			n = "";
			return "string" == typeof e ? n = e : e && (t = e.class || "", n = e.style || ""), {
				c: t,
				s: n
			}
		},
		refreshRow: function (e, t) {
			this.updateRow.call(this, e, t, {})
		},
		updateRow: function (e, t, n) {
			function i(n) {
				var i = r.finder.getTr(e, t, "body", n ? 1 : 2);
				if (i.length) {
					var o = $(e).datagrid("getColumnFields", n),
					c = i.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");
					i.html(this.renderRow.call(this, e, o, n, t, a));
					var d = (i.hasClass("datagrid-row-checked") ? " datagrid-row-checked" : "") + (i.hasClass("datagrid-row-selected") ? " datagrid-row-selected" : "");
					i.attr("style", s).attr("class", l + d),
					c && i.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked", !0)
				}
			}
			var r = $.data(e, "datagrid").options,
			a = r.finder.getRow(e, t);
			$.extend(a, n);
			var o = function (t) {
				var n = r.rowStyler ? r.rowStyler.call(e, t, a) : "";
				return this.getStyleValue(n)
			}
			.call(this, t),
			s = o.s,
			l = "datagrid-row " + (t % 2 && r.striped ? "datagrid-row-alt " : " ") + o.c;
			i.call(this, !0),
			i.call(this, !1),
			$(e).datagrid("fixRowHeight", t)
		},
		insertRow: function (e, t, n) {
			function i(n) {
				for (var i = n ? 1 : 2, r = l.rows.length - 1; r >= t; r--) {
					var s = o.finder.getTr(e, r, "body", i);
					if (s.attr("datagrid-row-index", r + 1), s.attr("id", a.rowIdPrefix + "-" + i + "-" + (r + 1)), n && o.rownumbers) {
						var c = r + 2;
						o.pagination && (c += (o.pageNumber - 1) * o.pageSize),
						s.find("div.datagrid-cell-rownumber").html(c)
					}
					o.striped && s.removeClass("datagrid-row-alt").addClass((r + 1) % 2 ? "datagrid-row-alt" : "")
				}
			}
			function r(n) {
				var i = n ? 1 : 2,
				r = ($(e).datagrid("getColumnFields", n), '<tr id="' + (a.rowIdPrefix + "-" + i + "-" + t) + '" class="datagrid-row" datagrid-row-index="' + t + '"></tr>');
				if (t >= l.rows.length)
					if (l.rows.length)
						o.finder.getTr(e, "", "last", i).after(r);
					else {
						(n ? s.body1 : s.body2).html('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>' + r + "</tbody></table>")
					}
				else
					o.finder.getTr(e, t + 1, "body", i).before(r)
			}
			var a = $.data(e, "datagrid"),
			o = a.options,
			s = a.dc,
			l = a.data;
			void 0 != t && null != t || (t = l.rows.length),
			t > l.rows.length && (t = l.rows.length),
			i.call(this, !0),
			i.call(this, !1),
			r.call(this, !0),
			r.call(this, !1),
			l.total += 1,
			l.rows.splice(t, 0, n),
			this.setEmptyMsg(e),
			this.refreshRow.call(this, e, t)
		},
		deleteRow: function (e, t) {
			function n(n) {
				for (var o = n ? 1 : 2, s = t + 1; s < a.rows.length; s++) {
					var l = r.finder.getTr(e, s, "body", o);
					if (l.attr("datagrid-row-index", s - 1), l.attr("id", i.rowIdPrefix + "-" + o + "-" + (s - 1)), n && r.rownumbers) {
						var c = s;
						r.pagination && (c += (r.pageNumber - 1) * r.pageSize),
						l.find("div.datagrid-cell-rownumber").html(c)
					}
					r.striped && l.removeClass("datagrid-row-alt").addClass((s - 1) % 2 ? "datagrid-row-alt" : "")
				}
			}
			var i = $.data(e, "datagrid"),
			r = i.options,
			a = i.data;
			r.finder.getTr(e, t).remove(),
			n.call(this, !0),
			n.call(this, !1),
			a.total -= 1,
			a.rows.splice(t, 1),
			this.setEmptyMsg(e)
		},
		onBeforeRender: function (e, t) {},
		onAfterRender: function (e) {
			if ($.data(e, "datagrid").options.showFooter) {
				$(e).datagrid("getPanel").find("div.datagrid-footer").find("div.datagrid-cell-rownumber,div.datagrid-cell-check").css("visibility", "hidden")
			}
			this.setEmptyMsg(e)
		},
		setEmptyMsg: function (e) {
			var t = $.data(e, "datagrid"),
			n = t.options,
			i = 0 == n.finder.getRows(e).length;
			if (i && this.renderEmptyRow(e), n.emptyMsg && (t.dc.view.children(".datagrid-empty").remove(), i)) {
				var r = t.dc.header2.parent().outerHeight();
				$('<div class="datagrid-empty"></div>').appendTo(t.dc.view).html(n.emptyMsg).css("top", r + "px")
			}
		},
		renderEmptyRow: function (e) {
			var t = $.map($(e).datagrid("getColumnFields"), function (t) {
					return $(e).datagrid("getColumnOption", t)
				});
			$.map(t, function (e) {
				e.formatter1 = e.formatter,
				e.styler1 = e.styler,
				e.formatter = e.styler = void 0
			});
			var n = $.data(e, "datagrid").dc.body2;
			n.html(this.renderTable(e, 0, [{}
					], !1)),
			n.find("tbody *").css({
				height: 1,
				borderColor: "transparent",
				background: "transparent"
			});
			var i = n.find(".datagrid-row");
			i.removeClass("datagrid-row").removeAttr("datagrid-row-index"),
			i.find(".datagrid-cell,.datagrid-cell-check").empty(),
			$.map(t, function (e) {
				e.formatter = e.formatter1,
				e.styler = e.styler1,
				e.formatter1 = e.styler1 = void 0
			})
		}
	};
	$.fn.datagrid.defaults = $.extend({}, $.fn.panel.defaults, {
			sharedStyleSheet: !1,
			frozenColumns: void 0,
			columns: void 0,
			fitColumns: !1,
			resizeHandle: "right",
			autoRowHeight: !0,
			toolbar: null,
			striped: !1,
			method: "post",
			nowrap: !0,
			idField: null,
			url: null,
			data: null,
			loadMsg: "Processing, please wait ...",
			emptyMsg: "",
			rownumbers: !1,
			singleSelect: !1,
			ctrlSelect: !1,
			selectOnCheck: !0,
			checkOnSelect: !0,
			pagination: !1,
			pagePosition: "bottom",
			pageNumber: 1,
			pageSize: 10,
			pageList: [10, 20, 30, 40, 50],
			queryParams: {},
			sortName: null,
			sortOrder: "asc",
			multiSort: !1,
			remoteSort: !0,
			showHeader: !0,
			showFooter: !1,
			scrollbarSize: 18,
			rownumberWidth: 30,
			editorHeight: 24,
			headerEvents: {
				mouseover: _69b(!0),
				mouseout: _69b(!1),
				click: _69f,
				dblclick: _6a4,
				contextmenu: _6a7
			},
			rowEvents: {
				mouseover: _6a9(!0),
				mouseout: _6a9(!1),
				click: _6b0,
				dblclick: _6ba,
				contextmenu: _6be
			},
			rowStyler: function (e, t) {},
			loader: function (e, t, n) {
				var i = $(this).datagrid("options");
				if (!i.url)
					return !1;
				$.ajax({
					type: i.method,
					url: i.url,
					data: e,
					dataType: "json",
					success: function (e) {
						t(e)
					},
					error: function () {
						n.apply(this, arguments)
					}
				})
			},
			loadFilter: function (e) {
				return e
			},
			editors: _7c8,
			finder: {
				getTr: function (e, t, n, i) {
					n = n || "body",
					i = i || 0;
					var r = $.data(e, "datagrid"),
					a = r.dc,
					o = r.options;
					if (0 == i) {
						var s = o.finder.getTr(e, t, n, 1),
						l = o.finder.getTr(e, t, n, 2);
						return s.add(l)
					}
					if ("body" == n) {
						var c = $("#" + r.rowIdPrefix + "-" + i + "-" + t);
						return c.length || (c = (1 == i ? a.body1 : a.body2).find(">table>tbody>tr[datagrid-row-index=" + t + "]")),
						c
					}
					return "footer" == n ? (1 == i ? a.footer1 : a.footer2).find(">table>tbody>tr[datagrid-row-index=" + t + "]") : "selected" == n ? (1 == i ? a.body1 : a.body2).find(">table>tbody>tr.datagrid-row-selected") : "highlight" == n ? (1 == i ? a.body1 : a.body2).find(">table>tbody>tr.datagrid-row-over") : "checked" == n ? (1 == i ? a.body1 : a.body2).find(">table>tbody>tr.datagrid-row-checked") : "editing" == n ? (1 == i ? a.body1 : a.body2).find(">table>tbody>tr.datagrid-row-editing") : "last" == n ? (1 == i ? a.body1 : a.body2).find(">table>tbody>tr[datagrid-row-index]:last") : "allbody" == n ? (1 == i ? a.body1 : a.body2).find(">table>tbody>tr[datagrid-row-index]") : "allfooter" == n ? (1 == i ? a.footer1 : a.footer2).find(">table>tbody>tr[datagrid-row-index]") : void 0
				},
				getRow: function (e, t) {
					var n = "object" == typeof t ? t.attr("datagrid-row-index") : t;
					return $.data(e, "datagrid").data.rows[parseInt(n)]
				},
				getRows: function (e) {
					return $(e).datagrid("getRows")
				}
			},
			view: _811,
			onBeforeLoad: function (e) {},
			onLoadSuccess: function () {},
			onLoadError: function () {},
			onClickRow: function (e, t) {},
			onDblClickRow: function (e, t) {},
			onClickCell: function (e, t, n) {},
			onDblClickCell: function (e, t, n) {},
			onBeforeSortColumn: function (e, t) {},
			onSortColumn: function (e, t) {},
			onResizeColumn: function (e, t) {},
			onBeforeSelect: function (e, t) {},
			onSelect: function (e, t) {},
			onBeforeUnselect: function (e, t) {},
			onUnselect: function (e, t) {},
			onSelectAll: function (e) {},
			onUnselectAll: function (e) {},
			onBeforeCheck: function (e, t) {},
			onCheck: function (e, t) {},
			onBeforeUncheck: function (e, t) {},
			onUncheck: function (e, t) {},
			onCheckAll: function (e) {},
			onUncheckAll: function (e) {},
			onBeforeEdit: function (e, t) {},
			onBeginEdit: function (e, t) {},
			onEndEdit: function (e, t, n) {},
			onAfterEdit: function (e, t, n) {},
			onCancelEdit: function (e, t) {},
			onHeaderContextMenu: function (e, t) {},
			onRowContextMenu: function (e, t, n) {}
		})
}
(jQuery), function (e) {
	function t(t) {
		var n = e(t);
		if (n.length) {
			var i = e.data(t, "propertygrid").options;
			i.finder.getTr(t, null, "editing").each(function () {
				var t = parseInt(e(this).attr("datagrid-row-index"));
				n.datagrid("validateRow", t) ? n.datagrid("endEdit", t) : n.datagrid("cancelEdit", t)
			}),
			i.editIndex = void 0
		}
	}
	var n;
	e(document).unbind(".propertygrid").bind("mousedown.propertygrid", function (i) {
		e(i.target).closest("div.datagrid-view,div.combo-panel").length || (t(n), n = void 0)
	}),
	e.fn.propertygrid = function (i, r) {
		if ("string" == typeof i) {
			var a = e.fn.propertygrid.methods[i];
			return a ? a(this, r) : this.datagrid(i, r)
		}
		return i = i || {},
		this.each(function () {
			var r = e.data(this, "propertygrid");
			if (r)
				e.extend(r.options, i);
			else {
				var a = e.extend({}, e.fn.propertygrid.defaults, e.fn.propertygrid.parseOptions(this), i);
				a.frozenColumns = e.extend(!0, [], a.frozenColumns),
				a.columns = e.extend(!0, [], a.columns),
				e.data(this, "propertygrid", {
					options: a
				})
			}
			!function (i) {
				e.data(i, "propertygrid");
				var r = e.data(i, "propertygrid").options;
				e(i).datagrid(e.extend({}, r, {
						cls: "propertygrid",
						view: r.showGroup ? r.groupView : r.view,
						onBeforeEdit: function (t, n) {
							if (0 == r.onBeforeEdit.call(i, t, n))
								return !1;
							var a = e(this),
							n = a.datagrid("getRows")[t];
							a.datagrid("getColumnOption", "value").editor = n.editor
						},
						onClickCell: function (a, o, s) {
							if (n != this && (t(n), n = this), r.editIndex != a) {
								t(n),
								e(this).datagrid("beginEdit", a);
								var l = e(this).datagrid("getEditor", {
										index: a,
										field: o
									});
								if (l || (l = e(this).datagrid("getEditor", {
												index: a,
												field: "value"
											})), l) {
									var c = e(l.target);
									(c.data("textbox") ? c.textbox("textbox") : c).focus(),
									r.editIndex = a
								}
							}
							r.onClickCell.call(i, a, o, s)
						},
						loadFilter: function (e) {
							return t(this),
							r.loadFilter.call(this, e)
						}
					}))
			}
			(this)
		})
	},
	e.fn.propertygrid.methods = {
		options: function (t) {
			return e.data(t[0], "propertygrid").options
		}
	},
	e.fn.propertygrid.parseOptions = function (t) {
		return e.extend({}, e.fn.datagrid.parseOptions(t), e.parser.parseOptions(t, [{
						showGroup: "boolean"
					}
				]))
	};
	var i = e.extend({}, e.fn.datagrid.defaults.view, {
			render: function (t, n, i) {
				for (var r = [], a = this.groups, o = 0; o < a.length; o++)
					r.push(this.renderGroup.call(this, t, o, a[o], i));
				e(n).html(r.join(""))
			},
			renderGroup: function (t, n, i, r) {
				var a = e.data(t, "datagrid"),
				o = a.options,
				s = e(t).datagrid("getColumnFields", r),
				l = [];
				l.push('<div class="datagrid-group" group-index=' + n + ">"),
				(r && (o.rownumbers || o.frozenColumns.length) || !r && !o.rownumbers && !o.frozenColumns.length) && (l.push('<span class="datagrid-group-expander">'), l.push('<span class="datagrid-row-expander datagrid-row-collapse">&nbsp;</span>'), l.push("</span>")),
				r || (l.push('<span class="datagrid-group-title">'), l.push(o.groupFormatter.call(t, i.value, i.rows)), l.push("</span>")),
				l.push("</div>"),
				l.push('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>');
				for (var c = i.startIndex, d = 0; d < i.rows.length; d++) {
					var u = o.rowStyler ? o.rowStyler.call(t, c, i.rows[d]) : "",
					h = "",
					p = "";
					"string" == typeof u ? p = u : u && (h = u.class || "", p = u.style || "");
					var f = 'class="datagrid-row ' + (c % 2 && o.striped ? "datagrid-row-alt " : " ") + h + '"',
					m = p ? 'style="' + p + '"' : "",
					g = a.rowIdPrefix + "-" + (r ? 1 : 2) + "-" + c;
					l.push('<tr id="' + g + '" datagrid-row-index="' + c + '" ' + f + " " + m + ">"),
					l.push(this.renderRow.call(this, t, s, r, c, i.rows[d])),
					l.push("</tr>"),
					c++
				}
				return l.push("</tbody></table>"),
				l.join("")
			},
			bindEvents: function (t) {
				var n = e.data(t, "datagrid").dc,
				i = n.body1.add(n.body2),
				r = (e.data(i[0], "events") || e._data(i[0], "events")).click[0].handler;
				i.unbind("click").bind("click", function (n) {
					var i = e(n.target).closest("span.datagrid-row-expander");
					if (i.length) {
						var a = i.closest("div.datagrid-group").attr("group-index");
						i.hasClass("datagrid-row-collapse") ? e(t).datagrid("collapseGroup", a) : e(t).datagrid("expandGroup", a)
					} else
						r(n);
					n.stopPropagation()
				})
			},
			onBeforeRender: function (t, n) {
				var i = e.data(t, "datagrid"),
				r = i.options;
				e("#datagrid-group-style").length || e("head").append('<style id="datagrid-group-style">.datagrid-group{height:' + r.groupHeight + "px;overflow:hidden;font-weight:bold;border-bottom:1px solid #ccc;}.datagrid-group-title,.datagrid-group-expander{display:inline-block;vertical-align:bottom;height:100%;line-height:" + r.groupHeight + "px;padding:0 4px;}.datagrid-group-expander{width:" + r.expanderWidth + "px;text-align:center;padding:0}.datagrid-row-expander{margin:" + Math.floor((r.groupHeight - 16) / 2) + "px 0;display:inline-block;width:16px;height:16px;cursor:pointer}</style>");
				for (var a = [], o = 0; o < n.length; o++) {
					var s = n[o];
					(d = function (e) {
						for (var t = 0; t < a.length; t++) {
							var n = a[t];
							if (n.value == e)
								return n
						}
						return null
					}
						(s[r.groupField])) ? d.rows.push(s) : (d = {
							value: s[r.groupField],
							rows: [s]
						}, a.push(d))
				}
				for (var l = 0, c = [], o = 0; o < a.length; o++) {
					var d = a[o];
					d.startIndex = l,
					l += d.rows.length,
					c = c.concat(d.rows)
				}
				i.data.rows = c,
				this.groups = a;
				var u = this;
				setTimeout(function () {
					u.bindEvents(t)
				}, 0)
			}
		});
	e.extend(e.fn.datagrid.methods, {
		groups: function (e) {
			return e.datagrid("options").view.groups
		},
		expandGroup: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "datagrid").dc.view.find(void 0 != n ? 'div.datagrid-group[group-index="' + n + '"]' : "div.datagrid-group"),
				i = t.find("span.datagrid-row-expander");
				i.hasClass("datagrid-row-expand") && (i.removeClass("datagrid-row-expand").addClass("datagrid-row-collapse"), t.next("table").show()),
				e(this).datagrid("fixRowHeight")
			})
		},
		collapseGroup: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "datagrid").dc.view.find(void 0 != n ? 'div.datagrid-group[group-index="' + n + '"]' : "div.datagrid-group"),
				i = t.find("span.datagrid-row-expander");
				i.hasClass("datagrid-row-collapse") && (i.removeClass("datagrid-row-collapse").addClass("datagrid-row-expand"), t.next("table").hide()),
				e(this).datagrid("fixRowHeight")
			})
		}
	}),
	e.extend(i, {
		refreshGroupTitle: function (t, n) {
			var i = e.data(t, "datagrid"),
			r = i.options,
			a = i.dc,
			o = this.groups[n];
			a.body2.children("div.datagrid-group[group-index=" + n + "]").find("span.datagrid-group-title").html(r.groupFormatter.call(t, o.value, o.rows))
		},
		insertRow: function (t, n, i) {
			function r(e, n) {
				var i = n ? 1 : 2,
				r = s.finder.getTr(t, e - 1, "body", i);
				s.finder.getTr(t, e, "body", i).insertAfter(r)
			}
			var a,
			o = e.data(t, "datagrid"),
			s = o.options,
			l = o.dc,
			c = null;
			if (o.data.rows.length) {
				for (var d = 0; d < this.groups.length; d++)
					if (this.groups[d].value == i[s.groupField]) {
						c = this.groups[d],
						a = d;
						break
					}
				c ? (void 0 != n && null != n || (n = o.data.rows.length), n < c.startIndex ? n = c.startIndex : n > c.startIndex + c.rows.length && (n = c.startIndex + c.rows.length), e.fn.datagrid.defaults.view.insertRow.call(this, t, n, i), n >= c.startIndex + c.rows.length && (r(n, !0), r(n, !1)), c.rows.splice(n - c.startIndex, 0, i)) : (c = {
						value: i[s.groupField],
						rows: [i],
						startIndex: o.data.rows.length
					}, a = this.groups.length, l.body1.append(this.renderGroup.call(this, t, a, c, !0)), l.body2.append(this.renderGroup.call(this, t, a, c, !1)), this.groups.push(c), o.data.rows.push(i)),
				this.refreshGroupTitle(t, a)
			} else
				e(t).datagrid("loadData", [i])
		},
		updateRow: function (t, n, i) {
			var r = e.data(t, "datagrid").options;
			e.fn.datagrid.defaults.view.updateRow.call(this, t, n, i);
			var a = r.finder.getTr(t, n, "body", 2).closest("table.datagrid-btable"),
			o = parseInt(a.prev().attr("group-index"));
			this.refreshGroupTitle(t, o)
		},
		deleteRow: function (t, n) {
			var i = e.data(t, "datagrid"),
			r = i.options,
			a = i.dc,
			o = a.body1.add(a.body2),
			s = r.finder.getTr(t, n, "body", 2).closest("table.datagrid-btable"),
			l = parseInt(s.prev().attr("group-index"));
			e.fn.datagrid.defaults.view.deleteRow.call(this, t, n);
			d = this.groups[l];
			if (d.rows.length > 1)
				d.rows.splice(n - d.startIndex, 1), this.refreshGroupTitle(t, l);
			else {
				o.children("div.datagrid-group[group-index=" + l + "]").remove();
				for (c = l + 1; c < this.groups.length; c++)
					o.children("div.datagrid-group[group-index=" + c + "]").attr("group-index", c - 1);
				this.groups.splice(l, 1)
			}
			for (var n = 0, c = 0; c < this.groups.length; c++) {
				var d;
				(d = this.groups[c]).startIndex = n,
				n += d.rows.length
			}
		}
	}),
	e.fn.propertygrid.defaults = e.extend({}, e.fn.datagrid.defaults, {
			groupHeight: 21,
			expanderWidth: 16,
			singleSelect: !0,
			remoteSort: !1,
			fitColumns: !0,
			loadMsg: "",
			frozenColumns: [[{
						field: "f",
						width: 16,
						resizable: !1
					}
				]],
			columns: [[{
						field: "name",
						title: "Name",
						width: 100,
						sortable: !0
					}, {
						field: "value",
						title: "Value",
						width: 100,
						resizable: !1
					}
				]],
			showGroup: !1,
			groupView: i,
			groupField: "group",
			groupFormatter: function (e, t) {
				return e
			}
		})
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "datagrid").options;
		if (!e.data(t, "datagrid").dc.body1.is(":empty") && (!i.nowrap || i.autoRowHeight) && void 0 != n)
			for (var r = m(t, n), a = 0; a < r.length; a++)
				!function (e) {
					var n = i.finder.getTr(t, e, "body", 1),
					r = i.finder.getTr(t, e, "body", 2);
					n.css("height", ""),
					r.css("height", "");
					var a = Math.max(n.height(), r.height());
					n.css("height", a),
					r.css("height", a)
				}
		(r[a][i.idField]);
		e(t).datagrid("fixRowHeight", n)
	}
	function n(t) {
		var n = e.data(t, "datagrid").dc;
		e.data(t, "treegrid").options.rownumbers && n.body1.find("div.datagrid-cell-rownumber").each(function (t) {
			e(this).html(t + 1)
		})
	}
	function i(t) {
		return function (n) {
			e.fn.datagrid.defaults.rowEvents[t ? "mouseover" : "mouseout"](n);
			var i = e(n.target),
			r = t ? "addClass" : "removeClass";
			i.hasClass("tree-hit") && (i.hasClass("tree-expanded") ? i[r]("tree-expanded-hover") : i[r]("tree-collapsed-hover"))
		}
	}
	function r(t) {
		var n = e(t.target),
		i = n.closest("tr.datagrid-row");
		if (i.length && i.parent().length) {
			var r = i.attr("node-id"),
			o = function (t) {
				return e(t).closest("div.datagrid-view").children(".datagrid-f")[0]
			}
			(i);
			if (n.hasClass("tree-hit"))
				y(o, r);
			else if (n.hasClass("tree-checkbox"))
				a(o, r);
			else {
				var s = e(o).datagrid("options");
				if (n.parent().hasClass("datagrid-cell-check") || s.singleSelect || !t.shiftKey)
					e.fn.datagrid.defaults.rowEvents.click(t);
				else {
					var l = e(o).treegrid("getChildren"),
					c = e.easyui.indexOfArray(l, s.idField, s.lastSelectedIndex),
					d = e.easyui.indexOfArray(l, s.idField, r),
					u = Math.min(Math.max(c, 0), d),
					h = Math.max(c, d),
					p = l[d],
					f = n.closest("td[field]", i);
					if (f.length) {
						var m = f.attr("field");
						s.onClickCell.call(o, r, m, p[m])
					}
					e(o).treegrid("clearSelections");
					for (var g = u; g <= h; g++)
						e(o).treegrid("selectRow", l[g][s.idField]);
					s.onClickRow.call(o, p)
				}
			}
		}
	}
	function a(t, n, i, r) {
		var a = e.data(t, "treegrid"),
		l = (a.checkedRows, a.options);
		if (l.checkbox) {
			var c = g(t, n);
			if (c.checkState) {
				var d = l.finder.getTr(t, n).find(".tree-checkbox");
				if (void 0 == i && (d.hasClass("tree-checkbox1") ? i = !1 : d.hasClass("tree-checkbox0") ? i = !0 : (void 0 == c._checked && (c._checked = d.hasClass("tree-checkbox1")), i = !c._checked)), c._checked = i, i) {
					if (d.hasClass("tree-checkbox1"))
						return
				} else if (d.hasClass("tree-checkbox0"))
					return;
				(r || 0 != l.onBeforeCheckNode.call(t, c, i)) && (l.cascadeCheck ? (!function (t, n, i) {
						var r = i ? 1 : 0;
						o(t, n, r),
						e.easyui.forEach(n.children || [], !0, function (e) {
							o(t, e, r)
						})
					}
						(t, c, i), s(t, c)) : o(t, c, i ? "1" : "0"), r || l.onCheckNode.call(t, c, i))
			}
		}
	}
	function o(t, n, i) {
		var r = e.data(t, "treegrid"),
		a = r.checkedRows,
		o = r.options;
		if (n.checkState && void 0 != i) {
			var s = o.finder.getTr(t, n[o.idField]).find(".tree-checkbox");
			s.length && (n.checkState = ["unchecked", "checked", "indeterminate"][i], n.checked = "checked" == n.checkState, s.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"), s.addClass("tree-checkbox" + i), 0 == i ? e.easyui.removeArrayItem(a, o.idField, n[o.idField]) : e.easyui.addArrayItem(a, o.idField, n))
		}
	}
	function s(t, n) {
		var i = f(t, n[e.data(t, "treegrid").options.idField]);
		i && (o(t, i, l(i)), s(t, i))
	}
	function l(t) {
		var n = 0,
		i = 0,
		r = 0;
		if (e.easyui.forEach(t.children || [], !1, function (e) {
				e.checkState && (n++, "checked" == e.checkState ? r++ : "unchecked" == e.checkState && i++)
			}), 0 != n) {
			return i == n ? 0 : r == n ? 1 : 2
		}
	}
	function c(t, n) {
		var i = e.data(t, "treegrid").options;
		if (i.checkbox) {
			var r = g(t, n),
			o = i.finder.getTr(t, n),
			c = o.find(".tree-checkbox");
			if (i.view.hasCheckbox(t, r))
				if (c.length || (r.checkState = r.checkState || "unchecked", e('<span class="tree-checkbox"></span>').insertBefore(o.find(".tree-title"))), "checked" == r.checkState)
					a(t, n, !0, !0);
				else if ("unchecked" == r.checkState)
					a(t, n, !1, !0);
				else {
					var d = l(r);
					0 === d ? a(t, n, !1, !0) : 1 === d && a(t, n, !0, !0)
				}
			else
				c.remove(), r.checkState = void 0, r.checked = void 0, s(t, r)
		}
	}
	function d(t, n) {
		function i(t, n) {
			e('<tr class="treegrid-tr-tree"><td style="border:0px" colspan="' + n + '"><div></div></td></tr>').insertAfter(t)
		}
		var r = e.data(t, "treegrid").options,
		a = r.finder.getTr(t, n, "body", 1),
		o = r.finder.getTr(t, n, "body", 2),
		s = e(t).datagrid("getColumnFields", !0).length + (r.rownumbers ? 1 : 0),
		l = e(t).datagrid("getColumnFields", !1).length;
		i(a, s),
		i(o, l)
	}
	function u(i, r, a, o, s) {
		var l = e.data(i, "treegrid"),
		c = l.options,
		d = l.dc;
		a = c.loadFilter.call(i, a, r);
		var u = g(i, r);
		if (u) {
			var h = c.finder.getTr(i, r, "body", 1),
			p = c.finder.getTr(i, r, "body", 2),
			f = h.next("tr.treegrid-tr-tree").children("td").children("div"),
			m = p.next("tr.treegrid-tr-tree").children("td").children("div");
			o || (u.children = [])
		} else {
			var f = d.body1,
			m = d.body2;
			o || (l.data = [])
		}
		if (o || (f.empty(), m.empty()), c.view.onBeforeRender && c.view.onBeforeRender.call(c.view, i, r, a), c.view.render.call(c.view, i, f, !0), c.view.render.call(c.view, i, m, !1), c.showFooter && (c.view.renderFooter.call(c.view, i, d.footer1, !0), c.view.renderFooter.call(c.view, i, d.footer2, !1)), c.view.onAfterRender && c.view.onAfterRender.call(c.view, i), !r && c.pagination) {
			var v = e.data(i, "treegrid").total,
			b = e(i).datagrid("getPager");
			b.pagination("options").total != v && b.pagination({
				total: v
			})
		}
		t(i),
		n(i),
		e(i).treegrid("showLines"),
		e(i).treegrid("setSelectionState"),
		e(i).treegrid("autoSizeColumn"),
		s || c.onLoadSuccess.call(i, u, a)
	}
	function h(t, n, i, r, a) {
		var o = e.data(t, "treegrid").options,
		s = e(t).datagrid("getPanel").find("div.datagrid-body");
		void 0 == n && o.queryParams && (o.queryParams.id = void 0),
		i && (o.queryParams = i);
		var l = e.extend({}, o.queryParams);
		o.pagination && e.extend(l, {
			page: o.pageNumber,
			rows: o.pageSize
		}),
		o.sortName && e.extend(l, {
			sort: o.sortName,
			order: o.sortOrder
		});
		var c = g(t, n);
		if (0 != o.onBeforeLoad.call(t, c, l)) {
			var d = s.find('tr[node-id="' + n + '"] span.tree-folder');
			d.addClass("tree-loading"),
			e(t).treegrid("loading");
			0 == o.loader.call(t, l, function (i) {
				d.removeClass("tree-loading"),
				e(t).treegrid("loaded"),
				u(t, n, i, r),
				a && a()
			}, function () {
				d.removeClass("tree-loading"),
				e(t).treegrid("loaded"),
				o.onLoadError.apply(t, arguments),
				a && a()
			}) && (d.removeClass("tree-loading"), e(t).treegrid("loaded"))
		}
	}
	function p(t) {
		return e.data(t, "treegrid").data
	}
	function f(e, t) {
		var n = g(e, t);
		return n._parentId ? g(e, n._parentId) : null
	}
	function m(t, n) {
		var i = e.data(t, "treegrid").data;
		if (n) {
			var r = g(t, n);
			i = r ? r.children || [] : []
		}
		var a = [];
		return e.easyui.forEach(i, !0, function (e) {
			a.push(e)
		}),
		a
	}
	function g(t, n) {
		var i = e.data(t, "treegrid"),
		r = i.options,
		a = null;
		return e.easyui.forEach(i.data, !0, function (e) {
			if (e[r.idField] == n)
				return a = e, !1
		}),
		a
	}
	function v(n, i) {
		var r = e.data(n, "treegrid").options,
		a = g(n, i),
		o = r.finder.getTr(n, i),
		s = o.find("span.tree-hit");
		if (0 != s.length && !s.hasClass("tree-collapsed") && 0 != r.onBeforeCollapse.call(n, a)) {
			s.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),
			s.next().removeClass("tree-folder-open"),
			a.state = "closed";
			var l = (o = o.next("tr.treegrid-tr-tree")).children("td").children("div");
			r.animate ? l.slideUp("normal", function () {
				e(n).treegrid("autoSizeColumn"),
				t(n, i),
				r.onCollapse.call(n, a)
			}) : (l.hide(), e(n).treegrid("autoSizeColumn"), t(n, i), r.onCollapse.call(n, a))
		}
	}
	function b(n, i) {
		function r(r) {
			l.state = "open",
			a.animate ? r.slideDown("normal", function () {
				e(n).treegrid("autoSizeColumn"),
				t(n, i),
				a.onExpand.call(n, l)
			}) : (r.show(), e(n).treegrid("autoSizeColumn"), t(n, i), a.onExpand.call(n, l))
		}
		var a = e.data(n, "treegrid").options,
		o = a.finder.getTr(n, i),
		s = o.find("span.tree-hit"),
		l = g(n, i);
		if (0 != s.length && !s.hasClass("tree-expanded") && 0 != a.onBeforeExpand.call(n, l)) {
			s.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),
			s.next().addClass("tree-folder-open");
			c = o.next("tr.treegrid-tr-tree");
			if (c.length) {
				r(u = c.children("td").children("div"))
			} else {
				d(n, l[a.idField]);
				var c,
				u = (c = o.next("tr.treegrid-tr-tree")).children("td").children("div");
				u.hide();
				var p = e.extend({}, a.queryParams || {});
				p.id = l[a.idField],
				h(n, l[a.idField], p, !0, function () {
					u.is(":empty") ? c.remove() : r(u)
				})
			}
		}
	}
	function y(t, n) {
		e.data(t, "treegrid").options.finder.getTr(t, n).find("span.tree-hit").hasClass("tree-expanded") ? v(t, n) : b(t, n)
	}
	function x(t, n) {
		var i = e.data(t, "treegrid"),
		r = i.options;
		if (n.parent) {
			var a = r.finder.getTr(t, n.parent);
			0 == a.next("tr.treegrid-tr-tree").length && d(t, n.parent);
			var o = a.children('td[field="' + r.treeField + '"]').children("div.datagrid-cell").children("span.tree-icon");
			if (o.hasClass("tree-file")) {
				o.removeClass("tree-file").addClass("tree-folder tree-folder-open");
				var s = e('<span class="tree-hit tree-expanded"></span>').insertBefore(o);
				s.prev().length && s.prev().remove()
			}
		}
		u(t, n.parent, n.data, i.data.length > 0, !0)
	}
	e.fn.treegrid = function (n, i) {
		if ("string" == typeof n) {
			var r = e.fn.treegrid.methods[n];
			return r ? r(this, i) : this.datagrid(n, i)
		}
		return n = n || {},
		this.each(function () {
			var i = e.data(this, "treegrid");
			i ? e.extend(i.options, n) : i = e.data(this, "treegrid", {
					options: e.extend({}, e.fn.treegrid.defaults, e.fn.treegrid.parseOptions(this), n),
					data: [],
					checkedRows: [],
					tmpIds: []
				}),
			function (n) {
				var i = e.data(n, "treegrid"),
				r = i.options;
				e(n).datagrid(e.extend({}, r, {
						url: null,
						data: null,
						loader: function () {
							return !1
						},
						onBeforeLoad: function () {
							return !1
						},
						onLoadSuccess: function () {},
						onResizeColumn: function (e, i) {
							t(n),
							r.onResizeColumn.call(n, e, i)
						},
						onBeforeSortColumn: function (e, t) {
							if (0 == r.onBeforeSortColumn.call(n, e, t))
								return !1
						},
						onSortColumn: function (t, i) {
							if (r.sortName = t, r.sortOrder = i, r.remoteSort)
								h(n);
							else {
								var a = e(n).treegrid("getData");
								u(n, null, a)
							}
							r.onSortColumn.call(n, t, i)
						},
						onClickCell: function (e, t) {
							r.onClickCell.call(n, t, g(n, e))
						},
						onDblClickCell: function (e, t) {
							r.onDblClickCell.call(n, t, g(n, e))
						},
						onRowContextMenu: function (e, t) {
							r.onContextMenu.call(n, e, g(n, t))
						}
					}));
				var a = e.data(n, "datagrid").options;
				if (r.columns = a.columns, r.frozenColumns = a.frozenColumns, i.dc = e.data(n, "datagrid").dc, r.pagination) {
					var o = e(n).datagrid("getPager");
					o.pagination({
						pageNumber: r.pageNumber,
						pageSize: r.pageSize,
						pageList: r.pageList,
						onSelectPage: function (e, t) {
							r.pageNumber = e,
							r.pageSize = t,
							h(n)
						}
					}),
					r.pageSize = o.pagination("options").pageSize
				}
			}
			(this),
			i.options.data && e(this).treegrid("loadData", i.options.data),
			h(this)
		})
	},
	e.fn.treegrid.methods = {
		options: function (t) {
			return e.data(t[0], "treegrid").options
		},
		resize: function (t, n) {
			return t.each(function () {
				e(this).datagrid("resize", n)
			})
		},
		fixRowHeight: function (e, n) {
			return e.each(function () {
				t(this, n)
			})
		},
		loadData: function (e, t) {
			return e.each(function () {
				u(this, t.parent, t)
			})
		},
		load: function (t, n) {
			return t.each(function () {
				e(this).treegrid("options").pageNumber = 1,
				e(this).treegrid("getPager").pagination({
					pageNumber: 1
				}),
				e(this).treegrid("reload", n)
			})
		},
		reload: function (t, n) {
			return t.each(function () {
				var t = e(this).treegrid("options"),
				i = {};
				if ("object" == typeof n ? i = n : (i = e.extend({}, t.queryParams)).id = n, i.id) {
					var r = e(this).treegrid("find", i.id);
					r.children && r.children.splice(0, r.children.length),
					t.queryParams = i;
					var a = t.finder.getTr(this, i.id);
					a.next("tr.treegrid-tr-tree").remove(),
					a.find("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),
					b(this, i.id)
				} else
					h(this, null, i)
			})
		},
		reloadFooter: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "treegrid").options,
				i = e.data(this, "datagrid").dc;
				n && (e.data(this, "treegrid").footer = n),
				t.showFooter && (t.view.renderFooter.call(t.view, this, i.footer1, !0), t.view.renderFooter.call(t.view, this, i.footer2, !1), t.view.onAfterRender && t.view.onAfterRender.call(t.view, this), e(this).treegrid("fixRowHeight"))
			})
		},
		getData: function (t) {
			return e.data(t[0], "treegrid").data
		},
		getFooterRows: function (t) {
			return e.data(t[0], "treegrid").footer
		},
		getRoot: function (e) {
			return function (e) {
				var t = p(e);
				return t.length ? t[0] : null
			}
			(e[0])
		},
		getRoots: function (e) {
			return p(e[0])
		},
		getParent: function (e, t) {
			return f(e[0], t)
		},
		getChildren: function (e, t) {
			return m(e[0], t)
		},
		getLevel: function (t, n) {
			return function (t, n) {
				var i = e.data(t, "treegrid").options;
				return i.finder.getTr(t, n).children('td[field="' + i.treeField + '"]').find("span.tree-indent,span.tree-hit").length
			}
			(t[0], n)
		},
		find: function (e, t) {
			return g(e[0], t)
		},
		isLeaf: function (t, n) {
			return 0 == e.data(t[0], "treegrid").options.finder.getTr(t[0], n).find("span.tree-hit").length
		},
		select: function (t, n) {
			return t.each(function () {
				e(this).datagrid("selectRow", n)
			})
		},
		unselect: function (t, n) {
			return t.each(function () {
				e(this).datagrid("unselectRow", n)
			})
		},
		collapse: function (e, t) {
			return e.each(function () {
				v(this, t)
			})
		},
		expand: function (e, t) {
			return e.each(function () {
				b(this, t)
			})
		},
		toggle: function (e, t) {
			return e.each(function () {
				y(this, t)
			})
		},
		collapseAll: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "treegrid").options,
					r = m(t, n);
					n && r.unshift(g(t, n));
					for (var a = 0; a < r.length; a++)
						v(t, r[a][i.idField])
				}
				(this, n)
			})
		},
		expandAll: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "treegrid").options,
					r = m(t, n);
					n && r.unshift(g(t, n));
					for (var a = 0; a < r.length; a++)
						b(t, r[a][i.idField])
				}
				(this, n)
			})
		},
		expandTo: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					for (var i = e.data(t, "treegrid").options, r = [], a = f(t, n); a; ) {
						var o = a[i.idField];
						r.unshift(o),
						a = f(t, o)
					}
					for (var s = 0; s < r.length; s++)
						b(t, r[s])
				}
				(this, n)
			})
		},
		append: function (e, t) {
			return e.each(function () {
				x(this, t)
			})
		},
		insert: function (t, i) {
			return t.each(function () {
				!function (t, i) {
					function r(e) {
						var n = e ? 1 : 2,
						r = o.finder.getTr(t, i.data[o.idField], "body", n),
						s = r.closest("table.datagrid-btable");
						r = r.parent().children();
						var l = o.finder.getTr(t, a, "body", n);
						if (i.before)
							r.insertBefore(l);
						else {
							var c = l.next("tr.treegrid-tr-tree");
							r.insertAfter(c.length ? c : l)
						}
						s.remove()
					}
					var a = i.before || i.after,
					o = e.data(t, "treegrid").options,
					s = f(t, a);
					x(t, {
						parent: s ? s[o.idField] : null,
						data: [i.data]
					});
					for (var l = s ? s.children : e(t).treegrid("getRoots"), c = 0; c < l.length; c++)
						if (l[c][o.idField] == a) {
							var d = l[l.length - 1];
							l.splice(i.before ? c : c + 1, 0, d),
							l.splice(l.length - 1, 1);
							break
						}
					r(!0),
					r(!1),
					n(t),
					e(t).treegrid("showLines")
				}
				(this, i)
			})
		},
		remove: function (t, i) {
			return t.each(function () {
				!function (t, i) {
					var r = e.data(t, "treegrid"),
					a = r.options,
					o = f(t, i);
					e(t).datagrid("deleteRow", i),
					e.easyui.removeArrayItem(r.checkedRows, a.idField, i),
					n(t),
					o && c(t, o[a.idField]),
					r.total -= 1,
					e(t).datagrid("getPager").pagination("refresh", {
						total: r.total
					}),
					e(t).treegrid("showLines")
				}
				(this, i)
			})
		},
		pop: function (e, t) {
			var n = e.treegrid("find", t);
			return e.treegrid("remove", t),
			n
		},
		refresh: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "treegrid").options;
				t.view.refreshRow.call(t.view, this, n)
			})
		},
		update: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "treegrid").options,
				i = n.row;
				t.view.updateRow.call(t.view, this, n.id, i),
				void 0 != i.checked && (i = g(this, n.id), e.extend(i, {
						checkState: i.checked ? "checked" : !1 === i.checked ? "unchecked" : void 0
					}), c(this, n.id))
			})
		},
		beginEdit: function (t, n) {
			return t.each(function () {
				e(this).datagrid("beginEdit", n),
				e(this).treegrid("fixRowHeight", n)
			})
		},
		endEdit: function (t, n) {
			return t.each(function () {
				e(this).datagrid("endEdit", n)
			})
		},
		cancelEdit: function (t, n) {
			return t.each(function () {
				e(this).datagrid("cancelEdit", n)
			})
		},
		showLines: function (t) {
			return t.each(function () {
				!function (t) {
					function n(t) {
						if (e.map(t, function (e) {
								e.children && e.children.length ? n(e.children) : r(e).find(".tree-icon").prev().addClass("tree-join")
							}), t.length) {
							var i = r(t[t.length - 1]);
							i.addClass("tree-node-last"),
							i.find(".tree-join").removeClass("tree-join").addClass("tree-joinbottom")
						}
					}
					function i(n) {
						e.map(n, function (e) {
							e.children && e.children.length && i(e.children)
						});
						for (var r = 0; r < n.length - 1; r++) {
							var s = n[r],
							l = a.treegrid("getLevel", s[o.idField]);
							o.finder.getTr(t, s[o.idField]).next().find('tr.datagrid-row td[field="' + o.treeField + '"] div.datagrid-cell').find("span:eq(" + (l - 1) + ")").addClass("tree-line")
						}
					}
					function r(e) {
						return o.finder.getTr(t, e[o.idField]).find('td[field="' + o.treeField + '"] div.datagrid-cell')
					}
					var a = e(t),
					o = a.treegrid("options");
					if (o.lines) {
						a.treegrid("getPanel").addClass("tree-lines"),
						a.treegrid("getPanel").find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),
						a.treegrid("getPanel").find("div.datagrid-cell").removeClass("tree-node-last tree-root-first tree-root-one");
						var s = a.treegrid("getRoots");
						s.length > 1 ? r(s[0]).addClass("tree-root-first") : 1 == s.length && r(s[0]).addClass("tree-root-one"),
						n(s),
						i(s)
					} else
						a.treegrid("getPanel").removeClass("tree-lines")
				}
				(this)
			})
		},
		setSelectionState: function (t) {
			return t.each(function () {
				e(this).datagrid("setSelectionState");
				for (var t = e(this).data("treegrid"), n = 0; n < t.tmpIds.length; n++)
					a(this, t.tmpIds[n], !0, !0);
				t.tmpIds = []
			})
		},
		getCheckedNodes: function (t, n) {
			n = n || "checked";
			var i = [];
			return e.easyui.forEach(t.data("treegrid").checkedRows, !1, function (e) {
				e.checkState == n && i.push(e)
			}),
			i
		},
		checkNode: function (e, t) {
			return e.each(function () {
				a(this, t, !0)
			})
		},
		uncheckNode: function (e, t) {
			return e.each(function () {
				a(this, t, !1)
			})
		},
		clearChecked: function (t) {
			return t.each(function () {
				var t = this,
				n = e(t).treegrid("options");
				e(t).datagrid("clearChecked"),
				e.map(e(t).treegrid("getCheckedNodes"), function (e) {
					a(t, e[n.idField], !1, !0)
				})
			})
		}
	},
	e.fn.treegrid.parseOptions = function (t) {
		return e.extend({}, e.fn.datagrid.parseOptions(t), e.parser.parseOptions(t, ["treeField", {
						checkbox: "boolean",
						cascadeCheck: "boolean",
						onlyLeafCheck: "boolean"
					}, {
						animate: "boolean"
					}
				]))
	};
	var w = e.extend({}, e.fn.datagrid.defaults.view, {
			render: function (t, n, i) {
				function r(n, i, c) {
					for (var d = e(t).treegrid("getParent", c[0][a.idField]), u = (d ? d.children.length : e(t).treegrid("getRoots").length) - c.length, h = ['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'], p = 0; p < c.length; p++) {
						var f = c[p];
						"open" != f.state && "closed" != f.state && (f.state = "open");
						var m = a.rowStyler ? a.rowStyler.call(t, f) : "",
						g = this.getStyleValue(m),
						v = 'class="datagrid-row ' + (u++ % 2 && a.striped ? "datagrid-row-alt " : " ") + g.c + '"',
						b = g.s ? 'style="' + g.s + '"' : "",
						y = s + "-" + (n ? 1 : 2) + "-" + f[a.idField];
						if (h.push('<tr id="' + y + '" node-id="' + f[a.idField] + '" ' + v + " " + b + ">"), (h = h.concat(l.renderRow.call(l, t, o, n, i, f))).push("</tr>"), f.children && f.children.length) {
							var x = r.call(this, n, i + 1, f.children),
							w = "closed" == f.state ? "none" : "block";
							h.push('<tr class="treegrid-tr-tree"><td style="border:0px" colspan=' + (o.length + (a.rownumbers ? 1 : 0)) + '><div style="display:' + w + '">'),
							(h = h.concat(x)).push("</div></td></tr>")
						}
					}
					return h.push("</tbody></table>"),
					h
				}
				var a = e.data(t, "treegrid").options,
				o = e(t).datagrid("getColumnFields", i),
				s = e.data(t, "datagrid").rowIdPrefix;
				if (!i || a.rownumbers || a.frozenColumns && a.frozenColumns.length) {
					var l = this;
					if (this.treeNodes && this.treeNodes.length) {
						var c = r.call(this, i, this.treeLevel, this.treeNodes);
						e(n).append(c.join(""))
					}
				}
			},
			renderFooter: function (t, n, i) {
				for (var r = e.data(t, "treegrid").options, a = e.data(t, "treegrid").footer || [], o = e(t).datagrid("getColumnFields", i), s = ['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'], l = 0; l < a.length; l++) {
					var c = a[l];
					c[r.idField] = c[r.idField] || "foot-row-id" + l,
					s.push('<tr class="datagrid-row" node-id="' + c[r.idField] + '">'),
					s.push(this.renderRow.call(this, t, o, i, 0, c)),
					s.push("</tr>")
				}
				s.push("</tbody></table>"),
				e(n).html(s.join(""))
			},
			renderRow: function (t, n, i, r, a) {
				var o = e.data(t, "treegrid"),
				s = o.options,
				l = [];
				i && s.rownumbers && l.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">0</div></td>');
				for (var c = 0; c < n.length; c++) {
					var d = n[c],
					u = e(t).datagrid("getColumnOption", d);
					if (u) {
						var h = u.styler ? u.styler(a[d], a) || "" : "",
						p = this.getStyleValue(h),
						f = p.c ? 'class="' + p.c + '"' : "",
						m = u.hidden ? 'style="display:none;' + p.s + '"' : p.s ? 'style="' + p.s + '"' : "";
						l.push('<td field="' + d + '" ' + f + " " + m + ">");
						m = "";
						if (u.checkbox || (u.align && (m += "text-align:" + u.align + ";"), s.nowrap ? s.autoRowHeight && (m += "height:auto;") : m += "white-space:normal;height:auto;"), l.push('<div style="' + m + '" '), u.checkbox ? l.push('class="datagrid-cell-check ') : l.push('class="datagrid-cell ' + u.cellClass), l.push('">'), u.checkbox)
							a.checked ? l.push('<input type="checkbox" checked="checked"') : l.push('<input type="checkbox"'), l.push(' name="' + d + '" value="' + (void 0 != a[d] ? a[d] : "") + '">');
						else {
							var g = null;
							if (g = u.formatter ? u.formatter(a[d], a) : a[d], d == s.treeField) {
								for (var v = 0; v < r; v++)
									l.push('<span class="tree-indent"></span>');
								if ("closed" == a.state ? (l.push('<span class="tree-hit tree-collapsed"></span>'), l.push('<span class="tree-icon tree-folder ' + (a.iconCls ? a.iconCls : "") + '"></span>')) : a.children && a.children.length ? (l.push('<span class="tree-hit tree-expanded"></span>'), l.push('<span class="tree-icon tree-folder tree-folder-open ' + (a.iconCls ? a.iconCls : "") + '"></span>')) : (l.push('<span class="tree-indent"></span>'), l.push('<span class="tree-icon tree-file ' + (a.iconCls ? a.iconCls : "") + '"></span>')), this.hasCheckbox(t, a)) {
									var b = 0,
									y = e.easyui.getArrayItem(o.checkedRows, s.idField, a[s.idField]);
									if (y)
										b = "checked" == y.checkState ? 1 : 2, a.checkState = y.checkState, a.checked = y.checked, e.easyui.addArrayItem(o.checkedRows, s.idField, a);
									else {
										var x = e.easyui.getArrayItem(o.checkedRows, s.idField, a._parentId);
										x && "checked" == x.checkState && s.cascadeCheck ? (b = 1, a.checked = !0, e.easyui.addArrayItem(o.checkedRows, s.idField, a)) : a.checked && e.easyui.addArrayItem(o.tmpIds, a[s.idField]),
										a.checkState = b ? "checked" : "unchecked"
									}
									l.push('<span class="tree-checkbox tree-checkbox' + b + '"></span>')
								} else
									a.checkState = void 0, a.checked = void 0;
								l.push('<span class="tree-title">' + g + "</span>")
							} else
								l.push(g)
						}
						l.push("</div>"),
						l.push("</td>")
					}
				}
				return l.join("")
			},
			hasCheckbox: function (t, n) {
				var i = e.data(t, "treegrid").options;
				if (i.checkbox) {
					if (e.isFunction(i.checkbox))
						return !!i.checkbox.call(t, n);
					if (!i.onlyLeafCheck)
						return !0;
					if (!("open" != n.state || n.children && n.children.length))
						return !0
				}
				return !1
			},
			refreshRow: function (e, t) {
				this.updateRow.call(this, e, t, {})
			},
			updateRow: function (t, n, i) {
				function r(i) {
					var r = e(t).treegrid("getColumnFields", i),
					u = a.finder.getTr(t, n, "body", i ? 1 : 2),
					h = u.find("div.datagrid-cell-rownumber").html(),
					p = u.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");
					u.html(this.renderRow(t, r, i, s, o)),
					u.attr("style", l || ""),
					u.find("div.datagrid-cell-rownumber").html(h),
					p && u.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked", !0),
					d != n && (u.attr("id", c + "-" + (i ? 1 : 2) + "-" + d), u.attr("node-id", d))
				}
				var a = e.data(t, "treegrid").options,
				o = e(t).treegrid("find", n);
				e.extend(o, i);
				var s = e(t).treegrid("getLevel", n) - 1,
				l = a.rowStyler ? a.rowStyler.call(t, o) : "",
				c = e.data(t, "datagrid").rowIdPrefix,
				d = o[a.idField];
				r.call(this, !0),
				r.call(this, !1),
				e(t).treegrid("fixRowHeight", n)
			},
			deleteRow: function (t, n) {
				var i = e.data(t, "treegrid").options,
				r = i.finder.getTr(t, n);
				r.next("tr.treegrid-tr-tree").remove(),
				r.remove();
				var a = function (n) {
					var r,
					a = e(t).treegrid("getParent", n);
					r = a ? a.children : e(t).treegrid("getData");
					for (var o = 0; o < r.length; o++)
						if (r[o][i.idField] == n) {
							r.splice(o, 1);
							break
						}
					return a
				}
				(n);
				if (a && 0 == a.children.length) {
					(r = i.finder.getTr(t, a[i.idField])).next("tr.treegrid-tr-tree").remove();
					var o = r.children('td[field="' + i.treeField + '"]').children("div.datagrid-cell");
					o.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),
					o.find(".tree-hit").remove(),
					e('<span class="tree-indent"></span>').prependTo(o)
				}
				this.setEmptyMsg(t)
			},
			onBeforeRender: function (t, n, i) {
				function r(e, t) {
					for (var n = 0; n < e.length; n++) {
						var i = e[n];
						i._parentId = t,
						i.children && i.children.length && r(i.children, i[o.idField])
					}
				}
				if (e.isArray(n) && (i = {
							total: n.length,
							rows: n
						}, n = null), !i)
					return !1;
				var a = e.data(t, "treegrid"),
				o = a.options;
				void 0 == i.length ? (i.footer && (a.footer = i.footer), i.total && (a.total = i.total), i = this.transfer(t, n, i.rows)) : r(i, n);
				var s = g(t, n);
				s ? s.children ? s.children = s.children.concat(i) : s.children = i : a.data = a.data.concat(i),
				this.sort(t, i),
				this.treeNodes = i,
				this.treeLevel = e(t).treegrid("getLevel", n)
			},
			sort: function (t, n) {
				function i(n) {
					n.sort(function (n, i) {
						for (var r = 0, s = 0; s < a.length; s++) {
							var l = a[s],
							c = o[s];
							if (0 != (r = (e(t).treegrid("getColumnOption", l).sorter || function (e, t) {
										return e == t ? 0 : e > t ? 1 : -1
									})(n[l], i[l]) * ("asc" == c ? 1 : -1)))
								return r
						}
						return r
					});
					for (var r = 0; r < n.length; r++) {
						var s = n[r].children;
						s && s.length && i(s)
					}
				}
				var r = e.data(t, "treegrid").options;
				if (!r.remoteSort && r.sortName) {
					var a = r.sortName.split(","),
					o = r.sortOrder.split(",");
					i(n)
				}
			},
			transfer: function (t, n, i) {
				function r(e, t) {
					for (var n = [], i = 0; i < t.length; i++) {
						var r = t[i];
						r._parentId == e && (n.push(r), t.splice(i, 1), i--)
					}
					return n
				}
				for (var a = e.data(t, "treegrid").options, o = e.extend([], i), s = r(n, o), l = e.extend([], s); l.length; ) {
					var c = l.shift(),
					d = r(c[a.idField], o);
					d.length && (c.children ? c.children = c.children.concat(d) : c.children = d, l = l.concat(d))
				}
				return s
			}
		});
	e.fn.treegrid.defaults = e.extend({}, e.fn.datagrid.defaults, {
			treeField: null,
			checkbox: !1,
			cascadeCheck: !0,
			onlyLeafCheck: !1,
			lines: !1,
			animate: !1,
			singleSelect: !0,
			view: w,
			rowEvents: e.extend({}, e.fn.datagrid.defaults.rowEvents, {
				mouseover: i(!0),
				mouseout: i(!1),
				click: r
			}),
			loader: function (t, n, i) {
				var r = e(this).treegrid("options");
				if (!r.url)
					return !1;
				e.ajax({
					type: r.method,
					url: r.url,
					data: t,
					dataType: "json",
					success: function (e) {
						n(e)
					},
					error: function () {
						i.apply(this, arguments)
					}
				})
			},
			loadFilter: function (e, t) {
				return e
			},
			finder: {
				getTr: function (t, n, i, r) {
					i = i || "body",
					r = r || 0;
					var a = e.data(t, "datagrid").dc;
					if (0 == r) {
						var o = e.data(t, "treegrid").options,
						s = o.finder.getTr(t, n, i, 1),
						l = o.finder.getTr(t, n, i, 2);
						return s.add(l)
					}
					if ("body" == i) {
						var c = e("#" + e.data(t, "datagrid").rowIdPrefix + "-" + r + "-" + n);
						return c.length || (c = (1 == r ? a.body1 : a.body2).find('tr[node-id="' + n + '"]')),
						c
					}
					return "footer" == i ? (1 == r ? a.footer1 : a.footer2).find('tr[node-id="' + n + '"]') : "selected" == i ? (1 == r ? a.body1 : a.body2).find("tr.datagrid-row-selected") : "highlight" == i ? (1 == r ? a.body1 : a.body2).find("tr.datagrid-row-over") : "checked" == i ? (1 == r ? a.body1 : a.body2).find("tr.datagrid-row-checked") : "last" == i ? (1 == r ? a.body1 : a.body2).find("tr:last[node-id]") : "allbody" == i ? (1 == r ? a.body1 : a.body2).find("tr[node-id]") : "allfooter" == i ? (1 == r ? a.footer1 : a.footer2).find("tr[node-id]") : void 0
				},
				getRow: function (t, n) {
					var i = "object" == typeof n ? n.attr("node-id") : n;
					return e(t).treegrid("find", i)
				},
				getRows: function (t) {
					return e(t).treegrid("getChildren")
				}
			},
			onBeforeLoad: function (e, t) {},
			onLoadSuccess: function (e, t) {},
			onLoadError: function () {},
			onBeforeCollapse: function (e) {},
			onCollapse: function (e) {},
			onBeforeExpand: function (e) {},
			onExpand: function (e) {},
			onClickRow: function (e) {},
			onDblClickRow: function (e) {},
			onClickCell: function (e, t) {},
			onDblClickCell: function (e, t) {},
			onContextMenu: function (e, t) {},
			onBeforeEdit: function (e) {},
			onAfterEdit: function (e, t) {},
			onCancelEdit: function (e) {},
			onBeforeCheckNode: function (e, t) {},
			onCheckNode: function (e, t) {}
		})
}
(jQuery), function (e) {
	var t = e.extend({}, e.fn.datagrid.defaults.view, {
			render: function (t, n, i) {
				var r = e.data(t, "datagrid");
				if (r.options.groupField) {
					var a = this.groupRows(t, r.data.rows);
					this.groups = a.groups,
					r.data.rows = a.rows;
					for (var o = [], s = 0; s < a.groups.length; s++)
						o.push(this.renderGroup.call(this, t, s, a.groups[s], i));
					e(n).html(o.join(""))
				} else
					e(n).html(this.renderTable(t, 0, r.data.rows, i))
			},
			renderGroup: function (t, n, i, r) {
				var a = e.data(t, "datagrid").options,
				o = (e(t).datagrid("getColumnFields", r), []);
				return o.push('<div class="datagrid-group" group-index=' + n + ">"),
				r || (o.push('<span class="datagrid-group-title">'), o.push(a.groupFormatter.call(t, i.value, i.rows)), o.push("</span>")),
				o.push("</div>"),
				o.push(this.renderTable(t, i.startIndex, i.rows, r)),
				o.join("")
			},
			groupRows: function (t, n) {
				for (var i = e.data(t, "datagrid").options, r = [], a = 0; a < n.length; a++) {
					var o = n[a];
					(l = function (e) {
						for (var t = 0; t < r.length; t++) {
							var n = r[t];
							if (n.value == e)
								return n
						}
						return null
					}
						(o[i.groupField])) ? l.rows.push(o) : (l = {
							value: o[i.groupField],
							rows: [o]
						}, r.push(l))
				}
				for (var s = 0, n = [], a = 0; a < r.length; a++) {
					var l = r[a];
					l.startIndex = s,
					s += l.rows.length,
					n = n.concat(l.rows)
				}
				return {
					groups: r,
					rows: n
				}
			}
		});
	e.fn.datalist = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.datalist.methods[t];
			return i ? i(this, n) : this.datagrid(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "datalist");
			if (n)
				e.extend(n.options, t);
			else {
				var i = e.extend({}, e.fn.datalist.defaults, e.fn.datalist.parseOptions(this), t);
				i.columns = e.extend(!0, [], i.columns),
				n = e.data(this, "datalist", {
						options: i
					})
			}
			if (function (t) {
				var n = e.data(t, "datalist").options;
				e(t).datagrid(e.extend({}, n, {
						cls: "datalist" + (n.lines ? " datalist-lines" : ""),
						frozenColumns: n.frozenColumns && n.frozenColumns.length ? n.frozenColumns : n.checkbox ? [[{
									field: "_ck",
									checkbox: !0
								}
							]] : void 0,
						columns: n.columns && n.columns.length ? n.columns : [[{
									field: n.textField,
									width: "100%",
									formatter: function (e, t, i) {
										return n.textFormatter ? n.textFormatter(e, t, i) : e
									}
								}
							]]
					}))
			}
				(this), !n.options.data) {
				var r = e.fn.datalist.parseData(this);
				r.total && e(this).datalist("loadData", r)
			}
		})
	},
	e.fn.datalist.methods = {
		options: function (t) {
			return e.data(t[0], "datalist").options
		}
	},
	e.fn.datalist.parseOptions = function (t) {
		return e.extend({}, e.fn.datagrid.parseOptions(t), e.parser.parseOptions(t, ["valueField", "textField", "groupField", {
						checkbox: "boolean",
						lines: "boolean"
					}
				]))
	},
	e.fn.datalist.parseData = function (t) {
		var n = e.data(t, "datalist").options,
		i = {
			total: 0,
			rows: []
		};
		return e(t).children().each(function () {
			var t = e.parser.parseOptions(this, ["value", "group"]),
			r = {},
			a = e(this).html();
			r[n.valueField] = void 0 != t.value ? t.value : a,
			r[n.textField] = a,
			n.groupField && (r[n.groupField] = t.group),
			i.total++,
			i.rows.push(r)
		}),
		i
	},
	e.fn.datalist.defaults = e.extend({}, e.fn.datagrid.defaults, {
			fitColumns: !0,
			singleSelect: !0,
			showHeader: !1,
			checkbox: !1,
			lines: !1,
			valueField: "value",
			textField: "text",
			groupField: "",
			view: t,
			textFormatter: function (e, t) {
				return e
			},
			groupFormatter: function (e, t) {
				return e
			}
		})
}
(jQuery), function (e) {
	function t(t) {
		var n = e.data(t, "combo").panel;
		if (n.is(":visible")) {
			var i = n.combo("combo");
			a(i),
			i != t && e(t).combo("showPanel")
		} else {
			var r = e(t).closest("div.combo-p").children(".combo-panel");
			e("div.combo-panel:visible").not(n).not(r).panel("close"),
			e(t).combo("showPanel")
		}
		e(t).combo("textbox").focus()
	}
	function n(t) {
		e(t).find(".combo-f").each(function () {
			var t = e(this).combo("panel");
			t.is(":visible") && t.panel("close")
		})
	}
	function i(t) {
		var n = t.data.target,
		i = e(n),
		r = i.data("combo"),
		o = i.combo("options");
		switch (r.panel.panel("options").comboTarget = n, t.keyCode) {
		case 38:
			o.keyHandler.up.call(n, t);
			break;
		case 40:
			o.keyHandler.down.call(n, t);
			break;
		case 37:
			o.keyHandler.left.call(n, t);
			break;
		case 39:
			o.keyHandler.right.call(n, t);
			break;
		case 13:
			return t.preventDefault(),
			o.keyHandler.enter.call(n, t),
			!1;
		case 9:
		case 27:
			a(n);
			break;
		default:
			o.editable && (r.timer && clearTimeout(r.timer), r.timer = setTimeout(function () {
						var e = i.combo("getText");
						r.previousText != e && (r.previousText = e, i.combo("showPanel"), o.keyHandler.query.call(n, e, t), i.combo("validate"))
					}, o.delay))
		}
	}
	function r(t) {
		var n = e.data(t, "combo"),
		i = n.combo,
		r = n.panel,
		a = e(t).combo("options"),
		o = r.panel("options");
		o.comboTarget = t,
		o.closed && (r.panel("panel").show().css({
				zIndex: e.fn.menu ? e.fn.menu.defaults.zIndex++ : e.fn.window ? e.fn.window.defaults.zIndex++ : 99,
				left: -999999
			}), r.panel("resize", {
				width: a.panelWidth ? a.panelWidth : i._outerWidth(),
				height: a.panelHeight
			}), r.panel("panel").hide(), r.panel("open")),
		function () {
			o.comboTarget == t && r.is(":visible") && (r.panel("move", {
					left: function () {
						var t = i.offset().left;
						return "right" == a.panelAlign && (t += i._outerWidth() - r._outerWidth()),
						t + r._outerWidth() > e(window)._outerWidth() + e(document).scrollLeft() && (t = e(window)._outerWidth() + e(document).scrollLeft() - r._outerWidth()),
						t < 0 && (t = 0),
						t
					}
					(),
					top: function () {
						var t = i.offset().top + i._outerHeight();
						return t + r._outerHeight() > e(window)._outerHeight() + e(document).scrollTop() && (t = i.offset().top - r._outerHeight()),
						t < e(document).scrollTop() && (t = i.offset().top + i._outerHeight()),
						t
					}
					()
				}), setTimeout(arguments.callee, 200))
		}
		()
	}
	function a(t) {
		e.data(t, "combo").panel.panel("close")
	}
	function o(t) {
		var n = e.data(t, "combo"),
		i = n.options,
		r = [];
		return n.combo.find(".textbox-value").each(function () {
			r.push(e(this).val())
		}),
		i.multivalue ? r : r.length ? r[0].split(i.separator) : r
	}
	function s(t, n) {
		function i(n) {
			var i = e(t).attr("textboxName") || "",
			r = e('<input type="hidden" class="textbox-value">').appendTo(s);
			r.attr("name", i),
			a.disabled && r.attr("disabled", "disabled"),
			r.val(n)
		}
		var r = e.data(t, "combo"),
		a = r.options,
		s = r.combo;
		e.isArray(n) || (n = n.split(a.separator));
		var l = o(t);
		if (s.find(".textbox-value").remove(), n.length)
			if (a.multivalue)
				for (var c = 0; c < n.length; c++)
					i(n[c]);
			else
				i(n.join(a.separator));
		(function () {
			if (l.length != n.length)
				return !0;
			for (var e = 0; e < n.length; e++)
				if (n[e] != l[e])
					return !0;
			return !1
		})() && (e(t).val(n.join(a.separator)), a.multiple ? a.onChange.call(t, n, l) : a.onChange.call(t, n[0], l[0]), e(t).closest("form").trigger("_change", [t]))
	}
	function l(e, t) {
		s(e, [t])
	}
	e(function () {
		e(document).unbind(".combo").bind("mousedown.combo mousewheel.combo", function (t) {
			var i = e(t.target).closest("span.combo,div.combo-p,div.menu");
			i.length ? n(i) : e("body>div.combo-p>div.combo-panel:visible").panel("close")
		})
	}),
	e.fn.combo = function (i, r) {
		if ("string" == typeof i) {
			var a = e.fn.combo.methods[i];
			return a ? a(this, r) : this.textbox(i, r)
		}
		return i = i || {},
		this.each(function () {
			var r = e.data(this, "combo");
			r ? (e.extend(r.options, i), void 0 != i.value && (r.options.originalValue = i.value)) : (r = e.data(this, "combo", {
						options: e.extend({}, e.fn.combo.defaults, e.fn.combo.parseOptions(this), i),
						previousText: ""
					})).options.originalValue = r.options.value,
			function (i) {
				var r = e.data(i, "combo"),
				a = r.options;
				r.panel || (r.panel = e('<div class="combo-panel"></div>').appendTo("body"), r.panel.panel({
						minWidth: a.panelMinWidth,
						maxWidth: a.panelMaxWidth,
						minHeight: a.panelMinHeight,
						maxHeight: a.panelMaxHeight,
						doSize: !1,
						closed: !0,
						cls: "combo-p",
						style: {
							position: "absolute",
							zIndex: 10
						},
						onOpen: function () {
							var t = e(this).panel("options").comboTarget,
							n = e.data(t, "combo");
							n && n.options.onShowPanel.call(t)
						},
						onBeforeClose: function () {
							n(e(this).parent())
						},
						onClose: function () {
							var t = e(this).panel("options").comboTarget,
							n = e(t).data("combo");
							n && n.options.onHidePanel.call(t)
						}
					}));
				var o = e.extend(!0, [], a.icons);
				a.hasDownArrow && o.push({
					iconCls: "combo-arrow",
					handler: function (e) {
						t(e.data.target)
					}
				}),
				e(i).addClass("combo-f").textbox(e.extend({}, a, {
						icons: o,
						onChange: function () {}
					})),
				e(i).attr("comboName", e(i).attr("textboxName")),
				r.combo = e(i).next(),
				r.combo.addClass("combo")
			}
			(this),
			function (t) {
				var n = e.data(t, "combo").options,
				i = n.onChange;
				n.onChange = function () {},
				n.multiple ? s(t, n.value ? n.value : []) : l(t, n.value),
				n.onChange = i
			}
			(this)
		})
	},
	e.fn.combo.methods = {
		options: function (t) {
			var n = t.textbox("options");
			return e.extend(e.data(t[0], "combo").options, {
				width: n.width,
				height: n.height,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		cloneFrom: function (t, n) {
			return t.each(function () {
				e(this).textbox("cloneFrom", n),
				e.data(this, "combo", {
					options: e.extend(!0, {
						cloned: !0
					}, e(n).combo("options")),
					combo: e(this).next(),
					panel: e(n).combo("panel")
				}),
				e(this).addClass("combo-f").attr("comboName", e(this).attr("textboxName"))
			})
		},
		combo: function (e) {
			return e.closest(".combo-panel").panel("options").comboTarget
		},
		panel: function (t) {
			return e.data(t[0], "combo").panel
		},
		destroy: function (t) {
			return t.each(function () {
				!function (t) {
					var n = e.data(t, "combo"),
					i = n.options,
					r = n.panel;
					r.is(":visible") && r.panel("close"),
					i.cloned || r.panel("destroy"),
					e(t).textbox("destroy")
				}
				(this)
			})
		},
		showPanel: function (e) {
			return e.each(function () {
				r(this)
			})
		},
		hidePanel: function (e) {
			return e.each(function () {
				a(this)
			})
		},
		clear: function (t) {
			return t.each(function () {
				e(this).textbox("setText", "");
				e.data(this, "combo").options.multiple ? e(this).combo("setValues", []) : e(this).combo("setValue", "")
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e.data(this, "combo").options;
				t.multiple ? e(this).combo("setValues", t.originalValue) : e(this).combo("setValue", t.originalValue)
			})
		},
		setText: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "combo");
					e(t).textbox("getText") != n && e(t).textbox("setText", n),
					i.previousText = n
				}
				(this, n)
			})
		},
		getValues: function (e) {
			return o(e[0])
		},
		setValues: function (e, t) {
			return e.each(function () {
				s(this, t)
			})
		},
		getValue: function (e) {
			return function (e) {
				return o(e)[0]
			}
			(e[0])
		},
		setValue: function (e, t) {
			return e.each(function () {
				l(this, t)
			})
		}
	},
	e.fn.combo.parseOptions = function (t) {
		var n = e(t);
		return e.extend({}, e.fn.textbox.parseOptions(t), e.parser.parseOptions(t, ["separator", "panelAlign", {
						panelWidth: "number",
						hasDownArrow: "boolean",
						delay: "number",
						reversed: "boolean",
						multivalue: "boolean",
						selectOnNavigation: "boolean"
					}, {
						panelMinWidth: "number",
						panelMaxWidth: "number",
						panelMinHeight: "number",
						panelMaxHeight: "number"
					}
				]), {
			panelHeight: "auto" == n.attr("panelHeight") ? "auto" : parseInt(n.attr("panelHeight")) || void 0,
			multiple: !!n.attr("multiple") || void 0
		})
	},
	e.fn.combo.defaults = e.extend({}, e.fn.textbox.defaults, {
			inputEvents: {
				click: function (n) {
					var i = n.data.target;
					if (e.data(i, "combo").options.editable) {
						var r = e(i).closest("div.combo-p").children(".combo-panel");
						e("div.combo-panel:visible").not(r).each(function () {
							var t = e(this).combo("combo");
							t != i && a(t)
						})
					} else
						t(i)
				},
				keydown: i,
				paste: i,
				drop: i
			},
			panelWidth: null,
			panelHeight: 200,
			panelMinWidth: null,
			panelMaxWidth: null,
			panelMinHeight: null,
			panelMaxHeight: null,
			panelAlign: "left",
			reversed: !1,
			multiple: !1,
			multivalue: !0,
			selectOnNavigation: !0,
			separator: ",",
			hasDownArrow: !0,
			delay: 200,
			keyHandler: {
				up: function (e) {},
				down: function (e) {},
				left: function (e) {},
				right: function (e) {},
				enter: function (e) {},
				query: function (e, t) {}
			},
			onShowPanel: function () {},
			onHidePanel: function () {},
			onChange: function (e, t) {}
		})
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "combobox");
		return e.easyui.indexOfArray(i.data, i.options.valueField, n)
	}
	function n(t, n) {
		var r = e.data(t, "combobox").options,
		a = e(t).combobox("panel"),
		o = a.children("div.combobox-item-hover");
		o.length || (o = a.children("div.combobox-item-selected")),
		o.removeClass("combobox-item-hover");
		var s = "div.combobox-item:visible:not(.combobox-item-disabled):first",
		l = "div.combobox-item:visible:not(.combobox-item-disabled):last";
		if (o.length ? "next" == n ? (o = o.nextAll(s)).length || (o = a.children(s)) : (o = o.prevAll(s)).length || (o = a.children(l)) : o = a.children("next" == n ? s : l), o.length) {
			o.addClass("combobox-item-hover");
			var c = r.finder.getRow(t, o);
			c && (e(t).combobox("scrollTo", c[r.valueField]), r.selectOnNavigation && i(t, c[r.valueField]))
		}
	}
	function i(t, n, i) {
		var r = e.data(t, "combobox").options,
		o = e(t).combo("getValues");
		-1 == e.inArray(n + "", o) && (r.multiple ? o.push(n) : o = [n], a(t, o, i))
	}
	function r(t, n) {
		e.data(t, "combobox").options;
		var i = e(t).combo("getValues"),
		r = e.inArray(n + "", i);
		r >= 0 && (i.splice(r, 1), a(t, i))
	}
	function a(t, n, i) {
		var r = e.data(t, "combobox").options,
		a = e(t).combo("panel");
		e.isArray(n) || (n = n.split(r.separator)),
		r.multiple || (n = n.length ? [n[0]] : [""]);
		var o = e(t).combo("getValues");
		a.is(":visible") && a.find(".combobox-item-selected").each(function () {
			var n = r.finder.getRow(t, e(this));
			n && -1 == e.easyui.indexOfArray(o, n[r.valueField]) && e(this).removeClass("combobox-item-selected")
		}),
		e.map(o, function (i) {
			if (-1 == e.easyui.indexOfArray(n, i)) {
				var a = r.finder.getEl(t, i);
				a.hasClass("combobox-item-selected") && (a.removeClass("combobox-item-selected"), r.onUnselect.call(t, r.finder.getRow(t, i)))
			}
		});
		for (var s = null, l = [], c = [], d = 0; d < n.length; d++) {
			var u = n[d],
			h = u,
			p = r.finder.getRow(t, u);
			if (p) {
				h = p[r.textField],
				s = p;
				var f = r.finder.getEl(t, u);
				f.hasClass("combobox-item-selected") || (f.addClass("combobox-item-selected"), r.onSelect.call(t, p))
			}
			l.push(u),
			c.push(h)
		}
		if (i || e(t).combo("setText", c.join(r.separator)), r.showItemIcon) {
			var m = e(t).combobox("textbox");
			m.removeClass("textbox-bgicon " + r.textboxIconCls),
			s && s.iconCls && (m.addClass("textbox-bgicon " + s.iconCls), r.textboxIconCls = s.iconCls)
		}
		e(t).combo("setValues", l),
		a.triggerHandler("scroll")
	}
	function o(t, n, i) {
		var r = e.data(t, "combobox"),
		o = r.options;
		r.data = o.loadFilter.call(t, n),
		o.view.render.call(o.view, t, e(t).combo("panel"), r.data);
		var s = e(t).combobox("getValues");
		e.easyui.forEach(r.data, !1, function (t) {
			t.selected && e.easyui.addArrayItem(s, t[o.valueField] + "")
		}),
		o.multiple ? a(t, s, i) : a(t, s.length ? [s[s.length - 1]] : [], i),
		o.onLoadSuccess.call(t, n)
	}
	function s(t, n, i, r) {
		var a = e.data(t, "combobox").options;
		n && (a.url = n),
		i = e.extend({}, a.queryParams, i || {}),
		0 != a.onBeforeLoad.call(t, i) && a.loader.call(t, i, function (e) {
			o(t, e, r)
		}, function () {
			a.onLoadError.apply(this, arguments)
		})
	}
	function l(n) {
		var i = e(n),
		r = i.combobox("options"),
		a = i.combobox("panel").children("div.combobox-item-hover");
		if (a.length) {
			a.removeClass("combobox-item-hover");
			var o = r.finder.getRow(n, a)[r.valueField];
			r.multiple && a.hasClass("combobox-item-selected") ? i.combobox("unselect", o) : i.combobox("select", o)
		}
		var s = [];
		e.map(i.combobox("getValues"), function (e) {
			t(n, e) >= 0 && s.push(e)
		}),
		i.combobox("setValues", s),
		r.multiple || i.combobox("hidePanel")
	}
	e.fn.combobox = function (t, n) {
		if ("string" == typeof t) {
			var i = e.fn.combobox.methods[t];
			return i ? i(this, n) : this.combo(t, n)
		}
		return t = t || {},
		this.each(function () {
			var n = e.data(this, "combobox");
			if (n ? e.extend(n.options, t) : n = e.data(this, "combobox", {
						options: e.extend({}, e.fn.combobox.defaults, e.fn.combobox.parseOptions(this), t),
						data: []
					}), function (t) {
				var n = e.data(t, "combobox").options;
				e(t).addClass("combobox-f"),
				e(t).combo(e.extend({}, n, {
						onShowPanel: function () {
							e(this).combo("panel").find("div.combobox-item:hidden,div.combobox-group:hidden").show(),
							a(this, e(this).combobox("getValues"), !0),
							e(this).combobox("scrollTo", e(this).combobox("getValue")),
							n.onShowPanel.call(this)
						}
					}));
				var i = e(t).combo("panel");
				i.unbind(".combobox");
				for (var r in n.panelEvents)
					i.bind(r + ".combobox", {
						target: t
					}, n.panelEvents[r])
				}
					(this), n.options.data)o(this, n.options.data);
			else {
				var i = e.fn.combobox.parseData(this);
				i.length && o(this, i)
			}
			s(this)
		})
	},
	e.fn.combobox.methods = {
		options: function (t) {
			var n = t.combo("options");
			return e.extend(e.data(t[0], "combobox").options, {
				width: n.width,
				height: n.height,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		cloneFrom: function (t, n) {
			return t.each(function () {
				e(this).combo("cloneFrom", n),
				e.data(this, "combobox", e(n).data("combobox")),
				e(this).addClass("combobox-f").attr("comboboxName", e(this).attr("textboxName"))
			})
		},
		getData: function (t) {
			return e.data(t[0], "combobox").data
		},
		setValues: function (e, t) {
			return e.each(function () {
				a(this, t)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				a(this, e.isArray(n) ? n : [n])
			})
		},
		clear: function (e) {
			return e.each(function () {
				a(this, [])
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).combobox("options");
				t.multiple ? e(this).combobox("setValues", t.originalValue) : e(this).combobox("setValue", t.originalValue)
			})
		},
		loadData: function (e, t) {
			return e.each(function () {
				o(this, t)
			})
		},
		reload: function (t, n) {
			return t.each(function () {
				if ("string" == typeof n)
					s(this, n);
				else {
					if (n) {
						e(this).combobox("options").queryParams = n
					}
					s(this)
				}
			})
		},
		select: function (e, t) {
			return e.each(function () {
				i(this, t)
			})
		},
		unselect: function (e, t) {
			return e.each(function () {
				r(this, t)
			})
		},
		scrollTo: function (t, n) {
			return t.each(function () {
				!function (t, n) {
					var i = e.data(t, "combobox").options,
					r = e(t).combo("panel"),
					a = i.finder.getEl(t, n);
					if (a.length)
						if (a.position().top <= 0)
							o = r.scrollTop() + a.position().top, r.scrollTop(o);
						else if (a.position().top + a.outerHeight() > r.height()) {
							var o = r.scrollTop() + a.position().top + a.outerHeight() - r.height();
							r.scrollTop(o)
						}
					r.triggerHandler("scroll")
				}
				(this, n)
			})
		}
	},
	e.fn.combobox.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.combo.parseOptions(t), e.parser.parseOptions(t, ["valueField", "textField", "groupField", "groupPosition", "mode", "method", "url", {
						showItemIcon: "boolean",
						limitToList: "boolean"
					}
				]))
	},
	e.fn.combobox.parseData = function (t) {
		function n(t, n) {
			var a = e(t),
			o = {};
			o[r.valueField] = void 0 != a.attr("value") ? a.attr("value") : a.text(),
			o[r.textField] = a.text(),
			o.selected = a.is(":selected"),
			o.disabled = a.is(":disabled"),
			n && (r.groupField = r.groupField || "group", o[r.groupField] = n),
			i.push(o)
		}
		var i = [],
		r = e(t).combobox("options");
		return e(t).children().each(function () {
			if ("optgroup" == this.tagName.toLowerCase()) {
				var t = e(this).attr("label");
				e(this).children().each(function () {
					n(this, t)
				})
			} else
				n(this)
		}),
		i
	};
	var c = 0,
	d = {
		render: function (t, n, i) {
			var r = e.data(t, "combobox"),
			a = r.options;
			c++,
			r.itemIdPrefix = "_easyui_combobox_i" + c,
			r.groupIdPrefix = "_easyui_combobox_g" + c,
			r.groups = [];
			for (var o = [], s = void 0, l = 0; l < i.length; l++) {
				var d = i[l],
				u = (d[a.valueField], d[a.textField]),
				h = d[a.groupField];
				h ? s != h ? (s = h, r.groups.push({
						value: h,
						startIndex: l,
						count: 1
					}), o.push('<div id="' + r.groupIdPrefix + "_" + (r.groups.length - 1) + '" class="combobox-group">'), o.push(a.groupFormatter ? a.groupFormatter.call(t, h) : h), o.push("</div>")) : r.groups[r.groups.length - 1].count++ : s = void 0;
				var p = "combobox-item" + (d.disabled ? " combobox-item-disabled" : "") + (h ? " combobox-gitem" : "");
				o.push('<div id="' + r.itemIdPrefix + "_" + l + '" class="' + p + '">'),
				a.showItemIcon && d.iconCls && o.push('<span class="combobox-icon ' + d.iconCls + '"></span>'),
				o.push(a.formatter ? a.formatter.call(t, d) : u),
				o.push("</div>")
			}
			e(n).html(o.join(""))
		}
	};
	e.fn.combobox.defaults = e.extend({}, e.fn.combo.defaults, {
			valueField: "value",
			textField: "text",
			groupPosition: "static",
			groupField: null,
			groupFormatter: function (e) {
				return e
			},
			mode: "local",
			method: "post",
			url: null,
			data: null,
			queryParams: {},
			showItemIcon: !1,
			limitToList: !1,
			view: d,
			keyHandler: {
				up: function (e) {
					n(this, "prev"),
					e.preventDefault()
				},
				down: function (e) {
					n(this, "next"),
					e.preventDefault()
				},
				left: function (e) {},
				right: function (e) {},
				enter: function (e) {
					l(this)
				},
				query: function (t, n) {
					!function (t, n) {
						function r(e) {
							l.reversed ? c.addClass("combobox-item-hover") : a(t, l.multiple ? n ? e : [] : e, !0)
						}
						var o = e.data(t, "combobox"),
						l = o.options,
						c = e(),
						d = l.multiple ? n.split(l.separator) : [n];
						if ("remote" == l.mode)
							r(d), s(t, null, {
								q: n
							}, !0);
						else {
							var u = e(t).combo("panel");
							u.find(".combobox-item-hover").removeClass("combobox-item-hover"),
							u.find(".combobox-item,.combobox-group").hide();
							var h = o.data,
							p = [];
							e.map(d, function (n) {
								var r = n = e.trim(n),
								a = void 0;
								c = e();
								for (var o = 0; o < h.length; o++) {
									var s = h[o];
									if (l.filter.call(t, n, s)) {
										var d = s[l.valueField],
										u = s[l.textField],
										f = s[l.groupField],
										m = l.finder.getEl(t, d).show();
										u.toLowerCase() == n.toLowerCase() && (r = d, l.reversed ? c = m : i(t, d, !0)),
										l.groupField && a != f && (l.finder.getGroupEl(t, f).show(), a = f)
									}
								}
								p.push(r)
							}),
							r(p)
						}
					}
					(this, t)
				}
			},
			inputEvents: e.extend({}, e.fn.combo.defaults.inputEvents, {
				blur: function (t) {
					var n = t.data.target,
					i = e(n).combobox("options");
					(i.reversed || i.limitToList) && (i.blurTimer && clearTimeout(i.blurTimer), i.blurTimer = setTimeout(function () {
								e(n).parent().length && (i.reversed ? e(n).combobox("setValues", e(n).combobox("getValues")) : i.limitToList && l(n), i.blurTimer = null)
							}, 50))
				}
			}),
			panelEvents: {
				mouseover: function (t) {
					e(this).children("div.combobox-item-hover").removeClass("combobox-item-hover");
					var n = e(t.target).closest("div.combobox-item");
					n.hasClass("combobox-item-disabled") || n.addClass("combobox-item-hover"),
					t.stopPropagation()
				},
				mouseout: function (t) {
					e(t.target).closest("div.combobox-item").removeClass("combobox-item-hover"),
					t.stopPropagation()
				},
				click: function (t) {
					var n = e(this).panel("options").comboTarget;
					if (n) {
						var a = e(n).combobox("options"),
						o = e(t.target).closest("div.combobox-item");
						if (o.length && !o.hasClass("combobox-item-disabled")) {
							var s = a.finder.getRow(n, o);
							if (s) {
								a.blurTimer && (clearTimeout(a.blurTimer), a.blurTimer = null),
								a.onClick.call(n, s);
								var l = s[a.valueField];
								a.multiple ? o.hasClass("combobox-item-selected") ? r(n, l) : i(n, l) : e(n).combobox("setValue", l).combobox("hidePanel"),
								t.stopPropagation()
							}
						}
					}
				},
				scroll: function (t) {
					var n = e(this).panel("options").comboTarget;
					if (n) {
						var i = e(n).combobox("options");
						if ("sticky" == i.groupPosition) {
							var r = e(this).children(".combobox-stick");
							r.length || (r = e('<div class="combobox-stick"></div>').appendTo(this)),
							r.hide();
							var a = e(n).data("combobox");
							e(this).children(".combobox-group:visible").each(function () {
								var t = e(this),
								o = i.finder.getGroup(n, t),
								s = a.data[o.startIndex + o.count - 1],
								l = i.finder.getEl(n, s[i.valueField]);
								if (t.position().top < 0 && l.position().top > 0)
									return r.show().html(t.html()), !1
							})
						}
					}
				}
			},
			filter: function (t, n) {
				return n[e(this).combobox("options").textField].toLowerCase().indexOf(t.toLowerCase()) >= 0
			},
			formatter: function (t) {
				return t[e(this).combobox("options").textField]
			},
			loader: function (t, n, i) {
				var r = e(this).combobox("options");
				if (!r.url)
					return !1;
				e.ajax({
					type: r.method,
					url: r.url,
					data: t,
					dataType: "json",
					success: function (e) {
						n(e)
					},
					error: function () {
						i.apply(this, arguments)
					}
				})
			},
			loadFilter: function (e) {
				return e
			},
			finder: {
				getEl: function (n, i) {
					var r = t(n, i),
					a = e.data(n, "combobox").itemIdPrefix + "_" + r;
					return e("#" + a)
				},
				getGroupEl: function (t, n) {
					var i = e.data(t, "combobox"),
					r = e.easyui.indexOfArray(i.groups, "value", n),
					a = i.groupIdPrefix + "_" + r;
					return e("#" + a)
				},
				getGroup: function (t, n) {
					var i = e.data(t, "combobox"),
					r = n.attr("id").substr(i.groupIdPrefix.length + 1);
					return i.groups[parseInt(r)]
				},
				getRow: function (n, i) {
					var r = e.data(n, "combobox"),
					a = i instanceof e ? i.attr("id").substr(r.itemIdPrefix.length + 1) : t(n, i);
					return r.data[parseInt(a)]
				}
			},
			onBeforeLoad: function (e) {},
			onLoadSuccess: function (e) {},
			onLoadError: function () {},
			onSelect: function (e) {},
			onUnselect: function (e) {},
			onClick: function (e) {}
		})
}
(jQuery), function (e) {
	function t(t) {
		var i = e.data(t, "combotree"),
		r = i.options,
		a = i.tree,
		o = [];
		if (r.multiple)
			o = e.map(a.tree("getChecked"), function (e) {
					return e.id
				});
		else {
			var s = a.tree("getSelected");
			s && o.push(s.id)
		}
		n(t, o = o.concat(r.unselectedValues), i.remainText)
	}
	function n(t, n, i) {
		var r = e.data(t, "combotree"),
		a = r.options,
		o = r.tree,
		s = o.tree("options"),
		l = s.onBeforeCheck,
		c = s.onCheck,
		d = s.onSelect;
		s.onBeforeCheck = s.onCheck = s.onSelect = function () {},
		e.isArray(n) || (n = n.split(a.separator)),
		a.multiple || (n = n.length ? [n[0]] : [""]);
		var u = e.map(n, function (e) {
				return String(e)
			});
		o.find("div.tree-node-selected").removeClass("tree-node-selected"),
		e.map(o.tree("getChecked"), function (t) {
			-1 == e.inArray(String(t.id), u) && o.tree("uncheck", t.target)
		});
		var h = [];
		if (a.unselectedValues = [], e.map(u, function (t) {
				var n = o.tree("find", t);
				n ? (o.tree("check", n.target).tree("select", n.target), h.push(n.text)) : (h.push(function (t, n) {
						var i = e.easyui.getArrayItem(n, "id", t);
						return i ? i.text : void 0
					}
						(t, a.mappingRows) || t), a.unselectedValues.push(t))
			}), a.multiple && e.map(o.tree("getChecked"), function (t) {
				var n = String(t.id);
				-1 == e.inArray(n, u) && (u.push(n), h.push(t.text))
			}), s.onBeforeCheck = l, s.onCheck = c, s.onSelect = d, !i) {
			var p = h.join(a.separator);
			e(t).combo("getText") != p && e(t).combo("setText", p)
		}
		e(t).combo("setValues", u)
	}
	e.fn.combotree = function (i, r) {
		if ("string" == typeof i) {
			var a = e.fn.combotree.methods[i];
			return a ? a(this, r) : this.combo(i, r)
		}
		return i = i || {},
		this.each(function () {
			var r = e.data(this, "combotree");
			r ? e.extend(r.options, i) : e.data(this, "combotree", {
				options: e.extend({}, e.fn.combotree.defaults, e.fn.combotree.parseOptions(this), i)
			}),
			function (i) {
				var r = e.data(i, "combotree"),
				a = r.options,
				o = r.tree;
				e(i).addClass("combotree-f"),
				e(i).combo(e.extend({}, a, {
						onShowPanel: function () {
							a.editable && o.tree("doFilter", ""),
							a.onShowPanel.call(this)
						}
					}));
				var s = e(i).combo("panel");
				o || (o = e("<ul></ul>").appendTo(s), r.tree = o),
				o.tree(e.extend({}, a, {
						checkbox: a.multiple,
						onLoadSuccess: function (t, s) {
							var l = e(i).combotree("getValues");
							a.multiple && e.map(o.tree("getChecked"), function (t) {
								e.easyui.addArrayItem(l, t.id)
							}),
							n(i, l, r.remainText),
							a.onLoadSuccess.call(this, t, s)
						},
						onClick: function (n) {
							a.multiple ? e(this).tree(n.checked ? "uncheck" : "check", n.target) : e(i).combo("hidePanel"),
							r.remainText = !1,
							t(i),
							a.onClick.call(this, n)
						},
						onCheck: function (e, n) {
							r.remainText = !1,
							t(i),
							a.onCheck.call(this, e, n)
						}
					}))
			}
			(this)
		})
	},
	e.fn.combotree.methods = {
		options: function (t) {
			var n = t.combo("options");
			return e.extend(e.data(t[0], "combotree").options, {
				width: n.width,
				height: n.height,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		clone: function (t, n) {
			var i = t.combo("clone", n);
			return i.data("combotree", {
				options: e.extend(!0, {}, t.combotree("options")),
				tree: t.combotree("tree")
			}),
			i
		},
		tree: function (t) {
			return e.data(t[0], "combotree").tree
		},
		loadData: function (t, n) {
			return t.each(function () {
				e.data(this, "combotree").options.data = n;
				e.data(this, "combotree").tree.tree("loadData", n)
			})
		},
		reload: function (t, n) {
			return t.each(function () {
				var t = e.data(this, "combotree").options,
				i = e.data(this, "combotree").tree;
				n && (t.url = n),
				i.tree({
					url: t.url
				})
			})
		},
		setValues: function (t, i) {
			return t.each(function () {
				var t = e(this).combotree("options");
				e.isArray(i) && (i = e.map(i, function (n) {
							return n && "object" == typeof n ? (e.easyui.addArrayItem(t.mappingRows, "id", n), n.id) : n
						})),
				n(this, i)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				e(this).combotree("setValues", e.isArray(n) ? n : [n])
			})
		},
		clear: function (t) {
			return t.each(function () {
				e(this).combotree("setValues", [])
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).combotree("options");
				t.multiple ? e(this).combotree("setValues", t.originalValue) : e(this).combotree("setValue", t.originalValue)
			})
		}
	},
	e.fn.combotree.parseOptions = function (t) {
		return e.extend({}, e.fn.combo.parseOptions(t), e.fn.tree.parseOptions(t))
	},
	e.fn.combotree.defaults = e.extend({}, e.fn.combo.defaults, e.fn.tree.defaults, {
			editable: !1,
			unselectedValues: [],
			mappingRows: [],
			keyHandler: {
				up: function (e) {},
				down: function (e) {},
				left: function (e) {},
				right: function (e) {},
				enter: function (t) {
					!function (t) {
						e.data(t, "combotree").remainText = !1,
						e(t).combotree("setValues", e(t).combotree("getValues")),
						e(t).combotree("hidePanel")
					}
					(this)
				},
				query: function (t, n) {
					!function (t, n) {
						var i = e.data(t, "combotree"),
						r = i.options,
						a = i.tree;
						i.remainText = !0,
						a.tree("doFilter", r.multiple ? n.split(r.separator) : n)
					}
					(this, t)
				}
			}
		})
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e.data(t, "combogrid"),
		r = i.options,
		a = i.grid,
		o = a.datagrid("getRows").length;
		if (o) {
			var s = r.finder.getTr(a[0], null, "highlight");
			s.length || (s = r.finder.getTr(a[0], null, "selected"));
			if (s.length) {
				var l = parseInt(s.attr("datagrid-row-index"));
				(l += "next" == n ? 1 : -1) < 0 && (l = o - 1),
				l >= o && (l = 0)
			} else
				l = "next" == n ? 0 : o - 1;
			a.datagrid("highlightRow", l),
			r.selectOnNavigation && (i.remainText = !1, a.datagrid("selectRow", l))
		}
	}
	function n(t, n, i) {
		function r(t, n) {
			var i = e.easyui.getArrayItem(n, o.idField, t);
			return i ? i[o.textField] : void 0
		}
		var a = e.data(t, "combogrid"),
		o = a.options,
		s = a.grid,
		l = e(t).combo("getValues"),
		c = e(t).combo("options"),
		d = c.onChange;
		c.onChange = function () {};
		var u = s.datagrid("options"),
		h = u.onSelect,
		p = u.onUnselectAll;
		u.onSelect = u.onUnselectAll = function () {},
		e.isArray(n) || (n = n.split(o.separator)),
		o.multiple || (n = n.length ? [n[0]] : [""]);
		var f = e.map(n, function (e) {
				return String(e)
			});
		f = e.grep(f, function (t, n) {
				return n === e.inArray(t, f)
			});
		var m = e.grep(s.datagrid("getSelections"), function (t, n) {
				return e.inArray(String(t[o.idField]), f) >= 0
			});
		s.datagrid("clearSelections"),
		s.data("datagrid").selectedRows = m;
		var g = [];
		if (o.unselectedValues = [], e.map(f, function (e) {
				var t = s.datagrid("getRowIndex", e);
				t >= 0 ? s.datagrid("selectRow", t) : o.unselectedValues.push(e),
				g.push(r(e, s.datagrid("getRows")) || r(e, m) || r(e, o.mappingRows) || e)
			}), e(t).combo("setValues", l), c.onChange = d, u.onSelect = h, u.onUnselectAll = p, !i) {
			var v = g.join(o.separator);
			e(t).combo("getText") != v && e(t).combo("setText", v)
		}
		e(t).combo("setValues", n)
	}
	e.fn.combogrid = function (t, i) {
		if ("string" == typeof t) {
			var r = e.fn.combogrid.methods[t];
			return r ? r(this, i) : this.combo(t, i)
		}
		return t = t || {},
		this.each(function () {
			var i = e.data(this, "combogrid");
			i ? e.extend(i.options, t) : i = e.data(this, "combogrid", {
					options: e.extend({}, e.fn.combogrid.defaults, e.fn.combogrid.parseOptions(this), t)
				}),
			function (t) {
				function i(n) {
					return e(n).closest(".combo-panel").panel("options").comboTarget || t
				}
				function r(t) {
					return function (n, r) {
						var o = i(this),
						s = e(o).combogrid("options");
						"onUnselectAll" == t ? s.multiple && a.call(this) : a.call(this),
						s[t].call(this, n, r)
					}
				}
				function a() {
					var t = e(this),
					r = i(t),
					a = e(r).data("combogrid"),
					o = a.options,
					s = e.map(t.datagrid("getSelections"), function (e) {
							return e[o.idField]
						});
					n(r, s = s.concat(o.unselectedValues), a.remainText)
				}
				var o = e.data(t, "combogrid"),
				s = o.options,
				l = o.grid;
				e(t).addClass("combogrid-f").combo(e.extend({}, s, {
						onShowPanel: function () {
							n(this, e(this).combogrid("getValues"), !0);
							var t = e(this).combogrid("panel"),
							i = t.outerHeight() - t.height(),
							r = t._size("minHeight"),
							a = t._size("maxHeight"),
							o = e(this).combogrid("grid");
							o.datagrid("resize", {
								width: "100%",
								height: isNaN(parseInt(s.panelHeight)) ? "auto" : "100%",
								minHeight: r ? r - i : "",
								maxHeight: a ? a - i : ""
							});
							var l = o.datagrid("getSelected");
							l && o.datagrid("scrollTo", o.datagrid("getRowIndex", l)),
							s.onShowPanel.call(this)
						}
					}));
				var c = e(t).combo("panel");
				l || (l = e("<table></table>").appendTo(c), o.grid = l),
				l.datagrid(e.extend({}, s, {
						border: !1,
						singleSelect: !s.multiple,
						onLoadSuccess: function (t) {
							var r = i(this),
							a = e(r).data("combogrid"),
							o = a.options;
							n(r, e(r).combo("getValues"), a.remainText),
							o.onLoadSuccess.call(this, t)
						},
						onClickRow: function (t, n) {
							var r = i(this),
							o = e(r).data("combogrid"),
							s = o.options;
							o.remainText = !1,
							a.call(this),
							s.multiple || e(r).combo("hidePanel"),
							s.onClickRow.call(this, t, n)
						},
						onSelect: r("onSelect"),
						onUnselect: r("onUnselect"),
						onSelectAll: r("onSelectAll"),
						onUnselectAll: r("onUnselectAll")
					}))
			}
			(this)
		})
	},
	e.fn.combogrid.methods = {
		options: function (t) {
			var n = t.combo("options");
			return e.extend(e.data(t[0], "combogrid").options, {
				width: n.width,
				height: n.height,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		cloneFrom: function (t, n) {
			return t.each(function () {
				e(this).combo("cloneFrom", n),
				e.data(this, "combogrid", {
					options: e.extend(!0, {
						cloned: !0
					}, e(n).combogrid("options")),
					combo: e(this).next(),
					panel: e(n).combo("panel"),
					grid: e(n).combogrid("grid")
				})
			})
		},
		grid: function (t) {
			return e.data(t[0], "combogrid").grid
		},
		setValues: function (t, i) {
			return t.each(function () {
				var t = e(this).combogrid("options");
				e.isArray(i) && (i = e.map(i, function (n) {
							return n && "object" == typeof n ? (e.easyui.addArrayItem(t.mappingRows, t.idField, n), n[t.idField]) : n
						})),
				n(this, i)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				e(this).combogrid("setValues", e.isArray(n) ? n : [n])
			})
		},
		clear: function (t) {
			return t.each(function () {
				e(this).combogrid("setValues", [])
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).combogrid("options");
				t.multiple ? e(this).combogrid("setValues", t.originalValue) : e(this).combogrid("setValue", t.originalValue)
			})
		}
	},
	e.fn.combogrid.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.combo.parseOptions(t), e.fn.datagrid.parseOptions(t), e.parser.parseOptions(t, ["idField", "textField", "mode"]))
	},
	e.fn.combogrid.defaults = e.extend({}, e.fn.combo.defaults, e.fn.datagrid.defaults, {
			loadMsg: null,
			idField: null,
			textField: null,
			unselectedValues: [],
			mappingRows: [],
			mode: "local",
			keyHandler: {
				up: function (e) {
					t(this, "prev"),
					e.preventDefault()
				},
				down: function (e) {
					t(this, "next"),
					e.preventDefault()
				},
				left: function (e) {},
				right: function (e) {},
				enter: function (t) {
					!function (t) {
						var n = e.data(t, "combogrid"),
						i = n.options,
						r = n.grid,
						a = i.finder.getTr(r[0], null, "highlight");
						if (n.remainText = !1, a.length) {
							var o = parseInt(a.attr("datagrid-row-index"));
							i.multiple && a.hasClass("datagrid-row-selected") ? r.datagrid("unselectRow", o) : r.datagrid("selectRow", o)
						}
						var s = [];
						e.map(r.datagrid("getSelections"), function (e) {
							s.push(e[i.idField])
						}),
						e.map(i.unselectedValues, function (t) {
							e.easyui.indexOfArray(i.mappingRows, i.idField, t) >= 0 && e.easyui.addArrayItem(s, t)
						}),
						e(t).combogrid("setValues", s),
						i.multiple || e(t).combogrid("hidePanel")
					}
					(this)
				},
				query: function (t, i) {
					!function (t, i) {
						function r(e, t) {
							for (var n = 0; n < e.length; n++) {
								var i = e[n];
								if ((i[s.textField] || "").toLowerCase() == t.toLowerCase())
									return u.push(i[s.idField]), n
							}
							return -1
						}
						function a(e) {
							s.reversed || n(t, e, !0)
						}
						var o = e.data(t, "combogrid"),
						s = o.options,
						l = o.grid;
						o.remainText = !0;
						var c = s.multiple ? i.split(s.separator) : [i];
						if (c = e.grep(c, function (t) {
									return "" != e.trim(t)
								}), "remote" == s.mode)
							a(c), l.datagrid("load", e.extend({}, s.queryParams, {
									q: i
								}));
						else {
							l.datagrid("highlightRow", -1);
							var d = l.datagrid("getRows"),
							u = [];
							e.map(c, function (n) {
								n = e.trim(n),
								r(s.mappingRows, n),
								r(l.datagrid("getSelections"), n);
								var i = r(d, n);
								i >= 0 ? s.reversed && l.datagrid("highlightRow", i) : e.map(d, function (e, i) {
									s.filter.call(t, n, e) && l.datagrid("highlightRow", i)
								})
							}),
							a(u)
						}
					}
					(this, t)
				}
			},
			inputEvents: e.extend({}, e.fn.combo.defaults.inputEvents, {
				blur: function (t) {
					var n = t.data.target;
					e(n).combogrid("options").reversed && e(n).combogrid("setValues", e(n).combogrid("getValues"))
				}
			}),
			filter: function (t, n) {
				return (n[e(this).combogrid("options").textField] || "").toLowerCase().indexOf(t.toLowerCase()) >= 0
			}
		})
}
(jQuery), function (e) {
	function t(t) {
		var i = e.data(t, "combotreegrid"),
		r = i.options,
		a = i.grid,
		o = [];
		if (r.multiple)
			o = e.map(a.treegrid("getCheckedNodes"), function (e) {
					return e[r.idField]
				});
		else {
			var s = a.treegrid("getSelected");
			s && o.push(s[r.idField])
		}
		n(t, o = o.concat(r.unselectedValues))
	}
	function n(t, n) {
		var i = e.data(t, "combotreegrid"),
		r = i.options,
		a = i.grid;
		e.isArray(n) || (n = n.split(r.separator)),
		r.multiple || (n = n.length ? [n[0]] : [""]);
		var o = e.map(n, function (e) {
				return String(e)
			});
		o = e.grep(o, function (t, n) {
				return n === e.inArray(t, o)
			});
		var s = a.treegrid("getSelected");
		s && a.treegrid("unselect", s[r.idField]),
		e.map(a.treegrid("getCheckedNodes"), function (t) {
			-1 == e.inArray(String(t[r.idField]), o) && a.treegrid("uncheckNode", t[r.idField])
		});
		var l = [];
		if (r.unselectedValues = [], e.map(o, function (t) {
				var n = a.treegrid("find", t);
				n ? (r.multiple ? a.treegrid("checkNode", t) : a.treegrid("select", t), l.push(n[r.treeField])) : (l.push(function (t, n) {
						var i = e.easyui.getArrayItem(n, r.idField, t);
						return i ? i[r.treeField] : void 0
					}
						(t, r.mappingRows) || t), r.unselectedValues.push(t))
			}), r.multiple && e.map(a.treegrid("getCheckedNodes"), function (t) {
				var n = String(t[r.idField]);
				-1 == e.inArray(n, o) && (o.push(n), l.push(t[r.treeField]))
			}), !i.remainText) {
			var c = l.join(r.separator);
			e(t).combo("getText") != c && e(t).combo("setText", c)
		}
		e(t).combo("setValues", o)
	}
	function i(e) {
		t(e)
	}
	e.fn.combotreegrid = function (i, r) {
		if ("string" == typeof i) {
			var a = e.fn.combotreegrid.methods[i];
			return a ? a(this, r) : this.combo(i, r)
		}
		return i = i || {},
		this.each(function () {
			var r = e.data(this, "combotreegrid");
			r ? e.extend(r.options, i) : r = e.data(this, "combotreegrid", {
					options: e.extend({}, e.fn.combotreegrid.defaults, e.fn.combotreegrid.parseOptions(this), i)
				}),
			function (i) {
				var r = e.data(i, "combotreegrid"),
				a = r.options;
				if (e(i).addClass("combotreegrid-f").combo(e.extend({}, a, {
							onShowPanel: function () {
								var t = e(this).combotreegrid("panel"),
								n = t.outerHeight() - t.height(),
								i = t._size("minHeight"),
								r = t._size("maxHeight"),
								o = e(this).combotreegrid("grid");
								o.treegrid("resize", {
									width: "100%",
									height: isNaN(parseInt(a.panelHeight)) ? "auto" : "100%",
									minHeight: i ? i - n : "",
									maxHeight: r ? r - n : ""
								});
								var s = o.treegrid("getSelected");
								s && o.treegrid("scrollTo", s[a.idField]),
								a.onShowPanel.call(this)
							}
						})), !r.grid) {
					var o = e(i).combo("panel");
					r.grid = e("<table></table>").appendTo(o)
				}
				r.grid.treegrid(e.extend({}, a, {
						border: !1,
						checkbox: a.multiple,
						onLoadSuccess: function (t, o) {
							var s = e(i).combotreegrid("getValues");
							a.multiple && e.map(e(this).treegrid("getCheckedNodes"), function (t) {
								e.easyui.addArrayItem(s, t[a.idField])
							}),
							n(i, s),
							a.onLoadSuccess.call(this, t, o),
							r.remainText = !1
						},
						onClickRow: function (n) {
							a.multiple ? (e(this).treegrid(n.checked ? "uncheckNode" : "checkNode", n[a.idField]), e(this).treegrid("unselect", n[a.idField])) : e(i).combo("hidePanel"),
							t(i),
							a.onClickRow.call(this, n)
						},
						onCheckNode: function (e, n) {
							t(i),
							a.onCheckNode.call(this, e, n)
						}
					}))
			}
			(this)
		})
	},
	e.fn.combotreegrid.methods = {
		options: function (t) {
			var n = t.combo("options");
			return e.extend(e.data(t[0], "combotreegrid").options, {
				width: n.width,
				height: n.height,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		grid: function (t) {
			return e.data(t[0], "combotreegrid").grid
		},
		setValues: function (t, i) {
			return t.each(function () {
				var t = e(this).combotreegrid("options");
				e.isArray(i) && (i = e.map(i, function (n) {
							return n && "object" == typeof n ? (e.easyui.addArrayItem(t.mappingRows, t.idField, n), n[t.idField]) : n
						})),
				n(this, i)
			})
		},
		setValue: function (t, n) {
			return t.each(function () {
				e(this).combotreegrid("setValues", e.isArray(n) ? n : [n])
			})
		},
		clear: function (t) {
			return t.each(function () {
				e(this).combotreegrid("setValues", [])
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).combotreegrid("options");
				t.multiple ? e(this).combotreegrid("setValues", t.originalValue) : e(this).combotreegrid("setValue", t.originalValue)
			})
		}
	},
	e.fn.combotreegrid.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.combo.parseOptions(t), e.fn.treegrid.parseOptions(t), e.parser.parseOptions(t, ["mode", {
						limitToGrid: "boolean"
					}
				]))
	},
	e.fn.combotreegrid.defaults = e.extend({}, e.fn.combo.defaults, e.fn.treegrid.defaults, {
			editable: !1,
			singleSelect: !0,
			limitToGrid: !1,
			unselectedValues: [],
			mappingRows: [],
			mode: "local",
			keyHandler: {
				up: function (e) {},
				down: function (e) {},
				left: function (e) {},
				right: function (e) {},
				enter: function (e) {
					i(this)
				},
				query: function (t, i) {
					!function (t, i) {
						var r = e.data(t, "combotreegrid"),
						a = r.options,
						o = r.grid;
						if (r.remainText = !0, o.treegrid("clearSelections").treegrid("clearChecked").treegrid("highlightRow", -1), "remote" == a.mode)
							e(t).combotreegrid("clear"), o.treegrid("load", e.extend({}, a.queryParams, {
									q: i
								}));
						else if (i) {
							var s = o.treegrid("getData"),
							l = [],
							c = a.multiple ? i.split(a.separator) : [i];
							e.map(c, function (n) {
								if (n = e.trim(n)) {
									var i = void 0;
									e.easyui.forEach(s, !0, function (e) {
										return n.toLowerCase() == String(e[a.treeField]).toLowerCase() ? (i = e[a.idField], !1) : a.filter.call(t, n, e) ? (o.treegrid("expandTo", e[a.idField]), o.treegrid("highlightRow", e[a.idField]), !1) : void 0
									}),
									void 0 == i && e.easyui.forEach(a.mappingRows, !1, function (e) {
										if (n.toLowerCase() == String(e[a.treeField]))
											return i = e[a.idField], !1
									}),
									void 0 != i && l.push(i)
								}
							}),
							n(t, l),
							r.remainText = !1
						}
					}
					(this, t)
				}
			},
			inputEvents: e.extend({}, e.fn.combo.defaults.inputEvents, {
				blur: function (t) {
					var n = t.data.target;
					e(n).combotreegrid("options").limitToGrid && i(n)
				}
			}),
			filter: function (t, n) {
				return (n[e(this).combotreegrid("options").treeField] || "").toLowerCase().indexOf(t.toLowerCase()) >= 0
			}
		})
}
(jQuery), function (e) {
	function t(t, n) {
		var i = e(t).next(),
		r = n ? e(n) : i.find(".tagbox-label");
		if (r.length) {
			var a = e(t).tagbox("textbox"),
			o = e(r[0]),
			s = o.outerHeight(!0) - o.outerHeight(),
			l = a.outerHeight() - 2 * s;
			r.css({
				height: l + "px",
				lineHeight: l + "px"
			});
			i.find(".textbox-addon").css("height", "100%").find(".textbox-icon").css("height", "100%"),
			i.find(".textbox-button").linkbutton("resize", {
				height: "100%"
			})
		}
	}
	function n(t) {
		function n(e) {
			var t = e.replace(/&/g, "&amp;").replace(/\s/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;");
			return o.html(t),
			o.outerWidth()
		}
		var i = e(t).tagbox("options"),
		r = e(t).tagbox("textbox"),
		a = e(t).next(),
		o = e("<span></span>").appendTo("body");
		o.attr("style", r.attr("style")),
		o.css({
			position: "absolute",
			top: -9999,
			left: -9999,
			width: "auto",
			fontFamily: r.css("fontFamily"),
			fontSize: r.css("fontSize"),
			fontWeight: r.css("fontWeight"),
			whiteSpace: "nowrap"
		});
		var s = n(r.val()),
		l = n(i.prompt || "");
		o.remove();
		var c = Math.min(Math.max(s, l) + 20, a.width());
		r._outerWidth(c),
		a.find(".textbox-button").linkbutton("resize", {
			height: "100%"
		})
	}
	function i(t) {
		var n = e(t),
		i = n.tagbox("options");
		if (e(t).tagbox("isValid"))
			if (i.limitToList) {
				var r = n.tagbox("panel").children("div.combobox-item-hover");
				if (r.length) {
					r.removeClass("combobox-item-hover");
					var a = i.finder.getRow(t, r)[i.valueField];
					e(t).tagbox(r.hasClass("combobox-item-selected") ? "unselect" : "select", a)
				}
				e(t).tagbox("hidePanel")
			} else {
				var o = e.trim(e(t).tagbox("getText"));
				if ("" !== o) {
					var s = e(t).tagbox("getValues");
					s.push(o),
					e(t).tagbox("setValues", s)
				}
			}
	}
	e.fn.tagbox = function (i, r) {
		if ("string" == typeof i) {
			var a = e.fn.tagbox.methods[i];
			return a ? a(this, r) : this.combobox(i, r)
		}
		return i = i || {},
		this.each(function () {
			var r = e.data(this, "tagbox");
			r ? e.extend(r.options, i) : e.data(this, "tagbox", {
				options: e.extend({}, e.fn.tagbox.defaults, e.fn.tagbox.parseOptions(this), i)
			}),
			function (i) {
				function r() {
					e(i).next().find(".tagbox-label").remove();
					var n = e(i).tagbox("textbox");
					e.map(e(i).tagbox("getValues"), function (t, r) {
						var o = a.finder.getRow(i, t),
						s = a.tagFormatter.call(i, t, o),
						l = {},
						c = a.tagStyler.call(i, t, o) || "";
						l = "string" == typeof c ? {
							s: c
						}
						 : {
							c: c.class || "",
							s: c.style || ""
						};
						var d = e('<span class="tagbox-label"></span>').insertBefore(n).html(s);
						d.attr("tagbox-index", r),
						d.attr("style", l.s).addClass(l.c),
						e('<a href="javascript:;" class="tagbox-remove"></a>').appendTo(d)
					}),
					t(i),
					e(i).combobox("setText", "")
				}
				var a = e.data(i, "tagbox").options;
				e(i).addClass("tagbox-f").combobox(e.extend({}, a, {
						cls: "tagbox",
						reversed: !0,
						onChange: function (t, n) {
							r(),
							e(this).combobox("hidePanel"),
							a.onChange.call(i, t, n)
						},
						onResizing: function (r, o) {
							var s = e(this).combobox("textbox"),
							l = e(this).data("textbox").textbox;
							l.css({
								height: "",
								paddingLeft: s.css("marginLeft"),
								paddingRight: s.css("marginRight")
							}),
							s.css("margin", 0),
							l._size({
								width: a.width
							}, e(this).parent()),
							n(i),
							t(this),
							a.onResizing.call(i, r, o)
						},
						onLoadSuccess: function (e) {
							r(),
							a.onLoadSuccess.call(i, e)
						}
					})),
				r(),
				n(i)
			}
			(this),
			function (t) {
				e(t).next().unbind(".tagbox").bind("click.tagbox", function (n) {
					var i = e(t).tagbox("options");
					if (!i.disabled && !i.readonly) {
						if (e(n.target).hasClass("tagbox-remove")) {
							var r = parseInt(e(n.target).parent().attr("tagbox-index")),
							a = e(t).tagbox("getValues");
							if (0 == i.onBeforeRemoveTag.call(t, a[r]))
								return;
							i.onRemoveTag.call(t, a[r]),
							a.splice(r, 1),
							e(t).tagbox("setValues", a)
						} else {
							var o = e(n.target).closest(".tagbox-label");
							if (o.length) {
								var r = parseInt(o.attr("tagbox-index")),
								a = e(t).tagbox("getValues");
								i.onClickTag.call(t, a[r])
							}
						}
						e(this).find(".textbox-text").focus()
					}
				}).bind("keyup.tagbox", function (e) {
					n(t)
				}).bind("mouseover.tagbox", function (t) {
					e(t.target).closest(".textbox-button,.textbox-addon,.tagbox-label").length ? e(this).triggerHandler("mouseleave") : e(this).find(".textbox-text").triggerHandler("mouseenter")
				}).bind("mouseleave.tagbox", function (t) {
					e(this).find(".textbox-text").triggerHandler("mouseleave")
				})
			}
			(this)
		})
	},
	e.fn.tagbox.methods = {
		options: function (t) {
			var n = t.combobox("options");
			return e.extend(e.data(t[0], "tagbox").options, {
				width: n.width,
				height: n.height,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		setValues: function (t, i) {
			return t.each(function () {
				!function (t, i) {
					e(t).combobox("setText", ""),
					n(t),
					e(t).combobox("setValues", i),
					e(t).combobox("setText", "")
				}
				(this, i)
			})
		}
	},
	e.fn.tagbox.parseOptions = function (t) {
		return e.extend({}, e.fn.combobox.parseOptions(t), e.parser.parseOptions(t, []))
	},
	e.fn.tagbox.defaults = e.extend({}, e.fn.combobox.defaults, {
			hasDownArrow: !1,
			multiple: !0,
			reversed: !0,
			selectOnNavigation: !1,
			tipOptions: e.extend({}, e.fn.textbox.defaults.tipOptions, {
				showDelay: 200
			}),
			inputEvents: e.extend({}, e.fn.combo.defaults.inputEvents, {
				blur: function (t) {
					var n = t.data.target;
					e(n).tagbox("options").limitToList && i(n)
				}
			}),
			keyHandler: e.extend({}, e.fn.combobox.defaults.keyHandler, {
				enter: function (e) {
					i(this)
				},
				query: function (t, n) {
					e(this).tagbox("options").limitToList ? e.fn.combobox.defaults.keyHandler.query.call(this, t, n) : e(this).combobox("hidePanel")
				}
			}),
			tagFormatter: function (t, n) {
				var i = e(this).tagbox("options");
				return n ? n[i.textField] : t
			},
			tagStyler: function (e, t) {
				return ""
			},
			onClickTag: function (e) {},
			onBeforeRemoveTag: function (e) {},
			onRemoveTag: function (e) {}
		})
}
(jQuery), function (e) {
	function t(t) {
		var n = e.data(t, "datebox"),
		r = n.options;
		if (e(t).addClass("datebox-f").combo(e.extend({}, r, {
					onShowPanel: function () {
						!function (t) {
							var n = e(t).datebox("options");
							e(t).combo("panel").unbind(".datebox").bind("click.datebox", function (i) {
								if (e(i.target).hasClass("datebox-button-a")) {
									var r = parseInt(e(i.target).attr("datebox-button-index"));
									n.buttons[r].handler.call(i.target, t)
								}
							})
						}
						(this),
						function (t) {
							var n = e(t).combo("panel");
							if (!n.children("div.datebox-button").length) {
								for (var i = e('<div class="datebox-button"><table cellspacing="0" cellpadding="0" style="width:100%"><tr></tr></table></div>').appendTo(n).find("tr"), a = 0; a < r.buttons.length; a++) {
									var o = e("<td></td>").appendTo(i),
									s = r.buttons[a];
									e('<a class="datebox-button-a" href="javascript:;"></a>').html(e.isFunction(s.text) ? s.text(t) : s.text).appendTo(o).attr("datebox-button-index", a)
								}
								i.find("td").css("width", 100 / r.buttons.length + "%")
							}
						}
						(this),
						function (t) {
							var i = e(t).combo("panel"),
							a = i.children("div.datebox-calendar-inner");
							if (i.children()._outerWidth(i.width()), n.calendar.appendTo(a), n.calendar[0].target = t, "auto" != r.panelHeight) {
								var o = i.height();
								i.children().not(a).each(function () {
									o -= e(this).outerHeight()
								}),
								a._outerHeight(o)
							}
							n.calendar.calendar("resize")
						}
						(this),
						i(this, e(this).datebox("getText"), !0),
						r.onShowPanel.call(this)
					}
				})), !n.calendar) {
			var a = e(t).combo("panel").css("overflow", "hidden");
			a.panel("options").onBeforeDestroy = function () {
				var t = e(this).find(".calendar-shared");
				t.length && t.insertBefore(t[0].pholder)
			};
			var o = e('<div class="datebox-calendar-inner"></div>').prependTo(a);
			if (r.sharedCalendar) {
				var s = e(r.sharedCalendar);
				s[0].pholder || (s[0].pholder = e('<div class="calendar-pholder" style="display:none"></div>').insertAfter(s)),
				s.addClass("calendar-shared").appendTo(o),
				s.hasClass("calendar") || s.calendar(),
				n.calendar = s
			} else
				n.calendar = e("<div></div>").appendTo(o).calendar();
			e.extend(n.calendar.calendar("options"), {
				fit: !0,
				border: !1,
				onSelect: function (t) {
					var n = this.target,
					r = e(n).datebox("options");
					i(n, r.formatter.call(n, t)),
					e(n).combo("hidePanel"),
					r.onSelect.call(n, t)
				}
			})
		}
		e(t).combo("textbox").parent().addClass("datebox"),
		e(t).datebox("initValue", r.value)
	}
	function n(t) {
		var n = e.data(t, "datebox"),
		r = n.options,
		a = n.calendar.calendar("options").current;
		a && (i(t, r.formatter.call(t, a)), e(t).combo("hidePanel"))
	}
	function i(t, n, i) {
		var r = e.data(t, "datebox"),
		a = r.options,
		o = r.calendar;
		o.calendar("moveTo", a.parser.call(t, n)),
		i ? e(t).combo("setValue", n) : (n && (n = a.formatter.call(t, o.calendar("options").current)), e(t).combo("setText", n).combo("setValue", n))
	}
	e.fn.datebox = function (n, i) {
		if ("string" == typeof n) {
			var r = e.fn.datebox.methods[n];
			return r ? r(this, i) : this.combo(n, i)
		}
		return n = n || {},
		this.each(function () {
			var i = e.data(this, "datebox");
			i ? e.extend(i.options, n) : e.data(this, "datebox", {
				options: e.extend({}, e.fn.datebox.defaults, e.fn.datebox.parseOptions(this), n)
			}),
			t(this)
		})
	},
	e.fn.datebox.methods = {
		options: function (t) {
			var n = t.combo("options");
			return e.extend(e.data(t[0], "datebox").options, {
				width: n.width,
				height: n.height,
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		cloneFrom: function (t, n) {
			return t.each(function () {
				e(this).combo("cloneFrom", n),
				e.data(this, "datebox", {
					options: e.extend(!0, {}, e(n).datebox("options")),
					calendar: e(n).datebox("calendar")
				}),
				e(this).addClass("datebox-f")
			})
		},
		calendar: function (t) {
			return e.data(t[0], "datebox").calendar
		},
		initValue: function (t, n) {
			return t.each(function () {
				var t = e(this).datebox("options"),
				n = t.value;
				n && (n = t.formatter.call(this, t.parser.call(this, n))),
				e(this).combo("initValue", n).combo("setText", n)
			})
		},
		setValue: function (e, t) {
			return e.each(function () {
				i(this, t)
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).datebox("options");
				e(this).datebox("setValue", t.originalValue)
			})
		}
	},
	e.fn.datebox.parseOptions = function (t) {
		return e.extend({}, e.fn.combo.parseOptions(t), e.parser.parseOptions(t, ["sharedCalendar"]))
	},
	e.fn.datebox.defaults = e.extend({}, e.fn.combo.defaults, {
			panelWidth: 180,
			panelHeight: "auto",
			sharedCalendar: null,
			keyHandler: {
				up: function (e) {},
				down: function (e) {},
				left: function (e) {},
				right: function (e) {},
				enter: function (e) {
					n(this)
				},
				query: function (e, t) {
					!function (e, t) {
						i(e, t, !0)
					}
					(this, e)
				}
			},
			currentText: "Today",
			closeText: "Close",
			okText: "Ok",
			buttons: [{
					text: function (t) {
						return e(t).datebox("options").currentText
					},
					handler: function (t) {
						var i = new Date;
						e(t).datebox("calendar").calendar({
							year: i.getFullYear(),
							month: i.getMonth() + 1,
							current: new Date(i.getFullYear(), i.getMonth(), i.getDate())
                        }),
						n(t)
					}
				}, {
					text: function (t) {
						return e(t).datebox("options").closeText
					},
					handler: function (t) {
						e(this).closest("div.combo-panel").panel("close")
					}
				}
			],
			formatter: function (e) {
				var t = e.getFullYear(),
				n = e.getMonth() + 1,
				i = e.getDate();
				return (n < 10 ? "0" + n : n) + "/" + (i < 10 ? "0" + i : i) + "/" + t
			},
			parser: function (e) {
				if (!e)
					return new Date;
				var t = e.split("/"),
				n = parseInt(t[0], 10),
				i = parseInt(t[1], 10),
				r = parseInt(t[2], 10);
				return isNaN(r) || isNaN(n) || isNaN(i) ? new Date : new Date(r, n - 1, i)
			},
			onSelect: function (e) {}
		})
}
(jQuery), function (e) {
	function t(t) {
		var i = e.data(t, "datetimebox").options,
		r = function (t) {
			var n = e(t).datetimebox("calendar"),
			i = e(t).datetimebox("spinner"),
			r = n.calendar("options").current;
			return new Date(r.getFullYear(), r.getMonth(), r.getDate(), i.timespinner("getHours"), i.timespinner("getMinutes"), i.timespinner("getSeconds"))
		}
		(t);
		n(t, i.formatter.call(t, r)),
		e(t).combo("hidePanel")
	}
	function n(t, n, i) {
		var r = e.data(t, "datetimebox").options;
		if (e(t).combo("setValue", n), !i)
			if (n) {
				a = r.parser.call(t, n);
				e(t).combo("setText", r.formatter.call(t, a)),
				e(t).combo("setValue", r.formatter.call(t, a))
			} else
				e(t).combo("setText", n);
		var a = r.parser.call(t, n);
		e(t).datetimebox("calendar").calendar("moveTo", a),
		e(t).datetimebox("spinner").timespinner("setValue", function (n) {
			function i(e) {
				return (e < 10 ? "0" : "") + e
			}
			var a = [i(n.getHours()), i(n.getMinutes())];
			return r.showSeconds && a.push(i(n.getSeconds())),
			a.join(e(t).datetimebox("spinner").timespinner("options").separator)
		}
			(a))
	}
	e.fn.datetimebox = function (t, i) {
		if ("string" == typeof t) {
			var r = e.fn.datetimebox.methods[t];
			return r ? r(this, i) : this.datebox(t, i)
		}
		return t = t || {},
		this.each(function () {
			var i = e.data(this, "datetimebox");
			i ? e.extend(i.options, t) : e.data(this, "datetimebox", {
				options: e.extend({}, e.fn.datetimebox.defaults, e.fn.datetimebox.parseOptions(this), t)
			}),
			function (t) {
				var i = e.data(t, "datetimebox"),
				r = i.options;
				if (e(t).datebox(e.extend({}, r, {
							onShowPanel: function () {
								n(this, e(this).datetimebox("getValue"), !0),
								r.onShowPanel.call(this)
							},
							formatter: e.fn.datebox.defaults.formatter,
							parser: e.fn.datebox.defaults.parser
						})), e(t).removeClass("datebox-f").addClass("datetimebox-f"), e(t).datebox("calendar").calendar({
						onSelect: function (e) {
							r.onSelect.call(this.target, e)
						}
					}), !i.spinner) {
					var a = e(t).datebox("panel"),
					o = e('<div style="padding:2px"><input></div>').insertAfter(a.children("div.datebox-calendar-inner"));
					i.spinner = o.children("input")
				}
				i.spinner.timespinner({
					width: r.spinnerWidth,
					showSeconds: r.showSeconds,
					separator: r.timeSeparator
				}),
				e(t).datetimebox("initValue", r.value)
			}
			(this)
		})
	},
	e.fn.datetimebox.methods = {
		options: function (t) {
			var n = t.datebox("options");
			return e.extend(e.data(t[0], "datetimebox").options, {
				originalValue: n.originalValue,
				disabled: n.disabled,
				readonly: n.readonly
			})
		},
		cloneFrom: function (t, n) {
			return t.each(function () {
				e(this).datebox("cloneFrom", n),
				e.data(this, "datetimebox", {
					options: e.extend(!0, {}, e(n).datetimebox("options")),
					spinner: e(n).datetimebox("spinner")
				}),
				e(this).removeClass("datebox-f").addClass("datetimebox-f")
			})
		},
		spinner: function (t) {
			return e.data(t[0], "datetimebox").spinner
		},
		initValue: function (t, n) {
			return t.each(function () {
				var t = e(this).datetimebox("options"),
				n = t.value;
				n && (n = t.formatter.call(this, t.parser.call(this, n))),
				e(this).combo("initValue", n).combo("setText", n)
			})
		},
		setValue: function (e, t) {
			return e.each(function () {
				n(this, t)
			})
		},
		reset: function (t) {
			return t.each(function () {
				var t = e(this).datetimebox("options");
				e(this).datetimebox("setValue", t.originalValue)
			})
		}
	},
	e.fn.datetimebox.parseOptions = function (t) {
		e(t);
		return e.extend({}, e.fn.datebox.parseOptions(t), e.parser.parseOptions(t, ["timeSeparator", "spinnerWidth", {
						showSeconds: "boolean"
					}
				]))
	},
	e.fn.datetimebox.defaults = e.extend({}, e.fn.datebox.defaults, {
			spinnerWidth: "100%",
			showSeconds: !0,
			timeSeparator: ":",
			keyHandler: {
				up: function (e) {},
				down: function (e) {},
				left: function (e) {},
				right: function (e) {},
				enter: function (e) {
					t(this)
				},
				query: function (e, t) {
					!function (e, t) {
						n(e, t, !0)
					}
					(this, e)
				}
			},
			buttons: [{
					text: function (t) {
						return e(t).datetimebox("options").currentText
					},
					handler: function (t) {
						n(t, e(t).datetimebox("options").formatter.call(t, new Date)),
						e(t).datetimebox("hidePanel")
					}
				}, {
					text: function (t) {
						return e(t).datetimebox("options").okText
					},
					handler: function (e) {
						t(e)
					}
				}, {
					text: function (t) {
						return e(t).datetimebox("options").closeText
					},
					handler: function (t) {
						e(t).datetimebox("hidePanel")
					}
				}
			],
			formatter: function (t) {
				function n(e) {
					return (e < 10 ? "0" : "") + e
				}
				var i = t.getHours(),
				r = t.getMinutes(),
				a = t.getSeconds(),
				o = e(this).datetimebox("spinner").timespinner("options").separator,
				s = e.fn.datebox.defaults.formatter(t) + " " + n(i) + o + n(r);
				return e(this).datetimebox("options").showSeconds && (s += o + n(a)),
				s
			},
			parser: function (t) {
				if ("" == e.trim(t))
					return new Date;
				var n = t.split(" "),
				i = e.fn.datebox.defaults.parser(n[0]);
				if (n.length < 2)
					return i;
				var r = e(this).datetimebox("spinner").timespinner("options").separator,
				a = n[1].split(r),
				o = parseInt(a[0], 10) || 0,
				s = parseInt(a[1], 10) || 0,
				l = parseInt(a[2], 10) || 0;
				return new Date(i.getFullYear(), i.getMonth(), i.getDate(), o, s, l)
			}
		})
}
(jQuery), function ($) {
	function init(e) {
		var t = $('<div class="slider"><div class="slider-inner"><a href="javascript:;" class="slider-handle"></a><span class="slider-tip"></span></div><div class="slider-rule"></div><div class="slider-rulelabel"></div><div style="clear:both"></div><input type="hidden" class="slider-value"></div>').insertAfter(e),
		n = $(e);
		n.addClass("slider-f").hide();
		var i = n.attr("name");
		return i && (t.find("input.slider-value").attr("name", i), n.removeAttr("name").attr("sliderName", i)),
		t.bind("_resize", function (t, n) {
			return ($(this).hasClass("easyui-fluid") || n) && _bbd(e),
			!1
		}),
		t
	}
	function _bbd(e, t) {
		var n = $.data(e, "slider"),
		i = n.options,
		r = n.slider;
		t && (t.width && (i.width = t.width), t.height && (i.height = t.height)),
		r._size(i),
		"h" == i.mode ? (r.css("height", ""), r.children("div").css("height", "")) : (r.css("width", ""), r.children("div").css("width", ""), r.children("div.slider-rule,div.slider-rulelabel,div.slider-inner")._outerHeight(r._outerHeight())),
		_bc2(e)
	}
	function _bc3(e) {
		var t = $.data(e, "slider"),
		n = t.options,
		i = t.slider,
		r = "h" == n.mode ? n.rule : n.rule.slice(0).reverse();
		n.reversed && (r = r.slice(0).reverse()),
		function (e) {
			var t = i.find("div.slider-rule"),
			r = i.find("div.slider-rulelabel");
			t.empty(),
			r.empty();
			for (var a = 0; a < e.length; a++) {
				var o = 100 * a / (e.length - 1) + "%",
				s = $("<span></span>").appendTo(t);
				s.css("h" == n.mode ? "left" : "top", o),
				"|" != e[a] && ((s = $("<span></span>").appendTo(r)).html(e[a]), "h" == n.mode ? s.css({
						left: o,
						marginLeft: -Math.round(s.outerWidth() / 2)
					}) : s.css({
						top: o,
						marginTop: -Math.round(s.outerHeight() / 2)
					}))
			}
		}
		(r)
	}
	function _bca(e) {
		function t(t, n) {
			var r = _bd3(e, t),
			a = Math.abs(r % i.step);
			if (a < i.step / 2 ? r -= a : r = r - a + i.step, i.range) {
				var o = i.value[0],
				s = i.value[1],
				l = parseFloat((o + s) / 2);
				if (n) {
					var c = $(n).nextAll(".slider-handle").length > 0;
					r <= s && c ? o = r : r >= o && !c && (s = r)
				} else
					r < o ? o = r : r > s ? s = r : r < l ? o = r : s = r;
				$(e).slider("setValues", [o, s])
			} else
				$(e).slider("setValue", r)
		}
		var n = $.data(e, "slider"),
		i = n.options,
		r = n.slider;
		r.removeClass("slider-h slider-v slider-disabled"),
		r.addClass("h" == i.mode ? "slider-h" : "slider-v"),
		r.addClass(i.disabled ? "slider-disabled" : "");
		var a = r.find(".slider-inner");
		a.html('<a href="javascript:;" class="slider-handle"></a><span class="slider-tip"></span>'),
		i.range && a.append('<a href="javascript:;" class="slider-handle"></a><span class="slider-tip"></span>'),
		r.find("a.slider-handle").draggable({
			axis: i.mode,
			cursor: "pointer",
			disabled: i.disabled,
			onDrag: function (e) {
				var n = e.data.left,
				a = r.width();
				return "h" != i.mode && (n = e.data.top, a = r.height()),
				!(n < 0 || n > a) && (t(n, this), !1)
			},
			onStartDrag: function () {
				n.isDragging = !0,
				i.onSlideStart.call(e, i.value)
			},
			onStopDrag: function (r) {
				t("h" == i.mode ? r.data.left : r.data.top, this),
				i.onSlideEnd.call(e, i.value),
				i.onComplete.call(e, i.value),
				n.isDragging = !1
			}
		}),
		r.find("div.slider-inner").unbind(".slider").bind("mousedown.slider", function (r) {
			if (!n.isDragging && !i.disabled) {
				var a = $(this).offset();
				t("h" == i.mode ? r.pageX - a.left : r.pageY - a.top),
				i.onComplete.call(e, i.value)
			}
		})
	}
	function _bd5(e, t) {
		var n = $.data(e, "slider"),
		i = n.options,
		r = n.slider,
		a = $.isArray(i.value) ? i.value : [i.value],
		o = [];
		$.isArray(t) || (t = $.map(String(t).split(i.separator), function (e) {
					return parseFloat(e)
				})),
		r.find(".slider-value").remove();
		for (var s = $(e).attr("sliderName") || "", l = 0; l < t.length; l++) {
			var c = t[l];
			c < i.min && (c = i.min),
			c > i.max && (c = i.max);
			var d = $('<input type="hidden" class="slider-value">').appendTo(r);
			d.attr("name", s),
			d.val(c),
			o.push(c);
			var u = r.find(".slider-handle:eq(" + l + ")"),
			h = u.next(),
			p = _bdf(e, c);
			if (i.showTip ? (h.show(), h.html(i.tipFormatter.call(e, c))) : h.hide(), "h" == i.mode) {
				f = "left:" + p + "px;";
				u.attr("style", f),
				h.attr("style", f + "margin-left:" + -Math.round(h.outerWidth() / 2) + "px")
			} else {
				var f = "top:" + p + "px;";
				u.attr("style", f),
				h.attr("style", f + "margin-left:" + -Math.round(h.outerWidth()) + "px")
			}
		}
		i.value = i.range ? o : o[0],
		$(e).val(i.range ? o.join(i.separator) : o[0]),
		a.join(",") != o.join(",") && i.onChange.call(e, i.value, i.range ? a : a[0])
	}
	function _bc2(e) {
		var t = $.data(e, "slider").options,
		n = t.onChange;
		t.onChange = function () {},
		_bd5(e, t.value),
		t.onChange = n
	}
	function _bdf(e, t) {
		var n = $.data(e, "slider"),
		i = n.options,
		r = n.slider,
		a = "h" == i.mode ? r.width() : r.height(),
		o = i.converter.toPosition.call(e, t, a);
		return "v" == i.mode && (o = r.height() - o),
		i.reversed && (o = a - o),
		o.toFixed(0)
	}
	function _bd3(e, t) {
		var n = $.data(e, "slider"),
		i = n.options,
		r = n.slider,
		a = "h" == i.mode ? r.width() : r.height(),
		t = "h" == i.mode ? i.reversed ? a - t : t : i.reversed ? t : a - t;
		return i.converter.toValue.call(e, t, a).toFixed(0)
	}
	$.fn.slider = function (e, t) {
		return "string" == typeof e ? $.fn.slider.methods[e](this, t) : (e = e || {}, this.each(function () {
				var t = $.data(this, "slider");
				t ? $.extend(t.options, e) : (t = $.data(this, "slider", {
							options: $.extend({}, $.fn.slider.defaults, $.fn.slider.parseOptions(this), e),
							slider: init(this)
						}), $(this).removeAttr("disabled"));
				var n = t.options;
				n.min = parseFloat(n.min),
				n.max = parseFloat(n.max),
				n.range ? ($.isArray(n.value) || (n.value = $.map(String(n.value).split(n.separator), function (e) {
								return parseFloat(e)
							})), n.value.length < 2 && n.value.push(n.max)) : n.value = parseFloat(n.value),
				n.step = parseFloat(n.step),
				n.originalValue = n.value,
				_bca(this),
				_bc3(this),
				_bbd(this)
			}))
	},
	$.fn.slider.methods = {
		options: function (e) {
			return $.data(e[0], "slider").options
		},
		destroy: function (e) {
			return e.each(function () {
				$.data(this, "slider").slider.remove(),
				$(this).remove()
			})
		},
		resize: function (e, t) {
			return e.each(function () {
				_bbd(this, t)
			})
		},
		getValue: function (e) {
			return e.slider("options").value
		},
		getValues: function (e) {
			return e.slider("options").value
		},
		setValue: function (e, t) {
			return e.each(function () {
				_bd5(this, [t])
			})
		},
		setValues: function (e, t) {
			return e.each(function () {
				_bd5(this, t)
			})
		},
		clear: function (e) {
			return e.each(function () {
				var e = $(this).slider("options");
				_bd5(this, e.range ? [e.min, e.max] : [e.min])
			})
		},
		reset: function (e) {
			return e.each(function () {
				var e = $(this).slider("options");
				$(this).slider(e.range ? "setValues" : "setValue", e.originalValue)
			})
		},
		enable: function (e) {
			return e.each(function () {
				$.data(this, "slider").options.disabled = !1,
				_bca(this)
			})
		},
		disable: function (e) {
			return e.each(function () {
				$.data(this, "slider").options.disabled = !0,
				_bca(this)
			})
		}
	},
	$.fn.slider.parseOptions = function (_bf0) {
		var t = $(_bf0);
		return $.extend({}, $.parser.parseOptions(_bf0, ["width", "height", "mode", {
						reversed: "boolean",
						showTip: "boolean",
						range: "boolean",
						min: "number",
						max: "number",
						step: "number"
					}
				]), {
			value: t.val() || void 0,
			disabled: !!t.attr("disabled") || void 0,
			rule: t.attr("rule") ? eval(t.attr("rule")) : void 0
		})
	},
	$.fn.slider.defaults = {
		width: "auto",
		height: "auto",
		mode: "h",
		reversed: !1,
		showTip: !1,
		disabled: !1,
		range: !1,
		value: 0,
		separator: ",",
		min: 0,
		max: 100,
		step: 1,
		rule: [],
		tipFormatter: function (e) {
			return e
		},
		converter: {
			toPosition: function (e, t) {
				var n = $(this).slider("options");
				return (e - n.min) / (n.max - n.min) * t
			},
			toValue: function (e, t) {
				var n = $(this).slider("options");
				return n.min + (n.max - n.min) * (e / t)
			}
		},
		onChange: function (e, t) {},
		onSlideStart: function (e) {},
		onSlideEnd: function (e) {},
		onComplete: function (e) {}
	}
}
(jQuery), function (e, t) {
	"use strict";
	var n,
	i,
	r = e.layui && layui.define,
	a = {
		getPath: function () {
			var e = document.scripts,
			t = e[e.length - 1],
			n = t.src;
			if (!t.getAttribute("merge"))
				return n.substring(0, n.lastIndexOf("/") + 1)
		}
		(),
		config: {},
		end: {},
		minIndex: 0,
		minLeft: [],
		btn: ["&#x786E;&#x5B9A;", "&#x53D6;&#x6D88;"],
		type: ["dialog", "page", "iframe", "loading", "tips"]
	},
	o = {
		v: "3.0.1",
		ie: function () {
			var t = navigator.userAgent.toLowerCase();
			return !!(e.ActiveXObject || "ActiveXObject" in e) && ((t.match(/msie\s(\d+)/) || [])[1] || "11")
		}
		(),
		index: e.layer && e.layer.v ? 1e5 : 0,
		path: a.getPath,
		config: function (e, t) {
			return e = e || {},
			o.cache = a.config = n.extend({}, a.config, e),
			o.path = a.config.path || o.path,
			"string" == typeof e.extend && (e.extend = [e.extend]),
			a.config.path && o.ready(),
			e.extend ? (r ? layui.addcss("modules/layer/" + e.extend) : o.link("skin/" + e.extend), this) : this
		},
		link: function (t, i, r) {
			if (o.path) {
				var a = n("head")[0],
				s = document.createElement("link");
				"string" == typeof i && (r = i);
				var l = "layuicss-" + (r || t).replace(/\.|\//g, ""),
				c = 0;
				s.rel = "stylesheet",
				s.href = o.path + t,
				s.id = l,
				n("#" + l)[0] || a.appendChild(s),
				"function" == typeof i && function t() {
					return ++c > 80 ? e.console && console.error("layer.css: Invalid") : void(1989 === parseInt(n("#" + l).css("width")) ? i() : setTimeout(t, 100))
				}
				()
			}
		},
		ready: function (e) {
			var t = "skinlayercss",
			n = "1110";
			return r ? layui.addcss("modules/layer/default/layer.css?v=" + o.v + n, e, t) : o.link("skin/default/layer.css?v=" + o.v + n, e, t),
			this
		},
		alert: function (e, t, i) {
			var r = "function" == typeof t;
			return r && (i = t),
			o.open(n.extend({
					content: e,
					yes: i
				}, r ? {}
					 : t))
		},
		confirm: function (e, t, i, r) {
			var s = "function" == typeof t;
			return s && (r = i, i = t),
			o.open(n.extend({
					content: e,
					btn: a.btn,
					yes: i,
					btn2: r
				}, s ? {}
					 : t))
		},
		msg: function (e, t, i) {
			var r = "function" == typeof t,
			s = a.config.skin,
			c = (s ? s + " " + s + "-msg" : "") || "layui-layer-msg",
			d = l.anim.length - 1;
			return r && (i = t),
			o.open(n.extend({
					content: e,
					time: 3e3,
					shade: !1,
					skin: c,
					title: !1,
					closeBtn: !1,
					btn: !1,
					resize: !1,
					end: i
				}, r && !a.config.skin ? {
					skin: c + " layui-layer-hui",
					anim: d
				}
					 : ((-1 === (t = t || {}).icon || void 0 === t.icon && !a.config.skin) && (t.skin = c + " " + (t.skin || "layui-layer-hui")), t)))
		},
		load: function (e, t) {
			return o.open(n.extend({
					type: 3,
					icon: e || 0,
					resize: !1,
					shade: .01
				}, t))
		},
		tips: function (e, t, i) {
			return o.open(n.extend({
					type: 4,
					content: [e, t],
					closeBtn: !1,
					time: 3e3,
					shade: !1,
					resize: !1,
					fixed: !1,
					maxWidth: 210
				}, i))
		}
	},
	s = function (e) {
		var t = this;
		t.index = ++o.index,
		t.config = n.extend({}, t.config, a.config, e),
		document.body ? t.creat() : setTimeout(function () {
			t.creat()
		}, 50)
	};
	s.pt = s.prototype;
	var l = ["layui-layer", ".layui-layer-title", ".layui-layer-main", ".layui-layer-dialog", "layui-layer-iframe", "layui-layer-content", "layui-layer-btn", "layui-layer-close"];
	l.anim = ["layer-anim", "layer-anim-01", "layer-anim-02", "layer-anim-03", "layer-anim-04", "layer-anim-05", "layer-anim-06"],
	s.pt.config = {
		type: 0,
		shade: .3,
		fixed: !0,
		move: l[1],
		title: "&#x4FE1;&#x606F;",
		offset: "auto",
		area: "auto",
		closeBtn: 1,
		time: 0,
		zIndex: 19891014,
		maxWidth: 360,
		anim: 0,
		icon: -1,
		moveType: 1,
		resize: !0,
		scrollbar: !0,
		tips: 2
	},
	s.pt.vessel = function (e, t) {
		var i = this,
		r = i.index,
		o = i.config,
		s = o.zIndex + r,
		c = "object" == typeof o.title,
		d = o.maxmin && (1 === o.type || 2 === o.type),
		u = o.title ? '<div class="layui-layer-title" style="' + (c ? o.title[1] : "") + '">' + (c ? o.title[0] : o.title) + "</div>" : "";
		return o.zIndex = s,
		t([o.shade ? '<div class="layui-layer-shade" id="layui-layer-shade' + r + '" times="' + r + '" style="z-index:' + (s - 1) + "; background-color:" + (o.shade[1] || "#000") + "; opacity:" + (o.shade[0] || o.shade) + "; filter:alpha(opacity=" + (100 * o.shade[0] || 100 * o.shade) + ');"></div>' : "", '<div class="' + l[0] + " layui-layer-" + a.type[o.type] + (0 != o.type && 2 != o.type || o.shade ? "" : " layui-layer-border") + " " + (o.skin || "") + '" id="' + l[0] + r + '" type="' + a.type[o.type] + '" times="' + r + '" showtime="' + o.time + '" conType="' + (e ? "object" : "string") + '" style="z-index: ' + s + "; width:" + o.area[0] + ";height:" + o.area[1] + (o.fixed ? "" : ";position:absolute;") + '">' + (e && 2 != o.type ? "" : u) + '<div id="' + (o.id || "") + '" class="layui-layer-content' + (0 == o.type && -1 !== o.icon ? " layui-layer-padding" : "") + (3 == o.type ? " layui-layer-loading" + o.icon : "") + '">' + (0 == o.type && -1 !== o.icon ? '<i class="layui-layer-ico layui-layer-ico' + o.icon + '"></i>' : "") + (1 == o.type && e ? "" : o.content || "") + '</div><span class="layui-layer-setwin">' + function () {
					var e = d ? '<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>' : "";
					return o.closeBtn && (e += '<a class="layui-layer-ico ' + l[7] + " " + l[7] + (o.title ? o.closeBtn : 4 == o.type ? "1" : "2") + '" href="javascript:;"></a>'),
					e
				}
				() + "</span>" + (o.btn ? function () {
					var e = "";
					"string" == typeof o.btn && (o.btn = [o.btn]);
					for (var t = 0, n = o.btn.length; t < n; t++)
						e += '<a class="' + l[6] + t + '">' + o.btn[t] + "</a>";
					return '<div class="' + l[6] + " layui-layer-btn-" + (o.btnAlign || "") + '">' + e + "</div>"
				}
					() : "") + (o.resize ? '<span class="layui-layer-resize"></span>' : "") + "</div>"], u, n('<div class="layui-layer-move"></div>')),
		i
	},
	s.pt.creat = function () {
		var e = this,
		t = e.config,
		r = e.index,
		s = "object" == typeof(d = t.content),
		c = n("body");
		if (!n("#" + t.id)[0]) {
			switch ("string" == typeof t.area && (t.area = "auto" === t.area ? ["", ""] : [t.area, ""]), t.shift && (t.anim = t.shift), 6 == o.ie && (t.fixed = !1), t.type) {
			case 0:
				t.btn = "btn" in t ? t.btn : a.btn[0],
				o.closeAll("dialog");
				break;
			case 2:
				var d = t.content = s ? t.content : [t.content || "http://layer.layui.com", "auto"];
				t.content = '<iframe scrolling="' + (t.content[1] || "auto") + '" allowtransparency="true" id="' + l[4] + r + '" name="' + l[4] + r + '" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="' + t.content[0] + '"></iframe>';
				break;
			case 3:
				delete t.title,
				delete t.closeBtn,
				-1 === t.icon && t.icon,
				o.closeAll("loading");
				break;
			case 4:
				s || (t.content = [t.content, "body"]),
				t.follow = t.content[1],
				t.content = t.content[0] + '<i class="layui-layer-TipsG"></i>',
				delete t.title,
				t.tips = "object" == typeof t.tips ? t.tips : [t.tips, !0],
				t.tipsMore || o.closeAll("tips")
			}
			e.vessel(s, function (i, o, u) {
				c.append(i[0]),
				s ? 2 == t.type || 4 == t.type ? n("body").append(i[1]) : d.parents("." + l[0])[0] || (d.data("display", d.css("display")).show().addClass("layui-layer-wrap").wrap(i[1]), n("#" + l[0] + r).find("." + l[5]).before(o)) : c.append(i[1]),
				n(".layui-layer-move")[0] || c.append(a.moveElem = u),
				e.layero = n("#" + l[0] + r),
				t.scrollbar || l.html.css("overflow", "hidden").attr("layer-full", r)
			}).auto(r),
			2 == t.type && 6 == o.ie && e.layero.find("iframe").attr("src", d[0]),
			4 == t.type ? e.tips() : e.offset(),
			t.fixed && i.on("resize", function () {
				e.offset(),
				(/^\d+%$/.test(t.area[0]) || /^\d+%$/.test(t.area[1])) && e.auto(r),
				4 == t.type && e.tips()
			}),
			t.time <= 0 || setTimeout(function () {
				o.close(e.index)
			}, t.time),
			e.move().callback(),
			l.anim[t.anim] && e.layero.addClass(l.anim[t.anim]).data("anim", !0)
		}
	},
	s.pt.auto = function (e) {
		function t(e) {
			(e = a.find(e)).height(s[1] - c - d - 2 * (0 | parseFloat(e.css("padding"))))
		}
		var r = this.config,
		a = n("#" + l[0] + e);
		"" === r.area[0] && r.maxWidth > 0 && (o.ie && o.ie < 8 && r.btn && a.width(a.innerWidth()), a.outerWidth() > r.maxWidth && a.width(r.maxWidth));
		var s = [a.innerWidth(), a.innerHeight()],
		c = a.find(l[1]).outerHeight() || 0,
		d = a.find("." + l[6]).outerHeight() || 0;
		switch (r.type) {
		case 2:
			t("iframe");
			break;
		default:
			"" === r.area[1] ? r.fixed && s[1] >= i.height() && (s[1] = i.height(), t("." + l[5])) : t("." + l[5])
		}
		return this
	},
	s.pt.offset = function () {
		var e = this,
		t = e.config,
		n = e.layero,
		r = [n.outerWidth(), n.outerHeight()],
		a = "object" == typeof t.offset;
		e.offsetTop = (i.height() - r[1]) / 2,
		e.offsetLeft = (i.width() - r[0]) / 2,
		a ? (e.offsetTop = t.offset[0], e.offsetLeft = t.offset[1] || e.offsetLeft) : "auto" !== t.offset && ("t" === t.offset ? e.offsetTop = 0 : "r" === t.offset ? e.offsetLeft = i.width() - r[0] : "b" === t.offset ? e.offsetTop = i.height() - r[1] : "l" === t.offset ? e.offsetLeft = 0 : "lt" === t.offset ? (e.offsetTop = 0, e.offsetLeft = 0) : "lb" === t.offset ? (e.offsetTop = i.height() - r[1], e.offsetLeft = 0) : "rt" === t.offset ? (e.offsetTop = 0, e.offsetLeft = i.width() - r[0]) : "rb" === t.offset ? (e.offsetTop = i.height() - r[1], e.offsetLeft = i.width() - r[0]) : e.offsetTop = t.offset),
		t.fixed || (e.offsetTop = /%$/.test(e.offsetTop) ? i.height() * parseFloat(e.offsetTop) / 100 : parseFloat(e.offsetTop), e.offsetLeft = /%$/.test(e.offsetLeft) ? i.width() * parseFloat(e.offsetLeft) / 100 : parseFloat(e.offsetLeft), e.offsetTop += i.scrollTop(), e.offsetLeft += i.scrollLeft()),
		n.attr("minLeft") && (e.offsetTop = i.height() - (n.find(l[1]).outerHeight() || 0), e.offsetLeft = n.css("left")),
		n.css({
			top: e.offsetTop,
			left: e.offsetLeft
		})
	},
	s.pt.tips = function () {
		var e = this.config,
		t = this.layero,
		r = [t.outerWidth(), t.outerHeight()],
		a = n(e.follow);
		a[0] || (a = n("body"));
		var o = {
			width: a.outerWidth(),
			height: a.outerHeight(),
			top: a.offset().top,
			left: a.offset().left
		},
		s = t.find(".layui-layer-TipsG"),
		c = e.tips[0];
		e.tips[1] || s.remove(),
		o.autoLeft = function () {
			o.left + r[0] - i.width() > 0 ? (o.tipLeft = o.left + o.width - r[0], s.css({
					right: 12,
					left: "auto"
				})) : o.tipLeft = o.left
		},
		o.where = [function () {
				o.autoLeft(),
				o.tipTop = o.top - r[1] - 10,
				s.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color", e.tips[1])
			}, function () {
				o.tipLeft = o.left + o.width + 10,
				o.tipTop = o.top,
				s.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color", e.tips[1])
			}, function () {
				o.autoLeft(),
				o.tipTop = o.top + o.height + 10,
				s.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color", e.tips[1])
			}, function () {
				o.tipLeft = o.left - r[0] - 10,
				o.tipTop = o.top,
				s.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color", e.tips[1])
			}
		],
		o.where[c - 1](),
		1 === c ? o.top - (i.scrollTop() + r[1] + 16) < 0 && o.where[2]() : 2 === c ? i.width() - (o.left + o.width + r[0] + 16) > 0 || o.where[3]() : 3 === c ? o.top - i.scrollTop() + o.height + r[1] + 16 - i.height() > 0 && o.where[0]() : 4 === c && r[0] + 16 - o.left > 0 && o.where[1](),
		t.find("." + l[5]).css({
			"background-color": e.tips[1],
			"padding-right": e.closeBtn ? "30px" : ""
		}),
		t.css({
			left: o.tipLeft - (e.fixed ? i.scrollLeft() : 0),
			top: o.tipTop - (e.fixed ? i.scrollTop() : 0)
		})
	},
	s.pt.move = function () {
		var e = this,
		t = e.config,
		r = n(document),
		s = e.layero,
		l = s.find(t.move),
		c = s.find(".layui-layer-resize"),
		d = {};
		return t.move && l.css("cursor", "move"),
		l.on("mousedown", function (e) {
			e.preventDefault(),
			t.move && (d.moveStart = !0, d.offset = [e.clientX - parseFloat(s.css("left")), e.clientY - parseFloat(s.css("top"))], a.moveElem.css("cursor", "move").show())
		}),
		c.on("mousedown", function (e) {
			e.preventDefault(),
			d.resizeStart = !0,
			d.offset = [e.clientX, e.clientY],
			d.area = [s.outerWidth(), s.outerHeight()],
			a.moveElem.css("cursor", "se-resize").show()
		}),
		r.on("mousemove", function (n) {
			if (d.moveStart) {
				var r = n.clientX - d.offset[0],
				a = n.clientY - d.offset[1],
				l = "fixed" === s.css("position");
				if (n.preventDefault(), d.stX = l ? 0 : i.scrollLeft(), d.stY = l ? 0 : i.scrollTop(), !t.moveOut) {
					var c = i.width() - s.outerWidth() + d.stX,
					u = i.height() - s.outerHeight() + d.stY;
					r < d.stX && (r = d.stX),
					r > c && (r = c),
					a < d.stY && (a = d.stY),
					a > u && (a = u)
				}
				s.css({
					left: r,
					top: a
				})
			}
			if (t.resize && d.resizeStart) {
				var r = n.clientX - d.offset[0],
				a = n.clientY - d.offset[1];
				n.preventDefault(),
				o.style(e.index, {
					width: d.area[0] + r,
					height: d.area[1] + a
				}),
				d.isResize = !0
			}
		}).on("mouseup", function (e) {
			d.moveStart && (delete d.moveStart, a.moveElem.hide(), t.moveEnd && t.moveEnd()),
			d.resizeStart && (delete d.resizeStart, a.moveElem.hide())
		}),
		e
	},
	s.pt.callback = function () {
		var e = this,
		t = e.layero,
		i = e.config;
		e.openLayer(),
		i.success && (2 == i.type ? t.find("iframe").on("load", function () {
				i.success(t, e.index)
			}) : i.success(t, e.index)),
		6 == o.ie && e.IE6(t),
		t.find("." + l[6]).children("a").on("click", function () {
			var r = n(this).index();
			if (0 === r)
				i.yes ? i.yes(e.index, t) : i.btn1 ? i.btn1(e.index, t) : o.close(e.index);
			else {
				!1 === (i["btn" + (r + 1)] && i["btn" + (r + 1)](e.index, t)) || o.close(e.index)
			}
		}),
		t.find("." + l[7]).on("click", function () {
			!1 === (i.cancel && i.cancel(e.index, t)) || o.close(e.index)
		}),
		i.shadeClose && n("#layui-layer-shade" + e.index).on("click", function () {
			o.close(e.index)
		}),
		t.find(".layui-layer-min").on("click", function () {
			!1 === (i.min && i.min(t)) || o.min(e.index, i)
		}),
		t.find(".layui-layer-max").on("click", function () {
			n(this).hasClass("layui-layer-maxmin") ? (o.restore(e.index), i.restore && i.restore(t)) : (o.full(e.index, i), setTimeout(function () {
					i.full && i.full(t)
				}, 100))
		}),
		i.end && (a.end[e.index] = i.end)
	},
	a.reselect = function () {
		n.each(n("select"), function (e, t) {
			var i = n(this);
			i.parents("." + l[0])[0] || 1 == i.attr("layer") && n("." + l[0]).length < 1 && i.removeAttr("layer").show(),
			i = null
		})
	},
	s.pt.IE6 = function (e) {
		n("select").each(function (e, t) {
			var i = n(this);
			i.parents("." + l[0])[0] || "none" === i.css("display") || i.attr({
				layer: "1"
			}).hide(),
			i = null
		})
	},
	s.pt.openLayer = function () {
		o.zIndex = this.config.zIndex,
		o.setTop = function (e) {
			return o.zIndex = parseInt(e[0].style.zIndex),
			e.on("mousedown", function () {
				o.zIndex++,
				e.css("z-index", o.zIndex + 1)
			}),
			o.zIndex
		}
	},
	a.record = function (e) {
		var t = [e.width(), e.height(), e.position().top, e.position().left + parseFloat(e.css("margin-left"))];
		e.find(".layui-layer-max").addClass("layui-layer-maxmin"),
		e.attr({
			area: t
		})
	},
	a.rescollbar = function (e) {
		l.html.attr("layer-full") == e && (l.html[0].style.removeProperty ? l.html[0].style.removeProperty("overflow") : l.html[0].style.removeAttribute("overflow"), l.html.removeAttr("layer-full"))
	},
	e.layer = o,
	o.getChildFrame = function (e, t) {
		return t = t || n("." + l[4]).attr("times"),
		n("#" + l[0] + t).find("iframe").contents().find(e)
	},
	o.getFrameIndex = function (e) {
		return n("#" + e).parents("." + l[4]).attr("times")
	},
	o.iframeAuto = function (e) {
		if (e) {
			var t = o.getChildFrame("html", e).outerHeight(),
			i = n("#" + l[0] + e),
			r = i.find(l[1]).outerHeight() || 0,
			a = i.find("." + l[6]).outerHeight() || 0;
			i.css({
				height: t + r + a
			}),
			i.find("iframe").css({
				height: t
			})
		}
	},
	o.iframeSrc = function (e, t) {
		n("#" + l[0] + e).find("iframe").attr("src", t)
	},
	o.style = function (e, t, i) {
		var r = n("#" + l[0] + e),
		o = r.find(".layui-layer-content"),
		s = r.attr("type"),
		c = r.find(l[1]).outerHeight() || 0,
		d = r.find("." + l[6]).outerHeight() || 0;
		r.attr("minLeft"),
		s !== a.type[3] && s !== a.type[4] && (i || (parseFloat(t.width) <= 260 && (t.width = 260), parseFloat(t.height) - c - d <= 64 && (t.height = 64 + c + d)), r.css(t), d = r.find("." + l[6]).outerHeight(), s === a.type[2] ? r.find("iframe").css({
				height: parseFloat(t.height) - c - d
			}) : o.css({
				height: parseFloat(t.height) - c - d - parseFloat(o.css("padding-top")) - parseFloat(o.css("padding-bottom"))
			}))
	},
	o.min = function (e, t) {
		var r = n("#" + l[0] + e),
		s = r.find(l[1]).outerHeight() || 0,
		c = r.attr("minLeft") || 181 * a.minIndex + "px",
		d = r.css("position");
		a.record(r),
		a.minLeft[0] && (c = a.minLeft[0], a.minLeft.shift()),
		r.attr("position", d),
		o.style(e, {
			width: 180,
			height: s,
			left: c,
			top: i.height() - s,
			position: "fixed",
			overflow: "hidden"
		}, !0),
		r.find(".layui-layer-min").hide(),
		"page" === r.attr("type") && r.find(l[4]).hide(),
		a.rescollbar(e),
		r.attr("minLeft") || a.minIndex++,
		r.attr("minLeft", c)
	},
	o.restore = function (e) {
		var t = n("#" + l[0] + e),
		i = t.attr("area").split(",");
		t.attr("type"),
		o.style(e, {
			width: parseFloat(i[0]),
			height: parseFloat(i[1]),
			top: parseFloat(i[2]),
			left: parseFloat(i[3]),
			position: t.attr("position"),
			overflow: "visible"
		}, !0),
		t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),
		t.find(".layui-layer-min").show(),
		"page" === t.attr("type") && t.find(l[4]).show(),
		a.rescollbar(e)
	},
	o.full = function (e) {
		var t,
		r = n("#" + l[0] + e);
		a.record(r),
		l.html.attr("layer-full") || l.html.css("overflow", "hidden").attr("layer-full", e),
		clearTimeout(t),
		t = setTimeout(function () {
				var t = "fixed" === r.css("position");
				o.style(e, {
					top: t ? 0 : i.scrollTop(),
					left: t ? 0 : i.scrollLeft(),
					width: i.width(),
					height: i.height()
				}, !0),
				r.find(".layui-layer-min").hide()
			}, 100)
	},
	o.title = function (e, t) {
		n("#" + l[0] + (t || o.index)).find(l[1]).html(e)
	},
	o.close = function (e) {
		var t = n("#" + l[0] + e),
		i = t.attr("type");
		if (t[0]) {
			var r = "layui-layer-wrap";
			t.data("anim") && t.addClass("layer-anim-close"),
			n("#layui-layer-moves, #layui-layer-shade" + e).remove(),
			6 == o.ie && a.reselect(),
			a.rescollbar(e),
			t.attr("minLeft") && (a.minIndex--, a.minLeft.push(t.attr("minLeft"))),
			setTimeout(function () {
				!function () {
					if (i === a.type[1] && "object" === t.attr("conType")) {
						t.children(":not(." + l[5] + ")").remove();
						for (var o = t.find("." + r), s = 0; s < 2; s++)
							o.unwrap();
						o.css("display", o.data("display")).removeClass(r)
					} else {
						if (i === a.type[2])
							try {
								var c = n("#" + l[4] + e)[0];
								c.contentWindow.document.write(""),
								c.contentWindow.close(),
								t.find("." + l[5])[0].removeChild(c)
							} catch (e) {}
						t[0].innerHTML = "",
						t.remove()
					}
					"function" == typeof a.end[e] && a.end[e](),
					delete a.end[e]
				}
				()
			}, o.ie && o.ie < 10 || !t.data("anim") ? 0 : 200)
		}
	},
	o.closeAll = function (e) {
		n.each(n("." + l[0]), function () {
			var t = n(this),
			i = e ? t.attr("type") === e : 1;
			i && o.close(t.attr("times")),
			i = null
		})
	};
	var c = o.cache || {},
	d = function (e) {
		return c.skin ? " " + c.skin + " " + c.skin + "-" + e : ""
	};
	o.prompt = function (e, t) {
		var r = "";
		if ("function" == typeof(e = e || {}) && (t = e), e.area) {
			var a = e.area;
			r = 'style="width: ' + a[0] + "; height: " + a[1] + ';"',
			delete e.area
		}
		var s,
		l = 2 == e.formType ? '<textarea class="layui-layer-input"' + r + ">" + (e.value || "") + "</textarea>" : '<input type="' + (1 == e.formType ? "password" : "text") + '" class="layui-layer-input" value="' + (e.value || "") + '">';
		return o.open(n.extend({
				type: 1,
				btn: ["&#x786E;&#x5B9A;", "&#x53D6;&#x6D88;"],
				content: l,
				skin: "layui-layer-prompt" + d("prompt"),
				maxWidth: i.width(),
				success: function (e) {
					(s = e.find(".layui-layer-input")).focus()
				},
				resize: !1,
				yes: function (n) {
					var i = s.val();
					"" === i ? s.focus() : i.length > (e.maxlength || 500) ? o.tips("&#x6700;&#x591A;&#x8F93;&#x5165;" + (e.maxlength || 500) + "&#x4E2A;&#x5B57;&#x6570;", s, {
						tips: 1
					}) : t && t(i, n, s)
				}
			}, e))
	},
	o.tab = function (e) {
		var t = (e = e || {}).tab || {};
		return o.open(n.extend({
				type: 1,
				skin: "layui-layer-tab" + d("tab"),
				resize: !1,
				title: function () {
					var e = t.length,
					n = 1,
					i = "";
					if (e > 0)
						for (i = '<span class="layui-layer-tabnow">' + t[0].title + "</span>"; n < e; n++)
							i += "<span>" + t[n].title + "</span>";
					return i
				}
				(),
				content: '<ul class="layui-layer-tabmain">' + function () {
					var e = t.length,
					n = 1,
					i = "";
					if (e > 0)
						for (i = '<li class="layui-layer-tabli xubox_tab_layer">' + (t[0].content || "no content") + "</li>"; n < e; n++)
							i += '<li class="layui-layer-tabli">' + (t[n].content || "no  content") + "</li>";
					return i
				}
				() + "</ul>",
				success: function (t) {
					var i = t.find(".layui-layer-title").children(),
					r = t.find(".layui-layer-tabmain").children();
					i.on("mousedown", function (t) {
						t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0;
						var i = n(this),
						a = i.index();
						i.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),
						r.eq(a).show().siblings().hide(),
						"function" == typeof e.change && e.change(a)
					})
				}
			}, e))
	},
	o.photos = function (t, i, r) {
		var a = {};
		if ((t = t || {}).photos) {
			var s = t.photos.constructor === Object,
			l = s ? t.photos : {},
			c = l.data || [],
			u = l.start || 0;
			if (a.imgIndex = 1 + (0 | u), t.img = t.img || "img", s) {
				if (0 === c.length)
					return o.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")
			} else {
				var h = n(t.photos),
				p = function () {
					c = [],
					h.find(t.img).each(function (e) {
						var t = n(this);
						t.attr("layer-index", e),
						c.push({
							alt: t.attr("alt"),
							pid: t.attr("layer-pid"),
							src: t.attr("layer-src") || t.attr("src"),
							thumb: t.attr("src")
						})
					})
				};
				if (p(), 0 === c.length)
					return;
				if (i || h.on("click", t.img, function () {
						var e = n(this).attr("layer-index");
						o.photos(n.extend(t, {
								photos: {
									start: e,
									data: c,
									tab: t.tab
								},
								full: t.full
							}), !0),
						p()
					}), !i)
					return
			}
			a.imgprev = function (e) {
				a.imgIndex--,
				a.imgIndex < 1 && (a.imgIndex = c.length),
				a.tabimg(e)
			},
			a.imgnext = function (e, t) {
				a.imgIndex++,
				a.imgIndex > c.length && (a.imgIndex = 1, t) || a.tabimg(e)
			},
			a.keyup = function (e) {
				if (!a.end) {
					var t = e.keyCode;
					e.preventDefault(),
					37 === t ? a.imgprev(!0) : 39 === t ? a.imgnext(!0) : 27 === t && o.close(a.index)
				}
			},
			a.tabimg = function (e) {
				c.length <= 1 || (l.start = a.imgIndex - 1, o.close(a.index), o.photos(t, !0, e))
			},
			a.event = function () {
				a.bigimg.hover(function () {
					a.imgsee.show()
				}, function () {
					a.imgsee.hide()
				}),
				a.bigimg.find(".layui-layer-imgprev").on("click", function (e) {
					e.preventDefault(),
					a.imgprev()
				}),
				a.bigimg.find(".layui-layer-imgnext").on("click", function (e) {
					e.preventDefault(),
					a.imgnext()
				}),
				n(document).on("keyup", a.keyup)
			},
			a.loadi = o.load(1, {
					shade: !("shade" in t) && .9,
					scrollbar: !1
				}),
			function (e, t, n) {
				var i = new Image;
				i.src = e,
				i.complete ? t(i) : (i.onload = function () {
					i.onload = null,
					t(i)
				}, i.onerror = function (e) {
					i.onerror = null,
					n(e)
				})
			}
			(c[u].src, function (i) {
				o.close(a.loadi),
				a.index = o.open(n.extend({
							type: 1,
							area: function () {
								var r = [i.width, i.height],
								a = [n(e).width() - 100, n(e).height() - 100];
								if (!t.full && (r[0] > a[0] || r[1] > a[1])) {
									var o = [r[0] / a[0], r[1] / a[1]];
									o[0] > o[1] ? (r[0] = r[0] / o[0], r[1] = r[1] / o[0]) : o[0] < o[1] && (r[0] = r[0] / o[1], r[1] = r[1] / o[1])
								}
								return [r[0] + "px", r[1] + "px"]
							}
							(),
							title: !1,
							shade: .9,
							shadeClose: !0,
							closeBtn: !1,
							move: ".layui-layer-phimg img",
							moveType: 1,
							scrollbar: !1,
							moveOut: !0,
							anim: 5 * Math.random() | 0,
							skin: "layui-layer-photos" + d("photos"),
							content: '<div class="layui-layer-phimg"><img src="' + c[u].src + '" alt="' + (c[u].alt || "") + '" layer-pid="' + c[u].pid + '"><div class="layui-layer-imgsee">' + (c.length > 1 ? '<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>' : "") + '<div class="layui-layer-imgbar" style="display:' + (r ? "block" : "") + '"><span class="layui-layer-imgtit"><a href="javascript:;">' + (c[u].alt || "") + "</a><em>" + a.imgIndex + "/" + c.length + "</em></span></div></div></div>",
							success: function (e, n) {
								a.bigimg = e.find(".layui-layer-phimg"),
								a.imgsee = e.find(".layui-layer-imguide,.layui-layer-imgbar"),
								a.event(e),
								t.tab && t.tab(c[u], e)
							},
							end: function () {
								a.end = !0,
								n(document).off("keyup", a.keyup)
							}
						}, t))
			}, function () {
				o.close(a.loadi),
				o.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;", {
					time: 3e4,
					btn: ["&#x4E0B;&#x4E00;&#x5F20;", "&#x4E0D;&#x770B;&#x4E86;"],
					yes: function () {
						c.length > 1 && a.imgnext(!0, !0)
					}
				})
			})
		}
	},
	a.run = function (t) {
		i = (n = t)(e),
		l.html = n("html"),
		o.open = function (e) {
			return new s(e).index
		}
	},
	e.layui && layui.define ? (o.ready(), layui.define("jquery", function (t) {
			o.path = layui.cache.dir,
			a.run(layui.jquery),
			e.layer = o,
			t("layer", o)
		})) : "function" == typeof define ? define(["jquery"], function () {
		return a.run(e.jQuery),
		o
	}) : (a.run(e.jQuery), o.ready())
}
(window), THREE.TrackballControls = function (e, t) {
	function n(e) {
		!1 !== o.enabled && (window.removeEventListener("keydown", n), d = c, c === s.NONE && (e.keyCode !== o.keys[s.ROTATE] || o.noRotate ? e.keyCode !== o.keys[s.ZOOM] || o.noZoom ? e.keyCode !== o.keys[s.PAN] || o.noPan || (c = s.PAN) : c = s.ZOOM : c = s.ROTATE))
	}
	function i(e) {
		!1 !== o.enabled && (e.preventDefault(), e.stopPropagation(), c !== s.ROTATE || o.noRotate ? c !== s.ZOOM || o.noZoom ? c !== s.PAN || o.noPan || y.copy(T(e.pageX, e.pageY)) : m.copy(T(e.pageX, e.pageY)) : p.copy(E(e.pageX, e.pageY)))
	}
	function r(e) {
		!1 !== o.enabled && (e.preventDefault(), e.stopPropagation(), c = s.NONE, document.removeEventListener("mousemove", i), document.removeEventListener("mouseup", r), o.dispatchEvent(_))
	}
	function a(e) {
		if (!1 !== o.enabled) {
			e.preventDefault(),
			e.stopPropagation();
			var t = 0;
			e.wheelDelta ? t = e.wheelDelta / 40 : e.detail && (t = -e.detail / 3),
			f.y += .01 * t,
			o.dispatchEvent(w),
			o.dispatchEvent(_)
		}
	}
	var o = this,
	s = {
		NONE: -1,
		ROTATE: 0,
		ZOOM: 1,
		PAN: 2,
		TOUCH_ROTATE: 3,
		TOUCH_ZOOM_PAN: 4
	};
	this.object = e,
	this.domElement = void 0 !== t ? t : document,
	this.enabled = !0,
	this.screen = {
		left: 0,
		top: 0,
		width: 0,
		height: 0
	},
	this.rotateSpeed = 1,
	this.zoomSpeed = 1.2,
	this.panSpeed = .3,
	this.noRotate = !1,
	this.noZoom = !1,
	this.noPan = !1,
	this.noRoll = !1,
	this.staticMoving = !1,
	this.dynamicDampingFactor = .2,
	this.minDistance = 0,
	this.maxDistance = 1 / 0,
	this.keys = [65, 83, 68],
	this.target = new THREE.Vector3;
	var l = new THREE.Vector3,
	c = s.NONE,
	d = s.NONE,
	u = new THREE.Vector3,
	h = new THREE.Vector3,
	p = new THREE.Vector3,
	f = new THREE.Vector2,
	m = new THREE.Vector2,
	g = 0,
	v = 0,
	b = new THREE.Vector2,
	y = new THREE.Vector2;
	this.target0 = this.target.clone(),
	this.position0 = this.object.position.clone(),
	this.up0 = this.object.up.clone();
	var x = {
		type: "change"
	},
	w = {
		type: "start"
	},
	_ = {
		type: "end"
	};
	this.handleResize = function () {
		if (this.domElement === document)
			this.screen.left = 0, this.screen.top = 0, this.screen.width = window.innerWidth, this.screen.height = window.innerHeight;
		else {
			var e = this.domElement.getBoundingClientRect(),
			t = this.domElement.ownerDocument.documentElement;
			this.screen.left = e.left + window.pageXOffset - t.clientLeft,
			this.screen.top = e.top + window.pageYOffset - t.clientTop,
			this.screen.width = e.width,
			this.screen.height = e.height
		}
	},
	this.handleEvent = function (e) {
		"function" == typeof this[e.type] && this[e.type](e)
	};
	var T = function () {
		var e = new THREE.Vector2;
		return function (t, n) {
			return e.set((t - o.screen.left) / o.screen.width, (n - o.screen.top) / o.screen.height),
			e
		}
	}
	(),
	E = function () {
		var e = new THREE.Vector3,
		t = new THREE.Vector3,
		n = new THREE.Vector3;
		return function (i, r) {
			n.set((i - .5 * o.screen.width - o.screen.left) / (.5 * o.screen.width), (.5 * o.screen.height + o.screen.top - r) / (.5 * o.screen.height), 0);
			var a = n.length();
			return o.noRoll ? a < Math.SQRT1_2 ? n.z = Math.sqrt(1 - a * a) : n.z = .5 / a : a > 1 ? n.normalize() : n.z = Math.sqrt(1 - a * a),
			u.copy(o.object.position).sub(o.target),
			e.copy(o.object.up).setLength(n.y),
			e.add(t.copy(o.object.up).cross(u).setLength(n.x)),
			e.add(u.setLength(n.z)),
			e
		}
	}
	();
	this.rotateCamera = function () {
		var e = new THREE.Vector3,
		t = new THREE.Quaternion;
		return function () {
			var n = Math.acos(h.dot(p) / h.length() / p.length());
			n && (e.crossVectors(h, p).normalize(), n *= o.rotateSpeed, t.setFromAxisAngle(e, -n), u.applyQuaternion(t), o.object.up.applyQuaternion(t), p.applyQuaternion(t), o.staticMoving ? h.copy(p) : (t.setFromAxisAngle(e, n * (o.dynamicDampingFactor - 1)), h.applyQuaternion(t)))
		}
	}
	(),
	this.zoomCamera = function () {
		if (c === s.TOUCH_ZOOM_PAN) {
			e = g / v;
			g = v,
			u.multiplyScalar(e)
		} else {
			var e;
			1 !== (e = 1 + (m.y - f.y) * o.zoomSpeed) && e > 0 && (u.multiplyScalar(e), o.staticMoving ? f.copy(m) : f.y += (m.y - f.y) * this.dynamicDampingFactor)
		}
	},
	this.panCamera = function () {
		var e = new THREE.Vector2,
		t = new THREE.Vector3,
		n = new THREE.Vector3;
		return function () {
			e.copy(y).sub(b),
			e.lengthSq() && (e.multiplyScalar(u.length() * o.panSpeed), n.copy(u).cross(o.object.up).setLength(e.x), n.add(t.copy(o.object.up).setLength(e.y)), o.object.position.add(n), o.target.add(n), o.staticMoving ? b.copy(y) : b.add(e.subVectors(y, b).multiplyScalar(o.dynamicDampingFactor)))
		}
	}
	(),
	this.checkDistances = function () {
		o.noZoom && o.noPan || (u.lengthSq() > o.maxDistance * o.maxDistance && o.object.position.addVectors(o.target, u.setLength(o.maxDistance)), u.lengthSq() < o.minDistance * o.minDistance && o.object.position.addVectors(o.target, u.setLength(o.minDistance)))
	},
	this.update = function () {
		u.subVectors(o.object.position, o.target),
		o.noRotate || o.rotateCamera(),
		o.noZoom || o.zoomCamera(),
		o.noPan || o.panCamera(),
		o.object.position.addVectors(o.target, u),
		o.checkDistances(),
		o.object.lookAt(o.target),
		l.distanceToSquared(o.object.position) > 1e-6 && (o.dispatchEvent(x), l.copy(o.object.position))
	},
	this.reset = function () {
		c = s.NONE,
		d = s.NONE,
		o.target.copy(o.target0),
		o.object.position.copy(o.position0),
		o.object.up.copy(o.up0),
		u.subVectors(o.object.position, o.target),
		o.object.lookAt(o.target),
		o.dispatchEvent(x),
		l.copy(o.object.position)
	},
	this.domElement.addEventListener("contextmenu", function (e) {
		e.preventDefault()
	}, !1),
	this.domElement.addEventListener("mousedown", function (e) {
		!1 !== o.enabled && (e.preventDefault(), e.stopPropagation(), c === s.NONE && (c = e.button), c !== s.ROTATE || o.noRotate ? c !== s.ZOOM || o.noZoom ? c !== s.PAN || o.noPan || (b.copy(T(e.pageX, e.pageY)), y.copy(b)) : (f.copy(T(e.pageX, e.pageY)), m.copy(f)) : (h.copy(E(e.pageX, e.pageY)), p.copy(h)), document.addEventListener("mousemove", i, !1), document.addEventListener("mouseup", r, !1), o.dispatchEvent(w))
	}, !1),
	this.domElement.addEventListener("mousewheel", a, !1),
	this.domElement.addEventListener("DOMMouseScroll", a, !1),
	this.domElement.addEventListener("touchstart", function (e) {
		if (!1 !== o.enabled) {
			switch (e.touches.length) {
			case 1:
				c = s.TOUCH_ROTATE,
				h.copy(E(e.touches[0].pageX, e.touches[0].pageY)),
				p.copy(h);
				break;
			case 2:
				c = s.TOUCH_ZOOM_PAN;
				var t = e.touches[0].pageX - e.touches[1].pageX,
				n = e.touches[0].pageY - e.touches[1].pageY;
				v = g = Math.sqrt(t * t + n * n);
				var i = (e.touches[0].pageX + e.touches[1].pageX) / 2,
				r = (e.touches[0].pageY + e.touches[1].pageY) / 2;
				b.copy(T(i, r)),
				y.copy(b);
				break;
			default:
				c = s.NONE
			}
			o.dispatchEvent(w)
		}
	}, !1),
	this.domElement.addEventListener("touchend", function (e) {
		if (!1 !== o.enabled) {
			switch (e.touches.length) {
			case 1:
				p.copy(E(e.touches[0].pageX, e.touches[0].pageY)),
				h.copy(p);
				break;
			case 2:
				g = v = 0;
				var t = (e.touches[0].pageX + e.touches[1].pageX) / 2,
				n = (e.touches[0].pageY + e.touches[1].pageY) / 2;
				y.copy(T(t, n)),
				b.copy(y)
			}
			c = s.NONE,
			o.dispatchEvent(_)
		}
	}, !1),
	this.domElement.addEventListener("touchmove", function (e) {
		if (!1 !== o.enabled)
			switch (e.preventDefault(), e.stopPropagation(), e.touches.length) {
			case 1:
				p.copy(E(e.touches[0].pageX, e.touches[0].pageY));
				break;
			case 2:
				var t = e.touches[0].pageX - e.touches[1].pageX,
				n = e.touches[0].pageY - e.touches[1].pageY;
				v = Math.sqrt(t * t + n * n);
				var i = (e.touches[0].pageX + e.touches[1].pageX) / 2,
				r = (e.touches[0].pageY + e.touches[1].pageY) / 2;
				y.copy(T(i, r));
				break;
			default:
				c = s.NONE
			}
	}, !1),
	window.addEventListener("keydown", n, !1),
	window.addEventListener("keyup", function (e) {
		!1 !== o.enabled && (c = d, window.addEventListener("keydown", n, !1))
	}, !1),
	this.handleResize(),
	this.update()
}, THREE.TrackballControls.prototype = Object.create(THREE.EventDispatcher.prototype), void 0 === Date.now && (Date.now = function () {
	return (new Date).valueOf()
});
var TWEEN = TWEEN || function () {
	var e = [];
	return {
		REVISION: "14",
		getAll: function () {
			return e
		},
		removeAll: function () {
			e = []
		},
		add: function (t) {
			e.push(t)
		},
		remove: function (t) {
			var n = e.indexOf(t);
			-1 !== n && e.splice(n, 1)
		},
		update: function (t) {
			if (0 === e.length)
				return !1;
			var n = 0;
			for (t = void 0 !== t ? t : "undefined" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(); n < e.length; )
				e[n].update(t) ? n++ : e.splice(n, 1);
			return !0
		}
	}
}
();
TWEEN.Tween = function (e) {
	var t = e,
	n = {},
	i = {},
	r = {},
	a = 1e3,
	o = 0,
	s = !1,
	l = !1,
	c = !1,
	d = 0,
	u = null,
	h = TWEEN.Easing.Linear.None,
	p = TWEEN.Interpolation.Linear,
	f = [],
	m = null,
	g = !1,
	v = null,
	b = null,
	y = null;
	for (var x in e)
		n[x] = parseFloat(e[x], 10);
	this.to = function (e, t) {
		return void 0 !== t && (a = t),
		i = e,
		this
	},
	this.start = function (e) {
		TWEEN.add(this),
		l = !0,
		g = !1,
		u = void 0 !== e ? e : "undefined" != typeof window && void 0 !== window.performance && void 0 !== window.performance.now ? window.performance.now() : Date.now(),
		u += d;
		for (var a in i) {
			if (i[a]instanceof Array) {
				if (0 === i[a].length)
					continue;
				i[a] = [t[a]].concat(i[a])
			}
			n[a] = t[a],
			n[a]instanceof Array == 0 && (n[a] *= 1),
			r[a] = n[a] || 0
		}
		return this
	},
	this.stop = function () {
		return l ? (TWEEN.remove(this), l = !1, null !== y && y.call(t), this.stopChainedTweens(), this) : this
	},
	this.stopChainedTweens = function () {
		for (var e = 0, t = f.length; t > e; e++)
			f[e].stop()
	},
	this.delay = function (e) {
		return d = e,
		this
	},
	this.repeat = function (e) {
		return o = e,
		this
	},
	this.yoyo = function (e) {
		return s = e,
		this
	},
	this.easing = function (e) {
		return h = e,
		this
	},
	this.interpolation = function (e) {
		return p = e,
		this
	},
	this.chain = function () {
		return f = arguments,
		this
	},
	this.onStart = function (e) {
		return m = e,
		this
	},
	this.onUpdate = function (e) {
		return v = e,
		this
	},
	this.onComplete = function (e) {
		return b = e,
		this
	},
	this.onStop = function (e) {
		return y = e,
		this
	},
	this.update = function (e) {
		var l;
		if (u > e)
			return !0;
		!1 === g && (null !== m && m.call(t), g = !0);
		var y = (e - u) / a,
		x = h(y = y > 1 ? 1 : y);
		for (l in i) {
			var w = n[l] || 0,
			_ = i[l];
			_ instanceof Array ? t[l] = p(_, x) : ("string" == typeof _ && (_ = w + parseFloat(_, 10)), "number" == typeof _ && (t[l] = w + (_ - w) * x))
		}
		if (null !== v && v.call(t, x), 1 == y) {
			if (o > 0) {
				isFinite(o) && o--;
				for (l in r) {
					if ("string" == typeof i[l] && (r[l] = r[l] + parseFloat(i[l], 10)), s) {
						var T = r[l];
						r[l] = i[l],
						i[l] = T
					}
					n[l] = r[l]
				}
				return s && (c = !c),
				u = e + d,
				!0
			}
			null !== b && b.call(t);
			for (var E = 0, M = f.length; M > E; E++)
				f[E].start(e);
			return !1
		}
		return !0
	}
}, TWEEN.Easing = {
	Linear: {
		None: function (e) {
			return e
		}
	},
	Quadratic: {
		In: function (e) {
			return e * e
		},
		Out: function (e) {
			return e * (2 - e)
		},
		InOut: function (e) {
			return (e *= 2) < 1 ? .5 * e * e :  - .5 * (--e * (e - 2) - 1)
		}
	},
	Cubic: {
		In: function (e) {
			return e * e * e
		},
		Out: function (e) {
			return --e * e * e + 1
		},
		InOut: function (e) {
			return (e *= 2) < 1 ? .5 * e * e * e : .5 * ((e -= 2) * e * e + 2)
		}
	},
	Quartic: {
		In: function (e) {
			return e * e * e * e
		},
		Out: function (e) {
			return 1 - --e * e * e * e
		},
		InOut: function (e) {
			return (e *= 2) < 1 ? .5 * e * e * e * e :  - .5 * ((e -= 2) * e * e * e - 2)
		}
	},
	Quintic: {
		In: function (e) {
			return e * e * e * e * e
		},
		Out: function (e) {
			return --e * e * e * e * e + 1
		},
		InOut: function (e) {
			return (e *= 2) < 1 ? .5 * e * e * e * e * e : .5 * ((e -= 2) * e * e * e * e + 2)
		}
	},
	Sinusoidal: {
		In: function (e) {
			return 1 - Math.cos(e * Math.PI / 2)
		},
		Out: function (e) {
			return Math.sin(e * Math.PI / 2)
		},
		InOut: function (e) {
			return .5 * (1 - Math.cos(Math.PI * e))
		}
	},
	Exponential: {
		In: function (e) {
			return 0 === e ? 0 : Math.pow(1024, e - 1)
		},
		Out: function (e) {
			return 1 === e ? 1 : 1 - Math.pow(2, -10 * e)
		},
		InOut: function (e) {
			return 0 === e ? 0 : 1 === e ? 1 : (e *= 2) < 1 ? .5 * Math.pow(1024, e - 1) : .5 * (2 - Math.pow(2, -10 * (e - 1)))
		}
	},
	Circular: {
		In: function (e) {
			return 1 - Math.sqrt(1 - e * e)
		},
		Out: function (e) {
			return Math.sqrt(1 - --e * e)
		},
		InOut: function (e) {
			return (e *= 2) < 1 ?  - .5 * (Math.sqrt(1 - e * e) - 1) : .5 * (Math.sqrt(1 - (e -= 2) * e) + 1)
		}
	},
	Elastic: {
		In: function (e) {
			var t,
			n = .1;
			return 0 === e ? 0 : 1 === e ? 1 : (!n || 1 > n ? (n = 1, t = .1) : t = .4 * Math.asin(1 / n) / (2 * Math.PI), -n * Math.pow(2, 10 * (e -= 1)) * Math.sin(2 * (e - t) * Math.PI / .4))
		},
		Out: function (e) {
			var t,
			n = .1;
			return 0 === e ? 0 : 1 === e ? 1 : (!n || 1 > n ? (n = 1, t = .1) : t = .4 * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * e) * Math.sin(2 * (e - t) * Math.PI / .4) + 1)
		},
		InOut: function (e) {
			var t,
			n = .1;
			return 0 === e ? 0 : 1 === e ? 1 : (!n || 1 > n ? (n = 1, t = .1) : t = .4 * Math.asin(1 / n) / (2 * Math.PI), (e *= 2) < 1 ?  - .5 * n * Math.pow(2, 10 * (e -= 1)) * Math.sin(2 * (e - t) * Math.PI / .4) : n * Math.pow(2, -10 * (e -= 1)) * Math.sin(2 * (e - t) * Math.PI / .4) * .5 + 1)
		}
	},
	Back: {
		In: function (e) {
			var t = 1.70158;
			return e * e * ((t + 1) * e - t)
		},
		Out: function (e) {
			var t = 1.70158;
			return --e * e * ((t + 1) * e + t) + 1
		},
		InOut: function (e) {
			var t = 2.5949095;
			return (e *= 2) < 1 ? .5 * e * e * ((t + 1) * e - t) : .5 * ((e -= 2) * e * ((t + 1) * e + t) + 2)
		}
	},
	Bounce: {
		In: function (e) {
			return 1 - TWEEN.Easing.Bounce.Out(1 - e)
		},
		Out: function (e) {
			return 1 / 2.75 > e ? 7.5625 * e * e : 2 / 2.75 > e ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : 2.5 / 2.75 > e ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
		},
		InOut: function (e) {
			return .5 > e ? .5 * TWEEN.Easing.Bounce.In(2 * e) : .5 * TWEEN.Easing.Bounce.Out(2 * e - 1) + .5
		}
	}
}, TWEEN.Interpolation = {
	Linear: function (e, t) {
		var n = e.length - 1,
		i = n * t,
		r = Math.floor(i),
		a = TWEEN.Interpolation.Utils.Linear;
		return 0 > t ? a(e[0], e[1], i) : t > 1 ? a(e[n], e[n - 1], n - i) : a(e[r], e[r + 1 > n ? n : r + 1], i - r)
	},
	Bezier: function (e, t) {
		var n,
		i = 0,
		r = e.length - 1,
		a = Math.pow,
		o = TWEEN.Interpolation.Utils.Bernstein;
		for (n = 0; r >= n; n++)
			i += a(1 - t, r - n) * a(t, n) * e[n] * o(r, n);
		return i
	},
	CatmullRom: function (e, t) {
		var n = e.length - 1,
		i = n * t,
		r = Math.floor(i),
		a = TWEEN.Interpolation.Utils.CatmullRom;
		return e[0] === e[n] ? (0 > t && (r = Math.floor(i = n * (1 + t))), a(e[(r - 1 + n) % n], e[r], e[(r + 1) % n], e[(r + 2) % n], i - r)) : 0 > t ? e[0] - (a(e[0], e[0], e[1], e[1], -i) - e[0]) : t > 1 ? e[n] - (a(e[n], e[n], e[n - 1], e[n - 1], i - n) - e[n]) : a(e[r ? r - 1 : 0], e[r], e[r + 1 > n ? n : r + 1], e[r + 2 > n ? n : r + 2], i - r)
	},
	Utils: {
		Linear: function (e, t, n) {
			return (t - e) * n + e
		},
		Bernstein: function (e, t) {
			var n = TWEEN.Interpolation.Utils.Factorial;
			return n(e) / n(t) / n(e - t)
		},
		Factorial: function () {
			var e = [1];
			return function (t) {
				var n,
				i = 1;
				if (e[t])
					return e[t];
				for (n = t; n > 1; n--)
					i *= n;
				return e[t] = i
			}
		}
		(),
		CatmullRom: function (e, t, n, i, r) {
			var a = .5 * (n - e),
			o = .5 * (i - t),
			s = r * r;
			return (2 * t - 2 * n + a + o) * (r * s) + (-3 * t + 3 * n - 2 * a - o) * s + a * r + t
		}
	}
}, "undefined" != typeof module && module.exports && (module.exports = TWEEN);
var GlobalProperties = new globalProperties, g_lastImageID = "", g_modelScale = 0, g_isFisrtAutoRunPano = !0, skySphere, g_modelUUID, moveSphere, camera, canvas, scene, renderer, cameraAngle = new THREE.Vector3(0, 0, 0), cameraLookAtPoint = new THREE.Vector3(0, 0, 10), tween, rotationTween, objects = [], selectedModels = [], loaderModels = [], panoWallObjects = [], carMesh = null, panoTileObjects = [], g_isDisMeasuring = !1, g_isAreaMeasuring = !1, isTweening = !1, panoArrowManager, panoWallManager = new PanoWallManager, facadePlane, endX = 0, loaderObject = new THREE.Object3D, endZ = 0, measurePoints = [], clickPoints = [], plane = new THREE.Plane, intersectionPlane = new THREE.Vector3, g_disMeasringType = -1, g_MeasuringType = -1, g_isMouseWork = !0, g_isShowMeasureContent = !1, g_isShowModelContent = !1, g_panoRotation = !1, hdEvent = new HDEvent, rotationPoint, lat = 1e-4, long = 1e-4, g_areaDrawType, manager, g_isSucess = !1, g_isDblClick = !1, isOnDocument = !0, g_jumpType = 0, onThumbnailLoadCompleted = function () {
	objects = [],
	panoArrowManager.dispose(),
	panoArrowManager.addPanoArrow(GlobalProperties.panoMetaInfo.Links),
	g_isAutoRun ? panoWallObjects = [] : (panoWallManager.dispose(), panoWallManager.addPanoWall(GlobalProperties.panoMetaInfo), panoWallManager.manageObj3D.visible = !1),
	$("#skip2GroundButton").css("display", "none"),
	g_isSkip2Sky = !1;
	for (e = 0; e < panoArrowManager.panoArrowArr.length; e++)
		panoArrowManager.panoArrowArr[e].initVisible(!1);
	if (skySphere.loadTile(1), GlobalProperties.currentLevel = 3, panoArrowManager.manageObj3D.visible = !1, GlobalProperties.isFirstLoadImage) {
		moveSphere.dispose(),
		GlobalProperties.isFirstLoadImage = !1,
		panoArrowManager.manageObj3D.visible = !0;
		for (var e = 0; e < panoArrowManager.panoArrowArr.length; e++)
			panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[e].initVisible(!0);
		skySphere.scene.add(skySphere.skySphereObj),
		null == carMesh && carPicLoad(),
		lat = THREE.Math.degToRad(GlobalProperties.panoMetaInfo.Projection.tilt_pitch_deg),
		(long = 2 * Math.PI - THREE.Math.degToRad(GlobalProperties.panoMetaInfo.Projection.pano_yaw_deg)) > 0 ? (cameraLookAtPoint.setX(Math.cos(lat) * Math.sin(long)), cameraLookAtPoint.setY(Math.sin(lat)), cameraLookAtPoint.setZ(Math.cos(lat) * Math.cos(long))) : (cameraLookAtPoint.setX(-Math.cos(lat) * Math.sin(long)), cameraLookAtPoint.setY(-Math.sin(lat)), cameraLookAtPoint.setZ(-Math.cos(lat) * Math.cos(long))),
		camera.lookAt(cameraLookAtPoint),
		setTimeout(function () {
			for (var e = 0; e < panoArrowManager.panoArrowArr.length; e++)
				panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[e].updateText()
		}, 100);
		var t = THREE.Math.radToDeg(Math.atan2(cameraLookAtPoint.z, cameraLookAtPoint.x));
		interface.onCameraYawChanged(t)
	} else
		$("#WebGL-output").css("backgorund-image", ""), getTweenXY(), handleTween(), tween.start();
	$("#toolbar").css("display", "block")
}, handleTween = function () {
	(tween = new TWEEN.Tween({
				xValue: 0,
				zValue: 0
			}).to({
				xValue: endX,
				zValue: endZ
			}, 1e3)).easing(TWEEN.Easing.Sinusoidal.InOut);
	tween.onUpdate(function () {
		camera.position.x = this.xValue,
		camera.position.z = this.zValue,
		isTweening = !0
	}),
	tween.onComplete(function () {
		if (isTweening = !1, this.xValue = 0, this.zValue = 0, camera.position.x = 0, camera.position.z = 0, skySphere.scene.add(skySphere.skySphereObj), panoArrowManager.manageObj3D.visible = !0, moveSphere.dispose(), g_isAutoRun || (g_isMouseWork = !0), 0 == g_panoRotation)
			for (var e = 0; e < panoArrowManager.panoArrowArr.length; e++)
				panoArrowManager.panoArrowArr[e].initVisible(!0);
		else
			panoRotation()
	})
}, onPanoInfoLoadCompleted = function () {
	console.log("onPanoInfoLoadCompleted!"),
	g_markerManager.deleteMarkers(),
	g_markerAttrWin.deleteMarkerAttrWin(),
	g_markerParam.tolerateMarker = g_tolerateMarker,
	g_markerParam.class4 = g_class4;
	new MarkerInfoService(g_markerParam).getMarkerInfo(),
	interface.onPanoChanged(GlobalProperties.panoInfo)
}, onGetPanoField = function () {
	interface.onGetPanoField()
}, onPanoMetaInfoLoadCompleted = function () {
	interface.onPanoMetaChanged(GlobalProperties.panoMetaInfo)
}, getTweenXY = function () {
	var e = GlobalProperties.panoMetaInfo.Location,
	t = GlobalProperties.lastPanoMetaInfo.Location,
	n = new THREE.Vector3(t.X, t.Y, t.Z),
	i = new THREE.Vector3(e.X, e.Y, e.Z),
	r = 600 + 10 * calDistance(n, i);
	r > 1600 ? r = 1600 : r < 620 && (r = 50);
	var a = -1 * calAngle(t.X, t.Y, e.X, e.Y);
	endX = -1 * r * Math.sin(a),
	endZ = -1 * r * Math.cos(a)
}, panoRotation = function () {
	var e = new THREE.Vector3(rotationPoint.x - GlobalProperties.panoInfo.ImageInfo.X, rotationPoint.z - GlobalProperties.panoInfo.ImageInfo.Z, -rotationPoint.y + GlobalProperties.panoInfo.ImageInfo.Y);
	isTweening = !0,
	cameraRotationTween(e),
	rotationTween.start()
}, cameraRotationTween = function (e) {
	var t = new THREE.Vector3(cameraLookAtPoint.x, cameraLookAtPoint.y, cameraLookAtPoint.z);
	(rotationTween = new TWEEN.Tween({
				rotX: t.x,
				rotY: t.y,
				rotZ: t.z
			}).to({
				rotX: e.x,
				rotY: e.y,
				rotZ: e.z
			}, 800)).easing(TWEEN.Easing.Sinusoidal.InOut);
	rotationTween.onUpdate(function () {
		isTweening = !0,
		cameraLookAtPoint.x = this.rotX,
		cameraLookAtPoint.y = this.rotY,
		cameraLookAtPoint.z = this.rotZ,
		camera.lookAt(cameraLookAtPoint)
	}),
	rotationTween.onComplete(function () {
		g_panoRotation = !1,
		isTweening = !1,
		camera.lookAt(e),
		e = normalPoint(e),
		lat = Math.asin(e.y);
		e.z,
		Math.cos(lat);
		var t = calAngle(GlobalProperties.panoInfo.ImageInfo.X, GlobalProperties.panoInfo.ImageInfo.Y, rotationPoint.x, rotationPoint.y);
		long = t < Math.PI ? Math.acos(e.z / Math.cos(lat)) : -Math.acos(e.z / Math.cos(lat));
		for (var n = 0; n < panoArrowManager.panoArrowArr.length; n++)
			panoArrowManager.updateDisplay(), panoArrowManager.panoArrowArr[n].updateText(0, 0);
		new MarkerAttrService(g_CurrentMarkerInfo).getMarkerAttr(),
		g_showWinAfterJump = !1
	})
};